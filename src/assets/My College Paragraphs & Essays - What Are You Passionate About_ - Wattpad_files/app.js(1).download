!function(e){var n={};function t(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,t),s.l=!0,s.exports}t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var s in e)t.d(a,s,function(n){return e[n]}.bind(null,s));return a},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=249)}([function(e,n){e.exports=Handlebars},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return'<button type="button" class="btn btn-link pull-right close" data-dismiss="modal">\n    <span aria-hidden="true" class="fa fa-remove"></span><span class="sr-only">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Close",{name:"trans",hash:{},data:s}))+"</span>\n</button>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u=e.escapeExpression,d="";return i=null!=(i=t.close||(null!=n?n.close:n))?i:c,r={name:"close",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(o,r):i,t.close||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(d+=l),d+'<div id="embed-modal">\n    <h4>'+u((t.trans||n&&n.trans||c).call(o,"Embed this Story",{name:"trans",hash:{},data:s}))+"</h4>\n    <h5>"+u((t.trans||n&&n.trans||c).call(o,"Preview",{name:"trans",hash:{},data:s}))+'</h5>\n    <iframe width="500" height="280" data-href="https://embed.wattpad.com/story/'+u("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:c)?i.call(o,{name:"id",hash:{},data:s}):i)+"?quote_text="+u("function"==typeof(i=null!=(i=t.quoteText||(null!=n?n.quoteText:n))?i:c)?i.call(o,{name:"quoteText",hash:{},data:s}):i)+'"\n            frameborder="0" allowfullscreen=""></iframe>\n    <div class="on-select embed-code">\n      <span id="embed-url">\n          &lt;iframe width="500" height="280" frameborder="0" allowfullscreen=""\n          src="https://embed.wattpad.com/story/'+u("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:c)?i.call(o,{name:"id",hash:{},data:s}):i)+'"\n          &gt;&lt;/iframe&gt;\n      </span>\n    </div>\n</div>\n'},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<form class="form-horizontal dropdown" role="form" name="search" action="/search/" action="GET" autocomplete="off">\n  <div class="loading-icon"></div>\n  <button type="submit">\n      '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-search",18,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?l:"")+'\n  </button>\n  <input id="search-query" placeholder="'+c((t.trans||n&&n.trans||o).call(r,"Search",{name:"trans",hash:{},data:s}))+'" name="q" type="text" role="search" spellcheck="false" aria-label="'+c((t.trans||n&&n.trans||o).call(r,"Search",{name:"trans",hash:{},data:s}))+'" value="'+c("function"==typeof(i=null!=(i=t.searchTerm||(null!=n?n.searchTerm:n))?i:o)?i.call(r,{name:"searchTerm",hash:{},data:s}):i)+'">\n  <input type="hidden" name="ref" value="1">\n  <div class="dropdown-menu items" aria-label="search-dropdown">\n      <ul aria-label="'+c((t.trans||n&&n.trans||o).call(r,"Autocomplete",{name:"trans",hash:{},data:s}))+'" class="autocomplete-item-container"></ul>\n  </div>\n  <div class="triangle"></div>\n</form>\n'},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'    <div class="collection">'+(null!=(l="function"==typeof(i=null!=(i=t.itemsContent||(null!=n?n.itemsContent:n))?i:o)?i.call(r,{name:"itemsContent",hash:{},data:s}):i)?l:"")+'</div>\n    <div class="show-more center-text'+(null!=(l=t.if.call(r,null!=n?n.hasMore:n,{name:"if",hash:{},fn:e.noop,inverse:e.program(2,s,0),data:s}))?l:"")+'">\n        <button class="btn btn-link on-showmore" role="button" aria-controls="'+c("function"==typeof(i=null!=(i=t.containerId||(null!=n?n.containerId:n))?i:o)?i.call(r,{name:"containerId",hash:{},data:s}):i)+"\">\n          <span class='show-more-message'>\n              <span>"+c((t.trans||n&&n.trans||o).call(r,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n              <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n          </span>\n          <span class='loading-message hidden'>\n              "+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||o).call(r,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?l:"")+"\n              <span> "+c((t.trans||n&&n.trans||o).call(r,"Loading",{name:"trans",hash:{},data:s}))+" ...</span>\n          </span>\n        </button>\n    </div>\n"},2:function(e,n,t,a,s){return" hidden"},4:function(e,n,t,a,s){var l;return'  <div class="collection"><p>'+e.escapeExpression("function"==typeof(l=null!=(l=t.emptyMessage||(null!=n?n.emptyMessage:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"emptyMessage",hash:{},data:s}):l)+"</p></div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.count:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return null!=(l=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.stories:n,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:""},2:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{};return'      <div class="story'+(null!=(l=t.if.call(r,null!=n?n.promoted:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?l:"")+'" data-story-id="'+e.escapeExpression("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:t.helperMissing)?i.call(r,{name:"id",hash:{},data:s}):i)+'">\n'+(null!=(l=e.invokePartial(a["core.item_views.story_item"],n,{name:"core.item_views.story_item",data:s,indent:"        ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"      </div>\n"},3:function(e,n,t,a,s){return" story-item"},5:function(e,n,t,a,s){return" on-story-preview"},7:function(e,n,t,a,s){return'    <p class="no-item">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"No stories available.",{name:"trans",hash:{},data:s}))+"</p>\n"},9:function(e,n,t,a,s){var l,i=e.escapeExpression;return'<a class="btn btn-link" href=\''+i(e.lambda(null!=(l=null!=n?n.filter:n)?l.link:l,n))+"'>\n  "+i((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"View More in %s",null!=(l=null!=n?n.filter:n)?l.name:l,{name:"trans",hash:{},data:s}))+"\n</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return"<div class='collection'>\n"+(null!=(l=t.if.call(i,null!=n?n.hasStories:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(7,s,0),data:s}))?l:"")+"</div>\n"+(null!=(l=t.if.call(i,null!=n?n.filter:n,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?l:"")+'<div id="preview-modal"></div>\n'},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div class="triangle"></div>\n<div class="dropdown-menu dropdown-menu-right add-to-library">\n    <ul class="lists-menu" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'"></ul>\n    <div class="inputs">\n        <label for="new-reading-list" class="sr-only">'+c((t.trans||n&&n.trans||o).call(r,"New Reading List",{name:"trans",hash:{},data:s}))+"</label>\n        "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-warning",12,"wp-errorbackground error-feedback",{name:"iconify",hash:{},data:s}))?l:"")+'\n        <input id="new-reading-list" type="text" class="form-control list-name list-error-placeholder"\n               placeholder="'+c((t.trans||n&&n.trans||o).call(r,"Add new reading list...",{name:"trans",hash:{},data:s}))+'">\n        <button class="btn btn-orange on-create-list" type="button" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'">\n          '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-plus",9,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+"\n        </button>\n    </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return(null!=(l=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.stories:n,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+"\n"},2:function(e,n,t,a,s){var l;return'      <div class="browse-story-item">\n'+(null!=(l=e.invokePartial(a["core.item_views.browse_story_item"],n,{name:"core.item_views.browse_story_item",data:s,indent:"        ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"      </div>\n"},4:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.writers:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.program(8,s,0),data:s}))?l:""},5:function(e,n,t,a,s){var l;return(null!=(l=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.writers:n,{name:"each",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?l:"")+"\n"},6:function(e,n,t,a,s){var l;return'      <div class="tag-module-writers">\n'+(null!=(l=e.invokePartial(a["core.item_views.tag_module_writers"],n,{name:"core.item_views.tag_module_writers",data:s,indent:"        ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"      </div>\n"},8:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.lists:n,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?l:""},9:function(e,n,t,a,s){var l;return(null!=(l=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.lists:n,{name:"each",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?l:"")+"  "},10:function(e,n,t,a,s){var l;return'      <div class="tag-module-lists">\n'+(null!=(l=e.invokePartial(a["core.item_views.tag_module_lists"],n,{name:"core.item_views.tag_module_lists",hash:{isDesktop:!0},data:s,indent:"        ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"      </div>\n"},12:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'  <div class="show-more center-text hidden">\n    <button class="btn btn-grey on-showmore">\n    <span class=\'show-more-message\'>\n      <span>'+o((t.trans||n&&n.trans||r).call(i,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n      <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n    </span>\n      <span class='loading-message hidden'>\n      "+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||r).call(i,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?l:"")+"\n        <span>"+o((t.trans||n&&n.trans||r).call(i,"Loading...",{name:"trans",hash:{},data:s}))+'</span>\n    </span>\n    </button>\n  </div>\n\n  <div id="preview-modal"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'<article id="browse-results-item-view">\n'+(null!=(l=t.if.call(i,null!=n?n.stories:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?l:"")+"</article>\n\n"+(null!=(l=t.if.call(i,null!=n?n.stories:n,{name:"if",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?l:"")},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return'<h3 class="h6">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"%s posted a new story",null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,{name:"trans",hash:{},data:s}))+"</h3>"},3:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.groupCount:n,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.program(6,s,0),data:s}))?l:""},4:function(e,n,t,a,s){var l;return'        <h3 class="h6">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"%s posted %s parts",null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,null!=n?n.groupCount:n,{name:"trans",hash:{},data:s}))+"</h3>\n"},6:function(e,n,t,a,s){var l;return'        <h3 class="h6">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"%s posted %s - %s",null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.title:l,null!=(l=null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.part:l)?l.title:l,{name:"trans",hash:{},data:s}))+"</h3>\n"},8:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'    <a href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'" class="panel story on-navigate">\n        <div class="cover cover-md pull-left">\n            <img src="'+c((t.resizeCover||n&&n.resizeCover||o).call(r,null!=n?n.cover:n,123,{name:"resizeCover",hash:{},data:s}))+'">\n        </div>\n        <div class="content">\n            <h4 class="h3">'+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+" - "+c(e.lambda(null!=(l=null!=n?n.part:n)?l.title:l,n))+"</h4>\n            <small>"+(null!=(l=t.if.call(r,null!=(l=null!=n?n.user:n)?l.name:l,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?l:"")+c((t.sprintf||n&&n.sprintf||o).call(r,(t.ngettext||n&&n.ngettext||o).call(r,"%s Part","%s Parts",null!=n?n.numParts:n,{name:"ngettext",hash:{},data:s}),null!=n?n.numParts:n,{name:"sprintf",hash:{},data:s}))+'</small>\n            <div class="meta">\n                '+(null!=(l=t.if.call(r,null!=n?n.readCount:n,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s}))?l:"")+"\n                "+(null!=(l=t.if.call(r,null!=n?n.voteCount:n,{name:"if",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?l:"")+"\n            </div>\n            <p>"+c((t.simpleShorten||n&&n.simpleShorten||o).call(r,null!=n?n.description:n,140,!1,{name:"simpleShorten",hash:{},data:s}))+'</p>\n        </div>\n    </a>\n\n    <button class="btn btn-triangle btn-library" data-icon="true" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" data-toggle="tooltip" data-placement="left" title="'+c((t.trans||n&&n.trans||o).call(r,"Add to Library",{name:"trans",hash:{},data:s}))+'">\n        '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-plus",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n        <span class="toggle-triangle"></span>\n        <span class="toggle-shadow"></span>\n    </button>\n'},9:function(e,n,t,a,s){var l;return e.escapeExpression(e.lambda(null!=(l=null!=n?n.user:n)?l.name:l,n))+" &middot; "},11:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<small class="reads">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-view",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.count||n&&n.count||r).call(i,null!=n?n.readCount:n,{name:"count",hash:{},data:s}))+"</small>"},13:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<small class="votes">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-vote",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.count||n&&n.count||r).call(i,null!=n?n.voteCount:n,{name:"count",hash:{},data:s}))+"</small>"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r,o=e.lambda,c=e.escapeExpression,u=null!=n?n:e.nullContext||{},d=t.helperMissing,h=t.blockHelperMissing,p='<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/'+c(o(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+'">\n      <img src="'+c((t.resizeAvatar||n&&n.resizeAvatar||d).call(u,null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.avatar:l,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    ';return i=null!=(i=t.isNew||(null!=n?n.isNew:n))?i:d,r={name:"isNew",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(u,r):i,t.isNew||(l=h.call(n,l,r)),null!=l&&(p+=l),p+="\n",i=null!=(i=t.isNew||(null!=n?n.isNew:n))?i:d,r={name:"isNew",hash:{},fn:e.noop,inverse:e.program(3,s,0),data:s},l="function"==typeof i?i.call(u,r):i,t.isNew||(l=h.call(n,l,r)),null!=l&&(p+=l),p+'    <time datetime="'+c("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:d)?i.call(u,{name:"createDate",hash:{},data:s}):i)+'">'+c((t.fromNow||n&&n.fromNow||d).call(u,null!=n?n.createDate:n,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(l=e.invokePartial(a["core.feed_items.feed_item_options"],n,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'</header>\n\n<div class="panel-body">\n\n'+(null!=(l=h.call(n,o(null!=(l=null!=n?n.data:n)?l.story:l,n),{name:"data.story",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?l:"")+'\n</div>\n\n<footer class="panel-footer">\n    <a href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||d).call(u,null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.url:l,{name:"formatStoryUrl",hash:{},data:s}))+'" class="btn btn-text on-navigate">'+c((t.trans||n&&n.trans||d).call(u,"Story details",{name:"trans",hash:{},data:s}))+"</a>\n</footer>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return" in-list"},3:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'  <div class="status">\n    <span class="check '+(null!=(l=t.unless.call(i,null!=n?n.inList:n,{name:"unless",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")+'fa-stack fa-lg in-list">\n      '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-circle-empty","auto","wp-base-2 fa-stack-2x",{name:"iconify",hash:{},data:s}))?l:"")+"\n      "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-check","auto","wp-base-2 fa-stack-1x",{name:"iconify",hash:{},data:s}))?l:"")+'\n    </span>\n    <span class="hidden spinner">\n      '+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||r).call(i,"fa-loading",18,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{color:"wp-base-2"},data:s}))?l:"")+"\n    </span>\n  </div>\n"},4:function(e,n,t,a,s){return"hidden "},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<li><a class="on-modify-list'+(null!=(l=t.if.call(r,null!=n?n.inList:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'" data-list-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'">\n  '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,null!=n?n.icon:n,null!=n?n.auto:n,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n  <span class="reading-list-name">'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+"</span>\n"+(null!=(l=t.unless.call(r,null!=n?n.hideStatus:n,{name:"unless",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"</a></li>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},"StoryItem",null!=n?n.id:n,{name:"reactComponent",hash:{},data:s}))?l:"")+"\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n["current-user"]:n)?l.recommendedTags:l,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(9,s,0),data:s}))?l:""},2:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'    <div class="dropdown-menu new-curation logged-in large" aria-labelledby="discover-dropdown">\n      <div class="col-xs-9">\n        <ul class="bold" aria-label="'+o((t.trans||n&&n.trans||r).call(i,"Browse Stories",{name:"trans",hash:{},data:s}))+'" id="main-browse-navigate">\n          <li><a class="on-navigate" href="/stories">'+o((t.trans||n&&n.trans||r).call(i,"Browse",{name:"trans",hash:{},data:s}))+'</a></li>\n        </ul>\n\n        <div class="col-xs-9 discover-categories">\n          <ul class="row" aria-label="'+o((t.trans||n&&n.trans||r).call(i,"Categories",{name:"trans",hash:{},data:s}))+'">\n'+(null!=(l=t.each.call(i,null!=n?n.categories:n,{name:"each",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+'          </ul>\n        </div>\n\n        <div class="col-xs-3">\n          <ul aria-label="'+o((t.trans||n&&n.trans||r).call(i,"Trending Tags",{name:"trans",hash:{},data:s}))+'">\n'+(null!=(l=t.each.call(i,null!=(l=null!=n?n["current-user"]:n)?l.recommendedTags:l,{name:"each",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+'          </ul>\n        </div>\n      </div>\n\n      <div class="col-xs-3 wattpad-picks">\n        <ul class="row" aria-label="'+o((t.trans||n&&n.trans||r).call(i,"Wattpad Picks",{name:"trans",hash:{},data:s}))+'">\n          <li class="title col-xs-12">'+o((t.trans||n&&n.trans||r).call(i,"Wattpad Picks",{name:"trans",hash:{},data:s}))+"</li>\n"+(null!=(l=t.each.call(i,null!=n?n.newCurationLists:n,{name:"each",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")+"        </ul>\n      </div>\n    </div>\n"},3:function(e,n,t,a,s){var l=e.escapeExpression;return'              <li class="col-xs-6">\n                <a class="on-navigate" href="/stories/'+l((t.slugify||n&&n.slugify||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.name_english:n,{name:"slugify",hash:{},data:s}))+'">'+l(e.lambda(null!=n?n.name:n,n))+"</a>\n              </li>\n"},5:function(e,n,t,a,s){var l=e.escapeExpression;return'              <li><a class="on-navigate" href="/tags/'+l(e.lambda(n,n))+'">'+l((t.styleHashtag||n&&n.styleHashtag||t.helperMissing).call(null!=n?n:e.nullContext||{},n,{name:"styleHashtag",hash:{},data:s}))+"</a></li>\n"},7:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'            <li class="col-xs-12">\n              <a href="/featured/'+o("function"==typeof(l=null!=(l=t.id||(null!=n?n.id:n))?l:r)?l.call(i,{name:"id",hash:{},data:s}):l)+'" class="on-navigate">'+o("function"==typeof(l=null!=(l=t.name||(null!=n?n.name:n))?l:r)?l.call(i,{name:"name",hash:{},data:s}):l)+"</a>\n            </li>\n"},9:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'    <div class="dropdown-menu new-curation large" aria-labelledby="discover-dropdown">\n      <div class="col-xs-3">\n        <ul class="bold" aria-label="'+o((t.trans||n&&n.trans||r).call(i,"Browse Stories",{name:"trans",hash:{},data:s}))+'" id="main-browse-navigate">\n          <li><a class="on-navigate" href="/stories">'+o((t.trans||n&&n.trans||r).call(i,"Browse",{name:"trans",hash:{},data:s}))+'</a></li>\n        </ul>\n      </div>\n\n      <div class="col-xs-6 discover-categories">\n        <ul class="row" aria-label="'+o((t.trans||n&&n.trans||r).call(i,"Categories",{name:"trans",hash:{},data:s}))+'">\n'+(null!=(l=t.each.call(i,null!=n?n.categories:n,{name:"each",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?l:"")+'        </ul>\n      </div>\n\n      <div class="col-xs-3 wattpad-picks">\n        <ul class="row" aria-label="'+o((t.trans||n&&n.trans||r).call(i,"Wattpad Picks",{name:"trans",hash:{},data:s}))+'">\n          <li class="title col-xs-12">'+o((t.trans||n&&n.trans||r).call(i,"Wattpad Picks",{name:"trans",hash:{},data:s}))+"</li>\n"+(null!=(l=t.each.call(i,null!=n?n.newCurationLists:n,{name:"each",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")+"        </ul>\n      </div>\n    </div>\n"},10:function(e,n,t,a,s){var l=e.escapeExpression;return'            <li class="col-xs-6">\n              <a class="on-navigate" href="/stories/'+l((t.slugify||n&&n.slugify||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.name_english:n,{name:"slugify",hash:{},data:s}))+'">'+l(e.lambda(null!=n?n.name:n,n))+"</a>\n            </li>\n"},12:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'  <div class="dropdown-menu large" aria-labelledby="discover-dropdown">\n    <div class="col-xs-3">\n      <ul class="bold" aria-label="'+o((t.trans||n&&n.trans||r).call(i,"Browse Stories",{name:"trans",hash:{},data:s}))+'" id="main-browse-navigate">\n        <li><a class="on-navigate" href="/stories">'+o((t.trans||n&&n.trans||r).call(i,"Browse",{name:"trans",hash:{},data:s}))+'</a></li>\n      </ul>\n    </div>\n\n    <div class="col-xs-6 discover-categories">\n      <ul class="row" aria-label="'+o((t.trans||n&&n.trans||r).call(i,"Categories",{name:"trans",hash:{},data:s}))+'">\n'+(null!=(l=t.each.call(i,null!=n?n.categories:n,{name:"each",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?l:"")+"      </ul>\n    </div>\n\n"+(null!=(l=t.if.call(i,null!=(l=null!=n?n["current-user"]:n)?l.recommendedTags:l,{name:"if",hash:{},fn:e.program(15,s,0),inverse:e.noop,data:s}))?l:"")+"  </div>\n"},13:function(e,n,t,a,s){var l=e.escapeExpression;return'          <li class="col-xs-6">\n            <a class="on-navigate" href="/stories/'+l((t.slugify||n&&n.slugify||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.name_english:n,{name:"slugify",hash:{},data:s}))+'">'+l(e.lambda(null!=n?n.name:n,n))+"</a>\n          </li>\n"},15:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'      <div class="col-xs-3">\n        <ul aria-label="'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(i,"Trending Tags",{name:"trans",hash:{},data:s}))+'">\n'+(null!=(l=t.each.call(i,null!=(l=null!=n?n["current-user"]:n)?l.recommendedTags:l,{name:"each",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?l:"")+"        </ul>\n      </div>\n"},16:function(e,n,t,a,s){var l=e.escapeExpression;return'            <li><a class="on-navigate" href="/tags/'+l(e.lambda(n,n))+'">'+l((t.styleHashtag||n&&n.styleHashtag||t.helperMissing).call(null!=n?n:e.nullContext||{},n,{name:"styleHashtag",hash:{},data:s}))+"</a></li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return'<div class="triangle"></div>\n'+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.newCurationLists:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(12,s,0),data:s}))?l:"")},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'  <div class="dropdown-menu new-curation large" aria-labelledby="browse-dropdown">\n    <div class="col-xs-9 discover-categories">\n      <ul class="row">\n        <li class="title col-xs-12" aria-label="Browse Topics">'+o((t.trans||n&&n.trans||r).call(i,"Browse",{name:"trans",hash:{},data:s}))+"</li>\n"+(null!=(l=t.each.call(i,null!=n?n.browseTopics:n,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+'      </ul>\n    </div>\n    <div class="col-xs-3 wattpad-picks">\n      <ul class="row" aria-label="Wattpad Picks">\n        <li class="title col-xs-12">'+o((t.trans||n&&n.trans||r).call(i,"Wattpad Picks",{name:"trans",hash:{},data:s}))+"</li>\n"+(null!=(l=t.each.call(i,null!=n?n.newCurationLists:n,{name:"each",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")+"      </ul>\n    </div>\n  </div>\n"},2:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'          <li class="col-xs-4">\n              <a href="'+o((t.categoryNameToUrl||n&&n.categoryNameToUrl||r).call(i,null!=n?n.name:n,{name:"categoryNameToUrl",hash:{},data:s}))+'" class="on-navigate on-topic">'+o("function"==typeof(l=null!=(l=t.topic||(null!=n?n.topic:n))?l:r)?l.call(i,{name:"topic",hash:{},data:s}):l)+"</a>\n          </li>\n"},4:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'            <li class="col-xs-12">\n              <a href="/featured/'+o("function"==typeof(l=null!=(l=t.id||(null!=n?n.id:n))?l:r)?l.call(i,{name:"id",hash:{},data:s}):l)+'" class="on-navigate">'+o("function"==typeof(l=null!=(l=t.name||(null!=n?n.name:n))?l:r)?l.call(i,{name:"name",hash:{},data:s}):l)+"</a>\n            </li>\n"},6:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'  <div class="dropdown-menu large" aria-labelledby="browse-dropdown">\n    <div class="col-xs-3">\n      <ul class="bold" aria-label="Browse Topics">\n        <li>'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(i,"Browse",{name:"trans",hash:{},data:s}))+'</li>\n      </ul>\n    </div>\n\n    <div class="col-xs-9 discover-categories">\n      <ul class="row">\n'+(null!=(l=t.each.call(i,null!=n?n.browseTopics:n,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+"      </ul>\n    </div>\n  </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return'<div class="triangle"></div>\n\n'+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.newCurationLists:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(6,s,0),data:s}))?l:"")},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"The Watty Awards",{name:"trans",hash:{},data:s}))},3:function(e,n,t,a,s){return e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Awards",{name:"trans",hash:{},data:s}))},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<div class="triangle"></div>\n<div class="dropdown-menu large" aria-labelledby="community-dropdown">\n  <ul aria-label="'+o((t.trans||n&&n.trans||r).call(i,"Forums",{name:"trans",hash:{},data:s}))+'">\n    <li><a href="https://www.wattpadwriters.com">'+o((t.trans||n&&n.trans||r).call(i,"Forums",{name:"trans",hash:{},data:s}))+'</a></li>\n    <li>\n      <a href="/awards">\n        '+(null!=(l=(t.canTrans||n&&n.canTrans||r).call(i,"The Watty Awards",{name:"canTrans",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+"\n      </a>\n    </li>\n  </ul>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'  <div class="button-group inline-block relative pull-right">\n    <button class="btn btn-grey dropdown-toggle" data-toggle="dropdown"\n            role="button" aria-controls="activity-more-options" aria-expanded="false" aria-label="more options">\n        '+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(i,"fa-more",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n    </button>\n    <div class="triangle"></div>\n    <ul id="activity-more-options" class="dropdown-menu align-right">\n'+(null!=(l=t.if.call(i,null!=n?n.isValidMessage:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(5,s,0),data:s}))?l:"")+"    </ul>\n  </div>\n"},2:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'        <li>\n          <a class="on-report" role="button" href="#"\n            data-toggle="modal" data-action="reportMessage">\n            '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-flag",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Report Message",{name:"trans",hash:{},data:s}))+"\n          </a>\n        </li>\n"+(null!=(l=t.if.call(i,null!=n?n.canDelete:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")},3:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'          <li>\n            <a class="on-delete" role="button" href="#" data-toggle="modal"\n              data-action="deleteMessage">\n              '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-trash",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Delete Message",{name:"trans",hash:{},data:s}))+"\n            </a>\n          </li>\n"},5:function(e,n,t,a,s){var l;return null!=(l=(t.isCurrentUser||n&&n.isCurrentUser||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.username:n,{name:"isCurrentUser",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?l:""},6:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'          <li>\n            <a class="on-hide" role="button" href="#"\n              data-toggle="modal" data-action="deleteEvent">\n            '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-remove-alt",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Remove",{name:"trans",hash:{},data:s}))+"\n            </a>\n          </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{};return'<footer class="clearfix">\n'+(null!=(l=t.if.call(r,null!=n?n.hideMenu:n,{name:"if",hash:{},fn:e.noop,inverse:e.program(1,s,0),data:s}))?l:"")+"\n  "+(null!=(l="function"==typeof(i=null!=(i=t.leftButton||(null!=n?n.leftButton:n))?i:t.helperMissing)?i.call(r,{name:"leftButton",hash:{},data:s}):i)?l:"")+"\n</footer>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=e.escapeExpression,r=e.lambda;return"      "+i((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"posted a message to",{name:"trans",hash:{},data:s}))+'\n      <a class="on-user"\n       data-username="'+i(r(null!=(l=null!=(l=null!=(l=null!=n?n.data:n)?l.message:l)?l.to:l)?l.name:l,n))+'"\n       href="/user/'+i(r(null!=(l=null!=(l=null!=(l=null!=n?n.data:n)?l.message:l)?l.to:l)?l.name:l,n))+'">\n       <strong>'+i(r(null!=(l=null!=(l=null!=(l=null!=n?n.data:n)?l.message:l)?l.to:l)?l.name:l,n))+"</strong>\n      </a>\n"},3:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<div class="warning">\n  '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-warning",14,"wp-lighterror",{name:"iconify",hash:{},data:s}))?l:"")+"<span>"+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"This comment may be offensive.",{name:"trans",hash:{},data:s}))+"</span>\n</div>\n"},5:function(e,n,t,a,s){var l,i,r=e.lambda,o=e.escapeExpression;return'  <div id="replies-'+o(r(null!=(l=null!=(l=null!=n?n.data:n)?l.message:l)?l.id:l,n))+"\"\n      class='replies-list collapse'\n      data-id=\""+o(r(null!=(l=null!=(l=null!=n?n.data:n)?l.message:l)?l.id:l,n))+'"\n      data-profile-owner="'+o("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:t.helperMissing)?i.call(null!=n?n:e.nullContext||{},{name:"username",hash:{},data:s}):i)+'"\n      data-message-owner="'+o(r(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+'">\n  </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression,o=null!=n?n:e.nullContext||{},c=t.helperMissing;return'<header>\n  <a class="on-user avatar avatar-sm"\n     data-username="'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+'"\n     href="/user/'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+'">\n    <img src="'+r((t.resizeAvatar||n&&n.resizeAvatar||c).call(o,null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.avatar:l,32,{name:"resizeAvatar",hash:{},data:s}))+'">\n  </a>\n  <div class="clearfix">\n    <a class="on-user"\n     data-username="'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+'"\n     href="/user/'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+'">\n     <strong>'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+"</strong>\n    </a>\n"+(null!=(l=t.if.call(o,null!=n?n.showTarget:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"  </div>\n  <time>"+r((t.fromNow||n&&n.fromNow||c).call(o,null!=n?n.createDate:n,{name:"fromNow",hash:{dropSuffix:!0},data:s}))+"</time>\n</header>\n\n"+(null!=(l=t.if.call(o,null!=(l=null!=(l=null!=n?n.data:n)?l.message:l)?l.isOffensive:l,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"\n<pre>"+(null!=(l=(t.linkify||n&&n.linkify||c).call(o,null!=(l=null!=(l=null!=n?n.data:n)?l.message:l)?l.body:l,{name:"linkify",hash:{},data:s}))?l:"")+"</pre>\n\n"+(null!=(l=e.invokePartial(a["core.events.partials.user_event_footer"],n,{name:"core.events.partials.user_event_footer",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")+"\n"+(null!=(l=t.if.call(o,null!=n?n.isReply:n,{name:"if",hash:{},fn:e.noop,inverse:e.program(5,s,0),data:s}))?l:"")+"\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return" on-send-reply-event "},3:function(e,n,t,a,s){return" on-send-event "},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div class="panel-body beautify-url" data-story-id="'+c("function"==typeof(i=null!=(i=t.storyId||(null!=n?n.storyId:n))?i:o)?i.call(r,{name:"storyId",hash:{},data:s}):i)+'" data-originator="'+c("function"==typeof(i=null!=(i=t.originator||(null!=n?n.originator:n))?i:o)?i.call(r,{name:"originator",hash:{},data:s}):i)+'">\n    <a href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'" class="panel story on-navigate '+(null!=(l=t.if.call(r,null!=n?n.isReply:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+'">\n        <div class="cover cover-md pull-left">\n            <img src="'+c((t.resizeCover||n&&n.resizeCover||o).call(r,null!=n?n.cover:n,123,{name:"resizeCover",hash:{},data:s}))+'">\n        </div>\n        <div class="content">\n            <h4 class="h3">'+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+"</h4>\n            <p>"+c((t.simpleShorten||n&&n.simpleShorten||o).call(r,null!=n?n.description:n,400,{name:"simpleShorten",hash:{},data:s}))+"</p>\n        </div>\n    </a>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'        <li><a class="on-delete" role="button" href="#" data-toggle="modal" data-action="deleteMessage">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-trash",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Delete Message",{name:"trans",hash:{},data:s}))+"</a></li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<div class="button-group dropdown">\n    <button class="btn btn-text btn-options dropdown-toggle" data-toggle="dropdown">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-more",20,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'</button>\n    <div class="triangle"></div>\n    <ul class="dropdown-menu align-right">\n      <li><a class="on-report" role="button" href="#" data-toggle="modal" data-action="reportMessage">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-flag",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Report Message",{name:"trans",hash:{},data:s}))+"</a></li>\n"+(null!=(l=t.if.call(i,null!=n?n.canDelete:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'    </ul>\n</div>\n\n<div class="message-report-modal">\n</div>\n'},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return'<a class="cover '+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.coverSize:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(4,s,0),data:s}))?l:"")+' empty-cover">\n    <div class="fixed-ratio fixed-ratio-cover">\n    </div>\n</a>\n'},2:function(e,n,t,a,s){var l;return e.escapeExpression("function"==typeof(l=null!=(l=t.coverSize||(null!=n?n.coverSize:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"coverSize",hash:{},data:s}):l)},4:function(e,n,t,a,s){return"cover-home"},6:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<a class="'+(null!=(l=t.if.call(r,null!=n?n.isRecentlyRead:n,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.program(9,s,0),data:s}))?l:"")+"cover "+(null!=(l=t.if.call(r,null!=n?n.coverSize:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(4,s,0),data:s}))?l:"")+'" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'">\n    <div class="fixed-ratio fixed-ratio-cover">\n'+(null!=(l=t.if.call(r,null!=n?n.isDesktop:n,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.program(13,s,0),data:s}))?l:"")+"    </div>\n</a>\n"+(null!=(l=t.if.call(r,null!=n?n.isDesktop:n,{name:"if",hash:{},fn:e.program(15,s,0),inverse:e.program(31,s,0),data:s}))?l:"")},7:function(e,n,t,a,s){return"on-continue-reading "},9:function(e,n,t,a,s){return"on-story-preview "},11:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'            <img src="'+o((t.resizeCover||n&&n.resizeCover||r).call(i,null!=n?n.cover:n,142,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o((t.trans||n&&n.trans||r).call(i,"%1$s by %2$s",null!=n?n.title:n,null!=(l=null!=n?n.user:n)?l.name:l,{name:"trans",hash:{},data:s}))+'">\n'},13:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'            <img src="'+o((t.resizeCover||n&&n.resizeCover||r).call(i,null!=n?n.cover:n,92,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o((t.trans||n&&n.trans||r).call(i,"%1$s by %2$s",null!=n?n.title:n,null!=(l=null!=n?n.user:n)?l.name:l,{name:"trans",hash:{},data:s}))+'">\n'},15:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'    <div class="content" data-target="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" data-type="'+c("function"==typeof(i=null!=(i=t.type||(null!=n?n.type:n))?i:o)?i.call(r,{name:"type",hash:{},data:s}):i)+'">\n        <div class="info">\n            <a class="title meta '+(null!=(l=t.if.call(r,null!=n?n.isRecentlyRead:n,{name:"if",hash:{},fn:e.program(16,s,0),inverse:e.program(18,s,0),data:s}))?l:"")+'" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'">'+c((t.simpleShorten||n&&n.simpleShorten||o).call(r,null!=n?n.title:n,null!=n?n.titleCharLimit:n,!1,{name:"simpleShorten",hash:{},data:s}))+"</a>\n\n"+(null!=(l=t.if.call(r,null!=n?n.hideAuthor:n,{name:"if",hash:{},fn:e.noop,inverse:e.program(20,s,0),data:s}))?l:"")+'        </div>\n\n        <div class="meta social-meta">\n            <span class="read-count"\n'+(null!=(l=(t.greaterThan||n&&n.greaterThan||o).call(r,null!=n?n.readCount:n,999,{name:"greaterThan",hash:{},fn:e.program(25,s,0),inverse:e.noop,data:s}))?l:"")+">\n                "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-view",15,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.count||n&&n.count||o).call(r,null!=n?n.readCount:n,{name:"count",hash:{},data:s}))+'\n            </span>\n\n            <span class="vote-count"\n'+(null!=(l=(t.greaterThan||n&&n.greaterThan||o).call(r,null!=n?n.voteCount:n,999,{name:"greaterThan",hash:{},fn:e.program(27,s,0),inverse:e.noop,data:s}))?l:"")+">\n                "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-vote",15,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.count||n&&n.count||o).call(r,null!=n?n.voteCount:n,{name:"count",hash:{},data:s}))+'\n            </span>\n\n            <span class="part-count"\n'+(null!=(l=(t.greaterThan||n&&n.greaterThan||o).call(r,null!=n?n.numParts:n,999,{name:"greaterThan",hash:{},fn:e.program(29,s,0),inverse:e.noop,data:s}))?l:"")+">\n                "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-list",15,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.count||n&&n.count||o).call(r,null!=n?n.numParts:n,{name:"count",hash:{},data:s}))+"\n            </span>\n        </div>\n    </div>\n"},16:function(e,n,t,a,s){return"on-continue-reading"},18:function(e,n,t,a,s){return"on-story-preview"},20:function(e,n,t,a,s){var l;return'            <a class="username meta on-navigate" href="/user/'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.user:n)?l.name:l,n))+'">\n'+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.user:n)?l.fullname:l,{name:"if",hash:{},fn:e.program(21,s,0),inverse:e.program(23,s,0),data:s}))?l:"")+"            </a>\n"},21:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                    "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"by %s",(t.simpleShorten||n&&n.simpleShorten||r).call(i,null!=(l=null!=n?n.user:n)?l.fullname:l,14,!1,{name:"simpleShorten",hash:{},data:s}),{name:"trans",hash:{},data:s}))+"\n"},23:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                    "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"by %s",(t.simpleShorten||n&&n.simpleShorten||r).call(i,null!=(l=null!=n?n.user:n)?l.name:l,14,!1,{name:"simpleShorten",hash:{},data:s}),{name:"trans",hash:{},data:s}))+"\n"},25:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing;return'                  data-toggle="tooltip" data-placement="top" title="'+e.escapeExpression((t.sprintf||n&&n.sprintf||i).call(l,(t.ngettext||n&&n.ngettext||i).call(l,"%s Read","%s Reads",(t.format||n&&n.format||i).call(l,null!=n?n.readCount:n,{name:"format",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(t.format||n&&n.format||i).call(l,null!=n?n.readCount:n,{name:"format",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'"\n                '},27:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing;return'                  data-toggle="tooltip" data-placement="top" title="'+e.escapeExpression((t.sprintf||n&&n.sprintf||i).call(l,(t.ngettext||n&&n.ngettext||i).call(l,"%s Vote","%s Votes",(t.format||n&&n.format||i).call(l,null!=n?n.voteCount:n,{name:"format",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(t.format||n&&n.format||i).call(l,null!=n?n.voteCount:n,{name:"format",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'"\n                '},29:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing;return'                  data-toggle="tooltip" data-placement="top" title="'+e.escapeExpression((t.sprintf||n&&n.sprintf||i).call(l,(t.ngettext||n&&n.ngettext||i).call(l,"%s Part","%s Parts",(t.format||n&&n.format||i).call(l,null!=n?n.numParts:n,{name:"format",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(t.format||n&&n.format||i).call(l,null!=n?n.numParts:n,{name:"format",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'"\n                '},31:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'    <div class="content" data-target="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" data-type="'+c("function"==typeof(i=null!=(i=t.type||(null!=n?n.type:n))?i:o)?i.call(r,{name:"type",hash:{},data:s}):i)+'">\n        <div class="info">\n            <a class="title meta '+(null!=(l=t.if.call(r,null!=n?n.isRecentlyRead:n,{name:"if",hash:{},fn:e.program(16,s,0),inverse:e.program(18,s,0),data:s}))?l:"")+'" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'">'+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||o).call(r,null!=n?n.title:n,null!=n?n.titleCharLimit:n,!1,{name:"simpleShorten",hash:{},data:s}))?l:"")+"</a>\n\n"+(null!=(l=t.if.call(r,null!=n?n.hideAuthor:n,{name:"if",hash:{},fn:e.noop,inverse:e.program(32,s,0),data:s}))?l:"")+'        </div>\n\n        <div class="meta social-meta">\n            <span class="read-count"> '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-view",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.count||n&&n.count||o).call(r,null!=n?n.readCount:n,{name:"count",hash:{},data:s}))+' </span>\n            <span class="vote-count"> '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-vote",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.count||n&&n.count||o).call(r,null!=n?n.voteCount:n,{name:"count",hash:{},data:s}))+' </span>\n            <span class="part-count"> '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-list",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.count||n&&n.count||o).call(r,null!=n?n.numParts:n,{name:"count",hash:{},data:s}))+" </span>\n        </div>\n    </div>\n"},32:function(e,n,t,a,s){var l;return'            <a class="username meta on-navigate" href="/user/'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.user:n)?l.name:l,n))+'">\n'+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.user:n)?l.fullname:l,{name:"if",hash:{},fn:e.program(33,s,0),inverse:e.program(35,s,0),data:s}))?l:"")+"            </a>\n"},33:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                    "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"by %s",(t.simpleShorten||n&&n.simpleShorten||r).call(i,null!=(l=null!=n?n.user:n)?l.fullname:l,13,!1,{name:"simpleShorten",hash:{},data:s}),{name:"trans",hash:{},data:s}))+"\n"},35:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                    "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"by %s",(t.simpleShorten||n&&n.simpleShorten||r).call(i,null!=(l=null!=n?n.user:n)?l.name:l,13,!1,{name:"simpleShorten",hash:{},data:s}),{name:"trans",hash:{},data:s}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.empty:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(6,s,0),data:s}))?l:"")+"\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},"LoginForm","login-form",{name:"reactComponent",hash:{},data:s}))?l:"")+"\n"},3:function(e,n,t,a,s){var l;return(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},"SignupForm","signup-form",{name:"reactComponent",hash:{},data:s}))?l:"")+"\n"},5:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u=t.blockHelperMissing,d=e.escapeExpression,h='<header class="panel-heading">\n<h1>'+(null!=(l=(t.trans||n&&n.trans||c).call(o,"Lost your password?",{name:"trans",hash:{},data:s}))?l:"")+"</h1>\n<span> "+(null!=(l=(t.trans||n&&n.trans||c).call(o,"Type your username or email below and we'll send you instructions on how to reset it.",{name:"trans",hash:{},data:s}))?l:"")+'</span>\n</header>\n\n<div class="panel-body">\n  <small>'+(null!=(l=(t.trans||n&&n.trans||c).call(o,'Visit <a href="/support">Wattpad Support</a> for more information',{name:"trans",hash:{},data:s}))?l:"")+'</small>\n  <hr>\n  <form action="/forgot';return i=null!=(i=t.nextUrl||(null!=n?n.nextUrl:n))?i:c,r={name:"nextUrl",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(o,r):i,t.nextUrl||(l=u.call(n,l,r)),null!=l&&(h+=l),h+='" method="post">\n\n      <div class="form-group has-feedback" data-attr="forgotEmail">\n          <label class="control-label '+(null!=(l=(t.supportsPlaceholder||n&&n.supportsPlaceholder||c).call(o,null!=n?n.device:n,{name:"supportsPlaceholder",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?l:"")+'" for="forgot-email">'+d((t.trans||n&&n.trans||c).call(o,"Username or Email",{name:"trans",hash:{},data:s}))+'</label>\n          <input id="forgot-email" class="form-control input-lg enable" name="email" type="text" placeholder="'+d((t.trans||n&&n.trans||c).call(o,"Username or Email",{name:"trans",hash:{},data:s}))+'">\n          '+(null!=(l="function"==typeof(i=null!=(i=t.validationElements||(null!=n?n.validationElements:n))?i:c)?i.call(o,{name:"validationElements",hash:{},data:s}):i)?l:"")+"\n      </div>\n\n"+(null!=(l=t.if.call(o,null!=n?n.msg:n,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?l:"")+(null!=(l=t.if.call(o,null!=n?n.notice:n,{name:"if",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?l:"")+'\n      <div class="row">\n          <div class="col-sm-7 col-lg-6">\n              <input type="submit" class="btn btn-lg btn-block btn-orange enable" value="'+d((t.trans||n&&n.trans||c).call(o,"Send instructions",{name:"trans",hash:{},data:s}))+'">\n          </div>\n          <div class="col-sm-5 col-lg-6">\n              <a class="btn btn-lg btn-block btn-grey" rel="nofollow" href="/login',i=null!=(i=t.nextUrl||(null!=n?n.nextUrl:n))?i:c,r={name:"nextUrl",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(o,r):i,t.nextUrl||(l=u.call(n,l,r)),null!=l&&(h+=l),h+'" data-form="login">'+d((t.trans||n&&n.trans||c).call(o,"Cancel",{name:"trans",hash:{},data:s}))+"</a>\n          </div>\n      </div>\n\n  </form>\n</div>\n"},6:function(e,n,t,a,s){return"?nextUrl="+e.escapeExpression(e.lambda(n,n))},8:function(e,n,t,a,s){return"sr-only"},10:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing;return'      <div class="alert alert-danger" role="alert">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-warning",16,"wp-lighterror",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression("function"==typeof(i=null!=(i=t.msg||(null!=n?n.msg:n))?i:o)?i.call(r,{name:"msg",hash:{},data:s}):i)+"</div>\n"},12:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing;return'        <div class="alert alert-info" role="alert">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-info",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression("function"==typeof(i=null!=(i=t.notice||(null!=n?n.notice:n))?i:o)?i.call(r,{name:"notice",hash:{},data:s}):i)+"</div>\n"},14:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div class="panel-body">\n  <small>'+(null!=(l=(t.trans||n&&n.trans||o).call(r,'Visit <a href="/support">Wattpad Support</a> for more information',{name:"trans",hash:{},data:s}))?l:"")+'</small>\n  <hr>\n  <form action="/reset" method="post">\n      <input name="at" value="'+c("function"==typeof(i=null!=(i=t.authToken||(null!=n?n.authToken:n))?i:o)?i.call(r,{name:"authToken",hash:{},data:s}):i)+'" type="hidden" />\n\n      <div class="form-group has-feedback" data-attr="password">\n          <label class="control-label '+(null!=(l=(t.supportsPlaceholder||n&&n.supportsPlaceholder||o).call(r,null!=n?n.device:n,{name:"supportsPlaceholder",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?l:"")+'" for="reset-password">'+c((t.trans||n&&n.trans||o).call(r,"New password",{name:"trans",hash:{},data:s}))+'</label>\n          <input id="reset-password" class="form-control input-lg enable" name="password-new" type="password" placeholder="'+c((t.trans||n&&n.trans||o).call(r,"New password",{name:"trans",hash:{},data:s}))+'">\n        '+(null!=(l="function"==typeof(i=null!=(i=t.validationElements||(null!=n?n.validationElements:n))?i:o)?i.call(r,{name:"validationElements",hash:{},data:s}):i)?l:"")+'\n      </div>\n\n      <div class="form-group has-feedback" data-attr="confirm">\n          <label class="control-label '+(null!=(l=(t.supportsPlaceholder||n&&n.supportsPlaceholder||o).call(r,null!=n?n.device:n,{name:"supportsPlaceholder",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?l:"")+'" for="reset-confirm">'+c((t.trans||n&&n.trans||o).call(r,"Confirm new password",{name:"trans",hash:{},data:s}))+'</label>\n          <input id="reset-confirm" class="form-control input-lg enable" name="password-conf" type="password" placeholder="'+c((t.trans||n&&n.trans||o).call(r,"Confirm new password",{name:"trans",hash:{},data:s}))+'">\n        '+(null!=(l="function"==typeof(i=null!=(i=t.validationElements||(null!=n?n.validationElements:n))?i:o)?i.call(r,{name:"validationElements",hash:{},data:s}):i)?l:"")+"\n      </div>\n\n"+(null!=(l=t.if.call(r,null!=n?n.msg:n,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?l:"")+(null!=(l=t.if.call(r,null!=n?n.notice:n,{name:"if",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?l:"")+'\n      <div class="row">\n          <div class="col-sm-7 col-lg-6">\n              <input type="submit" class="btn btn-lg btn-block btn-orange enable" value="'+c((t.trans||n&&n.trans||o).call(r,"Reset password",{name:"trans",hash:{},data:s}))+'">\n          </div>\n\n          <div class="col-sm-5 col-lg-6">\n              <a class="btn btn-lg btn-block btn-grey on-login" rel="nofollow" href="/login" data-form="login">'+c((t.trans||n&&n.trans||o).call(r,"Cancel",{name:"trans",hash:{},data:s}))+"</a>\n          </div>\n      </div>\n\n  </form>\n</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return(null!=(l=t.if.call(i,null!=n?n.login:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.signup:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.forgot:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+"\n\n\n"+(null!=(l=t.if.call(i,null!=n?n.reset:n,{name:"if",hash:{},fn:e.program(14,s,0),inverse:e.noop,data:s}))?l:"")},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return"btn-text"},3:function(e,n,t,a,s){return"btn-no-background"},5:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'    <li>\n      <a role="button" href="'+c("function"==typeof(i=null!=(i=t.deeplink||(null!=n?n.deeplink:n))?i:o)?i.call(r,{name:"deeplink",hash:{},data:s}):i)+'">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-link",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.trans||n&&n.trans||o).call(r,"Link to Comment",{name:"trans",hash:{},data:s}))+"</a>\n    </li>\n"},7:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'    <li>\n      <a class="on-delete" role="button" href="#" data-toggle="modal" data-action="deleteComment">\n        '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-trash",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Delete Comment",{name:"trans",hash:{},data:s}))+"\n      </a>\n    </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<div class="button-group inline-block relative pull-right">\n  <button class="btn '+(null!=(l=t.if.call(i,null!=n?n.isCommentNotification:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+' dropdown-toggle"\n          data-toggle="dropdown" aria-controls="comment-more-options" aria-expanded="false" aria-label="more options">\n    '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-more",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n  </button>\n  <div class="triangle"></div>\n  <ul class="dropdown-menu align-right">\n'+(null!=(l=t.unless.call(i,null!=n?n.isCommentNotification:n,{name:"unless",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+'    <li>\n      <a class="on-report" role="button" href="#" data-toggle="modal" data-action="reportComment">\n        '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-flag",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Report Comment",{name:"trans",hash:{},data:s}))+"\n      </a>\n    </li>\n"+(null!=(l=t.if.call(i,null!=n?n.canDelete:n,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")+'  </ul>\n</div>\n\n<div class="comment-report-modal">\n</div>\n'},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'<article class="notification aggregate follower panel unread">\n    <div class="count">0</div>\n    <div class="content">\n        <div class="heading">'+r((t.trans||n&&n.trans||i).call(l,"You have no new notifications",{name:"trans",hash:{},data:s}))+"</div>\n        <p>"+r((t.trans||n&&n.trans||i).call(l,"Updates about what is happening to you and your stories will be shown here",{name:"trans",hash:{},data:s}))+"</p>\n    </div>\n</article>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'    <div class="user-badge" data-toggle="tooltip" data-placement="right" title="'+(null!=(l=(t.trans||n&&n.trans||r).call(i,"Wattpad Staff",{name:"trans",hash:{},data:s}))?l:"")+'">\n        '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"staff",null!=n?n.badgeSize:n,"wp-base-1","",'viewBox="0 0 20 20"',{name:"iconify",hash:{},data:s}))?l:"")+"\n    </div>\n"},3:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'    <div class="user-badge" data-toggle="tooltip" data-placement="right" title="'+(null!=(l=(t.trans||n&&n.trans||r).call(i,"Verified",{name:"trans",hash:{},data:s}))?l:"")+'">\n        '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"verified",null!=n?n.badgeSize:n,"wp-base-1","",'viewBox="0 0 20 20"',{name:"iconify",hash:{},data:s}))?l:"")+"\n    </div>\n"},5:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'    <div class="user-badge" data-toggle="tooltip" data-placement="right" title="'+(null!=(l=(t.trans||n&&n.trans||r).call(i,"Wattpad Star",{name:"trans",hash:{},data:s}))?l:"")+'">\n        '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"star",null!=n?n.badgeSize:n,"wp-base-1","",'viewBox="0 0 20 20"',{name:"iconify",hash:{},data:s}))?l:"")+"\n    </div>\n"},7:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'    <div class="user-badge" data-toggle="tooltip" data-placement="right" title="'+(null!=(l=(t.trans||n&&n.trans||r).call(i,"Wattpad Ambassador",{name:"trans",hash:{},data:s}))?l:"")+'">\n        '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"ambassador",null!=n?n.badgeSize:n,"wp-base-1","",'viewBox="0 0 20 20"',{name:"iconify",hash:{},data:s}))?l:"")+"\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return(null!=(l=t.if.call(i,null!=n?n.staff:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.verified:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.star:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.ambassador:n,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing;return'    <div class="action-wrapper icon-wrapper">\n        <a href="'+e.escapeExpression("function"==typeof(i=null!=(i=t.reportLink||(null!=n?n.reportLink:n))?i:o)?i.call(r,{name:"reportLink",hash:{},data:s}):i)+'" target="_blank" class="on-report-image">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-flag",20,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+"</a>\n        "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-remove",20,"wp-neutral-5","on-dismiss",{name:"iconify",hash:{},data:s}))?l:"")+"\n    </div>\n"},3:function(e,n,t,a,s){return"on-dismiss"},5:function(e,n,t,a,s){var l;return'    <div class="background-wrapper icon-wrapper">\n        <div class="social-wrapper" id="media-share">\n'+(null!=(l=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.mediaShare:n,{name:"each",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?l:"")+"        </div>\n    </div>\n"},6:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'                <a data-gtm-action="share:'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+'" class="share-'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+(null!=(l=t.unless.call(r,null!=n?n.nopopup:n,{name:"unless",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")+'" '+c("function"==typeof(i=null!=(i=t.socialSharingAttributes||(null!=n?n.socialSharingAttributes:n))?i:o)?i.call(r,{name:"socialSharingAttributes",hash:{},data:s}):i)+">\n                    "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,null!=n?n.icon:n,18,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+"\n                </a> \n"},7:function(e,n,t,a,s){return' social-share" target="_blank'},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing;return'<div id="picture-viewer" class="modal fade" role="dialog" data-keyboard="true" tabindex=\'-1\'>\n'+(null!=(l=t.if.call(r,null!=n?n.isTouchDevice:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'    <div class="vertical-align-helper '+(null!=(l=t.unless.call(r,null!=n?n.isTouchDevice:n,{name:"unless",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+'">\n        <div class="modal-dialog">\n            <div class="modal-content">\n                <div class="modal-body">\n                <a href="'+e.escapeExpression("function"==typeof(i=null!=(i=t.reportLink||(null!=n?n.reportLink:n))?i:o)?i.call(r,{name:"reportLink",hash:{},data:s}):i)+'" target="_blank" class="on-report-image">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-flag",20,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+"</a>\n                "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-remove",20,"wp-neutral-3","on-dismiss",{name:"iconify",hash:{},data:s}))?l:"")+"\n                  "+(null!=(l="function"==typeof(i=null!=(i=t.contents||(null!=n?n.contents:n))?i:o)?i.call(r,{name:"contents",hash:{},data:s}):i)?l:"")+"\n                </div>\n            </div>\n        </div>\n    </div>\n"+(null!=(l=t.if.call(r,null!=n?n.isTouchDevice:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+"</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},"BannedImageMessaging",null!=n?n.id:n,{name:"reactComponent",hash:{},data:s}))?l:"")+"\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" class="listsModal modal fade" aria-hidden="true" role="dialog">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <header class="modal-header">\n        <div class="pull-right close" data-dismiss="modal">\n          '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-remove-alt",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n        </div>\n        <h3 class="modal-title text-center">'+c((t.trans||n&&n.trans||o).call(r,"Add to Another Reading List",{name:"trans",hash:{},data:s}))+' </h3>\n      </header>\n\n      <div class="modal-body">\n        <ul id="add-to-list" class="lists-menu list-unstyled" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'"></ul>\n      </div>\n\n    </div>\n  </div>\n</div>\n\n'},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'            <div class="download-link">\n                <a href="'+o("function"==typeof(l=null!=(l=t.downloadLink||(null!=n?n.downloadLink:n))?l:r)?l.call(i,{name:"downloadLink",hash:{},data:s}):l)+'" rel="nofollow" target="_blank">'+o("function"==typeof(l=null!=(l=t.downloadText||(null!=n?n.downloadText:n))?l:r)?l.call(i,{name:"downloadText",hash:{},data:s}):l)+"</a>\n            </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<section class="modal fade" id="get-app-modal" tabindex="-1" role="dialog" aria-labelledby="getAppModalTitle" aria-hidden="true">\n    <div class="modal-dialog"><div class="modal-content">\n\n        <header class="modal-header">\n            <div class="pull-right close" data-dismiss="modal">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-remove-alt",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'</div>\n            <h2 class="modal-title" id="getAppModalTitle">'+o((t.trans||n&&n.trans||r).call(i,"Get the app in seconds.",{name:"trans",hash:{},data:s}))+'</h1>\n            <h3 class="modal-subtitle">'+o((t.trans||n&&n.trans||r).call(i,"It's easy as 1-2-3. Enter your cell phone number and we'll send you a link to install the Wattpad app.",{name:"trans",hash:{},data:s}))+'</h3>\n        </header>\n\n        <div class="modal-body">\n            <div class="form-group has-feedback" data-attr="getApp">\n                <div class="input-group">\n                    <label class="control-label sr-only" for="phonenumber">'+o((t.trans||n&&n.trans||r).call(i,"Enter your phone number",{name:"trans",hash:{},data:s}))+'</label>\n                    <input id="phonenumber" name="phonenumber" class="form-control input-lg on-invalid" type="text">\n\n                    <span class="input-group-btn">\n                        <button class="on-send-app-link btn btn-lg btn-orange">\n                            <span class="hidden-if-sent">'+o((t.trans||n&&n.trans||r).call(i,"Send",{name:"trans",hash:{},data:s}))+'</span>\n                            <span class="shown-if-sent">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-check",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+'</span>\n                        </button>\n                    </span>\n                </div>\n            </div>\n            <div class="feetext">\n                <small>'+o((t.trans||n&&n.trans||r).call(i,"Standard messaging fees apply",{name:"trans",hash:{},data:s}))+"</small>\n            </div>\n\n"+(null!=(l=t.if.call(i,null!=n?n.downloadLink:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"        </div>\n\n    </div>\n</section>\n"},useData:!0})},function(e,n){e.exports={home:'<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>',library:'<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="nav-library" transform="translate(3.000000, 3.000000)" fill="#6F6F6F"><path d="M17.4,0 C17.9522847,-1.01453063e-16 18.4,0.44771525 18.4,1 L18.4,17 C18.4,17.5522847 17.9522847,18 17.4,18 L17,18 C16.4477153,18 16,17.5522847 16,17 L16,1 C16,0.44771525 16.4477153,1.01453063e-16 17,0 L17.4,0 Z M12.4,0 C12.9522847,-1.01453063e-16 13.4,0.44771525 13.4,1 L13.4,17 C13.4,17.5522847 12.9522847,18 12.4,18 L12,18 C11.4477153,18 11,17.5522847 11,17 L11,1 C11,0.44771525 11.4477153,1.01453063e-16 12,0 L12.4,0 Z M6.33618624,0.254903754 L6.72255657,0.358431372 C7.25602267,0.501373184 7.57260516,1.04971014 7.42966335,1.58317624 L3.28855863,17.0379895 C3.14561682,17.5714556 2.59727986,17.8880381 2.06381376,17.7450962 L1.67744343,17.6415686 C1.14397733,17.4986268 0.827394836,16.9502899 0.970336648,16.4168238 L5.11144137,0.962010536 C5.25438318,0.428544432 5.80272014,0.111961943 6.33618624,0.254903754 Z" id="Combined-Shape"></path></g></g>',create:'<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="nav-create" transform="translate(2.000000, 2.000000)" stroke="#6F6F6F" stroke-width="2"><g id="edit-2" stroke-linecap="round" stroke-linejoin="round"><path d="M15,1 C15.7145312,0.285468802 16.7559831,0.00641259763 17.7320508,0.267949159 C18.7081186,0.52948572 19.4705143,1.29188142 19.7320508,2.26794918 C19.9935874,3.24401693 19.7145312,4.28546882 19,5 L5.5,18.5 L0,20 L1.5,14.5 L15,1 Z" id="Path"></path></g><path d="M2.5,14.5 L5.5,17.5" id="Line-3" stroke-linecap="square"></path></g></g>',notifications:'<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>',profile:'<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>',chevDown:'<polyline points="6 9 12 15 18 9"></polyline>',chevUp:'<polyline points="18 15 12 9 6 15"></polyline>',chevLeft:'<polyline points="15 18 9 12 15 6"></polyline>',chevRight:'<polyline points="9 18 15 12 9 6"></polyline>',close:'<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>',closeCircle:"",search:'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>',settings:'<circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>',add:'<line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>',remove:'<line x1="5" y1="12" x2="19" y2="12"></line>',more:'<circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>',follow:'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line>',following:'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>',dropdownCaret:"",arrowCircleRight:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line>',arrowCircleLeft:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line>',arrowCircleDown:'<circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line>',arrowCircleUp:'<circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line>',arrowLeft:'<line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline>',arrowRight:'<line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline>',arrowDown:'<line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline>',download:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>',helpCircle:'<circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>',refresh:'<polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>',circle:'<circle cx="12" cy="12" r="10"></circle>',report:'<path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line>',history:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>',trash:'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>',drag:'<line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>',share:'<circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>',comment:'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',save:'<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>',edit:'<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>',mute:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>',unmute:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>',success:'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>',filter:'<line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line>',attach:'<path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>',lightbulb:'<path d="M8 20.56l.03.937c0 .86.995 1.004 1.984 1.004h2.304c1 0 1.68-.328 1.68-1.187V20.5m-5.89-1c0-1.58-.556-2.654-1.573-3.802a6.3 6.3 0 0 1-1.482-4.93C5.42 8.04 7.75 5.5 10.976 5.5c3.286 0 6.02 2.727 6.024 6.13 0 1.534-.556 3.017-1.62 4.165-.974 1.05-1.482 2.08-1.482 3.705" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/><path d="M8 20.052h6" stroke-width="2"/><path d="M21.38 13.845H20m-17.62 0H1m2.76-7.207l-.975-.975m16.835.285l-.975.975M11 1.5v1.38" stroke-width="2" stroke-linecap="round"/>',archive:'<polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line>',textFormat:"",picture:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>',video:'<polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>',hideKeyboard:"",link:'<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>',brightnessUp:"",brightnessDown:"",reply:"",embed:"",camera:"",lock:"",unlock:"",timeout:"",readingList:"",underline:"",bold:"",italic:"",textAlignRight:"",textAlignCenter:"",textAlignLeft:"",commentMeta:'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',views:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>',votes:'<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>',parts:'<line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3" y2="6"></line><line x1="3" y1="12" x2="3" y2="12"></line><line x1="3" y1="18" x2="3" y2="18"></line>',notifDedicate:'<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>',notifStoryUpdate:'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',notifFeedMessage:"",warning:'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"warning-triangle":'<g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Ic-/-14px-/-Alert" transform="translate(0.000000, 0.000000)" fill="#FFC922">\n      <path d="M11.875,5 C12.4019232,5 12.8906036,5.28229723 13.1638807,5.744551 L13.1638807,5.744551 L19.5479857,16.6799097 C19.8158305,17.1558373 19.8174297,17.7418513 19.5521866,18.2193104 C19.2869436,18.6967695 18.7946975,18.9939599 18.259105,19 L18.259105,19 L5.490895,19 C4.95530252,18.9939599 4.46305644,18.6967695 4.19781339,18.2193104 C3.93257035,17.7418513 3.93416953,17.1558373 4.2020143,16.6799097 L4.2020143,16.6799097 L10.5861193,5.744551 C10.8593964,5.28229723 11.3480768,5 11.875,5 Z M11.65625,15.5 C11.2938131,15.5 11,15.7938131 11,16.15625 L11,16.15625 L11,16.4397278 C11,16.8021647 11.2938131,17.0959778 11.65625,17.0959778 C12.0186869,17.0959778 12.3125,16.8021647 12.3125,16.4397278 L12.3125,16.4397278 L12.3125,16.15625 C12.3125,15.7938131 12.0186869,15.5 11.65625,15.5 Z M11.65625,9.375 C11.2938131,9.375 11,9.66881313 11,10.03125 L11,10.03125 L11,13.53125 C11,13.8936869 11.2938131,14.1875 11.65625,14.1875 C12.0186869,14.1875 12.3125,13.8936869 12.3125,13.53125 L12.3125,13.53125 L12.3125,10.03125 C12.3125,9.66881313 12.0186869,9.375 11.65625,9.375 Z" id="Combined-Shape"></path>\n  </g>\n</g>',triangle:'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>',info:"",copyright:"",publicDomain:"",creativeCommons:"",location:"",stats:"",check:'<path fill-rule="evenodd" clip-rule="evenodd" d="M20.7071 5.29289C21.0976 5.68342 21.0976 6.31658 20.7071 6.70711L9.70711 17.7071C9.31658 18.0976 8.68342 18.0976 8.29289 17.7071L3.29289 12.7071C2.90237 12.3166 2.90237 11.6834 3.29289 11.2929C3.68342 10.9024 4.31658 10.9024 4.70711 11.2929L9 15.5858L19.2929 5.29289C19.6834 4.90237 20.3166 4.90237 20.7071 5.29289Z" fill="#00854E"/>',staff:' <g id="Staff---Wireframes" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Artboard" transform="translate(-1147.000000, -227.000000)">\n      <g id="ic_badge_verified" transform="translate(1147.000000, 227.000000)">\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Path" fill="#FFFFFF"></path>\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Verified-Account" fill="#FF6122"></path>\n      </g>\n      <path d="M1154.11212,241.7 C1155.77292,241.7 1156.00632,239.785105 1157.14045,238.07578 C1157.09856,238.686857 1157.13746,239.227533 1157.26314,239.599248 C1157.75689,241.066395 1159.45659,241.179036 1160.22864,239.689361 C1161.31788,237.588608 1161.62909,237.092989 1162.72731,235.580785 C1163.45148,234.581097 1162.61061,233.936228 1161.63807,234.400872 C1161.13834,234.640234 1160.32739,235.234414 1159.31595,236.498808 C1159.4925,235.538545 1159.44462,233.910884 1157.97235,234.003813 C1157.19432,234.051685 1156.18587,234.879595 1154.80935,237.00006 C1154.92307,235.808883 1154.96795,234.964076 1154.41735,234.521961 C1154.0403,234.21783 1153.15155,234.102373 1152.6189,234.752874 C1152.08325,235.409008 1151.95757,236.687481 1152.01144,238.03354 C1152.11617,240.852377 1153.17549,241.7 1154.11212,241.7 Z" id="Logo-path" fill="#FFFFFF"></path>\n  </g>\n</g>',ambassador:'<g id="Amb-badge" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Badges" transform="translate(-35.000000, -206.000000)">\n      <g id="ic_badge_verified" transform="translate(35.000000, 206.000000)">\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Path" fill="#FFFFFF"></path>\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Verified-Account" fill="#FF6122"></path>\n          <g id="Group-3" transform="translate(5.000000, 6.000000)" fill="#FFFFFF">\n              <path d="M9.78065737,1.78094955 C9.35444338,0.694861133 8.31740847,-0.012577196 7.16968296,0.000169440589 C6.33637761,0.00279374812 5.5446272,0.373570912 5,1.01615136 C4.45500506,0.373570912 3.66362239,0.00279374812 2.83031704,0.000169440589 C1.68295927,-0.012577196 0.645924361,0.694861133 0.219342627,1.78094955 C-0.225626252,2.85466623 0.0192905027,4.09671349 0.837150656,4.91137353 L4.73890256,8.88907394 C4.88195454,9.03641006 5.11473578,9.03678496 5.25889098,8.89132335 L5.26109744,8.88907394 L9.16284934,4.91137353 C9.9807095,4.09671349 10.2256263,2.85466623 9.78065737,1.78094955" id="Fill-1"></path>\n          </g>\n      </g>\n  </g>\n</g>',verified:'<g id="Verifier---Wireframes" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Artboard" transform="translate(-1147.000000, -299.000000)">\n      <path d="M1165.419,305.513 L1164.774,303.142 C1164.521,302.209 1163.792,301.48 1162.859,301.226 L1160.487,300.581 L1158.355,299.36 C1157.935,299.12 1157.467,299 1157,299 C1156.533,299 1156.065,299.12 1155.646,299.36 L1153.513,300.581 L1151.141,301.226 C1150.208,301.48 1149.48,302.208 1149.226,303.141 L1148.581,305.513 L1147.36,307.646 C1146.88,308.485 1146.88,309.515 1147.36,310.355 L1148.581,312.487 L1149.226,314.86 C1149.48,315.792 1150.209,316.521 1151.142,316.774 L1153.513,317.419 L1155.645,318.64 C1156.065,318.88 1156.533,319 1157,319 C1157.467,319 1157.935,318.88 1158.355,318.64 L1160.487,317.419 L1162.859,316.774 C1163.792,316.521 1164.521,315.792 1164.774,314.859 L1165.419,312.487 L1166.64,310.355 C1167.12,309.515 1167.12,308.485 1166.64,307.645 L1165.419,305.513 Z" id="Path" fill="#FFFFFF"></path>\n      <path d="M1166.64,307.645 L1165.419,305.513 L1164.774,303.142 C1164.521,302.209 1163.792,301.48 1162.859,301.226 L1160.487,300.581 L1158.355,299.36 C1157.935,299.12 1157.467,299 1157,299 C1156.533,299 1156.065,299.12 1155.646,299.36 L1153.513,300.581 L1151.141,301.226 C1150.208,301.48 1149.48,302.208 1149.226,303.141 L1148.581,305.513 L1147.36,307.646 C1146.88,308.485 1146.88,309.515 1147.36,310.355 L1148.581,312.487 L1149.226,314.86 C1149.48,315.792 1150.209,316.521 1151.142,316.774 L1153.513,317.419 L1155.645,318.64 C1156.065,318.88 1156.533,319 1157,319 C1157.467,319 1157.935,318.88 1158.355,318.64 L1160.487,317.419 L1162.859,316.774 C1163.792,316.521 1164.521,315.792 1164.774,314.859 L1165.419,312.487 L1166.64,310.355 C1167.12,309.515 1167.12,308.485 1166.64,307.645 L1166.64,307.645 Z" id="Verified-Account" fill="#FF6122"></path>\n      <path d="M1156.36061,312.705984 C1156.00858,313.098005 1155.43225,313.098005 1155.08022,312.705984 L1152.26402,309.569809 C1151.91199,309.177788 1151.91199,308.536863 1152.26402,308.144841 C1152.61604,307.75282 1153.19238,307.75282 1153.5444,308.144841 L1155.72042,310.568087 L1160.4564,305.294016 C1160.80842,304.901995 1161.38396,304.901995 1161.73598,305.294016 C1162.08801,305.686038 1162.08801,306.326963 1161.73598,306.718984 L1156.36061,312.705984 Z" id="Path" fill="#FFFFFF"></path>\n  </g>\n</g>',star:'<g id="Stars---Wireframes" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Artboard" transform="translate(-1147.000000, -336.000000)">\n      <path d="M1166.64,344.645 L1165.419,342.513 L1164.774,340.142 C1164.521,339.209 1163.792,338.48 1162.859,338.226 L1160.487,337.581 L1158.355,336.36 C1157.935,336.12 1157.467,336 1157,336 C1156.533,336 1156.065,336.12 1155.646,336.36 L1153.513,337.581 L1151.141,338.226 C1150.208,338.48 1149.48,339.208 1149.226,340.141 L1148.581,342.513 L1147.36,344.646 C1146.88,345.485 1146.88,346.515 1147.36,347.355 L1148.581,349.487 L1149.226,351.86 C1149.48,352.792 1150.209,353.521 1151.142,353.774 L1153.513,354.419 L1155.645,355.64 C1156.065,355.88 1156.533,356 1157,356 C1157.467,356 1157.935,355.88 1158.355,355.64 L1160.487,354.419 L1162.859,353.774 C1163.792,353.521 1164.521,352.792 1164.774,351.859 L1165.419,349.487 L1166.64,347.355 C1167.12,346.515 1167.12,345.485 1166.64,344.645 L1166.64,344.645 Z" id="Path" fill="#FF6122"></path>\n      <path d="M1158.545,344.292 L1157.42218,341.899553 C1157.18902,341.402744 1156.81055,341.403664 1156.57782,341.899553 L1155.455,344.292 L1152.98082,344.669751 C1152.43913,344.752455 1152.30655,345.133713 1152.69639,345.533299 L1154.5,347.382 L1154.07122,350.011366 C1153.98218,350.557373 1154.30135,350.783681 1154.7872,350.515124 L1157,349.292 L1159.2128,350.515124 C1159.69726,350.782914 1160.01765,350.556362 1159.92878,350.011366 L1159.5,347.382 L1161.30361,345.533299 C1161.68822,345.139079 1161.54832,344.750539 1161.01918,344.669751 L1158.545,344.292 Z" id="Path" fill="#FFFFFF"></path>\n  </g>\n</g>',sponsored:"",storyrank:"",promoted:'<g fill="none" fill-rule="evenodd">\n  <path fill="#FF6122" fill-rule="nonzero" d="M14.73 6.484l-.916-1.6-.483-1.778a2.044 2.044 0 0 0-1.437-1.436l-1.779-.484L8.516.27a2.048 2.048 0 0 0-2.032 0l-1.6.916-1.778.484c-.7.19-1.246.736-1.436 1.436l-.484 1.779-.916 1.6c-.36.629-.36 1.401 0 2.031l.916 1.6.484 1.779c.19.699.737 1.246 1.437 1.436l1.778.483 1.599.916a2.048 2.048 0 0 0 2.032 0l1.6-.916 1.778-.483c.7-.19 1.247-.737 1.437-1.437l.483-1.779.916-1.599c.36-.63.36-1.402 0-2.032z"/>\n  <g stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">\n      <path d="M7.5 10.5V5.25M4.875 7.875L7.5 5.25l2.625 2.625"/>\n  </g>\n</g>',zap:'<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>',twitter:"",facebook:"","facebook-login":"",pinterest:"",tumblr:"",googlePlus:"",email:"",preferences:'<g fill="none" fill-rule="nonzero" stroke="#222" stroke-linecap="round" stroke-width="2" transform="translate(1 1)">\n  <path d="M0 2h17M0 8.5h17M0 15.5h17"/>\n  <circle cx="8" cy="2" r="2" fill="#222"/>\n  <circle cx="15" cy="9" r="2" fill="#222"/>\n  <circle cx="8" cy="16" r="2" fill="#222"/>\n</g>'}},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return'readonly="readonly"'},3:function(e,n,t,a,s){var l;return'    <div class="btn btn-orange on-remove-character">'+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-minus",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+"</div>\n"},5:function(e,n,t,a,s){var l;return'    <div class="btn btn-grey on-add-character">'+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-plus",16,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?l:"")+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div class="character">\n  <input type="text" class="character-input" name="character" '+(null!=(l=t.if.call(r,null!=n?n.readonly:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+' placeholder="'+c((t.trans||n&&n.trans||o).call(r,"Name",{name:"trans",hash:{},data:s}))+'" data-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" value="'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+'"/>\n\n'+(null!=(l=t.if.call(r,null!=n?n.name:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?l:"")+"</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},"ContestBanner","contest-banner",{name:"reactComponent",hash:{},data:s}))?l:"")+"\n\n\n\n\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s,l,i){var r,o,c=null!=n?n:e.nullContext||{},u=t.helperMissing,d=e.escapeExpression,h=e.lambda;return'<div class="item-content">\n    <div class="cover cover-xs pull-left">\n        <a class="on-navigate" href="'+d((t.formatStoryUrl||n&&n.formatStoryUrl||u).call(c,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'">\n            <img src="'+d((t.resizeCover||n&&n.resizeCover||u).call(c,null!=n?n.cover:n,50,{name:"resizeCover",hash:{},data:s}))+'">\n        </a>\n    </div>\n    <div class="content">\n        <a class="on-navigate" href="'+d((t.formatStoryUrl||n&&n.formatStoryUrl||u).call(c,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'">\n            <h4 class="h6">'+d("function"==typeof(o=null!=(o=t.title||(null!=n?n.title:n))?o:u)?o.call(c,{name:"title",hash:{},data:s}):o)+" - "+d(h(null!=(r=null!=n?n.part:n)?r.title:r,n))+"</h4>\n        </a>\n        <small>"+d(h(null!=(r=null!=n?n.user:n)?r.name:r,n))+'</small>\n        <a class="on-navigate" href="'+d((t.formatStoryUrl||n&&n.formatStoryUrl||u).call(c,null!=(r=null!=(r=null!=i[1]?i[1].data:i[1])?r.comment:r)?r.deeplink_url:r,{name:"formatStoryUrl",hash:{},data:s}))+'">\n            <div class="btn btn-text">'+(null!=(r=(t.iconify||n&&n.iconify||u).call(c,"fa-comment",14,"fa-mediumgrey",{name:"iconify",hash:{},data:s}))?r:"")+" "+d((t.trans||n&&n.trans||u).call(c,"View Conversation",{name:"trans",hash:{},data:s}))+'</div>\n        </a>\n    </div>\n    <button class="btn btn-triangle btn-library" data-icon="true" data-story-id="'+d("function"==typeof(o=null!=(o=t.id||(null!=n?n.id:n))?o:u)?o.call(c,{name:"id",hash:{},data:s}):o)+'" data-toggle="tooltip" data-placement="left" title="'+d((t.trans||n&&n.trans||u).call(c,"Add to Library",{name:"trans",hash:{},data:s}))+'">\n      '+(null!=(r=(t.iconify||n&&n.iconify||u).call(c,"fa-plus",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'\n        <span class="toggle-triangle"></span>\n        <span class="toggle-shadow"></span>\n    </button>\n</div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s,l,i){var r;return null!=(r=t.blockHelperMissing.call(n,e.lambda(null!=(r=null!=n?n.data:n)?r.story:r,n),{name:"data.story",hash:{},fn:e.program(1,s,0,l,i),inverse:e.noop,data:s}))?r:""},useData:!0,useDepths:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return'    <li class="list-group-item">\n'+(null!=(l=e.invokePartial(a["core.feed_items.aggregates.item_views.feed_comment_item"],n,{name:"core.feed_items.aggregates.item_views.feed_comment_item",data:s,indent:"        ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"    </li>\n"},3:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<button data-id="'+o("function"==typeof(l=null!=(l=t.id||(null!=n?n.id:n))?l:r)?l.call(i,{name:"id",hash:{},data:s}):l)+'" class="btn btn-text on-expand">'+o((t.trans||n&&n.trans||r).call(i,"See more",{name:"trans",hash:{},data:s}))+"</button>"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=e.escapeExpression,o=null!=n?n:e.nullContext||{},c=t.helperMissing;return'<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/'+r(e.lambda(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+'">\n      <img src="'+r((t.resizeAvatar||n&&n.resizeAvatar||c).call(o,null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.avatar:l,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <h3 class="h6">'+r((t.trans||n&&n.trans||c).call(o,"%s posted %s comments",null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,null!=n?n.groupCount:n,{name:"trans",hash:{},data:s}))+'</h3>\n    <time datetime="'+r("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:c)?i.call(o,{name:"createDate",hash:{},data:s}):i)+'">'+r((t.fromNow||n&&n.fromNow||c).call(o,null!=n?n.createDate:n,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(l=e.invokePartial(a["core.feed_items.feed_item_options"],n,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'</header>\n\n<ul class="list-group">\n'+(null!=(l=t.each.call(o,null!=n?n.group:n,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'</ul>\n\n<footer class="panel-footer">\n  '+(null!=(l=t.if.call(o,null!=(l=null!=n?n.children:n)?l[0]:l,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"\n</footer>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'    <small class="x-small offensive">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-warning",13,"wp-error-1",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"this message may be offensive",{name:"trans",hash:{},data:s}))+"</small>\n"},3:function(e,n,t,a,s){var l;return"      <pre>"+(null!=(l=(t.linkify||n&&n.linkify||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.body:n,{name:"linkify",hash:{},data:s}))?l:"")+"</pre>\n"},5:function(e,n,t,a,s){var l,i,r,o="";return i=null!=(i=t.beautifyUrlMetadata||(null!=n?n.beautifyUrlMetadata:n))?i:t.helperMissing,r={name:"beautifyUrlMetadata",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(null!=n?n:e.nullContext||{},r):i,t.beautifyUrlMetadata||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(o+=l),o},6:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["core.shared.beautify_url"],n,{name:"core.shared.beautify_url",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?l:""},8:function(e,n,t,a,s){return" hidden "},10:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'  <div id="'+(null!=(l=t.if.call(r,null!=n?n.pinnedItem:n,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s}))?l:"")+"replies-"+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+"\"\n      class='replies-list collapse'\n      data-id=\""+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'"\n      data-profile-owner="'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'"\n      data-message-owner="'+c(e.lambda(null!=(l=null!=n?n.from:n)?l.name:l,n))+'">\n  </div>\n'},11:function(e,n,t,a,s){return"pinned-"},13:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["core.feed_items.feed_message_reply"],n,{name:"core.feed_items.feed_message_reply",data:s,indent:"  ",helpers:t,partials:a,decorators:e.decorators}))?l:""},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression,u=e.lambda;return'<header id="comment-'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" class="panel-heading message-heading">\n    <a class="send-avatar-event avatar avatar-sm3 on-navigate" href="/user/'+c(u(null!=(l=null!=n?n.from:n)?l.name:l,n))+'">\n      <img src="'+c((t.resizeAvatar||n&&n.resizeAvatar||o).call(r,null!=(l=null!=n?n.from:n)?l.avatar:l,42,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n\n    <h3 class="h6 from-name"><a class="username on-navigate" href="/user/'+c(u(null!=(l=null!=n?n.from:n)?l.name:l,n))+'">'+c(u(null!=(l=null!=n?n.from:n)?l.name:l,n))+'</a></h3>\n\n    <time class="timestamp" datetime="'+c("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:o)?i.call(r,{name:"createDate",hash:{},data:s}):i)+'">'+c((t.fromNow||n&&n.fromNow||o).call(r,null!=n?n.createDate:n,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(l=e.invokePartial(a["core.feed_items.feed_item_message_options"],n,{name:"core.feed_items.feed_item_message_options",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'</header>\n<div class="panel-body message dark-grey new-message">\n'+(null!=(l=t.if.call(r,null!=n?n.isOffensive:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(r,null!=n?n.body:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"</div>\n\n"+(null!=(l=t.if.call(r,null!=n?n.beautifyUrlMetadata:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+'\n<button class="btn btn-white btn-block btn-replies on-reply '+(null!=(l=t.if.call(r,null!=n?n.numReplies:n,{name:"if",hash:{},fn:e.noop,inverse:e.program(8,s,0),data:s}))?l:"")+'"\n  type="button" data-toggle="collapse" data-target="#replies-'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'">\n   '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-comment",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.sprintf||n&&n.sprintf||o).call(r,(t.ngettext||n&&n.ngettext||o).call(r,"View %s more reply","View %s more replies",null!=n?n.numReplies:n,{name:"ngettext",hash:{},data:s}),null!=n?n.numReplies:n,{name:"sprintf",hash:{},data:s}))+"\n</button>\n\n"+(null!=(l=t.if.call(r,null!=n?n.isReply:n,{name:"if",hash:{},fn:e.noop,inverse:e.program(10,s,0),data:s}))?l:"")+"\n"+(null!=(l=t.each.call(r,null!=n?n.latestReplies:n,{name:"each",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?l:"")+"\n<footer class=\"panel-footer new-message\">\n  <a href class='btn btn-text btn-reply-link new-reply'>"+(null!=(l=(t.trans||n&&n.trans||o).call(r,"Reply",{name:"trans",hash:{},data:s}))?l:"")+"</a>\n</footer>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression,u=e.lambda;return'        <a href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'" class="header clearfix on-navigate">\n            <div class="cover cover-xs pull-left">\n                <img src="'+c((t.resizeCover||n&&n.resizeCover||o).call(r,null!=n?n.cover:n,50,{name:"resizeCover",hash:{},data:s}))+'">\n            </div>\n            <div class="content">\n                <h4 class="h3">'+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+" - "+c(u(null!=(l=null!=n?n.part:n)?l.title:l,n))+"</h4>\n                <small>"+c(u(null!=(l=null!=n?n.user:n)?l.name:l,n))+" &middot; "+c((t.sprintf||n&&n.sprintf||o).call(r,(t.ngettext||n&&n.ngettext||o).call(r,"%s Part","%s Parts",null!=n?n.numParts:n,{name:"ngettext",hash:{},data:s}),null!=n?n.numParts:n,{name:"sprintf",hash:{},data:s}))+'</small>\n                <div class="meta">\n                    '+(null!=(l=t.if.call(r,null!=n?n.readCount:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+"\n                    "+(null!=(l=t.if.call(r,null!=n?n.voteCount:n,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")+"\n                </div>\n            </div>\n        </a>\n"},2:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<small class="reads">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-view",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.count||n&&n.count||r).call(i,null!=n?n.readCount:n,{name:"count",hash:{},data:s}))+"</small>"},4:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<small class="votes">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-vote",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.count||n&&n.count||r).call(i,null!=n?n.voteCount:n,{name:"count",hash:{},data:s}))+"</small>"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=e.lambda,o=e.escapeExpression,c=null!=n?n:e.nullContext||{},u=t.helperMissing;return'<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/'+o(r(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+'">\n      <img src="'+o((t.resizeAvatar||n&&n.resizeAvatar||u).call(c,null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.avatar:l,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <h3 class="h6">'+o((t.trans||n&&n.trans||u).call(c,"%s commented on %s - %s",null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.title:l,null!=(l=null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.part:l)?l.title:l,{name:"trans",hash:{},data:s}))+'</h3>\n    <time datetime="'+o("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:u)?i.call(c,{name:"createDate",hash:{},data:s}):i)+'">'+o((t.fromNow||n&&n.fromNow||u).call(c,null!=n?n.createDate:n,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(l=e.invokePartial(a["core.feed_items.feed_item_options"],n,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'</header>\n\n<div class="panel-body">\n    <article class="panel comment">\n'+(null!=(l=t.blockHelperMissing.call(n,r(null!=(l=null!=n?n.data:n)?l.story:l,n),{name:"data.story",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'        <blockquote class="comment-body">'+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||u).call(c,null!=(l=null!=(l=null!=n?n.data:n)?l.comment:l)?l.body:l,2e3,!0,{name:"simpleShorten",hash:{},data:s}))?l:"")+'</blockquote>\n    </article>\n\n    <button class="btn btn-triangle btn-library" data-icon="true" data-story-id="'+o(r(null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.id:l,n))+'" data-toggle="tooltip" data-placement="left" title="'+o((t.trans||n&&n.trans||u).call(c,"Add to Library",{name:"trans",hash:{},data:s}))+'">\n        '+(null!=(l=(t.iconify||n&&n.iconify||u).call(c,"fa-plus",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n        <span class="toggle-triangle"></span>\n        <span class="toggle-shadow"></span>\n    </button>\n</div>\n\n<footer class="panel-footer">\n    <a class="btn btn-text on-navigate" href="'+o((t.formatStoryUrl||n&&n.formatStoryUrl||u).call(c,null!=(l=null!=(l=null!=n?n.data:n)?l.comment:l)?l.deeplink_url:l,{name:"formatStoryUrl",hash:{},data:s}))+'">'+(null!=(l=(t.iconify||n&&n.iconify||u).call(c,"fa-comment",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.trans||n&&n.trans||u).call(c,"View Conversation",{name:"trans",hash:{},data:s}))+"</a>\n</footer>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s,l,i){var r,o,c=e.escapeExpression,u=null!=n?n:e.nullContext||{},d=t.helperMissing;return'              <li>\n                <a href="/'+c(e.lambda(null!=i[1]?i[1].urlBasePath:i[1],n))+"/"+c("function"==typeof(o=null!=(o=t.tabValue||(null!=n?n.tabValue:n))?o:d)?o.call(u,{name:"tabValue",hash:{},data:s}):o)+'" data-section="'+c("function"==typeof(o=null!=(o=t.tabValue||(null!=n?n.tabValue:n))?o:d)?o.call(u,{name:"tabValue",hash:{},data:s}):o)+'" class="tab-control'+(null!=(r=(t.ifequal||n&&n.ifequal||d).call(u,null!=i[1]?i[1].activeTab:i[1],null!=n?n.tabValue:n,{name:"ifequal",hash:{},fn:e.program(2,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'">\n                    '+c("function"==typeof(o=null!=(o=t.translatedTabName||(null!=n?n.translatedTabName:n))?o:d)?o.call(u,{name:"translatedTabName",hash:{},data:s}):o)+'\n                    <span class="fa-stack check '+(null!=(r=(t.ifequal||n&&n.ifequal||d).call(u,null!=i[1]?i[1].activeTab:i[1],null!=n?n.tabValue:n,{name:"ifequal",hash:{},fn:e.noop,inverse:e.program(4,s,0,l,i),data:s}))?r:"")+'">\n                      '+(null!=(r=(t.iconify||n&&n.iconify||d).call(u,"fa-circle-empty fa-stack-2x",16,"wp-base-2",{name:"iconify",hash:{},data:s}))?r:"")+"\n                      "+(null!=(r=(t.iconify||n&&n.iconify||d).call(u,"fa-check fa-stack-1x",10,"wp-base-2",{name:"iconify",hash:{},data:s}))?r:"")+"\n                    </span>\n                </a>\n              </li>\n"},2:function(e,n,t,a,s){return" active"},4:function(e,n,t,a,s){return" hidden "},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s,l,i){var r,o,c=null!=n?n:e.nullContext||{},u=t.helperMissing,d=e.escapeExpression;return' <div class="panel-heading">\n        <h4 class="text-light all-caps" id="header-left">'+d((t.sprintf||n&&n.sprintf||u).call(c,(t.ngettext||n&&n.ngettext||u).call(c,"%s Story","%s Stories",null!=n?n.numStories:n,{name:"ngettext",hash:{},data:s}),(t.count||n&&n.count||u).call(c,null!=n?n.numStories:n,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'</h4>\n        <div class="button-group relative inline-block">\n          <button class="btn btn-text dropdown-toggle" id="sortby-button" data-toggle="dropdown">\n            <span id="sortby-text">'+d((t.trans||n&&n.trans||u).call(c,"Sort by: ",{name:"trans",hash:{},data:s}))+" "+d("function"==typeof(o=null!=(o=t.translatedActiveTab||(null!=n?n.translatedActiveTab:n))?o:u)?o.call(c,{name:"translatedActiveTab",hash:{},data:s}):o)+'</span>\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu dropdown-menu-right" id="sortby-dropdown">\n'+(null!=(r=t.each.call(c,null!=n?n.tabs:n,{name:"each",hash:{},fn:e.program(1,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"        </ul>\n      </div>\n    </div>"},useData:!0,useDepths:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return" unread"},3:function(e,n,t,a,s){var l;return"          "+(null!=(l=(t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"<strong>%1$s</strong> mentioned you in a comment on <strong>%2$s - %3$s</strong>",null!=(l=null!=(l=null!=n?n.comment:n)?l.user:l)?l.name:l,null!=(l=null!=n?n.story:n)?l.title:l,null!=(l=null!=(l=null!=n?n.story:n)?l.part:l)?l.title:l,{name:"trans",hash:{},data:s}))?l:"")+"\n"},5:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.comment:n)?l.parentId:l,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.program(8,s,0),data:s}))?l:""},6:function(e,n,t,a,s){var l;return"          "+(null!=(l=(t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"<strong>%1$s</strong> replied to a comment on <strong>%2$s - %3$s</strong>",null!=(l=null!=(l=null!=n?n.comment:n)?l.user:l)?l.name:l,null!=(l=null!=n?n.story:n)?l.title:l,null!=(l=null!=(l=null!=n?n.story:n)?l.part:l)?l.title:l,{name:"trans",hash:{},data:s}))?l:"")+"\n"},8:function(e,n,t,a,s){var l;return"          "+(null!=(l=(t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"<strong>%1$s</strong> commented on <strong>%2$s - %3$s</strong>",null!=(l=null!=(l=null!=n?n.comment:n)?l.user:l)?l.name:l,null!=(l=null!=n?n.story:n)?l.title:l,null!=(l=null!=(l=null!=n?n.story:n)?l.part:l)?l.title:l,{name:"trans",hash:{},data:s}))?l:"")+"\n        "},10:function(e,n,t,a,s){return"expanded-text"},12:function(e,n,t,a,s){return" hidden"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=e.escapeExpression,c=t.helperMissing;return'\x3c!-- Individual Comment --\x3e\n<article class="notification comment panel'+(null!=(l=t.unless.call(r,null!=n?n.isRead:n,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'">\n  <a href="/user/'+o(e.lambda(null!=(l=null!=(l=null!=n?n.comment:n)?l.user:l)?l.name:l,n))+'" class="on-navigate avatar avatar-sm2">\n      <img src="'+(null!=(l=(t.resizeAvatar||n&&n.resizeAvatar||c).call(r,null!=(l=null!=(l=null!=n?n.comment:n)?l.user:l)?l.avatar:l,36,{name:"resizeAvatar",hash:{},data:s}))?l:"")+'">\n  </a>\n  <div class="content">\n'+(null!=(l=e.invokePartial(a["core.item_views.comment_item_options"],n,{name:"core.item_views.comment_item_options",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'\n    <a href="'+o((t.formatStoryUrl||n&&n.formatStoryUrl||c).call(r,null!=(l=null!=n?n.comment:n)?l.deeplink_url:l,{name:"formatStoryUrl",hash:{},data:s}))+'" class="on-notification-click">\n      <div class="heading">\n'+(null!=(l=t.if.call(r,null!=n?n.hasMentions:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?l:"")+"      </div>\n    </a>\n\n    "+(null!=(l=(t.iconify||n&&n.iconify||c).call(r,"fa-comment",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+' <time datetime="'+o("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:c)?i.call(r,{name:"createDate",hash:{},data:s}):i)+'">'+o((t.calendar||n&&n.calendar||c).call(r,null!=n?n.createDate:n,{name:"calendar",hash:{},data:s}))+'</time>\n\n    <p class="shown-message '+(null!=(l=t.unless.call(r,null!=n?n.isTruncated:n,{name:"unless",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?l:"")+'">\n        '+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||c).call(r,null!=(l=null!=n?n.comment:n)?l.body:l,null!=n?n.maxTextLength:n,!0,{name:"simpleShorten",hash:{doUrl:!1,doTag:!1},data:s}))?l:"")+'\n      <span class="show-full'+(null!=(l=t.unless.call(r,null!=n?n.isTruncated:n,{name:"unless",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?l:"")+'"><strong>'+o((t.trans||n&&n.trans||c).call(r,"more",{name:"trans",hash:{},data:s}))+'</strong></span>\n      </p>\n    <p class="hidden full-message">'+(null!=(l=(t.linkify||n&&n.linkify||c).call(r,null!=(l=null!=n?n.comment:n)?l.body:l,{name:"linkify",hash:{},data:s}))?l:"")+"</p>\n  </div>\n</article>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return" hidden"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div class="modal-dialog">\n  <div class="modal-content">\n\n    <header class="modal-header">\n      <h1 class="modal-title">'+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+'</h1>\n\n      <div class="close" data-dismiss="modal">\n        '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n      </div>\n    </header>\n\n    <div class="modal-body">\n      <div id="user-row-items" class="collection row"></div>\n\n      <div class="show-more center-text'+(null!=(l=t.if.call(r,null!=n?n.hasMore:n,{name:"if",hash:{},fn:e.noop,inverse:e.program(1,s,0),data:s}))?l:"")+'">\n        <button class="btn btn-grey on-showmore" role="button">\n          <span class="show-more-message">\n            <span>'+c((t.trans||n&&n.trans||o).call(r,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n            "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-down-small",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n          </span>\n          <span class="loading-message hidden">\n            '+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||o).call(r,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?l:"")+"\n            <span>"+c((t.trans||n&&n.trans||o).call(r,"Loading",{name:"trans",hash:{},data:s}))+" ...</span>\n          </span>\n        </button>\n      </div> \n    </div>\n\n  </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<ul class="meta on-edit-hide" id="reading-list-meta">\n    <li>'+o((t.trans||n&&n.trans||r).call(i,"Reading List",{name:"trans",hash:{},data:s}))+"</li>\n    <li>"+o((t.sprintf||n&&n.sprintf||r).call(i,(t.ngettext||n&&n.ngettext||r).call(i,"%s Story","%s Stories",(t.count||n&&n.count||r).call(i,null!=(l=null!=n?n.list:n)?l.numStories:l,{name:"count",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(t.count||n&&n.count||r).call(i,null!=(l=null!=n?n.list:n)?l.numStories:l,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+"</li>\n</ul>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return"      "+(null!=(l=e.lambda(null!=(l=null!=n?n.image:n)?l.outerHTML:l,n))?l:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<figure contenteditable="false">\n  <p data-p-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" data-media-type="image" data-image-layout="one-horizontal">\n'+(null!=(l=t.each.call(r,null!=n?n.images:n,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'  \n    <span class=\'banned-overlay hidden\'>\n        <span class="banned-messaging hide"></span>\n    </span>\n    <span contenteditable=\'false\' class="on-remove-image">\n      <span class="play fa-stack fa-lg">\n        '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-circle-filled","auto","wp-neutral-1 fa-stack-2x",{name:"iconify",hash:{},data:s}))?l:"")+"\n        "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-remove",18,"wp-neutral-5 fa-stack-1x",{name:"iconify",hash:{},data:s}))?l:"")+'\n      </span>\n    </span>\n   \n  </p>\n  <figcaption contenteditable="false">\n    '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-warning",24,"wp-error-1",{name:"iconify",hash:{},data:s}))?l:"")+"\n    "+c((t.trans||n&&n.trans||o).call(r,"Oops! This image does not follow our content guidelines. To continue publishing, please remove it or upload a different image.",{name:"trans",hash:{},data:s}))+"\n  </figcaption>\n</figure>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c="function",u=e.escapeExpression;return'<p data-media-type="video" data-video-source="wattpad" data-original-width="'+u(typeof(i=null!=(i=t.origWidth||(null!=n?n.origWidth:n))?i:o)===c?i.call(r,{name:"origWidth",hash:{},data:s}):i)+'" data-original-height="'+u(typeof(i=null!=(i=t.origHeight||(null!=n?n.origHeight:n))?i:o)===c?i.call(r,{name:"origHeight",hash:{},data:s}):i)+'"data-preview-image="'+u(typeof(i=null!=(i=t.previewImageSrc||(null!=n?n.previewImageSrc:n))?i:o)===c?i.call(r,{name:"previewImageSrc",hash:{},data:s}):i)+'" data-video-id="'+u(typeof(i=null!=(i=t.videoId||(null!=n?n.videoId:n))?i:o)===c?i.call(r,{name:"videoId",hash:{},data:s}):i)+'">\n  <video poster="'+u(typeof(i=null!=(i=t.previewImageSrc||(null!=n?n.previewImageSrc:n))?i:o)===c?i.call(r,{name:"previewImageSrc",hash:{},data:s}):i)+'" autoplay autostart muted loop controls>\n    <source src="'+u(typeof(i=null!=(i=t.videoSrc||(null!=n?n.videoSrc:n))?i:o)===c?i.call(r,{name:"videoSrc",hash:{},data:s}):i)+'" type="video/mp4">\n    '+u((t.trans||n&&n.trans||o).call(r,"There should be a GIF or video here. Update the app now to see it",{name:"trans",hash:{},data:s}))+'\n  </video>\n  <span class="place-holder">&nbsp;</span>\n  <span contenteditable=\'false\' class="on-remove-image">\n    <span class="play fa-stack fa-lg">\n      '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-circle-filled","auto","wp-neutral-1 fa-stack-2x",{name:"iconify",hash:{},data:s}))?l:"")+"\n      "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-remove",18,"wp-neutral-5 fa-stack-1x",{name:"iconify",hash:{},data:s}))?l:"")+"\n    </span>\n  </span>\n</p>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<p data-media-type="image">\n  <span contenteditable=\'false\' class="on-remove-image">\n    <span class="play fa-stack fa-lg">\n      '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-circle-filled","auto","wp-neutral-1 fa-stack-2x",{name:"iconify",hash:{},data:s}))?l:"")+"\n      "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-remove","auto","wp-neutral-5 fa-stack-1x",{name:"iconify",hash:{},data:s}))?l:"")+'\n    </span>\n  </span>\n  <iframe data-video-id="'+c("function"==typeof(i=null!=(i=t.videoId||(null!=n?n.videoId:n))?i:o)?i.call(r,{name:"videoId",hash:{},data:s}):i)+'" width="764" height="330" src="//www.youtube-nocookie.com/embed/'+c("function"==typeof(i=null!=(i=t.videoId||(null!=n?n.videoId:n))?i:o)?i.call(r,{name:"videoId",hash:{},data:s}):i)+'?rel=0&showinfo=0&enablejsapi=1" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n</p>\n'},useData:!0})},function(e,n){e.exports={"wp-base-1":"#ff6122","wp-base-1-light":"#ff7b3c","wp-base-1-dark":"#e64809","wp-base-1-60":"#A93E19","wp-base-2":"#00b2b2","wp-base-2-light":"#1acccc","wp-base-2-dark":"#009999","wp-neutral-1":"#222222","wp-neutral-2":"#6f6f6f","wp-neutral-3":"#eeeeee","wp-neutral-4":"#fafafa","wp-neutral-new-4":"rgba(18, 18, 18, 0.12)","wp-neutral-5":"#ffffff","wp-error-1":"#ff3f12","wp-warning-01":"#ffc922","facebook-1":"#3b5998","twitter-1":"#55acee","pinterest-1":"#bd081c","tumblr-1":"#35465c","google-1":"#db4437","google-2":"#1e6cd6","wp-ambassador-profile":"#df6400","wp-lightteal":"#c3d8dc","wp-lighterteal":"#eaf0f4","wp-lighterror":"#faada1","wp-errorbackground":"#ff6d55","wp-focus-blue":"#00a0d9","wp-button-red":"#e94a2c","wp-button-green":"#01b05a","wp-wattys-tag":"#322864","ds-base-4-accent":"#e81249","ds-alert":"#e00000","ds-success":"#00854e"}},function(e,n,t){"use strict";e.exports=function(){return[{prefix:"hc_house_creative_1",link:"https://my.w.tt/Ng3HJjMyg7",postfix:""},{prefix:"hc_house_creative_2",link:"https://my.w.tt/Ng3HJjMyg7",postfix:""},{prefix:"PremiumHouseAds_ADFREE",postfix:"_V1",link:"https://my.w.tt/uMpPXRrRr7"},{prefix:"PremiumHouseAd_ADFREE",link:"https://my.w.tt/BrIlZtDRr7",postfix:"_V2"},{prefix:"PremiumHouseAds_ADFREE",postfix:"_V3",link:"https://my.w.tt/uMpPXRrRr7"},{prefix:"PremiumHouseAds_FREETRIAL",postfix:"_V1",link:"https://my.w.tt/BrIlZtDRr7"},{prefix:"PremiumHouseAds_FREETRIAL",postfix:"_V2",link:"https://my.w.tt/BrIlZtDRr7"},{prefix:"PremiumHouseAds_FREETRIAL",postfix:"_V3",link:"https://my.w.tt/BrIlZtDRr7"}]}},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return'  <li class="title">'+e.escapeExpression("function"==typeof(l=null!=(l=t.title||(null!=n?n.title:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"title",hash:{},data:s}):l)+"</li>\n"},3:function(e,n,t,a,s){var l;return"    <li>"+e.escapeExpression("function"==typeof(l=null!=(l=t.label||(null!=n?n.label:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"label",hash:{},data:s}):l)+"</li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return"<ul>\n"+(null!=(l=t.if.call(i,null!=n?n.title:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+(null!=(l=t.each.call(i,null!=n?n.items:n,{name:"each",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"</ul>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'    <a data-gtm-action="share:'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+'" class="share-'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+(null!=(l=t.unless.call(r,null!=n?n.nopopup:n,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+'" '+c("function"==typeof(i=null!=(i=t.socialSharingAttributes||(null!=n?n.socialSharingAttributes:n))?i:o)?i.call(r,{name:"socialSharingAttributes",hash:{},data:s}):i)+">"+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,null!=n?n.icon:n,18,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+"</a>\n"},2:function(e,n,t,a,s){return' social-share" target="_blank'},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return'<div class="social-share-links">\n'+(null!=(l=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.links:n,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<div class="reading-list-dropdown">\n    <div class="triangle"></div>\n    <div class="dropdown-menu dropdown-menu-right add-to-library">\n        <ul class="lists-menu" data-story-id="'+o("function"==typeof(l=null!=(l=t.id||(null!=n?n.id:n))?l:r)?l.call(i,{name:"id",hash:{},data:s}):l)+'"></ul>\n        <div class="input-group">\n            <label for="new-reading-list" class="sr-only">New Reading List</label>\n            <input id="new-reading-list" type="text" class="form-control list-name list-error-placeholder" placeholder="Add New Reading List">\n        <span class="input-group-btn">\n            <button class="btn btn-orange on-create-list" type="button" data-story-id="'+o("function"==typeof(l=null!=(l=t.id||(null!=n?n.id:n))?l:r)?l.call(i,{name:"id",hash:{},data:s}):l)+'">\n                +\n            </button>\n        </span>\n        </div>\n    </div>\n</div>\n'},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'<div class="error">\n  <div class="h6">\n'+(null!=(l=t.if.call(i,null!=n?n.title:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(4,s,0),data:s}))?l:"")+"  </div>\n"+(null!=(l=(t.greaterThan||n&&n.greaterThan||t.helperMissing).call(i,null!=(l=null!=n?n.errors:n)?l.length:l,1,{name:"greaterThan",hash:{},fn:e.program(6,s,0),inverse:e.program(9,s,0),data:s}))?l:"")+"</div>\n"},2:function(e,n,t,a,s){var l;return"      "+e.escapeExpression("function"==typeof(l=null!=(l=t.title||(null!=n?n.title:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"title",hash:{},data:s}):l)+"\n"},4:function(e,n,t,a,s){return"      "+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Some errors occured while trying to save your story",{name:"trans",hash:{},data:s}))+"\n"},6:function(e,n,t,a,s){var l,i,r,o="  <ul>\n";return i=null!=(i=t.errors||(null!=n?n.errors:n))?i:t.helperMissing,r={name:"errors",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(null!=n?n:e.nullContext||{},r):i,t.errors||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(o+=l),o+"  </ul>\n"},7:function(e,n,t,a,s){return"      <li>"+e.escapeExpression(e.lambda(n,n))+"</li>\n"},9:function(e,n,t,a,s){var l,i,r,o="";return i=null!=(i=t.errors||(null!=n?n.errors:n))?i:t.helperMissing,r={name:"errors",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(null!=n?n:e.nullContext||{},r):i,t.errors||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(o+=l),o},10:function(e,n,t,a,s){return"      <p>"+e.escapeExpression(e.lambda(n,n))+"</p>\n"},12:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.successMessage:n,{name:"if",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?l:""},13:function(e,n,t,a,s){var l;return'  <div class="success">\n    <div class="h6">'+e.escapeExpression("function"==typeof(l=null!=(l=t.successMessage||(null!=n?n.successMessage:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"successMessage",hash:{},data:s}):l)+"</div>\n  </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.errors:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(12,s,0),data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},"StoryTags","storyTags",{name:"reactComponent",hash:{},data:s}))?l:"")+"\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return"        "+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Before you publish %s",null!=n?n.partTitle:n,{name:"trans",hash:{},data:s}))+"\n"},3:function(e,n,t,a,s){var l,i=e.lambda,r=t.blockHelperMissing;return(null!=(l=r.call(n,i(null!=(l=null!=n?n.story:n)?l.id:l,n),{name:"story.id",hash:{},fn:e.noop,inverse:e.program(4,s,0),data:s}))?l:"")+(null!=(l=r.call(n,i(null!=(l=null!=n?n.story:n)?l.id:l,n),{name:"story.id",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?l:"")},4:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.isNew:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s}))?l:""},5:function(e,n,t,a,s){return"        "+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Add Story Info",{name:"trans",hash:{},data:s}))+"\n        "},7:function(e,n,t,a,s){return e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Please enter your story details",{name:"trans",hash:{},data:s}))+"\n"},9:function(e,n,t,a,s){return"        "+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Edit Story Details",{name:"trans",hash:{},data:s}))+"\n"},11:function(e,n,t,a,s){return'      <button class="btn btn-grey on-edit-close">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Close",{name:"trans",hash:{},data:s}))+"</button>\n"},13:function(e,n,t,a,s){return'      <button class="btn btn-grey on-edit-cancel">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Cancel",{name:"trans",hash:{},data:s}))+"</button>\n"},15:function(e,n,t,a,s){return'      <button class="btn btn-orange on-edit-save"><span class="text">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Skip",{name:"trans",hash:{},data:s}))+'</span>\n        <div id="finish-tooltip" data-toggle="popover"></div>\n      </button>\n'},17:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.isPublish:n,{name:"if",hash:{},fn:e.program(18,s,0),inverse:e.program(20,s,0),data:s}))?l:""},18:function(e,n,t,a,s){return'      <button class="btn btn-orange on-publish">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Publish",{name:"trans",hash:{},data:s}))+"</button>\n"},20:function(e,n,t,a,s){return'      <button class="btn btn-orange on-edit-save">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Save",{name:"trans",hash:{},data:s}))+"</button>\n"},22:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'      <div class="container">\n       <div class="banned-image-messaging ">\n\n        '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"warning-triangle",30,"wp-warning-01","warning-icon",{name:"iconify",hash:{},data:s}))?l:"")+'\n        <span className="message">\n            '+o((t.trans||n&&n.trans||r).call(i,"1 or more of your images was deemed unsafe and will only be visible to you.",{name:"trans",hash:{},data:s}))+'\n              <a\n              class="learn-more"\n              rel="noopener"\n              target="_blank"\n              href= "https://support.wattpad.com/hc/en-us/articles/360020840731-Image-Moderation-on-Wattpad"\n            >\n              '+o((t.trans||n&&n.trans||r).call(i,"Learn more",{name:"trans",hash:{},data:s}))+"\n            </a>\n        </span>\n\n      </div>\n      </div>\n"},24:function(e,n,t,a,s){return"new-image"},26:function(e,n,t,a,s){var l;return"               <span class='banned-overlay'>\n\n                   "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"warning-triangle",60,"wp-warning-01","warning-icon",{name:"iconify",hash:{},data:s}))?l:"")+"\n\n                </span>\n"},28:function(e,n,t,a,s){return" on-trigger-tooltip"},30:function(e,n,t,a,s){return" hidden"},32:function(e,n,t,a,s){return' data-toggle="dropdown" '},34:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'        <span data-toggle="popover" class="popover-icon" id="image-tooltip" title="'+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Add a story cover",{name:"trans",hash:{},data:s}))+'">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-info",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+"</span>\n"},36:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'      <button class="btn btn-orange btn-view-as-reader on-view-as-reader" data-attr="wid-btn" data-url="'+e.escapeExpression((t.formatStoryUrl||n&&n.formatStoryUrl||r).call(i,null!=(l=null!=n?n.story:n)?l.url:l,{name:"formatStoryUrl",hash:{},data:s}))+'">\n        '+(null!=(l=(t.ifequal||n&&n.ifequal||r).call(i,null!=n?n.lang:n,"en",{name:"ifequal",hash:{},fn:e.program(37,s,0),inverse:e.program(39,s,0),data:s}))?l:"")+"\n      </button>\n"},37:function(e,n,t,a,s){return e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"View as reader",{name:"trans",hash:{},data:s}))},39:function(e,n,t,a,s){return e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Preview",{name:"trans",hash:{},data:s}))},41:function(e,n,t,a,s){var l;return'      <div class="social-share-wrapper">\n'+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.story:n)?l.published:l,{name:"if",hash:{},fn:e.program(42,s,0),inverse:e.noop,data:s}))?l:"")+"      </div>\n"},42:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return"        <h5>"+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(i,"Share ",{name:"trans",hash:{},data:s}))+"</h5>\n"+(null!=(l=t.each.call(i,null!=(l=null!=n?n.story:n)?l.socialLinks:l,{name:"each",hash:{},fn:e.program(43,s,0),inverse:e.noop,data:s}))?l:"")},43:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'        <a data-gtm-action="share:'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+'" class="share-'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+(null!=(l=t.unless.call(r,null!=n?n.nopopup:n,{name:"unless",hash:{},fn:e.program(44,s,0),inverse:e.noop,data:s}))?l:"")+'"\n          '+c("function"==typeof(i=null!=(i=t.socialSharingAttributes||(null!=n?n.socialSharingAttributes:n))?i:o)?i.call(r,{name:"socialSharingAttributes",hash:{},data:s}):i)+">\n          "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,null!=n?n.icon:n,24,"wp-neutral-2","fa-2x social-icon",{name:"iconify",hash:{},data:s}))?l:"")+"\n        </a>\n"},44:function(e,n,t,a,s){return' social-share" target="_blank'},46:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["desktop.create.works_contests"],n,{name:"desktop.create.works_contests",data:s,indent:"                ",helpers:t,partials:a,decorators:e.decorators}))?l:""},48:function(e,n,t,a,s){return"publish-edit\n                "},50:function(e,n,t,a,s){var l;return(null!=(l=t.unless.call(null!=n?n:e.nullContext||{},null!=n?n.isNew:n,{name:"unless",hash:{},fn:e.program(51,s,0),inverse:e.noop,data:s}))?l:"")+"\n                "},51:function(e,n,t,a,s){return"hidden"},53:function(e,n,t,a,s){return" has-title"},55:function(e,n,t,a,s){return"on-trigger-tooltip"},57:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["desktop.create.works_character_item"],n,{name:"desktop.create.works_character_item",hash:{readonly:!0},data:s,indent:"                                ",helpers:t,partials:a,decorators:e.decorators}))?l:""},59:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["desktop.create.works_character_item"],n,{name:"desktop.create.works_character_item",data:s,indent:"                                ",helpers:t,partials:a,decorators:e.decorators}))?l:""},61:function(e,n,t,a,s){return'                          <span data-toggle="popover" class="popover-anchor on-trigger-tooltip" id="prefilled-tag-tooltip" title="Your submission has been tagged!"></span>\n'},63:function(e,n,t,a,s){return'                      <p class="fa-wp-grey"><small>Writing something scary? Tag <a href="https://www.wattpad.com/story/204783072-thegrudgecontest">#TheGrudgeContest</a> to enter our short story contest!</small></p>\n'},65:function(e,n,t,a,s,l,i){var r;return"                        "+(null!=(r=(t.select||n&&n.select||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.id:n,null!=n?n.name:n,null!=(r=null!=(r=null!=i[1]?i[1].story:i[1])?r.categoryObject:r)?r.id:r,{name:"select",hash:{},data:s}))?r:"")+"\n"},67:function(e,n,t,a,s){return"selected"},69:function(e,n,t,a,s,l,i){var r;return"                              "+(null!=(r=(t.select||n&&n.select||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.id:n,null!=n?n.name:n,null!=(r=null!=(r=null!=i[1]?i[1].story:i[1])?r.language:r)?r.id:r,{name:"select",hash:{},data:s}))?r:"")+"\n"},71:function(e,n,t,a,s){return" checked"},73:function(e,n,t,a,s){return' disabled="disabled" '},75:function(e,n,t,a,s){return'                    <p class="rating-warning">\n                        '+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"The Wattpad community has rated your story Mature. For more info, please read Wattpad’s\n                        Content Guidelines:",{name:"trans",hash:{},data:s}))+" <a href='https://www.wattpad.com/guidelines'>https://www.wattpad.com/guidelines</a>\n                    </p>\n"},77:function(e,n,t,a,s,l,i){var r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u=e.escapeExpression;return'                    <div class="form-group status-form">\n                    <div class="form-wrapper">\n                        <label class="rating-label">'+u((t.trans||n&&n.trans||c).call(o,"Story Status",{name:"trans",hash:{},data:s}))+'</label>\n                        <span data-toggle="popover" class="popover-icon" id="story-tooltip" title="'+u((t.trans||n&&n.trans||c).call(o,"Mark as Complete",{name:"trans",hash:{},data:s}))+'">'+(null!=(r=(t.iconify||n&&n.iconify||c).call(o,"fa-info",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'</span>\n                        <span class="toggle-prompt">'+u((t.trans||n&&n.trans||c).call(o,"Complete?",{name:"trans",hash:{},data:s}))+'</span>\n                        <div class="onoffswitch">\n                        <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="complete-switch"\n                            '+(null!=(r=t.if.call(o,null!=(r=null!=n?n.story:n)?r.completed:r,{name:"if",hash:{},fn:e.program(71,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'>\n                        <label class="onoffswitch-label" for="complete-switch">\n                            <span class="onoffswitch-inner">\n                            <span class="on">'+u((t.trans||n&&n.trans||c).call(o,"ON",{name:"trans",hash:{},data:s}))+'</span>\n                            <span class="off">'+u((t.trans||n&&n.trans||c).call(o,"OFF",{name:"trans",hash:{},data:s}))+'</span>\n                            </span>\n                            <span class="onoffswitch-switch"></span>\n                        </label>\n                        </div>\n                    </div>\n                    </div>\n'},79:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'                    <div class="form-group inline-form">\n                        <div class="acknowledge-wrapper">\n                            <span class="empty-warning hidden" id="acknowledge-empty-warning">\n                                *'+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"You must complete this field to proceed",{name:"trans",hash:{},data:s}))+"\n                            </span>\n                            "+(null!=(l=(t.reactComponent||n&&n.reactComponent||r).call(i,"Acknowledge","acknowledge",{name:"reactComponent",hash:{},data:s}))?l:"")+"\n                        </div>\n                    </div>\n"},81:function(e,n,t,a,s){var l;return'            <div class="story-planner">\n              '+(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},"StoryNotes","story-notes",{name:"reactComponent",hash:{},data:s}))?l:"")+"\n            </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s,l,i){var r,o,c=null!=n?n:e.nullContext||{},u=t.helperMissing,d=e.lambda,h=e.escapeExpression;return'<div id="works-item-edit">\n  <div id="edit-controls" class="edit-profile">\n    <button class="btn btn-text on-edit-cancel">'+(null!=(r=(t.iconify||n&&n.iconify||u).call(c,"fa-left",24,{name:"iconify",hash:{},data:s}))?r:"")+'</button>\n    <div class="works-item-metadata">\n      <p class="small group-title">\n'+(null!=(r=t.if.call(c,null!=n?n.isPublish:n,{name:"if",hash:{},fn:e.program(1,s,0,l,i),inverse:e.program(3,s,0,l,i),data:s}))?r:"")+'      </p>\n      <span class="h4">'+h(d(null!=(r=null!=n?n.story:n)?r.title:r,n))+'</span>\n    </div>\n\n    <div class="actions pull-right" role="menu">\n      <img class="save-working hidden" src="/img/desktop-web/ajax-spinner-off-white.gif" />\n'+(null!=(r=t.if.call(c,null!=n?n.isPublish:n,{name:"if",hash:{},fn:e.program(11,s,0,l,i),inverse:e.program(13,s,0,l,i),data:s}))?r:"")+(null!=(r=t.if.call(c,null!=n?n.isNew:n,{name:"if",hash:{},fn:e.program(15,s,0,l,i),inverse:e.program(17,s,0,l,i),data:s}))?r:"")+'    </div>\n  </div>\n  <div id="publish-status-banner"></div>\n'+(null!=(r=t.if.call(c,null!=n?n.hasBannedImages:n,{name:"if",hash:{},fn:e.program(22,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'\n\n\n\n  <div class="container">\n    <div class="col-lg-3 col-md-3 col-sm-12" id="picture-sidebar">\n      <div class="image-placeholder '+(null!=(r=t.if.call(c,null!=n?n.isNew:n,{name:"if",hash:{},fn:e.program(24,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'" data-file-upload="drop">\n        '+h((t.connectCover||n&&n.connectCover||u).call(c,null!=(r=null!=n?n.story:n)?r.cover:r,null!=(r=null!=n?n.story:n)?r.title:r,256,"cover cover-xlg edit-cover",{name:"connectCover",hash:{},data:s}))+"\n"+(null!=(r=t.if.call(c,null!=n?n.hasBannedCover:n,{name:"if",hash:{},fn:e.program(26,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'\n        <div class="new-cover-upload'+(null!=(r=t.if.call(c,null!=n?n.showTips:n,{name:"if",hash:{},fn:e.program(28,s,0,l,i),inverse:e.noop,data:s}))?r:"")+(null!=(r=t.unless.call(c,null!=n?n.isNew:n,{name:"unless",hash:{},fn:e.program(30,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'">\n          <span class="dropdown-holder" '+(null!=(r=t.unless.call(c,null!=n?n.showTips:n,{name:"unless",hash:{},fn:e.program(32,s,0,l,i),inverse:e.noop,data:s}))?r:"")+">"+(null!=(r=(t.iconify||n&&n.iconify||u).call(c,"fa-image",60,"wp-neutral-2","fa-3x",{name:"iconify",hash:{},data:s}))?r:"")+'</span>\n          <div class="add-cover-text dropdown-holder" '+(null!=(r=t.unless.call(c,null!=n?n.showTips:n,{name:"unless",hash:{},fn:e.program(32,s,0,l,i),inverse:e.noop,data:s}))?r:"")+">"+h((t.trans||n&&n.trans||u).call(c,"Add a cover",{name:"trans",hash:{},data:s}))+'</div>\n          <div class="drop-cover-text dropdown-holder" '+(null!=(r=t.unless.call(c,null!=n?n.showTips:n,{name:"unless",hash:{},fn:e.program(32,s,0,l,i),inverse:e.noop,data:s}))?r:"")+">"+h((t.trans||n&&n.trans||u).call(c,"Drop a cover",{name:"trans",hash:{},data:s}))+'</div>\n          <div class="triangle"></div>\n          <ul id="works-more-options-'+h("function"==typeof(o=null!=(o=t.id||(null!=n?n.id:n))?o:u)?o.call(c,{name:"id",hash:{},data:s}):o)+'" class="dropdown-menu cover-edit-dropdown" role="menu">\n            <li>\n              <a class="file-select" role="button" href="#" data-toggle="modal" data-target="#worksDelete">\n                '+h((t.trans||n&&n.trans||u).call(c,"Upload Cover",{name:"trans",hash:{},data:s}))+'\n              </a>\n            </li>\n            <li>\n                <a class="list-item-no-style" role="button" href="javascript:void(0);">\n                    '+(null!=(r=(t.reactComponent||n&&n.reactComponent||u).call(c,"CanvaButton","canva-button-new",{name:"reactComponent",hash:{},data:s}))?r:"")+'\n                </a>\n            </li>\n          </ul>\n        </div>\n\n        <div id="cover-uploader" class="button-group inline-block dropdown'+(null!=(r=t.if.call(c,null!=n?n.isNew:n,{name:"if",hash:{},fn:e.program(30,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'">\n          <div class="cover-edit-prompt">\n            <div class="default-state">\n              <span class="on-cover-edit hidden" data-toggle="dropdown">Edit your cover</span>\n              <span data-toggle="dropdown">'+(null!=(r=(t.iconify||n&&n.iconify||u).call(c,"fa-edit",16,"wp-neutral-5","on-cover-edit-icon",{name:"iconify",hash:{},data:s}))?r:"")+'</span>\n              <div class="triangle"></div>\n              <ul id="works-more-options-'+h("function"==typeof(o=null!=(o=t.id||(null!=n?n.id:n))?o:u)?o.call(c,{name:"id",hash:{},data:s}):o)+'" class="dropdown-menu cover-edit-dropdown" role="menu">\n                <li>\n                  <a class="file-select" role="button" href="#" data-toggle="modal" data-target="#worksDelete">\n                    '+h((t.trans||n&&n.trans||u).call(c,"Upload Cover",{name:"trans",hash:{},data:s}))+'\n                  </a>\n                </li>\n                <li>\n                    <a class="list-item-no-style" role="button" href="javascript:void(0);">\n                        '+(null!=(r=(t.reactComponent||n&&n.reactComponent||u).call(c,"CanvaButton","canva-button-edit",{name:"reactComponent",hash:{},data:s}))?r:"")+'\n                    </a>\n                </li>\n              </ul>\n            </div>\n            <div class="drag-state">\n              <span class="on-cover-edit hidden">Drop your cover</span>\n              '+(null!=(r=(t.iconify||n&&n.iconify||u).call(c,"fa-plus",16,"wp-neutral-5","on-cover-edit-icon",{name:"iconify",hash:{},data:s}))?r:"")+'\n            </div>\n          </div>\n        </div>\n        <span class="empty-warning'+(null!=(r=t.unless.call(c,null!=n?n.needCover:n,{name:"unless",hash:{},fn:e.program(30,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'">'+h((t.trans||n&&n.trans||u).call(c,"Required",{name:"trans",hash:{},data:s}))+'</span>\n\n\n        <input accept="image/jpeg, image/png, image/gif" type="file" name="file" style="position: absolute; right: 0px; top: 0px; opacity: 0; height: 0; width: 0">\n\n'+(null!=(r=t.if.call(c,null!=n?n.isNew:n,{name:"if",hash:{},fn:e.program(34,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"      </div>\n\n"+(null!=(r=t.unless.call(c,null!=n?n.isNew:n,{name:"unless",hash:{},fn:e.program(36,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"\n"+(null!=(r=t.unless.call(c,null!=n?n.isPublish:n,{name:"unless",hash:{},fn:e.program(41,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'    </div>\n    <div class="col-lg-8 col-lg-offset-1 col-sm-12 col-md-8 col-md-offset-1" id="main-edit-container">\n      <div class="row">\n        <div id="contest-banner-container">\n'+(null!=(r=t.if.call(c,null!=n?n.isWattysEligible:n,{name:"if",hash:{},fn:e.program(46,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'        </div>\n\n        <div class="work-section">\n            '+(null!=(r=(t.reactComponent||n&&n.reactComponent||u).call(c,"WorksItemsDetailsNavBar","works-nav-bar",{name:"reactComponent",hash:{},data:s}))?r:"")+'\n\n            <form class="main-edit-form\n                '+(null!=(r=t.if.call(c,null!=n?n.isPublish:n,{name:"if",hash:{},fn:e.program(48,s,0,l,i),inverse:e.program(50,s,0,l,i),data:s}))?r:"")+'">\n\n                <div class="required-form-wrapper">\n                    <div class="form-group title-form">\n                    <label>'+h((t.trans||n&&n.trans||u).call(c,"Title",{name:"trans",hash:{},data:s}))+'</label>\n                    <span class="empty-warning'+(null!=(r=t.unless.call(c,null!=n?n.needTitle:n,{name:"unless",hash:{},fn:e.program(30,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'" id="title-warning">'+h((t.trans||n&&n.trans||u).call(c,"Required",{name:"trans",hash:{},data:s}))+'</span>\n                    <div contenteditable="true" class="story-title'+(null!=(r=t.unless.call(c,null!=n?n.isNew:n,{name:"unless",hash:{},fn:e.program(53,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'">'+h(d(null!=(r=null!=n?n.story:n)?r.title:r,n))+'</div>\n                    </div>\n\n                    <div class="form-group description-form">\n                    <div class="form-wrapper">\n                        <label>'+h((t.trans||n&&n.trans||u).call(c,"Description",{name:"trans",hash:{},data:s}))+'</label>\n                        <span data-toggle="popover" class="popover-icon" id="description-tooltip" title="'+h((t.trans||n&&n.trans||u).call(c,"Add a story description",{name:"trans",hash:{},data:s}))+'">'+(null!=(r=(t.iconify||n&&n.iconify||u).call(c,"fa-info",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'</span>\n                        <span class="empty-warning'+(null!=(r=t.unless.call(c,null!=n?n.needDescription:n,{name:"unless",hash:{},fn:e.program(30,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'" id="description-warning">'+h((t.trans||n&&n.trans||u).call(c,"Required",{name:"trans",hash:{},data:s}))+'</span>\n                    </div>\n                    <textarea type="text" name="title" class="story-description '+(null!=(r=t.if.call(c,null!=n?n.showTips:n,{name:"if",hash:{},fn:e.program(55,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'">'+h(d(null!=(r=null!=n?n.story:n)?r.description:r,n))+'</textarea>\n                    </div>\n\n                    <div class="form-group characters-form">\n                        <div class="form-wrapper">\n                            <label>'+h((t.trans||n&&n.trans||u).call(c,"Main Characters",{name:"trans",hash:{},data:s}))+'</label>\n                            <span data-toggle="popover" class="popover-icon" id="characters-tooltip" title="'+h((t.trans||n&&n.trans||u).call(c,"Who are your Main Characters?",{name:"trans",hash:{},data:s}))+'">'+(null!=(r=(t.iconify||n&&n.iconify||u).call(c,"fa-info",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'</span>\n                        </div>\n\n                        <div class="characters'+(null!=(r=t.if.call(c,null!=n?n.showTips:n,{name:"if",hash:{},fn:e.program(28,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'">\n'+(null!=(r=t.each.call(c,null!=n?n.characters:n,{name:"each",hash:{},fn:e.program(57,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"\n"+(null!=(r=(t.ifequal||n&&n.ifequal||u).call(c,null!=(r=null!=n?n.characters:n)?r.length:r,null!=n?n.charactersLimit:n,{name:"ifequal",hash:{},fn:e.noop,inverse:e.program(59,s,0,l,i),data:s}))?r:"")+'                        </div>\n                    </div>\n\n                    <div class="form-group tags-form">\n                    <div class="form-wrapper">\n                        <label>'+h((t.trans||n&&n.trans||u).call(c,"Tags",{name:"trans",hash:{},data:s}))+'</label>\n                        <span data-toggle="popover" class="popover-icon" id="tags-tooltip" title="'+h((t.trans||n&&n.trans||u).call(c,"Help readers find your story",{name:"trans",hash:{},data:s}))+'">'+(null!=(r=(t.iconify||n&&n.iconify||u).call(c,"fa-info",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'</span>\n                        <span class="empty-warning'+(null!=(r=t.unless.call(c,null!=n?n.needTag:n,{name:"unless",hash:{},fn:e.program(30,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'" id="tag-empty-warning">'+h((t.trans||n&&n.trans||u).call(c,"Required",{name:"trans",hash:{},data:s}))+'</span>\n                    </div>\n                    <div class="tag-container'+(null!=(r=t.if.call(c,null!=n?n.showTips:n,{name:"if",hash:{},fn:e.program(28,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'">\n'+(null!=(r=t.if.call(c,null!=n?n.prefilledTag:n,{name:"if",hash:{},fn:e.program(61,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'                        <div id="editable-tags" style="margin-bottom: 5px;">\n'+(null!=(r=e.invokePartial(a["desktop.create.works_item_editable_tag"],n,{name:"desktop.create.works_item_editable_tag",data:s,indent:"                        ",helpers:t,partials:a,decorators:e.decorators}))?r:"")+'                        </div>\n                        <div id="add-tag" class="tag-item with-icon on-add-tag">\n                        <span>'+h((t.trans||n&&n.trans||u).call(c,"Add a tag",{name:"trans",hash:{},data:s}))+"</span>"+(null!=(r=(t.iconify||n&&n.iconify||u).call(c,"fa-plus",12,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?r:"")+'\n                        </div>\n                        <span id="tag-input-wrapper">\n                        <input id="tag-input" class="hidden on-tag-input" placeholder="'+h((t.trans||n&&n.trans||u).call(c,"Separate tags with a space",{name:"trans",hash:{},data:s}))+'"\n                            autocomplete="off" />\n                        </span>\n                    </div>\n'+(null!=(r=t.if.call(c,(t.isTestGroup||n&&n.isTestGroup||u).call(c,"CONTEST_TAG",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(63,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'                    </div>\n\n                    <div class="form-group inline-form">\n                    <div class="form-wrapper">\n                        <label for="categoryselect">'+h((t.trans||n&&n.trans||u).call(c,"Genre",{name:"trans",hash:{},data:s}))+'</label>\n                        <span data-toggle="popover" class="popover-icon" id="category-tooltip" title="'+h((t.trans||n&&n.trans||u).call(c,"Tell Wattpad the genre of your story",{name:"trans",hash:{},data:s}))+'">'+(null!=(r=(t.iconify||n&&n.iconify||u).call(c,"fa-info",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'</span>\n                        <select id="categoryselect" class="form-control '+(null!=(r=t.if.call(c,null!=n?n.showTips:n,{name:"if",hash:{},fn:e.program(55,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'">\n                        <option value="-1">'+h((t.trans||n&&n.trans||u).call(c,"Select a genre",{name:"trans",hash:{},data:s}))+"</option>\n"+(null!=(r=t.each.call(c,null!=(r=null!=n?n.story:n)?r.categories:r,{name:"each",hash:{},fn:e.program(65,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'                        </select>\n                        <span class="empty-warning'+(null!=(r=t.unless.call(c,null!=n?n.needCategory:n,{name:"unless",hash:{},fn:e.program(30,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'" id="category-empty-warning">'+h((t.trans||n&&n.trans||u).call(c,"Required",{name:"trans",hash:{},data:s}))+'</span>\n                    </div>\n                    </div>\n                </div>\n\n                <div class="form-group target-audience-form">\n                    <div class="form-wrapper">\n                    <label for="target-audience">'+h((t.trans||n&&n.trans||u).call(c,"Target Audience",{name:"trans",hash:{},data:s}))+'</label>\n                    <span data-toggle="popover" class="popover-icon" id="target-audience-tooltip" title="'+h((t.trans||n&&n.trans||u).call(c,"Who is this story for?",{name:"trans",hash:{},data:s}))+'">\n                        '+(null!=(r=(t.iconify||n&&n.iconify||u).call(c,"fa-info",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'\n                    </span>\n                    <select id="target-audience" class="form-control '+(null!=(r=t.if.call(c,null!=n?n.showTips:n,{name:"if",hash:{},fn:e.program(55,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'">\n                        <option selected="true" disabled="disabled">'+h((t.trans||n&&n.trans||u).call(c,"Who is your primary audience?",{name:"trans",hash:{},data:s}))+'</option>\n                        <option value="8-13" '+(null!=(r=(t.ifequal||n&&n.ifequal||u).call(c,null!=n?n.targetAudience:n,"8-13",{name:"ifequal",hash:{},fn:e.program(67,s,0,l,i),inverse:e.noop,data:s}))?r:"")+">"+h((t.trans||n&&n.trans||u).call(c,"Middle Grade (8-13 years of age)",{name:"trans",hash:{},data:s}))+'</option>\n                        <option value="13-18" '+(null!=(r=(t.ifequal||n&&n.ifequal||u).call(c,null!=n?n.targetAudience:n,"13-18",{name:"ifequal",hash:{},fn:e.program(67,s,0,l,i),inverse:e.noop,data:s}))?r:"")+">"+h((t.trans||n&&n.trans||u).call(c,"Young Adult (13-18 years of age)",{name:"trans",hash:{},data:s}))+'</option>\n                        <option value="18-25" '+(null!=(r=(t.ifequal||n&&n.ifequal||u).call(c,null!=n?n.targetAudience:n,"18-25",{name:"ifequal",hash:{},fn:e.program(67,s,0,l,i),inverse:e.noop,data:s}))?r:"")+">"+h((t.trans||n&&n.trans||u).call(c,"New Adult (18-25 years of age)",{name:"trans",hash:{},data:s}))+'</option>\n                        <option value="25+" '+(null!=(r=(t.ifequal||n&&n.ifequal||u).call(c,null!=n?n.targetAudience:n,"25+",{name:"ifequal",hash:{},fn:e.program(67,s,0,l,i),inverse:e.noop,data:s}))?r:"")+">"+h((t.trans||n&&n.trans||u).call(c,"Adult (25+ years of age)",{name:"trans",hash:{},data:s}))+'</option>\n                    </select>\n                    </div>\n                </div>\n\n                <div class="inline-form-wrapper">\n                    <div class="form-group language-form">\n                        <div class="form-wrapper">\n                          <label>'+h((t.trans||n&&n.trans||u).call(c,"Language",{name:"trans",hash:{},data:s}))+'</label>\n                          <span data-toggle="popover" class="popover-icon" id="language-tooltip" title="'+h((t.trans||n&&n.trans||u).call(c,"What language is your story in?",{name:"trans",hash:{},data:s}))+'">'+(null!=(r=(t.iconify||n&&n.iconify||u).call(c,"fa-info",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'</span>\n                          <select id="languageselect" class="form-control '+(null!=(r=t.if.call(c,null!=n?n.showTips:n,{name:"if",hash:{},fn:e.program(55,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'">\n'+(null!=(r=t.each.call(c,null!=(r=null!=n?n.story:n)?r.languages:r,{name:"each",hash:{},fn:e.program(69,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'                          </select>\n                        </div>\n                    </div>\n                    <div class="form-group copyright-form">\n                      <div class="form-wrapper">\n                        '+(null!=(r=(t.reactComponent||n&&n.reactComponent||u).call(c,"Copyright","copyright",{name:"reactComponent",hash:{},data:s}))?r:"")+'\n                      </div>\n                    </div>\n\n                    <div class="form-group rating-form">\n                    <div class="form-wrapper">\n                        <label class="rating-label">'+h((t.trans||n&&n.trans||u).call(c,"Rating",{name:"trans",hash:{},data:s}))+'</label>\n                        <span data-toggle="popover" class="popover-icon" id="rating-tooltip" title="'+h((t.trans||n&&n.trans||u).call(c,"Rate your story",{name:"trans",hash:{},data:s}))+'">'+(null!=(r=(t.iconify||n&&n.iconify||u).call(c,"fa-info",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'</span>\n                        <span class="toggle-prompt">'+h((t.trans||n&&n.trans||u).call(c,"Mature",{name:"trans",hash:{},data:s}))+'</span>\n                        <div class="onoffswitch '+(null!=(r=t.if.call(c,null!=n?n.showTips:n,{name:"if",hash:{},fn:e.program(55,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'">\n                        <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="mature-switch"\n                            '+(null!=(r=t.if.call(c,null!=(r=null!=n?n.story:n)?r.mature:r,{name:"if",hash:{},fn:e.program(71,s,0,l,i),inverse:e.noop,data:s}))?r:"")+" "+(null!=(r=t.if.call(c,null!=(r=null!=n?n.story:n)?r.ratingLocked:r,{name:"if",hash:{},fn:e.program(73,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'>\n                        <label class="onoffswitch-label" for="mature-switch">\n                            <div class="onoffswitch-inner">\n                            <span class="on">'+h((t.trans||n&&n.trans||u).call(c,"ON",{name:"trans",hash:{},data:s}))+'</span>\n                            <span class="off">'+h((t.trans||n&&n.trans||u).call(c,"OFF",{name:"trans",hash:{},data:s}))+'</span>\n                            </div>\n                            <span class="onoffswitch-switch"></span>\n                        </label>\n                        </div>\n                    </div>\n\n                    <p class="rating-warning everyone'+(null!=(r=t.unless.call(c,null!=(r=null!=n?n.story:n)?r.everyone:r,{name:"unless",hash:{},fn:e.program(30,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'">\n                        '+h((t.trans||n&&n.trans||u).call(c,"Your story is appropriate for all audiences. The Wattpad community has the ability to rate\n                        your story Mature. For more info, please read Wattpad’s Content Guidelines:",{name:"trans",hash:{},data:s}))+" <a href='https://www.wattpad.com/guidelines'>https://www.wattpad.com/guidelines</a>\n                    </p>\n                    <p class=\"rating-warning writerMature"+(null!=(r=t.unless.call(c,null!=(r=null!=n?n.story:n)?r.writerMature:r,{name:"unless",hash:{},fn:e.program(30,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'">\n                        '+h((t.trans||n&&n.trans||u).call(c,"Your story contains graphic depictions of violence, sexuality, strong language, and/or other\n                        mature themes. For more info, please read Wattpad’s Content Guidelines:",{name:"trans",hash:{},data:s}))+" <a href='https://www.wattpad.com/guidelines'>https://www.wattpad.com/guidelines</a>\n                    </p>\n"+(null!=(r=t.if.call(c,null!=n?n.communityMature:n,{name:"if",hash:{},fn:e.program(75,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"                    </div>\n\n"+(null!=(r=t.unless.call(c,null!=n?n.isNew:n,{name:"unless",hash:{},fn:e.program(77,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"\n"+(null!=(r=t.if.call(c,null!=n?n.showAcknowledgeOriginalWorks:n,{name:"if",hash:{},fn:e.program(79,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'                </div>\n            </form>\n\n            <div class="table-of-contents '+(null!=(r=t.if.call(c,null!=n?n.isNew:n,{name:"if",hash:{},fn:e.program(51,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'">\n'+(null!=(r=e.invokePartial(a["desktop.create.works_table_of_contents"],n,{name:"desktop.create.works_table_of_contents",data:s,indent:"            ",helpers:t,partials:a,decorators:e.decorators}))?r:"")+"            </div>\n\n"+(null!=(r=t.if.call(c,(t.isTestGroup||n&&n.isTestGroup||u).call(c,"STORY_PLANNER",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(81,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'\n        </div>\n\n      </div>\n\n    </div>\n\n  </div>\n  <div id="details-modal" class="modal fade" role="dialog">\n    <div class="modal-dialog">\n      <div class="modal-content">\n        <div class="modal-header">\n          <span class="close pull-right" data-dismiss="modal">'+(null!=(r=(t.iconify||n&&n.iconify||u).call(c,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'</span>\n          <span class="sr-only">'+h((t.trans||n&&n.trans||u).call(c,"Close",{name:"trans",hash:{},data:s}))+'</span>\n\n          <div class="modal-title delete-part-modal hidden">'+h((t.trans||n&&n.trans||u).call(c,"Confirm Part Delete",{name:"trans",hash:{},data:s}))+'</div>\n          <div class="modal-title delete-published-part-modal hidden">'+h((t.trans||n&&n.trans||u).call(c,"Delete Part?",{name:"trans",hash:{},data:s}))+'</div>\n          <div class="modal-title unpublish-part-modal hidden">'+h((t.trans||n&&n.trans||u).call(c,"Unpublish Part?",{name:"trans",hash:{},data:s}))+'</div>\n          <div class="modal-title unpublish-story-modal hidden">'+h((t.trans||n&&n.trans||u).call(c,"Unpublish Story?",{name:"trans",hash:{},data:s}))+'</div>\n          <div class="modal-title delete-story-modal hidden">'+h((t.trans||n&&n.trans||u).call(c,"Confirm Story Delete",{name:"trans",hash:{},data:s}))+'</div>\n          <div class="modal-title delete-published-story-modal hidden">'+h((t.trans||n&&n.trans||u).call(c,"Delete Story?",{name:"trans",hash:{},data:s}))+'</div>\n        </div>\n        <div class="modal-body">\n'+(null!=(r=e.invokePartial(a["desktop.components.modal.share_embed"],n,{name:"desktop.components.modal.share_embed",data:s,indent:"          ",helpers:t,partials:a,decorators:e.decorators}))?r:"")+'          <iframe id="stats-modal" frameborder="0" class="hidden" data-href="/dialog/story_stats?groupid='+h(d(null!=(r=null!=n?n.story:n)?r.id:r,n))+'&load-font=1"></iframe>\n\n          <div class="hidden warning delete-published-story-modal delete-story-modal delete-published-part-modal delete-part-modal">\n            '+h((t.trans||n&&n.trans||u).call(c,"WARNING: This cannot be undone.",{name:"trans",hash:{},data:s}))+'\n          </div>\n\n          <div class="hidden question-modal unpublish-part-modal">\n            <div class="prompt">\n              '+h((t.trans||n&&n.trans||u).call(c,"Draft stories can't be seen by other members of Wattpad, so they don't get any new reads, votes, or comments.",{name:"trans",hash:{},data:s}))+'\n            </div>\n\n            <div class="action-buttons two-btns">\n              <button class="btn btn-long btn-teal on-do-unpublish-part">'+h((t.trans||n&&n.trans||u).call(c,"Unpublish",{name:"trans",hash:{},data:s}))+'</button>\n              <button class="btn btn-short btn-grey" data-dismiss="modal">'+h((t.trans||n&&n.trans||u).call(c,"Cancel",{name:"trans",hash:{},data:s}))+'</button>\n            </div>\n          </div>\n\n          <div class="hidden question-modal delete-published-part-modal">\n            <div class="prompt">\n              '+(null!=(r=(t.trans||n&&n.trans||u).call(c,"If you're unsure, it's better to <strong>unpublish</strong> your part. Unpublished parts can only be seen by you, so they don't get any new reads, votes, or comments.",{name:"trans",hash:{},data:s}))?r:"")+'\n            </div>\n            <div class="action-buttons">\n              <button class="btn btn-red on-delete-part">'+h((t.trans||n&&n.trans||u).call(c,"Delete",{name:"trans",hash:{},data:s}))+'</button>\n              <button class="btn btn-teal on-do-unpublish-part">'+h((t.trans||n&&n.trans||u).call(c,"Unpublish",{name:"trans",hash:{},data:s}))+'</button>\n              <button class="btn btn-grey" data-dismiss="modal">'+h((t.trans||n&&n.trans||u).call(c,"Cancel",{name:"trans",hash:{},data:s}))+'</button>\n            </div>\n          </div>\n\n          <div class="hidden question-modal delete-part-modal">\n            <div class="prompt">\n              <div>'+(null!=(r=(t.trans||n&&n.trans||u).call(c,"All <strong>reads</strong> for this part will be <strong>deleted</strong>.",{name:"trans",hash:{},data:s}))?r:"")+"</div>\n              <div>"+(null!=(r=(t.trans||n&&n.trans||u).call(c,"All <strong>votes</strong> for this part will be <strong>deleted</strong>.",{name:"trans",hash:{},data:s}))?r:"")+"</div>\n              <div>"+(null!=(r=(t.trans||n&&n.trans||u).call(c,"All <strong>comments</strong> for this part will be <strong>deleted</strong>.",{name:"trans",hash:{},data:s}))?r:"")+'</div>\n            </div>\n            <div class="action-buttons two-btns">\n              <button class="btn btn-long btn-red on-do-delete-part">'+h((t.trans||n&&n.trans||u).call(c,"Delete Forever",{name:"trans",hash:{},data:s}))+'</button>\n              <button class="btn btn-short btn-grey" data-dismiss="modal">'+h((t.trans||n&&n.trans||u).call(c,"Cancel",{name:"trans",hash:{},data:s}))+'</button>\n            </div>\n          </div>\n\n          <div class="hidden question-modal unpublish-story-modal">\n            <div class="prompt">\n              '+h((t.trans||n&&n.trans||u).call(c,"Draft stories can't be seen by other members of Wattpad, so they don't get any new reads, votes, or comments.",{name:"trans",hash:{},data:s}))+'\n            </div>\n            <div class="action-buttons two-btns">\n              <button class="btn btn-long btn-teal on-do-unpublish-story cta">'+h((t.trans||n&&n.trans||u).call(c,"Unpublish",{name:"trans",hash:{},data:s}))+'</button>\n              <button class="btn btn-short btn-grey" data-dismiss="modal">'+h((t.trans||n&&n.trans||u).call(c,"Cancel",{name:"trans",hash:{},data:s}))+'</button>\n            </div>\n\n            <div id="working-wrapper" class="hidden">\n              <div id="unpublish-working">'+h((t.trans||n&&n.trans||u).call(c,"Working",{name:"trans",hash:{},data:s}))+' &hellip;</div>\n              <div class="progress">\n                <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="0" aria-valuemin="0"\n                  aria-valuemax="100" style="width: 0%;"></div>\n              </div>\n            </div>\n          </div>\n\n          <div class="hidden question-modal delete-published-story-modal">\n            <div class="prompt">\n              '+(null!=(r=(t.trans||n&&n.trans||u).call(c,"If you're unsure, it's better to <strong>unpublish</strong> your story. Unpublished stories can only be seen by you, so they don't get any new reads, votes, or comments.",{name:"trans",hash:{},data:s}))?r:"")+'\n            </div>\n            <div class="action-buttons">\n              <button class="btn btn-red on-delete-story">'+h((t.trans||n&&n.trans||u).call(c,"Delete",{name:"trans",hash:{},data:s}))+'</button>\n              <button class="btn btn-teal on-unpublish-story">'+h((t.trans||n&&n.trans||u).call(c,"Unpublish",{name:"trans",hash:{},data:s}))+'</button>\n              <button class="btn btn-grey" data-dismiss="modal">'+h((t.trans||n&&n.trans||u).call(c,"Cancel",{name:"trans",hash:{},data:s}))+'</button>\n            </div>\n          </div>\n\n          <div class="hidden question-modal delete-story-modal">\n            <div class="prompt">\n              <div>'+(null!=(r=(t.trans||n&&n.trans||u).call(c,"All <strong>parts</strong> for this story will be <strong>deleted</strong>.",{name:"trans",hash:{},data:s}))?r:"")+"</div>\n              <div>"+(null!=(r=(t.trans||n&&n.trans||u).call(c,"All <strong>reads</strong> for this story will be <strong>deleted</strong>.",{name:"trans",hash:{},data:s}))?r:"")+"</div>\n              <div>"+(null!=(r=(t.trans||n&&n.trans||u).call(c,"All <strong>votes</strong> for this story will be <strong>deleted</strong>.",{name:"trans",hash:{},data:s}))?r:"")+"</div>\n              <div>"+(null!=(r=(t.trans||n&&n.trans||u).call(c,"All <strong>comments</strong> for this story will be <strong>deleted</strong>.",{name:"trans",hash:{},data:s}))?r:"")+'</div>\n            </div>\n\n            <form id="delete-story-form">\n              <div class="hidden alert alert-danger" role="alert">\n                '+(null!=(r=(t.iconify||n&&n.iconify||u).call(c,"fa-warning",16,"wp-error-1",{name:"iconify",hash:{},data:s}))?r:"")+" <div>"+h((t.trans||n&&n.trans||u).call(c,"Please correct the following",{name:"trans",hash:{},data:s}))+'</div>\n                <ul class="messages"></ul>\n              </div>\n\n              <div class="form-group">\n                <input id="username" class="form-control input-lg enable" type="text" autocomplete="off" autocorrect="off"\n                  autocapitalize="off" placeholder="'+h((t.trans||n&&n.trans||u).call(c,"Username",{name:"trans",hash:{},data:s}))+'">\n              </div>\n              <div class="form-group last">\n                <input id="confirm-username" class="form-control input-lg enable" type="text" autocomplete="off"\n                  autocorrect="off" autocapitalize="off" placeholder="'+h((t.trans||n&&n.trans||u).call(c,"Confirm Username",{name:"trans",hash:{},data:s}))+'">\n              </div>\n\n              <div class="action-buttons two-btns">\n                <input type="submit" class="btn btn-long btn-red" value="'+h((t.trans||n&&n.trans||u).call(c,"Delete Forever",{name:"trans",hash:{},data:s}))+'">\n                <button class="btn btn-short btn-grey" data-dismiss="modal">'+h((t.trans||n&&n.trans||u).call(c,"Cancel",{name:"trans",hash:{},data:s}))+"</button>\n              </div>\n            </form>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"},usePartial:!0,useData:!0,useDepths:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s,l,i){var r;return null!=(r=t.unless.call(null!=n?n:e.nullContext||{},null!=n?n.isPublish:n,{name:"unless",hash:{},fn:e.program(2,s,0,l,i),inverse:e.noop,data:s}))?r:""},2:function(e,n,t,a,s,l,i){var r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u=e.escapeExpression;return'    <div class="works-item-toc">\n      <h4 class="vcenter hidden">'+u((t.trans||n&&n.trans||c).call(o,"Table of Contents",{name:"trans",hash:{},data:s}))+'</h4>\n      <button class="btn btn-orange on-new-part">+ '+u((t.trans||n&&n.trans||c).call(o,"New Part",{name:"trans",hash:{},data:s}))+'</button>\n\n      <div class="parts-list text-left" data-drag="true">\n'+(null!=(r=t.each.call(o,null!=(r=null!=n?n.story:n)?r.parts:r,{name:"each",hash:{},fn:e.program(3,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"      </div>\n    </div>\n"},3:function(e,n,t,a,s,l,i){var r,o,c,u=null!=n?n:e.nullContext||{},d=t.helperMissing,h="function",p=e.escapeExpression,m=t.blockHelperMissing,f='          <div class="story-part" data-id="'+p(typeof(o=null!=(o=t.id||(null!=n?n.id:n))?o:d)===h?o.call(u,{name:"id",hash:{},data:s}):o)+'">\n            <div class="drag-handle vcenter">\n              '+(null!=(r=(t.iconify||n&&n.iconify||d).call(u,"fa-menu",28,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'\n            </div>\n            <div class="part-meta vcenter">\n              <div class="part-name col-xs-12">              \n'+(null!=(r=t.if.call(u,null!=n?n.hasBannedImages:n,{name:"if",hash:{},fn:e.program(4,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'                <a href="/myworks/'+p(e.lambda(null!=(r=null!=i[1]?i[1].story:i[1])?r.id:r,n))+"/write/"+p(typeof(o=null!=(o=t.id||(null!=n?n.id:n))?o:d)===h?o.call(u,{name:"id",hash:{},data:s}):o)+'"\n                   class="auto-shorten on-navigate">'+p(typeof(o=null!=(o=t.title||(null!=n?n.title:n))?o:d)===h?o.call(u,{name:"title",hash:{},data:s}):o)+'</a>\n              </div>\n              <div class="part-detail">\n                <div class="col-xs-10 col-sm-5">\n                    <span class="publish-state';return o=null!=(o=t.draft||(null!=n?n.draft:n))?o:d,c={name:"draft",hash:{},fn:e.noop,inverse:e.program(6,s,0,l,i),data:s},r=typeof o===h?o.call(u,c):o,t.draft||(r=m.call(n,r,c)),null!=r&&(f+=r),o=null!=(o=t.deleted||(null!=n?n.deleted:n))?o:d,c={name:"deleted",hash:{},fn:e.program(8,s,0,l,i),inverse:e.noop,data:s},r=typeof o===h?o.call(u,c):o,t.deleted||(r=m.call(n,r,c)),null!=r&&(f+=r),f+=' ">\n'+(null!=(r=t.if.call(u,null!=n?n.deleted:n,{name:"if",hash:{},fn:e.program(10,s,0,l,i),inverse:e.program(12,s,0,l,i),data:s}))?r:"")+"                    </span>\n                  <span> - "+p((t.formatDate||n&&n.formatDate||d).call(u,null!=n?n.modifyDate:n,"MMM DD, YYYY",{name:"formatDate",hash:{},data:s}))+'</span>\n                </div>\n                <div class="col-xs-10 col-sm-5">\n',o=null!=(o=t.stats||(null!=n?n.stats:n))?o:d,c={name:"stats",hash:{},fn:e.program(17,s,0,l,i),inverse:e.noop,data:s},r=typeof o===h?o.call(u,c):o,t.stats||(r=m.call(n,r,c)),null!=r&&(f+=r),o=null!=(o=t.stats||(null!=n?n.stats:n))?o:d,c={name:"stats",hash:{},fn:e.noop,inverse:e.program(19,s,0,l,i),data:s},r=typeof o===h?o.call(u,c):o,t.stats||(r=m.call(n,r,c)),null!=r&&(f+=r),f+='                </div>\n              </div>\n            </div>\n            <div class="button-group vcenter dropdown">\n              <button class="btn btn-white dropdown-toggle" data-toggle="dropdown" role="button" aria-controls="profile-more-options-'+p(typeof(o=null!=(o=t.id||(null!=n?n.id:n))?o:d)===h?o.call(u,{name:"id",hash:{},data:s}):o)+'" aria-expanded="false" aria-label="'+p((t.trans||n&&n.trans||d).call(u,"More options",{name:"trans",hash:{},data:s}))+" "+p((t.trans||n&&n.trans||d).call(u,"button",{name:"trans",hash:{},data:s}))+'." aria-hidden="true">'+(null!=(r=(t.iconify||n&&n.iconify||d).call(u,"fa-more",18,"wp-neutral-2","fa-l",{name:"iconify",hash:{},data:s}))?r:"")+'</button>\n              <div class="triangle"></div>\n              <ul id="works-more-options-'+p(typeof(o=null!=(o=t.id||(null!=n?n.id:n))?o:d)===h?o.call(u,{name:"id",hash:{},data:s}):o)+'" class="dropdown-menu align-right"\n                  role="menu">\n                <li>\n                  <a target="_blank" href="'+p((t.formatStoryUrl||n&&n.formatStoryUrl||d).call(u,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'" data-url="'+p((t.formatStoryUrl||n&&n.formatStoryUrl||d).call(u,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'"\n                     class="on-view-as-reader" data-id="'+p(typeof(o=null!=(o=t.id||(null!=n?n.id:n))?o:d)===h?o.call(u,{name:"id",hash:{},data:s}):o)+'" data-attr="wid-toc">\n                    '+(null!=(r=(t.ifequal||n&&n.ifequal||d).call(u,null!=i[1]?i[1].lang:i[1],"en",{name:"ifequal",hash:{},fn:e.program(21,s,0,l,i),inverse:e.program(23,s,0,l,i),data:s}))?r:"")+"\n                  </a>\n                </li>\n                <li>\n"+(null!=(r=t.unless.call(u,null!=n?n.draft:n,{name:"unless",hash:{},fn:e.program(25,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"                </li>\n",o=null!=(o=t.draft||(null!=n?n.draft:n))?o:d,c={name:"draft",hash:{},fn:e.noop,inverse:e.program(27,s,0,l,i),data:s},r=typeof o===h?o.call(u,c):o,t.draft||(r=m.call(n,r,c)),null!=r&&(f+=r),o=null!=(o=t.draft||(null!=n?n.draft:n))?o:d,c={name:"draft",hash:{},fn:e.program(29,s,0,l,i),inverse:e.noop,data:s},r=typeof o===h?o.call(u,c):o,t.draft||(r=m.call(n,r,c)),null!=r&&(f+=r),f+"              </ul>\n            </div>\n          </div>\n"},4:function(e,n,t,a,s){var l;return"                    "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-image-warning",18,"wp-warning-01",{name:"iconify",hash:{},data:s}))?l:"")+"\n"},6:function(e,n,t,a,s){return" published"},8:function(e,n,t,a,s){return" deleted"},10:function(e,n,t,a,s){return"                        "+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Deleted",{name:"trans",hash:{},data:s}))+"\n"},12:function(e,n,t,a,s){var l,i,r,o="";return i=null!=(i=t.draft||(null!=n?n.draft:n))?i:t.helperMissing,r={name:"draft",hash:{},fn:e.program(13,s,0),inverse:e.program(15,s,0),data:s},l="function"==typeof i?i.call(null!=n?n:e.nullContext||{},r):i,t.draft||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(o+=l),o},13:function(e,n,t,a,s){return"                          "+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Draft",{name:"trans",hash:{},data:s}))+"\n"},15:function(e,n,t,a,s){return"                          "+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Published",{name:"trans",hash:{},data:s}))+"\n"},17:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'                    <div class="meta">\n                      <div class="col-xs-4">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-view",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.count||n&&n.count||r).call(i,null!=n?n.readCount:n,{name:"count",hash:{},data:s}))+'</div>\n                      <div class="col-xs-4">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-vote",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.count||n&&n.count||r).call(i,null!=n?n.voteCount:n,{name:"count",hash:{},data:s}))+'</div>\n                      <div class="col-xs-4">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-comment",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.count||n&&n.count||r).call(i,null!=n?n.commentCount:n,{name:"count",hash:{},data:s}))+"\n                      </div>\n                    </div>\n"},19:function(e,n,t,a,s){return'                    <div class="no-stats">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"no stats available",{name:"trans",hash:{},data:s}))+"</div>\n"},21:function(e,n,t,a,s){return e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"View as reader",{name:"trans",hash:{},data:s}))},23:function(e,n,t,a,s){return e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Preview",{name:"trans",hash:{},data:s}))},25:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'                    <a role="button" href="" data-toggle="modal"\n                       class="on-unpublish-part"\n                       data-target="#details-modal"\n                       data-id="'+o("function"==typeof(l=null!=(l=t.id||(null!=n?n.id:n))?l:r)?l.call(i,{name:"id",hash:{},data:s}):l)+'">'+o((t.trans||n&&n.trans||r).call(i,"Unpublish",{name:"trans",hash:{},data:s}))+"</a>\n"},27:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'                  <li>\n                    <a role="button" href="" data-toggle="modal"\n                       data-target="#details-modal"\n                       class="on-delete-published-part" data-id="'+o("function"==typeof(l=null!=(l=t.id||(null!=n?n.id:n))?l:r)?l.call(i,{name:"id",hash:{},data:s}):l)+'">\n                      '+o((t.trans||n&&n.trans||r).call(i,"Delete Part",{name:"trans",hash:{},data:s}))+"\n                    </a>\n                  </li>\n"},29:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'                  <li>\n                    <a role="button" href="" data-toggle="modal"\n                       data-target="#details-modal"\n                       class="on-delete-part" data-id="'+o("function"==typeof(l=null!=(l=t.id||(null!=n?n.id:n))?l:r)?l.call(i,{name:"id",hash:{},data:s}):l)+'">\n                      '+o((t.trans||n&&n.trans||r).call(i,"Delete Part",{name:"trans",hash:{},data:s}))+"\n                    </a>\n                  </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s,l,i){var r;return null!=(r=t.unless.call(null!=n?n:e.nullContext||{},null!=n?n.isNew:n,{name:"unless",hash:{},fn:e.program(1,s,0,l,i),inverse:e.noop,data:s}))?r:""},useData:!0,useDepths:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return"              <p>"+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(i,"Your story can be found here",{name:"trans",hash:{},data:s}))+'</p>\n              <div class="taglist">\n'+(null!=(l=t.each.call(i,null!=(l=null!=n?n.group:n)?l.tags:l,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+"              </div>\n"},2:function(e,n,t,a,s){var l=e.lambda,i=e.escapeExpression;return'                  <span class="tag"><a href="/stories/'+i(l(n,n))+'">#'+i(l(n,n))+"</a> </span>\n"},4:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return"              <p>"+o((t.trans||n&&n.trans||r).call(i,"Get your story discovered!",{name:"trans",hash:{},data:s}))+'</p><a href="'+o(e.lambda(null!=(l=null!=n?n.group:n)?l.url:l,n))+'">'+o((t.trans||n&&n.trans||r).call(i,"Add tags to your story.",{name:"trans",hash:{},data:s}))+"</a>\n"},6:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'        <div class="info col-xs-12">\n          <h4 class="title">'+o((t.trans||n&&n.trans||r).call(i,"Share what's great about your story",{name:"trans",hash:{},data:s}))+'</h4>\n          <div class="content">\n            <div class="message-wrapper">\n              <input class="broadcast-message" placeholder="'+o((t.trans||n&&n.trans||r).call(i,"Write a message...",{name:"trans",hash:{},data:s}))+'">\n              <button class="btn btn-orange on-post-message">'+o((t.trans||n&&n.trans||r).call(i,"Post",{name:"trans",hash:{},data:s}))+'</button>\n            </div>\n            <div class="message-info">'+o((t.trans||n&&n.trans||r).call(i,"This will post to your profile and notify your followers",{name:"trans",hash:{},data:s}))+'</div>\n            <a class="on-navigate profile-link hidden" href="/user/'+o("function"==typeof(l=null!=(l=t.username||(null!=n?n.username:n))?l:r)?l.call(i,{name:"username",hash:{},data:s}):l)+'/conversations">'+o((t.trans||n&&n.trans||r).call(i,"View on your profile",{name:"trans",hash:{},data:s}))+"</a>\n          </div>\n        </div>\n"},8:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'            <a data-gtm-action="share:'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+'" class="share-'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+(null!=(l=t.unless.call(r,null!=n?n.nopopup:n,{name:"unless",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?l:"")+'" '+c("function"==typeof(i=null!=(i=t.socialSharingAttributes||(null!=n?n.socialSharingAttributes:n))?i:o)?i.call(r,{name:"socialSharingAttributes",hash:{},data:s}):i)+">"+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,null!=n?n.icon:n,18,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+"</a>\n"},9:function(e,n,t,a,s){return' social-share" target="_blank'},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div class="modal-dialog" id="generic-modal">\n  <div class="modal-content">\n    <header class="modal-header">\n      <h2 class="modal-title text-center">'+c((t.trans||n&&n.trans||o).call(r,"Congratulations!",{name:"trans",hash:{},data:s}))+'</h1>\n      <div class="close" data-dismiss="modal">\n        '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n      </div>\n    </header>\n    <div class="modal-body clearfix">\n      <div class="col-xs-4">\n        <a href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'" class="on-story-details cover pull-left on-cover">\n          <img src="'+c((t.resizeCover||n&&n.resizeCover||o).call(r,null!=(l=null!=n?n.group:n)?l.cover:l,150,{name:"resizeCover",hash:{},data:s}))+'" alt="'+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+'">\n        </a>\n      </div>\n      <div class="col-xs-8">\n        <div class="info col-xs-12">\n          <h4 class="title">'+c((t.trans||n&&n.trans||o).call(r,"You just published %s",null!=n?n.title:n,{name:"trans",hash:{},data:s}))+'!</h4>\n          <div class="content">\n'+(null!=(l=t.if.call(r,null!=(l=null!=n?n.group:n)?l.tags:l,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?l:"")+"          </div>\n        </div>\n\n"+(null!=(l=t.if.call(r,null!=n?n.showBroadcastMessaging:n,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?l:"")+'\n        <h4 class="title">'+c((t.trans||n&&n.trans||o).call(r,"Share and get discovered:",{name:"trans",hash:{},data:s}))+'</h4>\n        <div class="social-share-links">\n'+(null!=(l=t.each.call(r,null!=n?n.links:n,{name:"each",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?l:"")+"        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.component:n,null!=n?n.componentId:n,{name:"reactComponent",hash:{},data:s}))?l:"")+"\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'  <li id="'+c("function"==typeof(i=null!=(i=t.itemId||(null!=n?n.itemId:n))?i:o)?i.call(r,{name:"itemId",hash:{},data:s}):i)+'" class="autocomplete-item">\n    <a href="/search/'+c((t.urlEncodeWithSpace||n&&n.urlEncodeWithSpace||o).call(r,null!=n?n.term:n,{name:"urlEncodeWithSpace",hash:{},data:s}))+'" class="on-autocomplete-item">\n      '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-search",13,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+'\n      <span class="term">'+c("function"==typeof(i=null!=(i=t.term||(null!=n?n.term:n))?i:o)?i.call(r,{name:"term",hash:{},data:s}):i)+"</span>\n    </a>\n  </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.results:n,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return' class="hidden"'},3:function(e,n,t,a,s){return"/home"},5:function(e,n,t,a,s){var l,i,r,o="/";return i=null!=(i=t.nextUrl||(null!=n?n.nextUrl:n))?i:t.helperMissing,r={name:"nextUrl",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(null!=n?n:e.nullContext||{},r):i,t.nextUrl||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(o+=l),o},6:function(e,n,t,a,s){return"?nextUrl="+e.escapeExpression(e.lambda(n,n))},8:function(e,n,t,a,s){var l;return'  <div id="go-premium-button">\n   '+(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},"TryPremium","header",{name:"reactComponent",hash:{},data:s}))?l:"")+"\n  </div>\n"},10:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'  <div id="profile-dropdown" class="button-group dropdown" role="menu" aria-label="'+o((t.trans||n&&n.trans||r).call(i,"User",{name:"trans",hash:{},data:s}))+'">\n    \n\n    <a href="#" data-toggle="dropdown">\n      <div class="avatar avatar-sm">\n'+(null!=(l=t.if.call(i,null!=(l=null!=(l=null!=n?n["current-user"]:n)?l.inbox:l)?l.unread:l,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.program(13,s,0),data:s}))?l:"")+"         "+o((t.connectAvatar||n&&n.connectAvatar||r).call(i,null!=(l=null!=n?n["current-user"]:n)?l.avatar:l,null!=(l=null!=n?n["current-user"]:n)?l.username:l,25,{name:"connectAvatar",hash:{},data:s}))+'\n      </div>\n      <span class="username hidden-xs '+(null!=(l=t.unless.call(i,(t.getCurrentUserAttr||n&&n.getCurrentUserAttr||r).call(i,"premium",{name:"getCurrentUserAttr",hash:{},data:s}),{name:"unless",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?l:"")+'">\n        '+o((t.simpleShorten||n&&n.simpleShorten||r).call(i,null!=(l=null!=n?n["current-user"]:n)?l.username:l,13,{name:"simpleShorten",hash:{},data:s}))+'\n      </span>\n      <span class="caret"></span>\n    </a>\n\n'+(null!=(l=e.invokePartial(a["desktop.components.header.partials.profile_menu"],n,{name:"desktop.components.header.partials.profile_menu",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"  </div>\n"},11:function(e,n,t,a,s){return'            <span class="notification-badge"></span>\n'},13:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=(l=null!=n?n["current-user"]:n)?l.notifications:l)?l.unread:l,{name:"if",hash:{},fn:e.program(14,s,0),inverse:e.noop,data:s}))?l:""},14:function(e,n,t,a,s){return'            <span class="notification-badge"></span>\n        '},16:function(e,n,t,a,s){return" hidden-sm hidden-md "},18:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'  <div id="login-menu" role="menu">\n    <a id="header-item-login" rel="nofollow" href="/login?nexturl='+r((t.urlEncode||n&&n.urlEncode||i).call(l,null!=n?n.currentUrl:n,{name:"urlEncode",hash:{},data:s}))+'" data-form="login">'+r((t.trans||n&&n.trans||i).call(l,"Log in",{name:"trans",hash:{},data:s}))+'</a>\n    <a id="header-item-signup" rel="nofollow" href="/?nexturl='+r((t.urlEncode||n&&n.urlEncode||i).call(l,null!=n?n.currentUrl:n,{name:"urlEncode",hash:{},data:s}))+'" data-form="signup">'+r((t.trans||n&&n.trans||i).call(l,"Sign Up",{name:"trans",hash:{},data:s}))+"</a>\n  </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u=t.blockHelperMissing,d=e.escapeExpression,h='<div role="banner" id="header"';return i=null!=(i=t.hideHeader||(null!=n?n.hideHeader:n))?i:c,r={name:"hideHeader",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(o,r):i,t.hideHeader||(l=u.call(n,l,r)),null!=l&&(h+=l),h+='>\n<nav role="navigation">\n  <ul class="list-inline">\n    <li id=\'header-item-logo\'>\n      <a class="on-navigate" href="'+(null!=(l=t.if.call(o,null!=n?n["current-user"]:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?l:"")+'" title="Wattpad Home" aria-label="'+d((t.trans||n&&n.trans||c).call(o,"Home",{name:"trans",hash:{},data:s}))+'">\n      &nbsp;\n      </a>\n   </li>\n\n    <li id="discover-dropdown" class="button-group dropdown">\n      <a href="#" data-toggle="dropdown">'+d((t.trans||n&&n.trans||c).call(o,"Browse",{name:"trans",hash:{},data:s}))+' <span class="caret"></span></a>\n'+(null!=(l=e.invokePartial(a["desktop.browse.browse_topics"],n,{name:"desktop.browse.browse_topics",data:s,indent:"        ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'    </li>\n\n    <li id="community-dropdown" class="button-group dropdown hidden-xs hidden-sm">\n      <a href="#" data-toggle="dropdown">'+d((t.trans||n&&n.trans||c).call(o,"Community",{name:"trans",hash:{},data:s}))+' <span class="caret"></span></a>\n'+(null!=(l=e.invokePartial(a["core.header.community_menu"],n,{name:"core.header.community_menu",data:s,indent:"      ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'    </li>\n  </ul>\n</nav>\n\n<div id="header-item-search" aria-label="'+d((t.trans||n&&n.trans||c).call(o,"Search",{name:"trans",hash:{},data:s}))+'">\n  <div>'+(null!=(l=e.invokePartial(a["core.header.search_field"],n,{name:"core.header.search_field",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")+'</div>\n</div>\n\n<nav role="navigation">\n  <ul class="list-inline">\n    <li class="button-group dropdown hidden-xs hidden-sm">\n      <a href="#" data-toggle="dropdown">'+d((t.trans||n&&n.trans||c).call(o,"Write",{name:"trans",hash:{},data:s}))+' <span class="caret"></span></a>\n'+(null!=(l=e.invokePartial(a["desktop.components.header.partials.create_menu"],n,{name:"desktop.components.header.partials.create_menu",data:s,indent:"      ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"    </li>\n  </ul>\n</nav>\n\n\n"+(null!=(l=t.unless.call(o,(t.getCurrentUserAttr||n&&n.getCurrentUserAttr||c).call(o,"premium",{name:"getCurrentUserAttr",hash:{},data:s}),{name:"unless",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(o,null!=n?n["current-user"]:n,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?l:""),i=null!=(i=t["current-user"]||(null!=n?n["current-user"]:n))?i:c,r={name:"current-user",hash:{},fn:e.noop,inverse:e.program(18,s,0),data:s},l="function"==typeof i?i.call(o,r):i,t["current-user"]||(l=u.call(n,l,r)),null!=l&&(h+=l),h+"</div>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return'            <span class="badge">'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n["current-user"]:n)?l.inbox:l)?l.unread:l,n))+"</span>\n"},3:function(e,n,t,a,s){return"on-navigate"},5:function(e,n,t,a,s){var l;return'            <span id="notifications-menu-badge" class="badge">'+e.escapeExpression((t.count||n&&n.count||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=(l=null!=(l=null!=n?n["current-user"]:n)?l.notifications:l)?l.unread:l,{name:"count",hash:{},data:s}))+"</span>\n"},7:function(e,n,t,a,s){return'            <li><a class="on-navigate" href="/checkout">Checkout</a></li>\n            <li><a class="on-navigate" href="/manage_payment">Manage Payment</a></li>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression,c=e.lambda;return'<div class="triangle"></div>\n<div class="dropdown-menu dropdown-menu-right large" role="menu" aria-labelledby="profile-dropdown">\n    <ul aria-label="'+o((t.trans||n&&n.trans||r).call(i,"Profile",{name:"trans",hash:{},data:s}))+'">\n        <li><a class="on-navigate" href="/user/'+o(c(null!=(l=null!=n?n["current-user"]:n)?l.username:l,n))+'">'+o((t.trans||n&&n.trans||r).call(i,"My Profile",{name:"trans",hash:{},data:s}))+'</a></li>\n        <li role="presentation" class="divider"></li>\n        <li><a href="/inbox">'+o((t.trans||n&&n.trans||r).call(i,"Inbox",{name:"trans",hash:{},data:s}))+"\n"+(null!=(l=t.if.call(i,null!=(l=null!=(l=null!=n?n["current-user"]:n)?l.inbox:l)?l.unread:l,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'        </a></li>\n        <li><a class="'+(null!=(l=t.unless.call(i,(t.isTestGroup||n&&n.isTestGroup||r).call(i,"SENTIMENT_SURVEY",{name:"isTestGroup",hash:{},data:s}),{name:"unless",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+'" href="/notifications">'+o((t.trans||n&&n.trans||r).call(i,"Notifications",{name:"trans",hash:{},data:s}))+"\n"+(null!=(l=t.if.call(i,null!=(l=null!=(l=null!=n?n["current-user"]:n)?l.notifications:l)?l.unread:l,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+'        </a></li>\n        <li><a class="on-navigate" href="/newsfeed">'+o((t.trans||n&&n.trans||r).call(i,"Newsfeed",{name:"trans",hash:{},data:s}))+'</a></li>\n        <li><a class="on-navigate" href="/library">'+o((t.trans||n&&n.trans||r).call(i,"Library",{name:"trans",hash:{},data:s}))+"</a></li>\n"+(null!=(l=t.if.call(i,null!=(l=null!=n?n.testGroups:n)?l.WEB_PAYMENTS:l,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")+'        <li><a href="/invite_friends">'+o((t.trans||n&&n.trans||r).call(i,"Invite Friends",{name:"trans",hash:{},data:s}))+'</a></li>\n        <li role="presentation" class="divider"></li>\n        <li><a href="/settings/language?jq=true" class="on-language"\n          data-ignore="true" >'+o((t.trans||n&&n.trans||r).call(i,"Language",{name:"trans",hash:{},data:s}))+": "+o(c(null!=(l=null!=n?n.contentLang:n)?l.name:l,n))+'</a></li>\n        <li><a href="//support.wattpad.com" >'+o((t.trans||n&&n.trans||r).call(i,"Help",{name:"trans",hash:{},data:s}))+'</a></li>\n        <li>\n          <a class="on-navigate" href="/settings">'+o((t.trans||n&&n.trans||r).call(i,"Settings",{name:"trans",hash:{},data:s}))+'</a>\n        </li>\n        <li><a href="/logout" class="on-logout">'+o((t.trans||n&&n.trans||r).call(i,"Log Out",{name:"trans",hash:{},data:s}))+"</a></li>\n    </ul>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return"/myworks/new"},3:function(e,n,t,a,s){return"/?nexturl=/myworks/new"},5:function(e,n,t,a,s){return"/myworks"},7:function(e,n,t,a,s){return"/?nexturl=/myworks"},9:function(e,n,t,a,s){return'      <li>\n        <a href="/writers/">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Writer Opportunities",{name:"trans",hash:{},data:s}))+"</a></li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<div class="triangle"></div>\n<div class="dropdown-menu large" aria-labelledby="create-dropdown">\n  <ul aria-label="'+o((t.trans||n&&n.trans||r).call(i,"Write",{name:"trans",hash:{},data:s}))+'">\n    <li>\n      <a href="'+(null!=(l=t.if.call(i,null!=n?n["current-user"]:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+'" rel="nofollow" aria-label="'+o((t.trans||n&&n.trans||r).call(i,"Create a new story",{name:"trans",hash:{},data:s}))+'">\n        '+o((t.connectImage||n&&n.connectImage||r).call(i,"/icons/create-story.svg",(t.trans||n&&n.trans||r).call(i,"Create a new story",{name:"trans",hash:{},data:s}),{name:"connectImage",hash:{},data:s}))+o((t.trans||n&&n.trans||r).call(i,"Create a new story",{name:"trans",hash:{},data:s}))+'\n      </a>\n    </li>\n    <li>\n      <a href="'+(null!=(l=t.if.call(i,null!=n?n["current-user"]:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s}))?l:"")+'" rel="nofollow" aria-label="'+o((t.trans||n&&n.trans||r).call(i,"My Stories",{name:"trans",hash:{},data:s}))+'">'+o((t.trans||n&&n.trans||r).call(i,"My Stories",{name:"trans",hash:{},data:s}))+'</a>\n    </li>\n    <li role="presentation" class="divider"></li>\n'+(null!=(l=(t.ifequal||n&&n.ifequal||r).call(i,null!=(l=null!=n?n.interfaceLang:n)?l.name:l,"English",{name:"ifequal",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?l:"")+'    <li>\n      <a href="/go/writing-contests/">'+o((t.trans||n&&n.trans||r).call(i,"Writing Contests",{name:"trans",hash:{},data:s}))+"</a></li>\n  </ul>\n</div>"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return'<div class="btn btn-white on-dismiss">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Dismiss",{name:"trans",hash:{},data:s}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div class="message '+c("function"==typeof(i=null!=(i=t.messageClass||(null!=n?n.messageClass:n))?i:o)?i.call(r,{name:"messageClass",hash:{},data:s}):i)+'">\n  <a href="'+c("function"==typeof(i=null!=(i=t.url||(null!=n?n.url:n))?i:o)?i.call(r,{name:"url",hash:{},data:s}):i)+'" target="_blank">'+c("function"==typeof(i=null!=(i=t.message||(null!=n?n.message:n))?i:o)?i.call(r,{name:"message",hash:{},data:s}):i)+"</a>\n</div>\n"+(null!=(l=t.if.call(r,null!=n?n.dismissable:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'  <div class="default">\n    <div class="message col-xs-12 col-md-8"> '+(null!=(l=(t.trans||n&&n.trans||r).call(i,"Hi %s, please check your email <b>(%s)</b> to complete the sign-up process.",null!=n?n.username:n,null!=n?n.email:n,{name:"trans",hash:{},data:s}))?l:"")+' <a class="on-navigate"><span class="learn-more">'+o((t.trans||n&&n.trans||r).call(i,"Learn more",{name:"trans",hash:{},data:s}))+'</span></a>\n    </div>\n\n    <div class="controls col-xs-12 col-md-4">\n      <div class="alignment">\n        <a href="#" class="btn btn-grey on-changeemail"> '+o((t.trans||n&&n.trans||r).call(i,"Change email",{name:"trans",hash:{},data:s}))+'</a>\n        <a href="#" class="btn btn-orange on-verify"> '+o((t.trans||n&&n.trans||r).call(i,"Resend email",{name:"trans",hash:{},data:s}))+" </a>\n      </div>\n    </div>\n  </div>\n"},3:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'  <div class="success">\n    <div class="message success"> '+r((t.trans||n&&n.trans||i).call(l,"We've just sent an email to you. Please click on the link provided to confirm your email address with us.",{name:"trans",hash:{},data:s}))+'</div>\n      <div class="controls">\n        <a href="#" class="btn btn-orange on-dismiss"> '+r((t.trans||n&&n.trans||i).call(l,"Dismiss",{name:"trans",hash:{},data:s}))+" </a>\n      </div>\n  </div>\n"},5:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'  <div class="fail">\n    <div class="message error"> '+r((t.trans||n&&n.trans||i).call(l,"Oops, looks like we can't reach that email address.",{name:"trans",hash:{},data:s}))+' </div>\n      <div class="controls">\n        <a href="/settings" class="btn btn-grey"> '+r((t.trans||n&&n.trans||i).call(l,"Change email",{name:"trans",hash:{},data:s}))+" </a>\n      </div>\n  </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return(null!=(l=t.if.call(i,null!=n?n.default:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.success:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.fail:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<div class="default">\n  <div class="message">\n\t'+(null!=(l=(t.trans||n&&n.trans||r).call(i,"<strong>Success!</strong> Your email is verified and sign-up is complete. Enjoy!",{name:"trans",hash:{},data:s}))?l:"")+'\n  </div>\n  <div class="controls on-close">\n    <span>'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-remove",12,"wp-neutral-5","on-close",{name:"iconify",hash:{},data:s}))?l:"")+"</span>\n  </div>\n</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.default:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return"\t\t<h2>"+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+"</h2>\n\t\t<p>"+(null!=(l="function"==typeof(i=null!=(i=t.sentence||(null!=n?n.sentence:n))?i:o)?i.call(r,{name:"sentence",hash:{},data:s}):i)?l:"")+" "+c((t.trans||n&&n.trans||o).call(r,"After you click the link in your email, you'll be able to:",{name:"trans",hash:{},data:s}))+'</p>\n\n\t\t<ul>\n\t\t\t<li><span class="fa fa-check fa-wp-success" aria-hidden="true"></span>'+(null!=(l=(t.trans||n&&n.trans||o).call(r,"<strong>Vote</strong> on stories that you like",{name:"trans",hash:{},data:s}))?l:"")+'</li>\n\t\t\t<li><span class="fa fa-check fa-wp-success" aria-hidden="true"></span>'+(null!=(l=(t.trans||n&&n.trans||o).call(r,"<strong>Comment</strong> on stories and profiles",{name:"trans",hash:{},data:s}))?l:"")+'</li>\n\t\t\t<li><span class="fa fa-check fa-wp-success" aria-hidden="true"></span>'+(null!=(l=(t.trans||n&&n.trans||o).call(r,"<strong>Update</strong> your profile",{name:"trans",hash:{},data:s}))?l:"")+'</li>\n\t\t\t<li><span class="fa fa-check fa-wp-success" aria-hidden="true"></span>'+(null!=(l=(t.trans||n&&n.trans||o).call(r,"<strong>Create</strong> your stories, and more!",{name:"trans",hash:{},data:s}))?l:"")+'</li>\n\t\t</ul>\n\n    <div class="controls">\n      <a href="#" class="btn btn-orange on-close"> '+c((t.trans||n&&n.trans||o).call(r,"Dismiss",{name:"trans",hash:{},data:s}))+" </a>\n    </div>\n"},3:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return"\t\t<h2>"+c((t.trans||n&&n.trans||o).call(r,"Problem reaching email :(",{name:"trans",hash:{},data:s}))+"</h2>\n\t\t<p>"+(null!=(l="function"==typeof(i=null!=(i=t.sentence||(null!=n?n.sentence:n))?i:o)?i.call(r,{name:"sentence",hash:{},data:s}):i)?l:"")+" "+c((t.trans||n&&n.trans||o).call(r,"Please try again or change your email.",{name:"trans",hash:{},data:s}))+'</p>\n\n\t\t<div class="controls row">\n\t\t\t<div class="col-xs-6"><a href="#" class="btn btn-grey on-changeemail pull-right"> '+c((t.trans||n&&n.trans||o).call(r,"Change email",{name:"trans",hash:{},data:s}))+'</a></div>\n\t\t\t<div class="col-xs-6"><a href="#" class="btn btn-orange on-verify pull-left"> '+c((t.trans||n&&n.trans||o).call(r,"Resend email",{name:"trans",hash:{},data:s}))+" </a></div>\n\t\t</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return" <div class=\"panel-body sent-email\">\n\t<span class='close-modal on-close'>\n\t\t"+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(i,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+"\n\t</span>\n\n"+(null!=(l=t.if.call(i,null!=n?n.success:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.unless.call(i,null!=n?n.success:n,{name:"unless",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"</div>"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return"<div class=\"panel-body change-email\">\n\t<span class='close-modal on-close'>\n\t\t"+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+"\n\t</span>\n\n\t<h2>"+c((t.trans||n&&n.trans||o).call(r,"Change email",{name:"trans",hash:{},data:s}))+"</h2>\n\t<p>"+(null!=(l="function"==typeof(i=null!=(i=t.sentence||(null!=n?n.sentence:n))?i:o)?i.call(r,{name:"sentence",hash:{},data:s}):i)?l:"")+" "+c((t.trans||n&&n.trans||o).call(r,"If this is incorrect, you can change your email here.",{name:"trans",hash:{},data:s}))+'</p>\n\n\t<div class="alert alert-danger hidden" role="alert"><span class="fa fa-warning fa-wp-lighterror " aria-hidden="true" style="font-size:16px;"></span><span id="errorMessage"></span></div>\n\n\t<form class="form-horizontal" role="form">\n\n\t\t<div class="form-group has-feedback" data-attr="email" id="email1">\n\t\t\t<label class="control-label col-sm-5" for="new-email"><strong>'+c((t.trans||n&&n.trans||o).call(r,"New Email",{name:"trans",hash:{},data:s}))+'</strong></label>\n\t\t\t<div class="col-sm-5">\n\t\t\t\t<input type="email" id="new-email" class="form-control" placeholder="'+c((t.trans||n&&n.trans||o).call(r,"Enter New Email",{name:"trans",hash:{},data:s}))+'">\n\t\t\t\t'+(null!=(l=(t.validationElements||n&&n.validationElements||o).call(r,22,{name:"validationElements",hash:{},data:s}))?l:"")+'\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="form-group">\n\t\t\t<label class="control-label col-sm-5"><strong>'+c((t.trans||n&&n.trans||o).call(r,"Confirm New Email",{name:"trans",hash:{},data:s}))+'</strong></label>\n\t\t\t<div class="col-sm-5"> \n\t\t\t\t<input type="email" id="confirm-email" class="form-control" placeholder="'+c((t.trans||n&&n.trans||o).call(r,"Confirm New Email",{name:"trans",hash:{},data:s}))+'">\n\t\t\t</div>\n\t\t</div>\n\t</form>\n\n\t<div class="controls row">\n\t\t<div class="col-xs-6"><a href="#" class="btn btn-grey on-close pull-right">'+c((t.trans||n&&n.trans||o).call(r,"Cancel",{name:"trans",hash:{},data:s}))+'</a></div>\n\t\t<div class="col-xs-6"><a href="#" class="btn btn-orange on-submit">'+c((t.trans||n&&n.trans||o).call(r,"Save",{name:"trans",hash:{},data:s}))+"</a></div>\n\t</div>\n</div>"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return" <div class=\"panel-body please-verify\">\n\t<span class='close-modal on-close'>\n\t\t"+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+"\n\t</span>\n\n\t<h2>"+c((t.trans||n&&n.trans||o).call(r,"Please verify your email",{name:"trans",hash:{},data:s}))+"</h2>\n\t<p>"+(null!=(l="function"==typeof(i=null!=(i=t.sentence||(null!=n?n.sentence:n))?i:o)?i.call(r,{name:"sentence",hash:{},data:s}):i)?l:"")+" "+c((t.trans||n&&n.trans||o).call(r,"After you click the link in your email, you'll be able to:",{name:"trans",hash:{},data:s}))+'</p>\n\n\t<ul>\n\t\t<li><span class="fa fa-check fa-wp-success" aria-hidden="true"></span>'+(null!=(l=(t.trans||n&&n.trans||o).call(r,"<strong>Vote</strong> on stories that you like",{name:"trans",hash:{},data:s}))?l:"")+'</li>\n\t\t<li><span class="fa fa-check fa-wp-success" aria-hidden="true"></span>'+(null!=(l=(t.trans||n&&n.trans||o).call(r,"<strong>Comment</strong> on stories and profiles",{name:"trans",hash:{},data:s}))?l:"")+'</li>\n\t\t<li><span class="fa fa-check fa-wp-success" aria-hidden="true"></span>'+(null!=(l=(t.trans||n&&n.trans||o).call(r,"<strong>Update</strong> your profile",{name:"trans",hash:{},data:s}))?l:"")+'</li>\n\t\t<li><span class="fa fa-check fa-wp-success" aria-hidden="true"></span>'+(null!=(l=(t.trans||n&&n.trans||o).call(r,"<strong>Create</strong> your stories, and more!",{name:"trans",hash:{},data:s}))?l:"")+'</li>\n\t</ul>\n\n\t<div class="controls row">\n\t\t<div class="col-xs-6"><a href="#" class="btn btn-grey on-changeemail pull-right"> '+c((t.trans||n&&n.trans||o).call(r,"Change email",{name:"trans",hash:{},data:s}))+'</a></div>\n\t\t<div class="col-xs-6"><a href="#" class="btn btn-orange on-verify"> '+c((t.trans||n&&n.trans||o).call(r,"Resend email",{name:"trans",hash:{},data:s}))+" </a></div>\n\t</div>\n</div>"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return"    "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-remove",20,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+"\n"},3:function(e,n,t,a,s){var l;return"    "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-remove",25,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'<div class="on-dismiss">\n'+(null!=(l=t.if.call(i,null!=n?n.isMobile:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+'</div>\n\n<div class="message">\n  '+e.escapeExpression((t.connectImage||n&&n.connectImage||t.helperMissing).call(i,"wattpad-presents/video-icon.png","Wattpad Presents",{name:"connectImage",hash:{klass:"icon"},data:s}))+'\n  <span class="text">\n    <span class="title">Wattpad Presents...</span>\n    <span class="subtitle">Videos based on popular stories!</span>\n  </span>\n</div>\n\n<a href="/presents" class="on-navigate">\n  <span class="learn-more">Watch Now</span>\n</a>\n'},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'<div class="default">\n  <div class="message">\n    '+r((t.trans||n&&n.trans||i).call(l,"Give feedback about the Wattpad experience and be the first to get new features. Join our beta program.",{name:"trans",hash:{},data:s}))+'\n    <a class="learn-more" href="//support.wattpad.com/hc/articles/201708720-How-do-I-Join-the-Beta-Testing-for-Wattpad-">\n      '+r((t.trans||n&&n.trans||i).call(l,"Learn More",{name:"trans",hash:{},data:s}))+'\n    </a>\n  </div>\n  <div class="controls">\n    <a href="#" class="btn btn-grey on-joinbeta"> '+r((t.trans||n&&n.trans||i).call(l,"Join Beta Program",{name:"trans",hash:{},data:s}))+'</a>\n    <a href="#" class="btn btn-grey on-dismiss"> '+r((t.trans||n&&n.trans||i).call(l,"Dismiss",{name:"trans",hash:{},data:s}))+" </a>\n  </div>\n</div>\n"},3:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'  <div class="success">\n    <div class="message success"> '+r((t.trans||n&&n.trans||i).call(l,"Welcome. You are now a member of Wattpad's web beta program.",{name:"trans",hash:{},data:s}))+'</div>\n    <div class="controls">\n      <a href="//support.wattpad.com/hc/articles/201708720-How-do-I-Join-the-Beta-Testing-for-Wattpad-">\n        '+r((t.trans||n&&n.trans||i).call(l,"For more information",{name:"trans",hash:{},data:s}))+'\n      </a>\n      <a href="#" class="btn btn-grey on-dismiss"> '+r((t.trans||n&&n.trans||i).call(l,"Dismiss",{name:"trans",hash:{},data:s}))+" </a>\n  </div>\n  </div>\n"},5:function(e,n,t,a,s){return'  <div class="fail">\n    <div class="message error"> '+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Sorry, we were unable to add you to the beta program.",{name:"trans",hash:{},data:s}))+" </div>\n  </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return(null!=(l=t.if.call(i,null!=n?n.default:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.success:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.fail:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<div class="survey-banner" data-survey-cookie="'+o("function"==typeof(l=null!=(l=t.cookie_id||(null!=n?n.cookie_id:n))?l:r)?l.call(i,{name:"cookie_id",hash:{},data:s}):l)+'" data-target="'+o("function"==typeof(l=null!=(l=t.url||(null!=n?n.url:n))?l:r)?l.call(i,{name:"url",hash:{},data:s}):l)+'">\n    <div class="message">\n      '+o((t.trans||n&&n.trans||r).call(i,"Do you want to help us improve our website? Take part in a study and tell us what you think.",{name:"trans",hash:{},data:s}))+'\n    </div>\n\t<div class="controls">\n\t\t<a href="#" class="btn btn-default on-click"> '+o((t.trans||n&&n.trans||r).call(i,"Click Here",{name:"trans",hash:{},data:s}))+'</a>\n\t\t<a href="#" class="btn btn-default on-dismiss"> '+o((t.trans||n&&n.trans||r).call(i,"Dismiss",{name:"trans",hash:{},data:s}))+" </a>\n\t</div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'  <div class="default">\n    <div class="message"> '+(null!=(l=(t.trans||n&&n.trans||r).call(i,"Welcome home! %s Learn more %s about the new design for the Wattpad site.","<a href='#' class='btn-link on-learnmore' style='margin-right: 0px'>","</a>",{name:"trans",hash:{},data:s}))?l:"")+' </div>\n      <div class="controls">\n        <a href="#" class="btn btn-grey on-dismiss"> '+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Dismiss",{name:"trans",hash:{},data:s}))+" </a>\n      </div>\n  </div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'      <li><a href="#" class="on-back-to-mobile" title="'+r((t.trans||n&&n.trans||i).call(l,"Back to Mobile",{name:"trans",hash:{},data:s}))+'" aria-label="'+r((t.trans||n&&n.trans||i).call(l,"Back to Mobile",{name:"trans",hash:{},data:s}))+'"> '+r((t.trans||n&&n.trans||i).call(l,"Back to Mobile",{name:"trans",hash:{},data:s}))+"</a></li>\n"},3:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'      <li><a href="/privacy/settings" aria-label="'+r((t.trans||n&&n.trans||i).call(l,"Do Not Sell My Personal Information",{name:"trans",hash:{},data:s}))+'">'+r((t.trans||n&&n.trans||i).call(l,"Do Not Sell My Personal Information",{name:"trans",hash:{},data:s}))+"</a></li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<footer id="footer">\n  <ul class="footer-list main" role="navigation" aria-label="'+c((t.trans||n&&n.trans||o).call(r,"Footer Links",{name:"trans",hash:{},data:s}))+'">\n'+(null!=(l=(t.isCookieSet||n&&n.isCookieSet||o).call(r,"mw-no",{name:"isCookieSet",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'    <li><a href="/paidstories" aria-label="'+c((t.trans||n&&n.trans||o).call(r,"Paid Stories",{name:"trans",hash:{},data:s}))+'">'+c((t.trans||n&&n.trans||o).call(r,"Paid Stories",{name:"trans",hash:{},data:s}))+'</a></li>\n    <li><a class="on-premium" href="/premium" aria-label="'+c((t.trans||n&&n.trans||o).call(r,"Try Premium",{name:"trans",hash:{},data:s}))+'">'+c((t.trans||n&&n.trans||o).call(r,"Try Premium",{name:"trans",hash:{},data:s}))+'</a></li>\n    <li><a href="/getmobile" aria-label="'+c((t.trans||n&&n.trans||o).call(r,"Get the App",{name:"trans",hash:{},data:s}))+'">'+c((t.trans||n&&n.trans||o).call(r,"Get the App",{name:"trans",hash:{},data:s}))+'</a></li>\n    <li><a href="/settings/language?jq=true" class="on-language" rel="nofollow" aria-label="'+c((t.trans||n&&n.trans||o).call(r,"Language",{name:"trans",hash:{},data:s}))+'">'+c((t.trans||n&&n.trans||o).call(r,"Language",{name:"trans",hash:{},data:s}))+'</a></li>\n    <li><a href="/writers" aria-label="'+c((t.trans||n&&n.trans||o).call(r,"Writers",{name:"trans",hash:{},data:s}))+'">'+c((t.trans||n&&n.trans||o).call(r,"Writers",{name:"trans",hash:{},data:s}))+'</a></li>\n    <li>|</li>\n    <li><a href="http://business.wattpad.com" aria-label="'+c((t.trans||n&&n.trans||o).call(r,"Business",{name:"trans",hash:{},data:s}))+'">'+c((t.trans||n&&n.trans||o).call(r,"Business",{name:"trans",hash:{},data:s}))+'</a></li>\n    <li><a href="https://company.wattpad.com/work-at-wattpad" aria-label="'+c((t.trans||n&&n.trans||o).call(r,"Jobs",{name:"trans",hash:{},data:s}))+'">'+c((t.trans||n&&n.trans||o).call(r,"Jobs",{name:"trans",hash:{},data:s}))+'</a></li>\n    <li><a href="https://company.wattpad.com/press" aria-label="'+c((t.trans||n&&n.trans||o).call(r,"Press",{name:"trans",hash:{},data:s}))+'">'+c((t.trans||n&&n.trans||o).call(r,"Press",{name:"trans",hash:{},data:s}))+'</a></li>\n  </ul>\n  <ul class="footer-list legal" role="navigation" aria-label="'+c((t.trans||n&&n.trans||o).call(r,"Legal Footer Links",{name:"trans",hash:{},data:s}))+'">\n    <li><a href="/terms" rel="nofollow" aria-label="'+c((t.trans||n&&n.trans||o).call(r,"Terms",{name:"trans",hash:{},data:s}))+'">'+c((t.trans||n&&n.trans||o).call(r,"Terms",{name:"trans",hash:{},data:s}))+'</a></li>\n    <li><a href="/privacy" rel="nofollow" aria-label="'+c((t.trans||n&&n.trans||o).call(r,"Privacy",{name:"trans",hash:{},data:s}))+'">'+c((t.trans||n&&n.trans||o).call(r,"Privacy",{name:"trans",hash:{},data:s}))+"</a></li>\n"+(null!=(l=t.if.call(r,(t.isTestGroup||n&&n.isTestGroup||o).call(r,"CAN_VIEW_CCPA",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+'    <li><a href="https://support.wattpad.com" aria-label="'+c((t.trans||n&&n.trans||o).call(r,"Help",{name:"trans",hash:{},data:s}))+'">'+c((t.trans||n&&n.trans||o).call(r,"Help",{name:"trans",hash:{},data:s}))+"</a></li>\n    <li>&copy; "+c("function"==typeof(i=null!=(i=t.currentYear||(null!=n?n.currentYear:n))?i:o)?i.call(r,{name:"currentYear",hash:{},data:s}):i)+" Wattpad</li>\n  </ul>\n</footer>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o="function",c=e.escapeExpression;return'            <div class="report-reason radio">\n              <label><input type="radio" class="on-option-selected" name="report-reason-option"\n                            value="'+c(typeof(l=null!=(l=t.name||(null!=n?n.name:n))?l:r)===o?l.call(i,{name:"name",hash:{},data:s}):l)+'" data-require-detail="'+c(typeof(l=null!=(l=t.moreDetail||(null!=n?n.moreDetail:n))?l:r)===o?l.call(i,{name:"moreDetail",hash:{},data:s}):l)+'" data-intext="'+c(typeof(l=null!=(l=t.intext||(null!=n?n.intext:n))?l:r)===o?l.call(i,{name:"intext",hash:{},data:s}):l)+'" data-tag="'+c(typeof(l=null!=(l=t.tag||(null!=n?n.tag:n))?l:r)===o?l.call(i,{name:"tag",hash:{},data:s}):l)+'">'+c(typeof(l=null!=(l=t.name||(null!=n?n.name:n))?l:r)===o?l.call(i,{name:"name",hash:{},data:s}):l)+"</label>\n            </div>\n"},3:function(e,n,t,a,s,l,i){var r;return null!=(r=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.extraOption:n,{name:"each",hash:{},fn:e.program(4,s,0,l,i),inverse:e.noop,data:s}))?r:""},4:function(e,n,t,a,s,l,i){var r,o=e.escapeExpression,c=null!=n?n:e.nullContext||{},u=t.helperMissing;return'            <div class="'+o(e.lambda(null!=i[1]?i[1].tag:i[1],n))+' option checkbox hide">\n              <label><input data-id="'+o("function"==typeof(r=null!=(r=t.id||(null!=n?n.id:n))?r:u)?r.call(c,{name:"id",hash:{},data:s}):r)+'" data-checktag="'+o("function"==typeof(r=null!=(r=t.checktag||(null!=n?n.checktag:n))?r:u)?r.call(c,{name:"checktag",hash:{},data:s}):r)+'" data-nochecktag="'+o("function"==typeof(r=null!=(r=t.nochecktag||(null!=n?n.nochecktag:n))?r:u)?r.call(c,{name:"nochecktag",hash:{},data:s}):r)+'" type="checkbox">'+o("function"==typeof(r=null!=(r=t.text||(null!=n?n.text:n))?r:u)?r.call(c,{name:"text",hash:{},data:s}):r)+"</label>\n            </div>\n"},6:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'          <div class="requester-contact-info hidden">\n            <span>'+o((t.trans||n&&n.trans||r).call(i,"Please leave your contact information so that we may reach you.",{name:"trans",hash:{},data:s}))+'</span>\n            <div class="form-group has-feedback" data-attr="name" id="requester-name">\n              <label '+(null!=(l=(t.supportsPlaceholder||n&&n.supportsPlaceholder||r).call(i,null!=n?n.device:n,{name:"supportsPlaceholder",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")+' for="requester-name">Username</label>\n              <input class="form-control" name="report-name" type="text" placeholder="'+o((t.trans||n&&n.trans||r).call(i,"Name",{name:"trans",hash:{},data:s}))+'">\n              '+(null!=(l=(t.validationElements||n&&n.validationElements||r).call(i,16,{name:"validationElements",hash:{},data:s}))?l:"")+'\n            </div>\n            <div class="form-group has-feedback" data-attr="email" id="requester-email">\n              <label '+(null!=(l=(t.supportsPlaceholder||n&&n.supportsPlaceholder||r).call(i,null!=n?n.device:n,{name:"supportsPlaceholder",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")+' for="requester-email">Username</label>\n              <input class="form-control" name="report-email" type="email" placeholder="'+o((t.trans||n&&n.trans||r).call(i,"Email",{name:"trans",hash:{},data:s}))+'">\n              '+(null!=(l=(t.validationElements||n&&n.validationElements||r).call(i,16,{name:"validationElements",hash:{},data:s}))?l:"")+"\n            </div>\n          </div>\n"},7:function(e,n,t,a,s){return'class="sr-only"'},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s,l,i){var r,o,c,u=null!=n?n:e.nullContext||{},d=t.helperMissing,h=e.escapeExpression,p='<div class="modal-dialog modal-sm">\n\n  <div class="modal-content"> \n    <div class="modal-header">\n      <h3 class="modal-title">'+h("function"==typeof(o=null!=(o=t.title||(null!=n?n.title:n))?o:d)?o.call(u,{name:"title",hash:{},data:s}):o)+'</h3>\n      <div class="btn-prev on-prev hidden">'+(null!=(r=(t.iconify||n&&n.iconify||d).call(u,"fa-left",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'</div>\n      <div class="close top-right on-close" data-dismiss="modal">\n        '+(null!=(r=(t.iconify||n&&n.iconify||d).call(u,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'\n      </div>\n    </div>\n    <div class="modal-body">\n      <form data-ticket-form-id="'+h("function"==typeof(o=null!=(o=t.id||(null!=n?n.id:n))?o:d)?o.call(u,{name:"id",hash:{},data:s}):o)+'">\x3c!-- inline-block fix\n     --\x3e<div class="modal-body-content step-1">\n          <span>'+h((t.trans||n&&n.trans||d).call(u,"Select a reason",{name:"trans",hash:{},data:s}))+'</span>\n          <div class="form-group">\n'+(null!=(r=t.each.call(u,null!=n?n.offenses:n,{name:"each",hash:{},fn:e.program(1,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'          </div>\n        </div>\x3c!--\n\n     --\x3e<div class="modal-body-content step-1"  \n          <span>'+h((t.trans||n&&n.trans||d).call(u,"Reason:",{name:"trans",hash:{},data:s}))+' <strong class="reason-selected"></strong></span>\n          <div class="extra-option">\n'+(null!=(r=t.each.call(u,null!=n?n.offenses:n,{name:"each",hash:{},fn:e.program(3,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'          </div>\n          <textarea class="form-control details-input" role="textbox" aria-multiline="true" placeholder="'+h((t.trans||n&&n.trans||d).call(u,"Please provide more details",{name:"trans",hash:{},data:s}))+'"></textarea>\n        </div>\x3c!--\n     --\x3e<div class="modal-body-content step-1">\n';return o=null!=(o=t.isLoggedIn||(null!=n?n.isLoggedIn:n))?o:d,c={name:"isLoggedIn",hash:{},fn:e.noop,inverse:e.program(6,s,0,l,i),data:s},r="function"==typeof o?o.call(u,c):o,t.isLoggedIn||(r=t.blockHelperMissing.call(n,r,c)),null!=r&&(p+=r),p+'          <div class="report-success faded">\n            <h4>'+h((t.trans||n&&n.trans||d).call(u,"Report submitted",{name:"trans",hash:{},data:s}))+"</h4>\n            <span>"+h((t.trans||n&&n.trans||d).call(u,"Thanks for taking time to support a positive Wattpad community.",{name:"trans",hash:{},data:s}))+'</span>\n          </div>\n        </div>\x3c!--\n   --\x3e</form>\n    </div>\n    <div class="modal-footer">\n      <button class="btn btn-orange btn-next on-next" disabled="true">'+h((t.trans||n&&n.trans||d).call(u,"Submit a report",{name:"trans",hash:{},data:s}))+"</button>\n    </div>\n  </div>\n</div>\n"},useData:!0,useDepths:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<div id="generic-modal" class="modal-dialog">\n    <div class="modal-content">\n        <header class="modal-header">\n            <div class="close" data-dismiss="modal">\n                '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-remove",28,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+'\n            </div>\n        </header>\n        <div class="modal-body clearfix">\n            <div id="subscribe-cta" class="background">\n                <p class="title">'+o((t.trans||n&&n.trans||r).call(i,"Discover the best reading experience with Wattpad Premium",{name:"trans",hash:{},data:s}))+"</p>\n                "+o((t.trans||n&&n.trans||r).call(i,"Upgrade to discover a new layer of Wattpad with new themes, an ad-free experience, and to show support for the community you love.",{name:"trans",hash:{},data:s}))+'\n                <div class="strong">'+o((t.trans||n&&n.trans||r).call(i,"To get started, subscribe through the Wattpad app on your mobile device.",{name:"trans",hash:{},data:s}))+'</div>\n            </div>\n            <div id="how-to-subscribe">\n                <div class="row">\n                    <div class="col-sm-4">\n                        <div class="step-circle">\n                            <p>1</p>\n                        </div>\n                        <p class="step-instruction">'+o((t.trans||n&&n.trans||r).call(i,"Open the Wattpad app on your mobile device and click on the Go Premium button on the home page.",{name:"trans",hash:{},data:s}))+'</p>\n                    </div>\n                    <div class="col-sm-4">\n                        <div class="step-circle">\n                            <p>2</p>\n                        </div>\n                        <p class="step-instruction">'+o((t.trans||n&&n.trans||r).call(i,"Choose your Wattpad Premium plan.",{name:"trans",hash:{},data:s}))+'</p>\n                    </div>\n                    <div class="col-sm-4">\n                        <div class="step-circle">\n                            <p>3</p>\n                        </div>\n                        <p class="step-instruction">'+o((t.trans||n&&n.trans||r).call(i,"Once you purchase Wattpad Premium, your account will instantly be upgraded wherever you use Wattpad.",{name:"trans",hash:{},data:s}))+'\n                        </p>\n                    </div>\n                </div>\n                <div class="row instructions-images">\n                    <div class="col-sm-4">\n                        '+o((t.connectImage||n&&n.connectImage||r).call(i,"/premium-modal/step-1@2x.png","Open the app",{name:"connectImage",hash:{},data:s}))+'\n                    </div>\n                    <div class="col-sm-4">\n                        '+o((t.connectImage||n&&n.connectImage||r).call(i,"/premium-modal/step-2@2x.png","Select a plan",{name:"connectImage",hash:{},data:s}))+'\n                    </div>\n                    <div class="col-sm-4">\n                        '+o((t.connectImage||n&&n.connectImage||r).call(i,"/premium-modal/step-3@2x.png","You're premium!",{name:"connectImage",hash:{},data:s}))+'\n                    </div>\n                </div>\n            </div>\n        </div>\n        <footer class="modal-footer">\n            <div class="strong on-track-event" data-action-type="faq">'+o((t.trans||n&&n.trans||r).call(i,"Have any questions?",{name:"trans",hash:{},data:s}))+' <a href="https://premium.wattpad.com" target="_blank" rel="noopener noreferrer">'+o((t.trans||n&&n.trans||r).call(i,"Read our FAQ",{name:"trans",hash:{},data:s}))+"</a></div>\n        </footer>\n    </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return"      "+e.escapeExpression("function"==typeof(l=null!=(l=t.heading||(null!=n?n.heading:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"heading",hash:{},data:s}):l)+"\n"},3:function(e,n,t,a,s){return"      "+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"This page seems to be missing...",{name:"trans",hash:{},data:s}))+"\n"},5:function(e,n,t,a,s){var l;return"      "+e.escapeExpression("function"==typeof(l=null!=(l=t.subHeading||(null!=n?n.subHeading:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"subHeading",hash:{},data:s}):l)+"\n"},7:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return"      "+r((t.trans||n&&n.trans||i).call(l,"We couldn't find what you were looking for.",{name:"trans",hash:{},data:s}))+"\n      "+r((t.trans||n&&n.trans||i).call(l,"You could try searching for something else you love!",{name:"trans",hash:{},data:s}))+"\n"},9:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'            <div class="category-item topic-item col-md-4 col-xs-6">\n              <a class="on-navigate" href="/stories/'+o("function"==typeof(l=null!=(l=t.topic||(null!=n?n.topic:n))?l:r)?l.call(i,{name:"topic",hash:{},data:s}):l)+'" style="background-color:'+o("function"==typeof(l=null!=(l=t.background||(null!=n?n.background:n))?l:r)?l.call(i,{name:"background",hash:{},data:s}):l)+";color:"+o("function"==typeof(l=null!=(l=t.color||(null!=n?n.color:n))?l:r)?l.call(i,{name:"color",hash:{},data:s}):l)+'">\n                <span class="text">'+o((t.trans||n&&n.trans||r).call(i,null!=n?n.name:n,{name:"trans",hash:{},data:s}))+"</span>\n              </a>\n            </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div class="error-404 col-sm-10 col-sm-offset-1">\n  <div class="header-wrapper">\n    <h1 class="heading">\n'+(null!=(l=t.if.call(r,null!=n?n.heading:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+'    </h1>\n    <h3 class="subheading">\n'+(null!=(l=t.if.call(r,null!=n?n.subHeading:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s}))?l:"")+'    </h3>\n    <div id="search-container">\n      <form class="form-horizontal dropdown" role="form" name="search" action="/search/" action="GET" autocomplete="off">\n        '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-search",21,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n        <input id="search-query" placeholder="'+c((t.trans||n&&n.trans||o).call(r,"Search Stories & People",{name:"trans",hash:{},data:s}))+'" name="q" type="text" role="search" spellcheck="false" aria-label="'+c((t.trans||n&&n.trans||o).call(r,"Search Stories & People",{name:"trans",hash:{},data:s}))+'" value="'+c("function"==typeof(i=null!=(i=t.searchTerm||(null!=n?n.searchTerm:n))?i:o)?i.call(r,{name:"searchTerm",hash:{},data:s}):i)+'">\n      </form>\n    </div>\n  </div>\n  <div class="body-wrapper">\n    <div class="row">\n        <div class="categories-grid col-md-12">\n          <div class="title col-xs-12"><h3>'+c((t.trans||n&&n.trans||o).call(r,"Browse Topics",{name:"trans",hash:{},data:s}))+"</h3></div>\n"+(null!=(l=t.each.call(r,null!=n?n.browseTopics:n,{name:"each",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?l:"")+'          <a class="on-navigate more col-md-4 col-xs-12" href="/home">'+c((t.trans||n&&n.trans||o).call(r,"Discover more",{name:"trans",hash:{},data:s}))+" "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-right",16,"wp-base-1",{name:"iconify",hash:{},data:s}))?l:"")+"</a>\n        </div>\n    </div>\n  </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<a class="on-view-convo btn btn-sm btn-grey"\n  href=\''+o((t.formatStoryUrl||n&&n.formatStoryUrl||r).call(i,null!=(l=null!=(l=null!=n?n.data:n)?l.comment:l)?l.deeplink_url:l,{name:"formatStoryUrl",hash:{},data:s}))+"'>\n  "+o((t.trans||n&&n.trans||r).call(i,"View Conversation",{name:"trans",hash:{},data:s}))+"\n</a>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r,o=e.lambda,c=e.escapeExpression,u=null!=n?n:e.nullContext||{},d=t.helperMissing,h='<div class="user-meta">\n  <a class="on-user avatar avatar-lg"\n     data-username="'+c(o(null!=(l=null!=(l=null!=n?n.meta:n)?l.user:l)?l.name:l,n))+'"\n     href="/user/'+c(o(null!=(l=null!=(l=null!=n?n.meta:n)?l.user:l)?l.name:l,n))+'">\n    <img src="'+c(o(null!=(l=null!=(l=null!=n?n.meta:n)?l.user:l)?l.avatar:l,n))+'">\n  </a>\n  <div class="clearfix">\n     <a class="on-user alt-link"\n     data-username="'+c(o(null!=(l=null!=(l=null!=n?n.meta:n)?l.user:l)?l.name:l,n))+'"\n     href="/user/'+c(o(null!=(l=null!=(l=null!=n?n.meta:n)?l.user:l)?l.name:l,n))+'">\n     <strong class="title">'+c(o(null!=(l=null!=(l=null!=n?n.meta:n)?l.user:l)?l.name:l,n))+'</strong>\n   </a>\n\n   <div class="subtitle meta">\n     <span> '+c((t.sprintf||n&&n.sprintf||d).call(u,(t.ngettext||n&&n.ngettext||d).call(u,"%s Follower","%s Followers",(t.count||n&&n.count||d).call(u,null!=(l=null!=(l=null!=n?n.meta:n)?l.user:l)?l.numFollowers:l,{name:"count",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(t.count||n&&n.count||d).call(u,null!=(l=null!=(l=null!=n?n.meta:n)?l.user:l)?l.numFollowers:l,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+" </span>\n"+(null!=(l=t.if.call(u,null!=(l=null!=(l=null!=n?n.meta:n)?l.user:l)?l.hasWorks:l,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+"   </div>\n\n";return i=null!=(i=t.isLoggedIn||(null!=n?n.isLoggedIn:n))?i:d,r={name:"isLoggedIn",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(u,r):i,t.isLoggedIn||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(h+=l),h+'    <a class="btn btn-grey btn-sm on-user"\n      data-username="'+c(o(null!=(l=null!=(l=null!=n?n.meta:n)?l.user:l)?l.name:l,n))+'"\n      href="/user/'+c(o(null!=(l=null!=(l=null!=n?n.meta:n)?l.user:l)?l.name:l,n))+'">\n      '+c((t.trans||n&&n.trans||d).call(u,"View Profile",{name:"trans",hash:{},data:s}))+"\n    </a>\n  </div>\n</div>\n"},2:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"       <span> "+e.escapeExpression((t.sprintf||n&&n.sprintf||r).call(i,(t.ngettext||n&&n.ngettext||r).call(i,"%s Work","%s Works",(t.count||n&&n.count||r).call(i,null!=(l=null!=(l=null!=n?n.meta:n)?l.user:l)?l.numWorks:l,{name:"count",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(t.count||n&&n.count||r).call(i,null!=(l=null!=(l=null!=n?n.meta:n)?l.user:l)?l.numWorks:l,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+" </span>\n"},4:function(e,n,t,a,s){var l;return null!=(l=(t.isCurrentUser||n&&n.isCurrentUser||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=(l=null!=(l=null!=n?n.meta:n)?l.user:l)?l.name:l,{name:"isCurrentUser",hash:{},fn:e.noop,inverse:e.program(5,s,0),data:s}))?l:""},5:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=(l=null!=n?n.meta:n)?l.user:l)?l.following:l,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.program(8,s,0),data:s}))?l:""},6:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'         <button class="btn btn-sm btn-teal on-unfollow-user">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-following",14,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Following",{name:"trans",hash:{},data:s}))+"</button>\n"},8:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'         <button class="btn btn-sm btn-white on-follow-user">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-follow",14,"wp-base-2-dark",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Follow",{name:"trans",hash:{},data:s}))+"</button>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.meta:n)?l.user:l,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"      <span> "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-view",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.count||n&&n.count||r).call(i,null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.readCount:l,{name:"count",hash:{},data:s}))+" </span>\n"},3:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"      <span> "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-vote",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.count||n&&n.count||r).call(i,null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.voteCount:l,{name:"count",hash:{},data:s}))+" </span>\n"},5:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.inLibrary:l,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.program(8,s,0),data:s}))?l:""},6:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'        <button class="btn btn-sm btn-teal on-remove-from-library">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-check",14,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Added to Library",{name:"trans",hash:{},data:s}))+"</button>\n"},8:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'        <button class="btn btn-sm btn-white on-add-to-library">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-plus",14,"wp-base-2-dark",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Add to Library",{name:"trans",hash:{},data:s}))+"</button>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r,o=e.lambda,c=e.escapeExpression,u=null!=n?n:e.nullContext||{},d=t.helperMissing,h='<div class="story-meta">\n  <a class="on-navigate cover cover-sm"\n    href="'+c(o(null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.url:l,n))+'">\n      <img src="'+c((t.resizeCover||n&&n.resizeCover||d).call(u,null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.cover:l,50,{name:"resizeCover",hash:{},data:s}))+'">\n  </a>\n  <div class="clearfix">\n    <a class="on-navigate alt-link"\n      href="'+c(o(null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.url:l,n))+'">\n      <strong class="title">'+c(o(null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.title:l,n))+'</strong>\n    </a>\n\n    <div class="subtitle meta">\n'+(null!=(l=t.if.call(u,null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.readCount:l,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(u,null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.voteCount:l,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"    </div>\n\n";return i=null!=(i=t.isLoggedIn||(null!=n?n.isLoggedIn:n))?i:d,r={name:"isLoggedIn",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(u,r):i,t.isLoggedIn||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(h+=l),h+"  </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return"      "+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.data:n)?l.dedicator:l)?l.name:l,n))+"\n"},3:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression;return'      <a class="on-user"\n        data-username="'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.dedicator:l)?l.name:l,n))+'"\n        href="/user/'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.dedicator:l)?l.name:l,n))+'">\n        <strong>'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.dedicator:l)?l.name:l,n))+"</strong>\n      </a>\n"},5:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression;return"         <strong>"+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.title:l,n))+" - "+r(i(null!=(l=null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.part:l)?l.title:l,n))+"</strong>\n"},7:function(e,n,t,a,s){var l;return"         <strong>"+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.title:l,n))+"</strong>\n"},9:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=(l=null!=n?n.data:n)?l.dedicatee:l)?l.avatar:l,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.program(12,s,0),data:s}))?l:""},10:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression;return'        <a class="on-user"\n           data-username="'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.dedicatee:l)?l.name:l,n))+'"\n           href="/user/'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.dedicatee:l)?l.name:l,n))+'">\n           <strong>'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.dedicatee:l)?l.name:l,n))+"</strong>\n        </a>\n"},12:function(e,n,t,a,s){var l;return"        "+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.data:n)?l.dedicatee:l)?l.name:l,n))+"\n"},14:function(e,n,t,a,s){var l;return"       "+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.data:n)?l.dedicatee:l)?l.name:l,n))+"\n"},16:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=(l=null!=n?n.data:n)?l.dedicatee:l)?l.avatar:l,{name:"if",hash:{},fn:e.program(17,s,0),inverse:e.program(19,s,0),data:s}))?l:""},17:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["core.events.partials.user_event_user_meta"],n,{name:"core.events.partials.user_event_user_meta",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?l:""},19:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["core.events.partials.user_event_story_meta"],n,{name:"core.events.partials.user_event_story_meta",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?l:""},21:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["core.events.partials.user_event_story_meta"],n,{name:"core.events.partials.user_event_story_meta",data:s,indent:"  ",helpers:t,partials:a,decorators:e.decorators}))?l:""},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression,o=null!=n?n:e.nullContext||{},c=t.helperMissing;return'<header>\n <a class="on-user avatar avatar-sm"\n     data-username="'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.dedicator:l)?l.name:l,n))+'"\n     href="/user/'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.dedicator:l)?l.name:l,n))+'">\n    <img src="'+r((t.resizeAvatar||n&&n.resizeAvatar||c).call(o,null!=(l=null!=(l=null!=n?n.data:n)?l.dedicator:l)?l.avatar:l,32,{name:"resizeAvatar",hash:{},data:s}))+'">\n  </a>\n  <div class="clearfix">\n'+(null!=(l=t.if.call(o,null!=n?n.outgoing:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+"    "+r((t.trans||n&&n.trans||c).call(o,"dedicated",{name:"trans",hash:{},data:s}))+'\n    <a class="on-navigate"\n       href="'+r(i(null!=(l=null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.part:l)?l.url:l,n))+'">\n'+(null!=(l=t.if.call(o,null!=(l=null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.part:l)?l.title:l,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s}))?l:"")+"    </a>\n    "+r((t.trans||n&&n.trans||c).call(o,"to",{name:"trans",hash:{},data:s}))+"\n"+(null!=(l=t.if.call(o,null!=n?n.outgoing:n,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.program(14,s,0),data:s}))?l:"")+"  </div>\n  <time>"+r((t.fromNow||n&&n.fromNow||c).call(o,null!=n?n.createDate:n,{name:"fromNow",hash:{dropSuffix:!0},data:s}))+"</time>\n</header>\n\n<hr>\n"+(null!=(l=t.if.call(o,null!=n?n.outgoing:n,{name:"if",hash:{},fn:e.program(16,s,0),inverse:e.program(21,s,0),data:s}))?l:"")+"<br>\n\n"+(null!=(l=e.invokePartial(a["core.events.partials.user_event_footer"],n,{name:"core.events.partials.user_event_footer",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression,c=e.lambda;return'<header>\n  <a class="on-user avatar avatar-sm avatar-logo"\n     data-username="wattpad"\n     href="/user/wattpad">\n    <img src="//a.wattpad.com/img/mobile-web/white_wattpad_icon.png">\n  </a>\n  <div class="clearfix">\n    wattpad '+o((t.trans||n&&n.trans||r).call(i,"recommends",{name:"trans",hash:{},data:s}))+'\n     <a class="on-navigate"\n      href="'+o(c(null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.url:l,n))+'">\n      <strong>'+o(c(null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.title:l,n))+"</strong>\n    </a>\n  </div>\n  <time>"+o((t.fromNow||n&&n.fromNow||r).call(i,null!=n?n.createDate:n,{name:"fromNow",hash:{dropSuffix:!0},data:s}))+"</time>\n</header>\n<hr>\n"+(null!=(l=e.invokePartial(a["core.events.partials.user_event_story_meta"],n,{name:"core.events.partials.user_event_story_meta",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")+"\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression;return"         <strong>"+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.title:l,n))+" - "+r(i(null!=(l=null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.part:l)?l.title:l,n))+"</strong>\n"},3:function(e,n,t,a,s){var l;return"         <strong>"+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.title:l,n))+"</strong>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression,o=null!=n?n:e.nullContext||{},c=t.helperMissing;return'<header>\n  <a class="on-user avatar avatar-sm"\n     data-username="'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+'"\n     href="/user/'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+'">\n    <img src="'+r((t.resizeAvatar||n&&n.resizeAvatar||c).call(o,null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.avatar:l,32,{name:"resizeAvatar",hash:{},data:s}))+'">\n  </a>\n  <div class="clearfix">\n    '+r((t.trans||n&&n.trans||c).call(o,"%s voted on",null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,{name:"trans",hash:{},data:s}))+'\n    <a class="on-navigate"\n       href="'+r(i(null!=(l=null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.part:l)?l.url:l,n))+'">\n'+(null!=(l=t.if.call(o,null!=(l=null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.part:l)?l.title:l,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+"    </a>\n  </div>\n  <time>"+r((t.fromNow||n&&n.fromNow||c).call(o,null!=n?n.createDate:n,{name:"fromNow",hash:{dropSuffix:!0},data:s}))+"</time>\n</header>\n<hr>\n\n"+(null!=(l=e.invokePartial(a["core.events.partials.user_event_story_meta"],n,{name:"core.events.partials.user_event_story_meta",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")+(null!=(l=e.invokePartial(a["core.events.partials.user_event_footer"],n,{name:"core.events.partials.user_event_footer",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression;return'      <a class="on-navigate"\n         href="'+r(i(null!=(l=null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.part:l)?l.url:l,n))+'">\n         <strong>'+r(i(null!=(l=null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.part:l)?l.title:l,n))+"</strong>\n      </a>\n    "+r((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"to",{name:"trans",hash:{},data:s}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression,o=null!=n?n:e.nullContext||{},c=t.helperMissing;return'<header>\n  <a class="on-user avatar avatar-sm"\n     data-username="'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+'"\n     href="/user/'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+'">\n    <img src="'+r((t.resizeAvatar||n&&n.resizeAvatar||c).call(o,null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.avatar:l,32,{name:"resizeAvatar",hash:{},data:s}))+'">\n  </a>\n  <div class="clearfix">\n    '+r((t.trans||n&&n.trans||c).call(o,"%s posted",null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,{name:"trans",hash:{},data:s}))+"\n"+(null!=(l=t.if.call(o,null!=n?n.isNew:n,{name:"if",hash:{},fn:e.noop,inverse:e.program(1,s,0),data:s}))?l:"")+'    <a class="on-navigate"\n      href="'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.url:l,n))+'">\n      <strong>'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.title:l,n))+"</strong>\n    </a>\n  </div>\n  <time>"+r((t.fromNow||n&&n.fromNow||c).call(o,null!=n?n.createDate:n,{name:"fromNow",hash:{dropSuffix:!0},data:s}))+"</time>\n</header>\n<hr>\n"+(null!=(l=e.invokePartial(a["core.events.partials.user_event_story_meta"],n,{name:"core.events.partials.user_event_story_meta",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")+(null!=(l=e.invokePartial(a["core.events.partials.user_event_footer"],n,{name:"core.events.partials.user_event_footer",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression,o=null!=n?n:e.nullContext||{},c=t.helperMissing;return'<header>\n  <a class="on-user avatar avatar-sm"\n     data-username="'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+'"\n     href="/user/'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+'">\n    <img src="'+r((t.resizeAvatar||n&&n.resizeAvatar||c).call(o,null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.avatar:l,32,{name:"resizeAvatar",hash:{},data:s}))+'">\n  </a>\n  <div class="clearfix">\n    '+r((t.trans||n&&n.trans||c).call(o,"%s added",null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,{name:"trans",hash:{},data:s}))+'\n    <a class="on-navigate"\n      href="'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.url:l,n))+'">\n      <strong>'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.title:l,n))+"</strong>\n    </a>\n    "+r((t.trans||n&&n.trans||c).call(o,"to",{name:"trans",hash:{},data:s}))+'\n    <a class="on-navigate"\n         href="/list/'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.list:l)?l.id:l,n))+'">\n       <strong>'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.list:l)?l.name:l,n))+"</strong>\n    </a>\n  </div>\n  <time>"+r((t.fromNow||n&&n.fromNow||c).call(o,null!=n?n.createDate:n,{name:"fromNow",hash:{dropSuffix:!0},data:s}))+"</time>\n</header>\n\n<hr>\n\n"+(null!=(l=e.invokePartial(a["core.events.partials.user_event_story_meta"],n,{name:"core.events.partials.user_event_story_meta",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")+(null!=(l=e.invokePartial(a["core.events.partials.user_event_footer"],n,{name:"core.events.partials.user_event_footer",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")+"\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression,o=null!=n?n:e.nullContext||{},c=t.helperMissing;return'<header>\n <a class="on-user avatar avatar-sm"\n     data-username="'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+'"\n     href="/user/'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+'">\n    <img src="'+r((t.resizeAvatar||n&&n.resizeAvatar||c).call(o,null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.avatar:l,32,{name:"resizeAvatar",hash:{},data:s}))+'">\n  </a>\n  <div class="clearfix">\n    '+r((t.trans||n&&n.trans||c).call(o,"%s followed",null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,{name:"trans",hash:{},data:s}))+'\n    <a class="on-user"\n       data-username="'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.followed:l)?l.name:l,n))+'"\n       href="/user/'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.followed:l)?l.name:l,n))+'">\n       <strong>'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.followed:l)?l.name:l,n))+"</strong>\n    </a>\n  </div>\n  <time>"+r((t.fromNow||n&&n.fromNow||c).call(o,null!=n?n.createDate:n,{name:"fromNow",hash:{dropSuffix:!0},data:s}))+"</time>\n</header>\n\n<hr>\n\n"+(null!=(l=e.invokePartial(a["core.events.partials.user_event_user_meta"],n,{name:"core.events.partials.user_event_user_meta",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")+"\n<br>\n\n"+(null!=(l=e.invokePartial(a["core.events.partials.user_event_footer"],n,{name:"core.events.partials.user_event_footer",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression;return"         <strong>"+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.title:l,n))+" - "+r(i(null!=(l=null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.part:l)?l.title:l,n))+"</strong>\n"},3:function(e,n,t,a,s){var l;return"         <strong>"+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.title:l,n))+"</strong>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression,o=null!=n?n:e.nullContext||{},c=t.helperMissing;return'<header>\n  <a class="on-user avatar avatar-sm"\n     data-username="'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+'"\n     href="/user/'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+'">\n    <img src="'+r((t.resizeAvatar||n&&n.resizeAvatar||c).call(o,null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.avatar:l,32,{name:"resizeAvatar",hash:{},data:s}))+'">\n  </a>\n  <div class="clearfix">\n    '+r((t.trans||n&&n.trans||c).call(o,"%s commented on",null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,{name:"trans",hash:{},data:s}))+'\n    <a class="on-navigate"\n       href="'+r(i(null!=(l=null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.part:l)?l.url:l,n))+'">\n'+(null!=(l=t.if.call(o,null!=(l=null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.part:l)?l.title:l,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+"    </a>\n  </div>\n  <time>"+r((t.fromNow||n&&n.fromNow||c).call(o,null!=n?n.createDate:n,{name:"fromNow",hash:{dropSuffix:!0},data:s}))+"</time>\n</header>\n<hr>\n"+(null!=(l=e.invokePartial(a["core.events.partials.user_event_story_meta"],n,{name:"core.events.partials.user_event_story_meta",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")+"<br>\n\n<blockquote>"+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||c).call(o,null!=(l=null!=(l=null!=n?n.data:n)?l.comment:l)?l.highlighted_text:l,200,{name:"simpleShorten",hash:{},data:s}))?l:"")+'</blockquote>\n\n<div class="reply">\n  <header>\n    <a class="on-user avatar avatar-sm"\n       data-username="'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+"\"\n       href='/user/"+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+"'>\n     <img src=\""+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.avatar:l,n))+'">\n    </a>\n  <div class="clearfix title"> '+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+" </div>\n  </header>\n  <pre>"+(null!=(l=(t.linkify||n&&n.linkify||c).call(o,null!=(l=null!=(l=null!=n?n.data:n)?l.comment:l)?l.body:l,{name:"linkify",hash:{},data:s}))?l:"")+"</pre>\n</div>\n\n"+(null!=(l=e.invokePartial(a["core.events.partials.user_event_footer"],n,{name:"core.events.partials.user_event_footer",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")+"\n\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression;return"         <strong>"+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.title:l,n))+" - "+r(i(null!=(l=null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.part:l)?l.title:l,n))+"</strong>\n"},3:function(e,n,t,a,s){var l;return"         <strong>"+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.title:l,n))+"</strong>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression,o=null!=n?n:e.nullContext||{},c=t.helperMissing;return'<header>\n  <a class="on-user avatar avatar-sm"\n     data-username="'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+'"\n     href="/user/'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+'">\n    <img src="'+r((t.resizeAvatar||n&&n.resizeAvatar||c).call(o,null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.avatar:l,32,{name:"resizeAvatar",hash:{},data:s}))+'">\n  </a>\n  <div class="clearfix">\n    '+r((t.trans||n&&n.trans||c).call(o,"%s commented on",null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,{name:"trans",hash:{},data:s}))+'\n    <a class="on-story-navigate"\n       href="'+r(i(null!=(l=null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.part:l)?l.url:l,n))+'">\n'+(null!=(l=t.if.call(o,null!=(l=null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.part:l)?l.title:l,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+"    </a>\n  </div>\n  <time>"+r((t.fromNow||n&&n.fromNow||c).call(o,null!=n?n.createDate:n,{name:"fromNow",hash:{dropSuffix:!0},data:s}))+"</time>\n</header>\n<hr>\n"+(null!=(l=e.invokePartial(a["core.events.partials.user_event_story_meta"],n,{name:"core.events.partials.user_event_story_meta",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")+'<br>\n\n<div class="reply">\n  <header>\n    <a class="on-user avatar avatar-sm"\n       data-username="'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+"\"\n       href='/user/"+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+"'>\n     <img src=\""+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.avatar:l,n))+'">\n    </a>\n  <div class="clearfix title"> '+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+" </div>\n  <pre>"+(null!=(l=(t.linkify||n&&n.linkify||c).call(o,null!=(l=null!=(l=null!=n?n.data:n)?l.comment:l)?l.body:l,{name:"linkify",hash:{},data:s}))?l:"")+"</pre>\n</div>\n\n"+(null!=(l=e.invokePartial(a["core.events.partials.user_event_footer"],n,{name:"core.events.partials.user_event_footer",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")+"\n\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<div class="button-group relative dropdown">\n    <button class="btn btn-text btn-options dropdown-toggle" data-toggle="dropdown">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-more",20,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+'</button>\n    <div class="triangle"></div>\n    <ul class="dropdown-menu align-right">\n        <li><a class="on-hide" role="button" href="#" data-action="deleteEvent"> '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-remove-alt",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Delete",{name:"trans",hash:{},data:s}))+"</a></li>\n    </ul>\n</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=(t.isCurrentUser||n&&n.isCurrentUser||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.profile:n,{name:"isCurrentUser",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s,l,i){var r,o,c=null!=n?n:e.nullContext||{},u=t.helperMissing,d=e.escapeExpression;return'  <a class="on-navigate" href="'+d((t.formatStoryUrl||n&&n.formatStoryUrl||u).call(c,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'">\n      <div class="cover cover-xs pull-left">\n          <img src="'+d((t.resizeCover||n&&n.resizeCover||u).call(c,null!=n?n.cover:n,50,{name:"resizeCover",hash:{},data:s}))+'">\n      </div>\n      <div class="content">\n          <h5 class="h6">'+d("function"==typeof(o=null!=(o=t.title||(null!=n?n.title:n))?o:u)?o.call(c,{name:"title",hash:{},data:s}):o)+"</h5>\n          <small>"+d(e.lambda(null!=(r=null!=n?n.user:n)?r.name:r,n))+"</small>\n        "+(null!=(r=t.if.call(c,null!=n?n.outgoing:n,{name:"if",hash:{},fn:e.program(2,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'\n      </div>\n      <div class="meta">\n        '+(null!=(r=t.if.call(c,null!=n?n.readCount:n,{name:"if",hash:{},fn:e.program(4,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"\n        "+(null!=(r=t.if.call(c,null!=n?n.readCount:n,{name:"if",hash:{},fn:e.program(6,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'\n      </div>\n      <button class="btn btn-triangle btn-library" data-icon="true" data-story-id="'+d("function"==typeof(o=null!=(o=t.id||(null!=n?n.id:n))?o:u)?o.call(c,{name:"id",hash:{},data:s}):o)+'">\n          '+(null!=(r=(t.iconify||n&&n.iconify||u).call(c,"fa-plus",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'\n          <span class="toggle-triangle"></span>\n          <span class="toggle-shadow"></span>\n      </button>\n  </a>\n'},2:function(e,n,t,a,s,l,i){var r;return"<p>"+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Dedicated to %s",null!=(r=null!=(r=null!=i[2]?i[2].data:i[2])?r.dedicatee:r)?r.name:r,{name:"trans",hash:{},data:s}))+"</p>"},4:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<small class="reads">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-view",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.count||n&&n.count||r).call(i,null!=n?n.readCount:n,{name:"count",hash:{},data:s}))+"</small>"},6:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<small class="votes">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-vote",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.count||n&&n.count||r).call(i,null!=n?n.voteCount:n,{name:"count",hash:{},data:s}))+"</small>"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s,l,i){var r;return null!=(r=t.blockHelperMissing.call(n,e.lambda(null!=(r=null!=n?n.data:n)?r.story:r,n),{name:"data.story",hash:{},fn:e.program(1,s,0,l,i),inverse:e.noop,data:s}))?r:""},useData:!0,useDepths:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression,u=e.lambda;return'  <a class="on-navigate" href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=(l=null!=n?n.part:n)?l.url:l,{name:"formatStoryUrl",hash:{},data:s}))+'">\n    <div class="cover cover-xs pull-left">\n        <img src="'+c((t.resizeCover||n&&n.resizeCover||o).call(r,null!=n?n.cover:n,50,{name:"resizeCover",hash:{},data:s}))+'">\n    </div>\n    <div class="content">\n        <h5 class="h6">'+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+" - "+c(u(null!=(l=null!=n?n.part:n)?l.title:l,n))+"</h5>\n        <small>"+c(u(null!=(l=null!=n?n.user:n)?l.name:l,n))+'</small>\n    </div>\n    <div class="meta">\n        '+(null!=(l=t.if.call(r,null!=n?n.readCount:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+"\n        "+(null!=(l=t.if.call(r,null!=n?n.readCount:n,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")+'\n    </div>\n  </a>\n\n  <button class="btn btn-triangle btn-library" data-icon="true" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" data-toggle="tooltip" data-placement="left" title="'+c((t.trans||n&&n.trans||o).call(r,"Add to Library",{name:"trans",hash:{},data:s}))+'">\n      '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-plus",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n      <span class="toggle-triangle"></span>\n      <span class="toggle-shadow"></span>\n  </button>\n'},2:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<small class="reads">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-view",16,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.count||n&&n.count||r).call(i,null!=n?n.readCount:n,{name:"count",hash:{},data:s}))+"</small>"},4:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<small class="votes">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-vote",16,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.count||n&&n.count||r).call(i,null!=n?n.voteCount:n,{name:"count",hash:{},data:s}))+"</small>"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.blockHelperMissing.call(n,e.lambda(null!=(l=null!=n?n.data:n)?l.story:l,n),{name:"data.story",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'  <a class="on-navigate" href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'">\n    <div class="cover cover-xs pull-left">\n        <img src="'+c((t.resizeCover||n&&n.resizeCover||o).call(r,null!=n?n.cover:n,50,{name:"resizeCover",hash:{},data:s}))+'">\n    </div>\n    <div class="content">\n        <h4 class="h6">'+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+"</h4>\n        <small>"+c(e.lambda(null!=(l=null!=n?n.user:n)?l.name:l,n))+'</small>\n    </div>\n    <div class="meta">\n        '+(null!=(l=t.if.call(r,null!=n?n.readCount:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+"\n        "+(null!=(l=t.if.call(r,null!=n?n.voteCount:n,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")+'\n    </div>\n  </a>\n\n  <button class="btn btn-triangle btn-library" data-icon="true" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" data-toggle="tooltip" data-placement="left" title="'+c((t.trans||n&&n.trans||o).call(r,"Add to Library",{name:"trans",hash:{},data:s}))+'">\n      '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-plus",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n      <span class="toggle-triangle"></span>\n      <span class="toggle-shadow"></span>\n  </button>\n'},2:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<small class="reads">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-view",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.count||n&&n.count||r).call(i,null!=n?n.readCount:n,{name:"count",hash:{},data:s}))+"</small>"},4:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<small class="votes">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-vote",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.count||n&&n.count||r).call(i,null!=n?n.voteCount:n,{name:"count",hash:{},data:s}))+"</small>"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.blockHelperMissing.call(n,e.lambda(null!=(l=null!=n?n.data:n)?l.story:l,n),{name:"data.story",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c="function",u=e.escapeExpression;return'  <a class="on-navigate" href="/user/'+u(typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)===c?i.call(r,{name:"name",hash:{},data:s}):i)+'">\n    <div class="avatar avatar-md pull-left">\n        <img src="'+u((t.resizeAvatar||n&&n.resizeAvatar||o).call(r,null!=n?n.avatar:n,48,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </div>\n    <div class="content">\n        <h4 class="h5">'+u(typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)===c?i.call(r,{name:"name",hash:{},data:s}):i)+"</h4>\n        <small>\n            @"+u(typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)===c?i.call(r,{name:"name",hash:{},data:s}):i)+"\n            "+(null!=(l=t.if.call(r,null!=n?n.numWorks:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+"\n            "+(null!=(l=t.if.call(r,null!=n?n.numFollowers:n,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")+'\n        </small>\n    </div>\n      <button class="btn btn-triangle btn-fan" data-target="'+u(typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)===c?i.call(r,{name:"name",hash:{},data:s}):i)+'" data-following="'+u(typeof(i=null!=(i=t.following||(null!=n?n.following:n))?i:o)===c?i.call(r,{name:"following",hash:{},data:s}):i)+'" data-toggle="tooltip" data-placement="left" title="'+u((t.trans||n&&n.trans||o).call(r,"Follow",{name:"trans",hash:{},data:s}))+'">\n        '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-follow",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n        <span class="toggle-triangle"></span>\n        <span class="toggle-shadow"></span>\n      </button>\n  </a>\n'},2:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing;return"&middot; "+e.escapeExpression((t.sprintf||n&&n.sprintf||i).call(l,(t.ngettext||n&&n.ngettext||i).call(l,"%s Work","%s Works",null!=n?n.numWorks:n,{name:"ngettext",hash:{},data:s}),null!=n?n.numWorks:n,{name:"sprintf",hash:{},data:s}))},4:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing;return"&middot; "+e.escapeExpression((t.sprintf||n&&n.sprintf||i).call(l,(t.ngettext||n&&n.ngettext||i).call(l,"%s Follower","%s Followers",null!=n?n.numFollowers:n,{name:"ngettext",hash:{},data:s}),null!=n?n.numFollowers:n,{name:"sprintf",hash:{},data:s}))},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.blockHelperMissing.call(n,e.lambda(null!=(l=null!=n?n.data:n)?l.followed:l,n),{name:"data.followed",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return'    <h3 class="h6">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"%s dedicated %s story parts",null!=(l=null!=(l=null!=n?n.data:n)?l.dedicator:l)?l.name:l,null!=n?n.groupCount:n,{name:"trans",hash:{},data:s}))+"</h3>\n"},3:function(e,n,t,a,s){var l;return'    <h3 class="h6">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"%s received %s dedications",null!=(l=null!=(l=null!=n?n.data:n)?l.dedicatee:l)?l.name:l,null!=n?n.groupCount:n,{name:"trans",hash:{},data:s}))+"</h3>\n"},5:function(e,n,t,a,s){var l;return'    <li class="list-group-item">\n'+(null!=(l=e.invokePartial(a["core.feed_items.aggregates.item_views.feed_dedicate_item"],n,{name:"core.feed_items.aggregates.item_views.feed_dedicate_item",data:s,indent:"      ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"    </li>\n"},7:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<button data-id="'+o("function"==typeof(l=null!=(l=t.id||(null!=n?n.id:n))?l:r)?l.call(i,{name:"id",hash:{},data:s}):l)+'" class="btn btn-text on-expand">'+o((t.trans||n&&n.trans||r).call(i,"See more",{name:"trans",hash:{},data:s}))+"</button>"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=e.escapeExpression,o=null!=n?n:e.nullContext||{},c=t.helperMissing;return'<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/'+r(e.lambda(null!=(l=null!=(l=null!=n?n.data:n)?l.dedicator:l)?l.name:l,n))+'">\n      <img src="'+r((t.resizeAvatar||n&&n.resizeAvatar||c).call(o,null!=(l=null!=(l=null!=n?n.data:n)?l.dedicator:l)?l.avatar:l,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n'+(null!=(l=t.if.call(o,null!=n?n.outgoing:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+'    <time datetime="'+r("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:c)?i.call(o,{name:"createDate",hash:{},data:s}):i)+'">'+r((t.fromNow||n&&n.fromNow||c).call(o,null!=n?n.createDate:n,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(l=e.invokePartial(a["core.feed_items.feed_item_options"],n,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'</header>\n\n<ul class="list-group">\n'+(null!=(l=t.each.call(o,null!=n?n.group:n,{name:"each",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+'</ul>\n\n<footer class="panel-footer">\n  '+(null!=(l=t.if.call(o,null!=(l=null!=n?n.children:n)?l[0]:l,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")+"\n</footer>\n\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return'    <li class="list-group-item">\n'+(null!=(l=e.invokePartial(a["core.feed_items.aggregates.item_views.feed_vote_item"],n,{name:"core.feed_items.aggregates.item_views.feed_vote_item",data:s,indent:"        ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"    </li>\n"},3:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<button data-id="'+o("function"==typeof(l=null!=(l=t.id||(null!=n?n.id:n))?l:r)?l.call(i,{name:"id",hash:{},data:s}):l)+'" class="btn btn-text on-expand">'+o((t.trans||n&&n.trans||r).call(i,"See more",{name:"trans",hash:{},data:s}))+"</button>"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=e.escapeExpression,o=null!=n?n:e.nullContext||{},c=t.helperMissing;return'<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/'+r(e.lambda(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+'">\n      <img src="'+r((t.resizeAvatar||n&&n.resizeAvatar||c).call(o,null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.avatar:l,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <h3 class="h6">'+r((t.trans||n&&n.trans||c).call(o,"%s voted on %s parts",null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,null!=n?n.groupCount:n,{name:"trans",hash:{},data:s}))+'</h3>\n    <time datetime="'+r("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:c)?i.call(o,{name:"createDate",hash:{},data:s}):i)+'">'+r((t.fromNow||n&&n.fromNow||c).call(o,null!=n?n.createDate:n,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(l=e.invokePartial(a["core.feed_items.feed_item_options"],n,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'</header>\n\n<ul class="list-group">\n'+(null!=(l=t.each.call(o,null!=n?n.group:n,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'</ul>\n\n<footer class="panel-footer">\n  '+(null!=(l=t.if.call(o,null!=(l=null!=n?n.children:n)?l[0]:l,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"\n</footer>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s,l,i){var r,o,c=null!=n?n:e.nullContext||{},u=t.helperMissing,d=e.escapeExpression;return(null!=(r=t.if.call(c,null!=(r=null!=n?n.sample_covers:n)?r[0]:r,{name:"if",hash:{},fn:e.program(2,s,0,l,i),inverse:e.program(4,s,0,l,i),data:s}))?r:"")+'            <div class="content">\n                <h4 class="h3">'+d("function"==typeof(o=null!=(o=t.name||(null!=n?n.name:n))?o:u)?o.call(c,{name:"name",hash:{},data:s}):o)+"</h4>\n                <small>"+d((t.sprintf||n&&n.sprintf||u).call(c,(t.ngettext||n&&n.ngettext||u).call(c,"%s Story","%s Stories",null!=n?n.numStories:n,{name:"ngettext",hash:{},data:s}),null!=n?n.numStories:n,{name:"sprintf",hash:{},data:s}))+"</small>\n            </div>\n            </a>\n"},2:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'                <a href="/list/'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+"-"+c((t.slugify||n&&n.slugify||o).call(r,null!=n?n.name:n,{name:"slugify",hash:{},data:s}))+'" class="header panel-heading" style="background-image: url('+c((t.resizeCoverAsBackground||n&&n.resizeCoverAsBackground||o).call(r,null!=(l=null!=n?n.sample_covers:n)?l[0]:l,640,{name:"resizeCoverAsBackground",hash:{},data:s}))+');">\n'},4:function(e,n,t,a,s,l,i){var r,o,c=null!=n?n:e.nullContext||{},u=t.helperMissing,d=e.escapeExpression;return'                <a href="/list/'+d("function"==typeof(o=null!=(o=t.id||(null!=n?n.id:n))?o:u)?o.call(c,{name:"id",hash:{},data:s}):o)+"-"+d((t.slugify||n&&n.slugify||u).call(c,null!=n?n.name:n,{name:"slugify",hash:{},data:s}))+'" class="header panel-heading" style="background-image: url('+d((t.resizeCoverAsBackground||n&&n.resizeCoverAsBackground||u).call(c,null!=(r=null!=i[1]?i[1].story:i[1])?r.cover:r,640,{name:"resizeCoverAsBackground",hash:{},data:s}))+');">\n'},6:function(e,n,t,a,s){var l;return'            <li class="list-group-item">\n'+(null!=(l=e.invokePartial(a["core.feed_items.aggregates.item_views.feed_library_item"],n,{name:"core.feed_items.aggregates.item_views.feed_library_item",data:s,indent:"              ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"            </li>\n"},8:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<button data-id="'+o("function"==typeof(l=null!=(l=t.id||(null!=n?n.id:n))?l:r)?l.call(i,{name:"id",hash:{},data:s}):l)+'" class="btn btn-text on-expand">'+o((t.trans||n&&n.trans||r).call(i,"See more",{name:"trans",hash:{},data:s}))+"</button>"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s,l,i){var r,o,c=e.lambda,u=e.escapeExpression,d=null!=n?n:e.nullContext||{},h=t.helperMissing;return'<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/'+u(c(null!=(r=null!=(r=null!=n?n.data:n)?r.user:r)?r.name:r,n))+'">\n      <img src="'+u((t.resizeAvatar||n&&n.resizeAvatar||h).call(d,null!=(r=null!=(r=null!=n?n.data:n)?r.user:r)?r.avatar:r,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <h3 class="h6">'+u((t.trans||n&&n.trans||h).call(d,"%s added %s stories to %s",null!=(r=null!=(r=null!=n?n.data:n)?r.user:r)?r.name:r,null!=n?n.groupCount:n,null!=(r=null!=(r=null!=n?n.data:n)?r.list:r)?r.name:r,{name:"trans",hash:{},data:s}))+'</h3>\n    <time datetime="'+u("function"==typeof(o=null!=(o=t.createDate||(null!=n?n.createDate:n))?o:h)?o.call(d,{name:"createDate",hash:{},data:s}):o)+'">'+u((t.fromNow||n&&n.fromNow||h).call(d,null!=n?n.createDate:n,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(r=e.invokePartial(a["core.feed_items.feed_item_options"],n,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?r:"")+'</header>\n\n<div class="panel-body">\n    <div class="panel list">\n\n'+(null!=(r=t.blockHelperMissing.call(n,c(null!=(r=null!=n?n.data:n)?r.list:r,n),{name:"data.list",hash:{},fn:e.program(1,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'\n        <ul class="list-group">\n'+(null!=(r=t.each.call(d,null!=n?n.group:n,{name:"each",hash:{},fn:e.program(6,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'        </ul>\n\n    </div>\n</div>\n\n<footer class="panel-footer">\n  '+(null!=(r=t.if.call(d,null!=(r=null!=n?n.children:n)?r[0]:r,{name:"if",hash:{},fn:e.program(8,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"\n</footer>\n"},usePartial:!0,useData:!0,useDepths:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return'    <li class="list-group-item">\n'+(null!=(l=e.invokePartial(a["core.feed_items.aggregates.item_views.feed_follow_item"],n,{name:"core.feed_items.aggregates.item_views.feed_follow_item",data:s,indent:"        ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"    </li>\n"},3:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<button data-id="'+o("function"==typeof(l=null!=(l=t.id||(null!=n?n.id:n))?l:r)?l.call(i,{name:"id",hash:{},data:s}):l)+'" class="btn btn-text on-expand">'+o((t.trans||n&&n.trans||r).call(i,"See more",{name:"trans",hash:{},data:s}))+"</button>"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=e.escapeExpression,o=null!=n?n:e.nullContext||{},c=t.helperMissing;return'<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/'+r(e.lambda(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+'">\n      <img src="'+r((t.resizeAvatar||n&&n.resizeAvatar||c).call(o,null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.avatar:l,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <h3 class="h6">'+r((t.trans||n&&n.trans||c).call(o,"%s followed %s people",null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,null!=n?n.groupCount:n,{name:"trans",hash:{},data:s}))+'</h3>\n    <time datetime="'+r("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:c)?i.call(o,{name:"createDate",hash:{},data:s}):i)+'">'+r((t.fromNow||n&&n.fromNow||c).call(o,null!=n?n.createDate:n,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(l=e.invokePartial(a["core.feed_items.feed_item_options"],n,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'</header>\n\n<ul class="list-group">\n'+(null!=(l=t.each.call(o,null!=n?n.group:n,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'</ul>\n\n<footer class="panel-footer">\n  '+(null!=(l=t.if.call(o,null!=(l=null!=n?n.children:n)?l[0]:l,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"\n</footer>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'    <a href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'" class="panel story on-navigate">\n        <div class="cover cover-md pull-left">\n            <img src="'+c((t.resizeCover||n&&n.resizeCover||o).call(r,null!=n?n.cover:n,123,{name:"resizeCover",hash:{},data:s}))+'">\n        </div>\n        <div class="content">\n            <h4 class="h3">'+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+"</h4>\n            <small>"+c(e.lambda(null!=(l=null!=n?n.user:n)?l.name:l,n))+" &middot; "+c((t.sprintf||n&&n.sprintf||o).call(r,(t.ngettext||n&&n.ngettext||o).call(r,"%s Part","%s Parts",null!=n?n.numParts:n,{name:"ngettext",hash:{},data:s}),null!=n?n.numParts:n,{name:"sprintf",hash:{},data:s}))+'</small>\n            <div class="meta">\n                '+(null!=(l=t.if.call(r,null!=n?n.readCount:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+"\n                "+(null!=(l=t.if.call(r,null!=n?n.voteCount:n,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")+"\n            </div>\n            <p>"+c((t.simpleShorten||n&&n.simpleShorten||o).call(r,null!=n?n.description:n,140,!1,{name:"simpleShorten",hash:{},data:s}))+'</p>\n        </div>\n    </a>\n\n    <button class="btn btn-triangle btn-library" data-icon="true" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'">\n        '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-plus",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n        <span class="toggle-triangle"></span>\n        <span class="toggle-shadow"></span>\n    </button>\n'},2:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<small class="reads">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-view",16,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.count||n&&n.count||r).call(i,null!=n?n.readCount:n,{name:"count",hash:{},data:s}))+"</small>"},4:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<small class="votes">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-vote",16,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.count||n&&n.count||r).call(i,null!=n?n.voteCount:n,{name:"count",hash:{},data:s}))+"</small>"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/wattpad">\n      <img src="'+o((t.resizeAvatar||n&&n.resizeAvatar||r).call(i,"//a.wattpad.com/useravatar/Wattpad.128.263229.jpg",36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <h3 class="h6">'+o((t.trans||n&&n.trans||r).call(i,"wattpad recommends...",{name:"trans",hash:{},data:s}))+"</h3>\n"+(null!=(l=e.invokePartial(a["core.feed_items.feed_item_options"],n,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'</header>\n\n<div class="panel-body">\n\n'+(null!=(l=t.blockHelperMissing.call(n,e.lambda(null!=(l=null!=n?n.data:n)?l.story:l,n),{name:"data.story",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'\n</div>\n\n<footer class="panel-footer">\n    <a href="'+o((t.formatStoryUrl||n&&n.formatStoryUrl||r).call(i,null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.url:l,{name:"formatStoryUrl",hash:{},data:s}))+'" class="btn btn-text on-navigate">'+o((t.trans||n&&n.trans||r).call(i,"Story details",{name:"trans",hash:{},data:s}))+"</a>\n</footer>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s,l,i){var r;return null!=(r=t.blockHelperMissing.call(n,e.lambda(null!=(r=null!=n?n.data:n)?r.dedicatee:r,n),{name:"data.dedicatee",hash:{},fn:e.program(2,s,0,l,i),inverse:e.noop,data:s}))?r:""},2:function(e,n,t,a,s,l,i){var r,o,c=null!=n?n:e.nullContext||{},u=t.helperMissing,d="function",h=e.escapeExpression;return'        <a class="on-navigate" href="/user/'+h(typeof(o=null!=(o=t.name||(null!=n?n.name:n))?o:u)===d?o.call(c,{name:"name",hash:{},data:s}):o)+'">\n\n'+(null!=(r=t.if.call(c,null!=n?n.backgroundUrl:n,{name:"if",hash:{},fn:e.program(3,s,0,l,i),inverse:e.program(5,s,0,l,i),data:s}))?r:"")+'\n                <div class="avatar avatar-lg pull-left">\n                    <img src="'+h((t.resizeAvatar||n&&n.resizeAvatar||u).call(c,null!=n?n.avatar:n,72,{name:"resizeAvatar",hash:{},data:s}))+'">\n                </div>\n                <div class="content">\n                    <h4 class="h3">'+h(typeof(o=null!=(o=t.name||(null!=n?n.name:n))?o:u)===d?o.call(c,{name:"name",hash:{},data:s}):o)+"</h4>\n                    <small>\n                        @"+h(typeof(o=null!=(o=t.name||(null!=n?n.name:n))?o:u)===d?o.call(c,{name:"name",hash:{},data:s}):o)+"\n                        "+(null!=(r=t.if.call(c,null!=n?n.numWorks:n,{name:"if",hash:{},fn:e.program(7,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"\n                        "+(null!=(r=t.if.call(c,null!=n?n.numFollowers:n,{name:"if",hash:{},fn:e.program(9,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'\n                    </small>\n                </div>\n                <button class="btn btn-triangle btn-fan" data-target="'+h(typeof(o=null!=(o=t.name||(null!=n?n.name:n))?o:u)===d?o.call(c,{name:"name",hash:{},data:s}):o)+'" data-following="'+h(typeof(o=null!=(o=t.following||(null!=n?n.following:n))?o:u)===d?o.call(c,{name:"following",hash:{},data:s}):o)+'">\n                    '+(null!=(r=(t.iconify||n&&n.iconify||u).call(c,"fa-follow",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'\n                    <span class="toggle-triangle"></span>\n                    <span class="toggle-shadow"></span>\n                </button>\n            </header>\n        <a/>\n'},3:function(e,n,t,a,s){return'            <header class="panel-heading" style="background-image: url( '+e.escapeExpression((t.profileBackground||n&&n.profileBackground||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.backgroundUrl:n,640,{name:"profileBackground",hash:{},data:s}))+' );">\n'},5:function(e,n,t,a,s,l,i){var r;return'            <header class="panel-heading" style="background-color: '+e.escapeExpression(e.lambda(null!=(r=null!=i[2]?i[2].data:i[2])?r.highlight_colour:r,n))+';">\n'},7:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing;return"&middot; "+e.escapeExpression((t.sprintf||n&&n.sprintf||i).call(l,(t.ngettext||n&&n.ngettext||i).call(l,"%s Work","%s Works",null!=n?n.numWorks:n,{name:"ngettext",hash:{},data:s}),(t.count||n&&n.count||i).call(l,null!=n?n.numWorks:n,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))},9:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing;return"&middot; "+e.escapeExpression((t.sprintf||n&&n.sprintf||i).call(l,(t.ngettext||n&&n.ngettext||i).call(l,"%s Follower","%s Followers",null!=n?n.numFollowers:n,{name:"ngettext",hash:{},data:s}),(t.count||n&&n.count||i).call(l,null!=n?n.numFollowers:n,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s,l,i){var r,o,c,u=e.lambda,d=e.escapeExpression,h=null!=n?n:e.nullContext||{},p=t.helperMissing,m='<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/'+d(u(null!=(r=null!=(r=null!=n?n.data:n)?r.dedicator:r)?r.name:r,n))+'">\n      <img src="'+d((t.resizeAvatar||n&&n.resizeAvatar||p).call(h,null!=(r=null!=(r=null!=n?n.data:n)?r.dedicator:r)?r.avatar:r,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <h3 class="h6">'+d((t.trans||n&&n.trans||p).call(h,"%s dedicated %s - %s to %s",null!=(r=null!=(r=null!=n?n.data:n)?r.dedicator:r)?r.name:r,null!=(r=null!=(r=null!=n?n.data:n)?r.story:r)?r.title:r,null!=(r=null!=(r=null!=(r=null!=n?n.data:n)?r.story:r)?r.part:r)?r.title:r,null!=(r=null!=(r=null!=n?n.data:n)?r.dedicatee:r)?r.name:r,{name:"trans",hash:{},data:s}))+'</h3>\n    <time datetime="'+d("function"==typeof(o=null!=(o=t.createDate||(null!=n?n.createDate:n))?o:p)?o.call(h,{name:"createDate",hash:{},data:s}):o)+'">'+d((t.fromNow||n&&n.fromNow||p).call(h,null!=n?n.createDate:n,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(r=e.invokePartial(a["core.feed_items.feed_item_options"],n,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?r:"")+'</header>\n\n<div class="panel-body">\n    <div class="panel dedication">\n\n';return o=null!=(o=t.outgoing||(null!=n?n.outgoing:n))?o:p,c={name:"outgoing",hash:{},fn:e.program(1,s,0,l,i),inverse:e.noop,data:s},r="function"==typeof o?o.call(h,c):o,t.outgoing||(r=t.blockHelperMissing.call(n,r,c)),null!=r&&(m+=r),m+'\n        <ul class="list-group">\n            <li class="list-group-item single-item">\n'+(null!=(r=e.invokePartial(a["core.feed_items.aggregates.item_views.feed_vote_item"],n,{name:"core.feed_items.aggregates.item_views.feed_vote_item",data:s,indent:"                ",helpers:t,partials:a,decorators:e.decorators}))?r:"")+'            </li>\n        </ul>\n    </div>\n</div>\n\n<footer class="panel-footer">\n    <a href="'+d((t.formatStoryUrl||n&&n.formatStoryUrl||p).call(h,null!=(r=null!=(r=null!=n?n.data:n)?r.story:r)?r.url:r,{name:"formatStoryUrl",hash:{},data:s}))+'" class="btn btn-text on-navigate" data-story-id="'+d(u(null!=(r=null!=(r=null!=n?n.data:n)?r.story:r)?r.id:r,n))+'">\n        '+d((t.trans||n&&n.trans||p).call(h,"Story details",{name:"trans",hash:{},data:s}))+"\n    </a>\n</footer>\n\n"},usePartial:!0,useData:!0,useDepths:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression,u=e.lambda;return'    <a href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'" class="panel vote on-navigate">\n        <div class="cover cover-xs pull-left">\n            <img src="'+c((t.resizeCover||n&&n.resizeCover||o).call(r,null!=n?n.cover:n,50,{name:"resizeCover",hash:{},data:s}))+'">\n        </div>\n        <div class="content">\n            <h4 class="h3">'+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+" - "+c(u(null!=(l=null!=n?n.part:n)?l.title:l,n))+"</h4>\n            <small>"+c(u(null!=(l=null!=n?n.user:n)?l.name:l,n))+" &middot; "+c((t.sprintf||n&&n.sprintf||o).call(r,(t.ngettext||n&&n.ngettext||o).call(r,"%s Part","%s Parts",null!=n?n.numParts:n,{name:"ngettext",hash:{},data:s}),null!=n?n.numParts:n,{name:"sprintf",hash:{},data:s}))+'</small>\n            <div class="meta">\n                '+(null!=(l=t.if.call(r,null!=n?n.readCount:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+"\n                "+(null!=(l=t.if.call(r,null!=n?n.voteCount:n,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")+'\n            </div>\n        </div>\n    </a>\n    <button class="btn btn-triangle btn-library" data-icon="true" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" data-toggle="tooltip" data-placement="left" title="'+c((t.trans||n&&n.trans||o).call(r,"Add to Library",{name:"trans",hash:{},data:s}))+'">\n        '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-plus",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n        <span class="toggle-triangle"></span>\n        <span class="toggle-shadow"></span>\n    </button>\n'},2:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<small class="reads">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-view",16,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.count||n&&n.count||r).call(i,null!=n?n.readCount:n,{name:"count",hash:{},data:s}))+"</small>"},4:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<small class="votes">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-vote",16,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.count||n&&n.count||r).call(i,null!=n?n.voteCount:n,{name:"count",hash:{},data:s}))+"</small>"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=e.lambda,o=e.escapeExpression,c=null!=n?n:e.nullContext||{},u=t.helperMissing;return'<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/'+o(r(null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,n))+'">\n      <img src="'+o((t.resizeAvatar||n&&n.resizeAvatar||u).call(c,null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.avatar:l,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <h3 class="h6">'+o((t.trans||n&&n.trans||u).call(c,"%s voted on %s - %s",null!=(l=null!=(l=null!=n?n.data:n)?l.user:l)?l.name:l,null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.title:l,null!=(l=null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.part:l)?l.title:l,{name:"trans",hash:{},data:s}))+'</h3>\n    <time datetime="'+o("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:u)?i.call(c,{name:"createDate",hash:{},data:s}):i)+'">'+o((t.fromNow||n&&n.fromNow||u).call(c,null!=n?n.createDate:n,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(l=e.invokePartial(a["core.feed_items.feed_item_options"],n,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'</header>\n\n<div class="panel-body">\n\n'+(null!=(l=t.blockHelperMissing.call(n,r(null!=(l=null!=n?n.data:n)?l.story:l,n),{name:"data.story",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'\n</div>\n\n<footer class="panel-footer">\n    <a href="'+o((t.formatStoryUrl||n&&n.formatStoryUrl||u).call(c,null!=(l=null!=(l=null!=n?n.data:n)?l.story:l)?l.url:l,{name:"formatStoryUrl",hash:{},data:s}))+'" class="btn btn-text on-navigate">'+o((t.trans||n&&n.trans||u).call(c,"Story details",{name:"trans",hash:{},data:s}))+"</a>\n</footer>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s,l,i){var r,o,c=null!=n?n:e.nullContext||{},u=t.helperMissing,d=e.escapeExpression;return(null!=(r=t.if.call(c,null!=(r=null!=n?n.sample_covers:n)?r[0]:r,{name:"if",hash:{},fn:e.program(2,s,0,l,i),inverse:e.program(4,s,0,l,i),data:s}))?r:"")+'            <div class="content">\n                <h4 class="h3">'+d("function"==typeof(o=null!=(o=t.name||(null!=n?n.name:n))?o:u)?o.call(c,{name:"name",hash:{},data:s}):o)+"</h4>\n                <small>"+d((t.sprintf||n&&n.sprintf||u).call(c,(t.ngettext||n&&n.ngettext||u).call(c,"%s Story","%s Stories",null!=n?n.numStories:n,{name:"ngettext",hash:{},data:s}),null!=n?n.numStories:n,{name:"sprintf",hash:{},data:s}))+"</small>\n            </div>\n        </a>\n"},2:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'        <a href="/list/'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+"-"+c((t.slugify||n&&n.slugify||o).call(r,null!=n?n.name:n,{name:"slugify",hash:{},data:s}))+'" class="header panel-heading" style="background-image: url('+c((t.resizeCoverAsBackground||n&&n.resizeCoverAsBackground||o).call(r,null!=(l=null!=n?n.sample_covers:n)?l[0]:l,640,{name:"resizeCoverAsBackground",hash:{},data:s}))+');">\n'},4:function(e,n,t,a,s,l,i){var r,o,c=null!=n?n:e.nullContext||{},u=t.helperMissing,d=e.escapeExpression;return'        <a href="/list/'+d("function"==typeof(o=null!=(o=t.id||(null!=n?n.id:n))?o:u)?o.call(c,{name:"id",hash:{},data:s}):o)+"-"+d((t.slugify||n&&n.slugify||u).call(c,null!=n?n.name:n,{name:"slugify",hash:{},data:s}))+'" class="header panel-heading" style="background-image: url('+d((t.resizeCoverAsBackground||n&&n.resizeCoverAsBackground||u).call(c,null!=(r=null!=i[1]?i[1].story:i[1])?r.cover:r,640,{name:"resizeCoverAsBackground",hash:{},data:s}))+');">\n'},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s,l,i){var r,o,c=e.lambda,u=e.escapeExpression,d=null!=n?n:e.nullContext||{},h=t.helperMissing;return'<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/'+u(c(null!=(r=null!=(r=null!=n?n.data:n)?r.user:r)?r.name:r,n))+'">\n      <img src="'+u((t.resizeAvatar||n&&n.resizeAvatar||h).call(d,null!=(r=null!=(r=null!=n?n.data:n)?r.user:r)?r.avatar:r,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n\n    <h3 class="h6">'+u((t.trans||n&&n.trans||h).call(d,"%s added %s to %s",null!=(r=null!=(r=null!=n?n.data:n)?r.user:r)?r.name:r,null!=(r=null!=(r=null!=n?n.data:n)?r.story:r)?r.title:r,null!=(r=null!=(r=null!=n?n.data:n)?r.list:r)?r.name:r,{name:"trans",hash:{},data:s}))+'</h3>\n    <time datetime="'+u("function"==typeof(o=null!=(o=t.createDate||(null!=n?n.createDate:n))?o:h)?o.call(d,{name:"createDate",hash:{},data:s}):o)+'">'+u((t.fromNow||n&&n.fromNow||h).call(d,null!=n?n.createDate:n,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(r=e.invokePartial(a["core.feed_items.feed_item_options"],n,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?r:"")+'</header>\n\n<div class="panel-body">\n    <article class="panel list">\n\n'+(null!=(r=t.blockHelperMissing.call(n,c(null!=(r=null!=n?n.data:n)?r.list:r,n),{name:"data.list",hash:{},fn:e.program(1,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'\n        <ul class="list-group">\n            <li class="list-group-item single-item">\n'+(null!=(r=e.invokePartial(a["core.feed_items.aggregates.item_views.feed_library_item"],n,{name:"core.feed_items.aggregates.item_views.feed_library_item",data:s,indent:"              ",helpers:t,partials:a,decorators:e.decorators}))?r:"")+'            </li>\n        </ul>\n\n    </article>\n</div>\n\n<footer class="panel-footer">\n    <a href="/list/'+u(c(null!=(r=null!=(r=null!=n?n.data:n)?r.list:r)?r.id:r,n))+'" class="btn btn-text on-navigate">\n      '+u((t.trans||n&&n.trans||h).call(d,"View reading list",{name:"trans",hash:{},data:s}))+"\n    </a>\n</footer>\n"},usePartial:!0,useData:!0,useDepths:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s,l,i){var r,o,c=null!=n?n:e.nullContext||{},u=t.helperMissing,d=e.escapeExpression;return(null!=(r=t.if.call(c,null!=n?n.backgroundUrl:n,{name:"if",hash:{},fn:e.program(2,s,0,l,i),inverse:e.program(4,s,0,l,i),data:s}))?r:"")+'        <div class="avatar avatar-lg pull-left">\n            <img src="'+d((t.resizeAvatar||n&&n.resizeAvatar||u).call(c,null!=n?n.avatar:n,72,{name:"resizeAvatar",hash:{},data:s}))+'">\n        </div>\n        <div class="content">\n            <h4 class="h3">'+d("function"==typeof(o=null!=(o=t.name||(null!=n?n.name:n))?o:u)?o.call(c,{name:"name",hash:{},data:s}):o)+"</h4>\n            <small>\n                @"+d("function"==typeof(o=null!=(o=t.name||(null!=n?n.name:n))?o:u)?o.call(c,{name:"name",hash:{},data:s}):o)+"\n                "+(null!=(r=t.if.call(c,null!=n?n.numWorks:n,{name:"if",hash:{},fn:e.program(6,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"\n                "+(null!=(r=t.if.call(c,null!=n?n.numFollowers:n,{name:"if",hash:{},fn:e.program(8,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'\n            </small>\n        </div>\n    </a>\n\n    <button class="btn btn-triangle btn-fan" data-target="'+d("function"==typeof(o=null!=(o=t.name||(null!=n?n.name:n))?o:u)?o.call(c,{name:"name",hash:{},data:s}):o)+'" data-following="'+d("function"==typeof(o=null!=(o=t.following||(null!=n?n.following:n))?o:u)?o.call(c,{name:"following",hash:{},data:s}):o)+'" data-toggle="tooltip" data-placement="left" title="'+d((t.trans||n&&n.trans||u).call(c,"Follow",{name:"trans",hash:{},data:s}))+'">\n        '+(null!=(r=(t.iconify||n&&n.iconify||u).call(c,"fa-follow",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'\n        <span class="toggle-triangle"></span>\n        <span class="toggle-shadow"></span>\n    </button>\n'},2:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'        <a href="/user/'+o("function"==typeof(l=null!=(l=t.name||(null!=n?n.name:n))?l:r)?l.call(i,{name:"name",hash:{},data:s}):l)+'" class="panel on-navigate follow" style="background-image: url( '+o((t.profileBackground||n&&n.profileBackground||r).call(i,null!=n?n.backgroundUrl:n,640,{name:"profileBackground",hash:{},data:s}))+' );">\n'},4:function(e,n,t,a,s,l,i){var r,o,c=e.escapeExpression;return'        <a href="/user/'+c("function"==typeof(o=null!=(o=t.name||(null!=n?n.name:n))?o:t.helperMissing)?o.call(null!=n?n:e.nullContext||{},{name:"name",hash:{},data:s}):o)+'" class="panel on-navigate follow" style="background-color: '+c(e.lambda(null!=(r=null!=i[1]?i[1].data:i[1])?r.highlight_colour:r,n))+'">\n'},6:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing;return"&middot; "+e.escapeExpression((t.sprintf||n&&n.sprintf||i).call(l,(t.ngettext||n&&n.ngettext||i).call(l,"%s Work","%s Works",null!=n?n.numWorks:n,{name:"ngettext",hash:{},data:s}),null!=n?n.numWorks:n,{name:"sprintf",hash:{},data:s}))},8:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing;return"&middot; "+e.escapeExpression((t.sprintf||n&&n.sprintf||i).call(l,(t.ngettext||n&&n.ngettext||i).call(l,"%s Follower","%s Followers",null!=n?n.numFollowers:n,{name:"ngettext",hash:{},data:s}),null!=n?n.numFollowers:n,{name:"sprintf",hash:{},data:s}))},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s,l,i){var r,o,c=e.lambda,u=e.escapeExpression,d=null!=n?n:e.nullContext||{},h=t.helperMissing;return'<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/'+u(c(null!=(r=null!=(r=null!=n?n.data:n)?r.user:r)?r.name:r,n))+'">\n      <img src="'+u((t.resizeAvatar||n&&n.resizeAvatar||h).call(d,null!=(r=null!=(r=null!=n?n.data:n)?r.user:r)?r.avatar:r,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <h3 class="h6">'+u((t.trans||n&&n.trans||h).call(d,"%1$s followed %2$s",null!=(r=null!=(r=null!=n?n.data:n)?r.user:r)?r.name:r,null!=(r=null!=(r=null!=n?n.data:n)?r.followed:r)?r.name:r,{name:"trans",hash:{},data:s}))+'</h3>\n    <time datetime="'+u("function"==typeof(o=null!=(o=t.createDate||(null!=n?n.createDate:n))?o:h)?o.call(d,{name:"createDate",hash:{},data:s}):o)+'">'+u((t.fromNow||n&&n.fromNow||h).call(d,null!=n?n.createDate:n,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(r=e.invokePartial(a["core.feed_items.feed_item_options"],n,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?r:"")+'</header>\n\n<div class="panel-body">\n\n'+(null!=(r=t.blockHelperMissing.call(n,c(null!=(r=null!=n?n.data:n)?r.followed:r,n),{name:"data.followed",hash:{},fn:e.program(1,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'\n</div>\n\n<footer class="panel-footer">\n  <a href="/user/'+u(c(null!=(r=null!=(r=null!=n?n.data:n)?r.followed:r)?r.name:r,n))+'" class="btn btn-text on-navigate">'+u((t.trans||n&&n.trans||h).call(d,"View profile",{name:"trans",hash:{},data:s}))+"</a>\n</footer>\n"},usePartial:!0,useData:!0,useDepths:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'  <div class="collection"></div>\n  <div class="show-more hidden center-text">\n    <button class="btn btn-link on-showmore">\n        <span class=\'show-more-message\'>\n            <span>'+o((t.trans||n&&n.trans||r).call(i,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n            <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n        </span>\n        <span class='loading-message'>\n            "+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||r).call(i,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?l:"")+"\n            <span> "+o((t.trans||n&&n.trans||r).call(i,"Loading",{name:"trans",hash:{},data:s}))+" ...</span>\n        </span>\n    </button>\n  </div>\n"},3:function(e,n,t,a,s){return'  <div class="collection">\n    <p class="no-item">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"No items available at the moment",{name:"trans",hash:{},data:s}))+"</p>\n  </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{};return"<h5> "+e.escapeExpression("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:t.helperMissing)?i.call(r,{name:"title",hash:{},data:s}):i)+" </h5>\n<hr>\n"+(null!=(l=t.if.call(r,null!=n?n.hasItems:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+"\n\n\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'      <small class="x-small offensive">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-warning",13,"wp-error-1",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"this message may be offensive",{name:"trans",hash:{},data:s}))+"</small>\n"},3:function(e,n,t,a,s){var l;return"        <pre>"+(null!=(l=(t.linkify||n&&n.linkify||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.body:n,{name:"linkify",hash:{},data:s}))?l:"")+"</pre>\n"},5:function(e,n,t,a,s){var l,i,r,o="";return i=null!=(i=t.beautifyUrlMetadata||(null!=n?n.beautifyUrlMetadata:n))?i:t.helperMissing,r={name:"beautifyUrlMetadata",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(null!=n?n:e.nullContext||{},r):i,t.beautifyUrlMetadata||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(o+=l),o},6:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["core.shared.beautify_url"],n,{name:"core.shared.beautify_url",data:s,indent:"          ",helpers:t,partials:a,decorators:e.decorators}))?l:""},8:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'            <li>\n              <a class="on-delete" role="button" href="#">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-trash",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Delete Message",{name:"trans",hash:{},data:s}))+"</a>\n            </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=e.lambda,o=e.escapeExpression,c=null!=n?n:e.nullContext||{},u=t.helperMissing;return'<div class="panel-body message latest-replies reply-new">\n  <a class="avatar avatar-xs2 on-navigate" href="/user/'+o(r(null!=(l=null!=n?n.from:n)?l.name:l,n))+'">\n    <img src="'+o((t.resizeAvatar||n&&n.resizeAvatar||u).call(c,null!=(l=null!=n?n.from:n)?l.avatar:l,30,{name:"resizeAvatar",hash:{},data:s}))+'">\n  </a>\n\n  <div class="message-wrapper">\n    <h3 class="h6 from-name"><a class="username on-navigate" href="/user/'+o(r(null!=(l=null!=n?n.from:n)?l.name:l,n))+'">'+o(r(null!=(l=null!=n?n.from:n)?l.name:l,n))+'</a></h3>\n    <div class="body dark-grey">\n'+(null!=(l=t.if.call(c,null!=n?n.isOffensive:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(c,null!=n?n.body:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(c,null!=n?n.beautifyUrlMetadata:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+'    </div>\n\n    <div class="reply-meta">\n      <time class="timestamp" datetime="'+o("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:u)?i.call(c,{name:"createDate",hash:{},data:s}):i)+'">'+o((t.fromNow||n&&n.fromNow||u).call(c,null!=n?n.createDate:n,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+'</time>\n      <span class="bullet">&bull;</span>\n      <span class="reply-wrapper"><a class="on-reply" role="button" href="#">'+o((t.trans||n&&n.trans||u).call(c,"Reply",{name:"trans",hash:{},data:s}))+'</a></span>\n    </div>\n  </div>\n\n    <div class="button-group dropdown">\n        <button class="btn btn-text btn-options dropdown-toggle" data-toggle="dropdown">'+(null!=(l=(t.iconify||n&&n.iconify||u).call(c,"fa-more",20,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'</button>\n        <div class="triangle"></div>\n        <ul class="dropdown-menu align-right extra-right">\n          <li><a class="on-report" role="button" href="#">'+(null!=(l=(t.iconify||n&&n.iconify||u).call(c,"fa-flag",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.trans||n&&n.trans||u).call(c,"Report Message",{name:"trans",hash:{},data:s}))+"</a></li>\n"+(null!=(l=t.if.call(c,null!=n?n.canDelete:n,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?l:"")+'        </ul>\n    </div>\n\n    <div class="message-report-modal-reply">\n    </div>\n\n</div>\n'},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression;return'  <button type="button" class="on-reply btn btn-sm btn-grey"\n    data-target="#replies-'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.message:l)?l.id:l,n))+'"\n    data-id="'+r(i(null!=(l=null!=(l=null!=n?n.data:n)?l.message:l)?l.id:l,n))+'">\n      '+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=(l=null!=n?n.data:n)?l.message:l)?l.numReplies:l,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(4,s,0),data:s}))?l:"")+"\n  </button>\n"},2:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return" "+e.escapeExpression((t.sprintf||n&&n.sprintf||r).call(i,(t.ngettext||n&&n.ngettext||r).call(i,"%s Reply","%s Replies",null!=(l=null!=(l=null!=n?n.data:n)?l.message:l)?l.numReplies:l,{name:"ngettext",hash:{},data:s}),null!=(l=null!=(l=null!=n?n.data:n)?l.message:l)?l.numReplies:l,{name:"sprintf",hash:{},data:s}))+" "},4:function(e,n,t,a,s){return" "+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Reply",{name:"trans",hash:{},data:s}))},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.isValidMessage:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'    <small class="x-small offensive">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-warning",13,"wp-error-1",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"this message may be offensive",{name:"trans",hash:{},data:s}))+"</small>\n"},3:function(e,n,t,a,s){var l;return"      <pre>"+(null!=(l=(t.linkify||n&&n.linkify||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.pinnedItem:n)?l.body:l,{name:"linkify",hash:{},data:s}))?l:"")+"</pre>\n"},5:function(e,n,t,a,s){var l;return null!=(l=t.blockHelperMissing.call(n,e.lambda(null!=(l=null!=n?n.pinnedItem:n)?l.beautifyUrlMetadata:l,n),{name:"pinnedItem.beautifyUrlMetadata",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?l:""},6:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["core.shared.beautify_url"],n,{name:"core.shared.beautify_url",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?l:""},8:function(e,n,t,a,s){return" hidden "},10:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=e.escapeExpression,c=e.lambda;return'  <div id="'+(null!=(l=t.if.call(r,null!=n?n.pinnedItem:n,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s}))?l:"")+"replies-"+o("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:t.helperMissing)?i.call(r,{name:"id",hash:{},data:s}):i)+"\"\n      class='replies-list collapse'\n      data-id=\""+o(c(null!=(l=null!=n?n.pinnedItem:n)?l.id:l,n))+'"\n      data-profile-owner="'+o(c(null!=(l=null!=n?n.pinnedItem:n)?l.username:l,n))+'"\n      data-message-owner="'+o(c(null!=(l=null!=(l=null!=n?n.pinnedItem:n)?l.from:l)?l.name:l,n))+'">\n  </div>\n'},11:function(e,n,t,a,s){return"pinned-"},13:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["core.feed_items.feed_message_reply"],n,{name:"core.feed_items.feed_message_reply",data:s,indent:"  ",helpers:t,partials:a,decorators:e.decorators}))?l:""},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=e.lambda,o=e.escapeExpression,c=null!=n?n:e.nullContext||{},u=t.helperMissing;return'<div class="pinned-icon" data-toggle="tooltip" data-placement="top" title="last message from '+o(r(null!=(l=null!=(l=null!=n?n.pinnedItem:n)?l.from:l)?l.name:l,n))+'">'+(null!=(l=(t.iconify||n&&n.iconify||u).call(c,"fa-pin",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'</div>\n\n<header class="panel-heading message-heading">\n    <a class="avatar avatar-sm3 on-navigate" href="/user/'+o(r(null!=(l=null!=(l=null!=n?n.pinnedItem:n)?l.from:l)?l.name:l,n))+'">\n      <img src="'+o((t.resizeAvatar||n&&n.resizeAvatar||u).call(c,null!=(l=null!=(l=null!=n?n.pinnedItem:n)?l.from:l)?l.avatar:l,42,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n\n    <h3 class="h6 from-name">'+o(r(null!=(l=null!=(l=null!=n?n.pinnedItem:n)?l.from:l)?l.name:l,n))+'</h3>\n\n    <time class="timestamp" datetime="'+o(r(null!=(l=null!=n?n.pinnedItem:n)?l.createDate:l,n))+'">'+o((t.fromNow||n&&n.fromNow||u).call(c,null!=(l=null!=n?n.pinnedItem:n)?l.createDate:l,{name:"fromNow",hash:{},data:s}))+"</time>\n"+(null!=(l=e.invokePartial(a["core.feed_items.feed_item_message_options"],n,{name:"core.feed_items.feed_item_message_options",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'</header>\n\n<div class="panel-body message dark-grey new-message">\n'+(null!=(l=t.if.call(c,null!=(l=null!=n?n.pinnedItem:n)?l.isOffensive:l,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(c,null!=(l=null!=n?n.pinnedItem:n)?l.body:l,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"</div>\n\n"+(null!=(l=t.if.call(c,null!=(l=null!=n?n.pinnedItem:n)?l.beautifyUrlMetadata:l,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+'\n<button class="btn btn-white btn-block btn-replies on-reply '+(null!=(l=t.if.call(c,null!=(l=null!=n?n.pinnedItem:n)?l.numReplies:l,{name:"if",hash:{},fn:e.noop,inverse:e.program(8,s,0),data:s}))?l:"")+'"\n  type="button" data-toggle="collapse" data-target="#replies-'+o("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:u)?i.call(c,{name:"id",hash:{},data:s}):i)+'">\n   '+(null!=(l=(t.iconify||n&&n.iconify||u).call(c,"fa-comment",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+(null!=(l=(t.sprintf||n&&n.sprintf||u).call(c,(t.ngettext||n&&n.ngettext||u).call(c,"View %s more reply","View %s more replies",null!=(l=null!=n?n.pinnedItem:n)?l.numReplies:l,{name:"ngettext",hash:{},data:s}),null!=(l=null!=n?n.pinnedItem:n)?l.numReplies:l,{name:"sprintf",hash:{},data:s}))?l:"")+"\n</button>\n\n"+(null!=(l=t.if.call(c,null!=(l=null!=n?n.pinnedItem:n)?l.isReply:l,{name:"if",hash:{},fn:e.noop,inverse:e.program(10,s,0),data:s}))?l:"")+"\n"+(null!=(l=t.each.call(c,null!=(l=null!=n?n.pinnedItem:n)?l.latestReplies:l,{name:"each",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?l:"")+"\n<footer class=\"panel-footer new-message\">\n  <a href class='btn btn-text btn-reply-link new-reply'>"+(null!=(l=(t.trans||n&&n.trans||u).call(c,"Reply",{name:"trans",hash:{},data:s}))?l:"")+"</a>\n</footer>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return'    <div class="show-more hidden">\n        <button class="btn btn-sm btn-default btn-block on-showmore">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Show More",{name:"trans",hash:{},data:s}))+" </button>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.hasReplies:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'<div class="collection"></div>\n'},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){return'<ul class="list-group collection new-feed-messages"></ul>\n'},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return'<a class="cover cover-md empty-cover"><div class="fixed-ratio fixed-ratio-cover"></div></a>\n'},3:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c="function",u=e.escapeExpression;return'\n<a class="cover cover-home on-navigate" data-target="'+u(typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)===c?i.call(r,{name:"id",hash:{},data:s}):i)+'" data-type="'+u(typeof(i=null!=(i=t.type||(null!=n?n.type:n))?i:o)===c?i.call(r,{name:"type",hash:{},data:s}):i)+'" href="/list/'+u(typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)===c?i.call(r,{name:"id",hash:{},data:s}):i)+'">\n  <div class="fixed-ratio fixed-ratio-lists">\n'+(null!=(l=t.if.call(r,null!=n?n.isDesktop:n,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.program(6,s,0),data:s}))?l:"")+'  </div>\n</a>\n\n<div class="content" data-target="'+u(typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)===c?i.call(r,{name:"id",hash:{},data:s}):i)+'" data-type="'+u(typeof(i=null!=(i=t.type||(null!=n?n.type:n))?i:o)===c?i.call(r,{name:"type",hash:{},data:s}):i)+'">\n  <a class="title meta on-navigate" href="/list/'+u(typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)===c?i.call(r,{name:"id",hash:{},data:s}):i)+'">'+(null!=(l=t.if.call(r,null!=n?n.isDesktop:n,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.program(10,s,0),data:s}))?l:"")+'</a>\n  <div class="num-stories meta">'+u((t.sprintf||n&&n.sprintf||o).call(r,(t.ngettext||n&&n.ngettext||o).call(r,"%s Story","%s Stories",null!=n?n.numStories:n,{name:"ngettext",hash:{},data:s}),null!=n?n.numStories:n,{name:"sprintf",hash:{},data:s}))+'</div>\n  <div class="tags meta">\n    '+(null!=(l=t.each.call(r,null!=n?n.tags:n,{name:"each",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?l:"")+"\n  </div>\n</div>\n\n"},4:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'    <img src="'+o((t.resizeCover||n&&n.resizeCover||r).call(i,null!=n?n.background:n,142,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o((t.trans||n&&n.trans||r).call(i,"%1$s by %2$s",null!=n?n.name:n,null!=(l=null!=n?n.user:n)?l.name:l,{name:"trans",hash:{},data:s}))+'">\n'},6:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'    <img src="'+o((t.resizeCover||n&&n.resizeCover||r).call(i,null!=n?n.background:n,92,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o((t.trans||n&&n.trans||r).call(i,"%1$s by %2$s",null!=n?n.name:n,null!=(l=null!=n?n.user:n)?l.name:l,{name:"trans",hash:{},data:s}))+'">\n'},8:function(e,n,t,a,s){var l;return null!=(l=(t.simpleShorten||n&&n.simpleShorten||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.name:n,35,!1,{name:"simpleShorten",hash:{},data:s}))?l:""},10:function(e,n,t,a,s){var l;return null!=(l=(t.simpleShorten||n&&n.simpleShorten||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.name:n,28,!1,{name:"simpleShorten",hash:{},data:s}))?l:""},12:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return" "+(null!=(l=(t.linkify||n&&n.linkify||r).call(i,(t.sprintf||n&&n.sprintf||r).call(i,"#%s",n,{name:"sprintf",hash:{},data:s}),{name:"linkify",hash:{},data:s}))?l:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.empty:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'                <img src="'+o((t.resizeCover||n&&n.resizeCover||r).call(i,null!=n?n.cover:n,142,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o((t.trans||n&&n.trans||r).call(i,"%1$s by %2$s",null!=n?n.title:n,null!=(l=null!=n?n.user:n)?l.name:l,{name:"trans",hash:{},data:s}))+'">\n'},3:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'                <img src="'+o((t.resizeCover||n&&n.resizeCover||r).call(i,null!=n?n.cover:n,92,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o((t.trans||n&&n.trans||r).call(i,"%1$s by %2$s",null!=n?n.title:n,null!=(l=null!=n?n.user:n)?l.name:l,{name:"trans",hash:{},data:s}))+'">\n'},5:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'        <div class="content" data-target="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" data-type="'+c("function"==typeof(i=null!=(i=t.type||(null!=n?n.type:n))?i:o)?i.call(r,{name:"type",hash:{},data:s}):i)+'">\n            <a class="title meta on-contest-reading" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'">\n                '+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||o).call(r,null!=n?n.title:n,null!=n?n.titleCharLimit:n,!1,{name:"simpleShorten",hash:{},data:s}))?l:"")+'\n            </a>\n            <div class="description">'+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||o).call(r,null!=n?n.description:n,null!=n?n.descCharLimit:n,!1,{name:"simpleShorten",hash:{},data:s}))?l:"")+"</div>\n"+(null!=(l=t.if.call(r,null!=(l=null!=n?n.contest:n)?l.ctaLabel:l,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?l:"")+"        </div>\n"},6:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'            <div class="contest-cta-container">\n                <a class="contest-cta on-contest-reading" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'">'+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||o).call(r,null!=(l=null!=n?n.contest:n)?l.ctaLabel:l,15,!1,{name:"simpleShorten",hash:{},data:s}))?l:"")+"</a>\n            </div>\n"},8:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'    <div class="contest-copy challenge">\n        '+(null!=(l=(t.connectImage||n&&n.connectImage||r).call(i,"contest-discovery/pen.svg","Pen",{name:"connectImage",hash:{width:"24",height:"18",klass:"icon"},data:s}))?l:"")+'\n        <p><span class="bold">Challenge: </span>'+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||r).call(i,null!=(l=null!=n?n.contest:n)?l.challenge:l,null!=n?n.contestCopyLimit:n,!1,{name:"simpleShorten",hash:{},data:s}))?l:"")+"</p>\n    </div>\n"},10:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'    <div class="contest-copy prizes">\n        '+(null!=(l=(t.connectImage||n&&n.connectImage||r).call(i,"contest-discovery/trophy.svg","Trophy",{name:"connectImage",hash:{width:"24",height:"18",klass:"icon"},data:s}))?l:"")+'\n        <p><span class="bold">Prizes: </span>'+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||r).call(i,null!=(l=null!=n?n.contest:n)?l.prize:l,null!=n?n.contestCopyLimit:n,!1,{name:"simpleShorten",hash:{},data:s}))?l:"")+"</p>\n    </div>\n"},12:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.contest:n)?l.ctaLabel:l,{name:"if",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?l:""},13:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'    <div class="contest-cta-container-mw">\n        <a class="contest-cta on-contest-reading" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'">'+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||o).call(r,null!=(l=null!=n?n.contest:n)?l.ctaLabel:l,15,!1,{name:"simpleShorten",hash:{},data:s}))?l:"")+"</a>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div class="contest-left">\n    <a class="cover cover-home on-contest-reading send-cover-event" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'">\n        <div class="fixed-ratio fixed-ratio-cover">\n'+(null!=(l=t.if.call(r,null!=n?n.isDesktop:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+"        </div>\n    </a>\n"+(null!=(l=t.unless.call(r,null!=n?n.isMobile:n,{name:"unless",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+'</div>\n<div class="contest-right">\n'+(null!=(l=t.if.call(r,null!=(l=null!=n?n.contest:n)?l.challenge:l,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?l:"")+'    <div class="contest-copy deadline">\n        '+(null!=(l=(t.connectImage||n&&n.connectImage||o).call(r,"contest-discovery/calendar.svg","Calendar",{name:"connectImage",hash:{width:"24",height:"18",klass:"icon"},data:s}))?l:"")+'\n        <p><span class="bold">Deadline: </span>'+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||o).call(r,null!=(l=null!=n?n.contest:n)?l.endDate:l,null!=n?n.contestCopyLimit:n,!1,{name:"simpleShorten",hash:{},data:s}))?l:"")+"</p>\n    </div>\n"+(null!=(l=t.if.call(r,null!=(l=null!=n?n.contest:n)?l.prize:l,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?l:"")+"</div>\n"+(null!=(l=t.if.call(r,null!=n?n.isMobile:n,{name:"if",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?l:"")},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'      <li>\n          <a class="tag-item on-navigate" href="/stories/'+o((t.urlEncodeWithSpace||n&&n.urlEncodeWithSpace||r).call(i,null!=n?n.name:n,{name:"urlEncodeWithSpace",hash:{},data:s}))+'">'+o("function"==typeof(l=null!=(l=t.name||(null!=n?n.name:n))?l:r)?l.call(i,{name:"name",hash:{},data:s}):l)+"</a>\n      </li>\n"},3:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'    <span class="num-not-shown on-story-preview" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'">'+c((t.trans||n&&n.trans||o).call(r,"+%s more",null!=(l=null!=n?n.tagMeta:n)?l.numNotShown:l,{name:"trans",hash:{},data:s}))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'<div class="tag-meta clearfix">\n  <ul class="tag-items">\n'+(null!=(l=t.each.call(i,null!=(l=null!=n?n.tagMeta:n)?l.tags:l,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"  </ul>\n\n"+(null!=(l=t.if.call(i,null!=(l=null!=n?n.tagMeta:n)?l.numNotShown:l,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return'<a class="cover cover-home empty-cover-large">\n    <div class="fixed-ratio fixed-ratio-cover">\n    </div>\n</a>\n'},3:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<a class="send-cover-event'+(null!=(l=t.if.call(r,null!=n?n.isRecentlyRead:n,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.program(6,s,0),data:s}))?l:"")+' cover cover-home" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'">\n    <div class="fixed-ratio fixed-ratio-cover">\n'+(null!=(l=t.if.call(r,null!=n?n.isDesktop:n,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.program(10,s,0),data:s}))?l:"")+"    </div>\n</a>\n"+(null!=(l=t.if.call(r,null!=n?n.isDesktop:n,{name:"if",hash:{},fn:e.program(12,s,0),inverse:e.program(43,s,0),data:s}))?l:"")},4:function(e,n,t,a,s){return" on-continue-reading"},6:function(e,n,t,a,s){return" on-story-preview"},8:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'            <img src="'+o((t.resizeCover||n&&n.resizeCover||r).call(i,null!=n?n.cover:n,142,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o((t.trans||n&&n.trans||r).call(i,"%1$s by %2$s",null!=n?n.title:n,null!=(l=null!=n?n.user:n)?l.name:l,{name:"trans",hash:{},data:s}))+'">\n'},10:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'            <img src="'+o((t.resizeCover||n&&n.resizeCover||r).call(i,null!=n?n.cover:n,92,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o((t.trans||n&&n.trans||r).call(i,"%1$s by %2$s",null!=n?n.title:n,null!=(l=null!=n?n.user:n)?l.name:l,{name:"trans",hash:{},data:s}))+'">\n'},12:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'    <div class="content" data-target="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" data-type="'+c("function"==typeof(i=null!=(i=t.type||(null!=n?n.type:n))?i:o)?i.call(r,{name:"type",hash:{},data:s}):i)+'">\n'+(null!=(l=t.if.call(r,null!=n?n.isPaywalled:n,{name:"if",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?l:"")+'\n        <a class="title meta '+(null!=(l=t.if.call(r,null!=n?n.isRecentlyRead:n,{name:"if",hash:{},fn:e.program(15,s,0),inverse:e.program(17,s,0),data:s}))?l:"")+'" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'">\n            '+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||o).call(r,null!=n?n.title:n,null!=n?n.titleCharLimit:n,!1,{name:"simpleShorten",hash:{},data:s}))?l:"")+"\n        </a>\n\n"+(null!=(l=t.unless.call(r,null!=n?n.isProfileWorksView:n,{name:"unless",hash:{},fn:e.program(19,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(r,null!=n?n.promoted:n,{name:"if",hash:{},fn:e.program(24,s,0),inverse:e.program(26,s,0),data:s}))?l:"")+'\n        <div class="description">'+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||o).call(r,null!=n?n.description:n,null!=n?n.descCharLimit:n,!1,{name:"simpleShorten",hash:{},data:s}))?l:"")+"</div>\n\n"+(null!=(l=t.if.call(r,null!=n?n.showTagRankings:n,{name:"if",hash:{},fn:e.program(33,s,0),inverse:e.program(35,s,0),data:s}))?l:"")+"\n"+(null!=(l=t.if.call(r,null!=n?n.isProfileWorksView:n,{name:"if",hash:{},fn:e.program(37,s,0),inverse:e.noop,data:s}))?l:"")+"    </div>\n\n"},13:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'            <div class="supported-marker">\n                '+r((t.connectImage||n&&n.connectImage||i).call(l,"paid-content/supported-stories-badge.svg","Paid Stories Badge",{name:"connectImage",hash:{width:"18",height:"18"},data:s}))+"\n                "+r((t.trans||n&&n.trans||i).call(l,"Paid Story",{name:"trans",hash:{},data:s}))+"\n            </div>\n"},15:function(e,n,t,a,s){return"on-continue-reading"},17:function(e,n,t,a,s){return"on-story-preview"},19:function(e,n,t,a,s){var l;return'        <a class="username meta on-navigate" href="/user/'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.user:n)?l.name:l,n))+'">\n'+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.user:n)?l.fullname:l,{name:"if",hash:{},fn:e.program(20,s,0),inverse:e.program(22,s,0),data:s}))?l:"")+"        </a>\n"},20:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                "+(null!=(l=(t.trans||n&&n.trans||r).call(i,"by %s",(t.simpleShorten||n&&n.simpleShorten||r).call(i,null!=(l=null!=n?n.user:n)?l.fullname:l,30,!1,{name:"simpleShorten",hash:{},data:s}),{name:"trans",hash:{},data:s}))?l:"")+"\n"},22:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"by %s",(t.simpleShorten||n&&n.simpleShorten||r).call(i,null!=(l=null!=n?n.user:n)?l.name:l,30,!1,{name:"simpleShorten",hash:{},data:s}),{name:"trans",hash:{},data:s}))+"\n"},24:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'            <span class="meta promotion-description-story-reading">\n                '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-badge-promoted",13,"wp-base-1",{name:"iconify",hash:{},data:s}))?l:"")+"\n                "+(null!=(l=(t.trans||n&&n.trans||r).call(i,"Promoted by %s",(t.sprintf||n&&n.sprintf||r).call(i,'<div class="lightbold">%s</div>',null!=n?n.sponsorName:n,{name:"sprintf",hash:{},data:s}),{name:"trans",hash:{},data:s}))?l:"")+"\n            </span>\n"},26:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'            <div class="meta social-meta">\n                <span class="read-count"\n'+(null!=(l=(t.greaterThan||n&&n.greaterThan||r).call(i,null!=n?n.readCount:n,999,{name:"greaterThan",hash:{},fn:e.program(27,s,0),inverse:e.noop,data:s}))?l:"")+">\n                    "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-view",15,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.count||n&&n.count||r).call(i,null!=n?n.readCount:n,{name:"count",hash:{},data:s}))+'\n                </span>\n\n                <span class="vote-count"\n'+(null!=(l=(t.greaterThan||n&&n.greaterThan||r).call(i,null!=n?n.voteCount:n,999,{name:"greaterThan",hash:{},fn:e.program(29,s,0),inverse:e.noop,data:s}))?l:"")+">\n                    "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-vote",15,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.count||n&&n.count||r).call(i,null!=n?n.voteCount:n,{name:"count",hash:{},data:s}))+'\n                </span>\n\n                <span class="part-count"\n'+(null!=(l=(t.greaterThan||n&&n.greaterThan||r).call(i,null!=n?n.numParts:n,999,{name:"greaterThan",hash:{},fn:e.program(31,s,0),inverse:e.noop,data:s}))?l:"")+">\n                    "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-list",15,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.count||n&&n.count||r).call(i,null!=n?n.numParts:n,{name:"count",hash:{},data:s}))+"\n                </span>\n            </div>\n"},27:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing;return'                      data-toggle="tooltip" data-placement="top" title="'+e.escapeExpression((t.sprintf||n&&n.sprintf||i).call(l,(t.ngettext||n&&n.ngettext||i).call(l,"%s Read","%s Reads",(t.format||n&&n.format||i).call(l,null!=n?n.readCount:n,{name:"format",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(t.format||n&&n.format||i).call(l,null!=n?n.readCount:n,{name:"format",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'"\n                    '},29:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing;return'                      data-toggle="tooltip" data-placement="top" title="'+e.escapeExpression((t.sprintf||n&&n.sprintf||i).call(l,(t.ngettext||n&&n.ngettext||i).call(l,"%s Vote","%s Votes",(t.format||n&&n.format||i).call(l,null!=n?n.voteCount:n,{name:"format",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(t.format||n&&n.format||i).call(l,null!=n?n.voteCount:n,{name:"format",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'"\n                    '},31:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing;return'                      data-toggle="tooltip" data-placement="top" title="'+e.escapeExpression((t.sprintf||n&&n.sprintf||i).call(l,(t.ngettext||n&&n.ngettext||i).call(l,"%s Part","%s Parts",(t.format||n&&n.format||i).call(l,null!=n?n.numParts:n,{name:"format",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(t.format||n&&n.format||i).call(l,null!=n?n.numParts:n,{name:"format",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'"\n                    '},33:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'            <div class="tag-ranking">\n              '+c((t.connectImage||n&&n.connectImage||o).call(r,"/shared/ranking-medal-grey.png","ranking",{name:"connectImage",hash:{width:"22",height:"27",klass:"tag-ranking-medal"},data:s}))+"\n              <span>"+(null!=(l=(t.trans||n&&n.trans||o).call(r,"#%1$s in %2$s",(t.sprintf||n&&n.sprintf||o).call(r,"<b>%s</b>",null!=(l=null!=(l=null!=n?n.tagRankings:n)?l[0]:l)?l.rank:l,{name:"sprintf",hash:{},data:s}),(t.sprintf||n&&n.sprintf||o).call(r,"<b>%s</b>",(t.sanitize||n&&n.sanitize||o).call(r,null!=(l=null!=(l=null!=n?n.tagRankings:n)?l[0]:l)?l.name:l,{name:"sanitize",hash:{},data:s}),{name:"sprintf",hash:{},data:s}),{name:"trans",hash:{},data:s}))?l:"")+'</span>\n              <a href="'+c("function"==typeof(i=null!=(i=t.url||(null!=n?n.url:n))?i:o)?i.call(r,{name:"url",hash:{},data:s}):i)+'/rankings" class="on-ranking-navigate">'+c((t.trans||n&&n.trans||o).call(r,"See all rankings",{name:"trans",hash:{},data:s}))+"</a>\n            </div>\n"},35:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["core.tag_metadata"],n,{name:"core.tag_metadata",data:s,indent:"            ",helpers:t,partials:a,decorators:e.decorators}))?l:""},37:function(e,n,t,a,s){var l;return"        "+(null!=(l=(t.isCurrentUser||n&&n.isCurrentUser||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.user:n)?l.name:l,{name:"isCurrentUser",hash:{},fn:e.program(38,s,0),inverse:e.noop,data:s}))?l:"")+"\n"},38:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.firstPartId:n,{name:"if",hash:{},fn:e.program(39,s,0),inverse:e.program(41,s,0),data:s}))?l:""},39:function(e,n,t,a,s){return'\n        <span class="work-state">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Published",{name:"trans",hash:{},data:s}))+"</span>\n"},41:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'        <span class="work-state draft">'+r((t.trans||n&&n.trans||i).call(l,"Draft",{name:"trans",hash:{},data:s}))+' <span class="text">('+r((t.trans||n&&n.trans||i).call(l,"only visible to you",{name:"trans",hash:{},data:s}))+")</span></span>\n        "},43:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'    <div class="content" data-target="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" data-type="'+c("function"==typeof(i=null!=(i=t.type||(null!=n?n.type:n))?i:o)?i.call(r,{name:"type",hash:{},data:s}):i)+'">\n'+(null!=(l=t.if.call(r,null!=n?n.isPaywalled:n,{name:"if",hash:{},fn:e.program(44,s,0),inverse:e.noop,data:s}))?l:"")+'\n        <a class="title meta '+(null!=(l=t.if.call(r,null!=n?n.isRecentlyRead:n,{name:"if",hash:{},fn:e.program(15,s,0),inverse:e.program(17,s,0),data:s}))?l:"")+'" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'">'+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||o).call(r,null!=n?n.title:n,null!=n?n.titleCharLimit:n,!1,{name:"simpleShorten",hash:{},data:s}))?l:"")+"</a>\n\n"+(null!=(l=t.unless.call(r,null!=n?n.isProfileWorksView:n,{name:"unless",hash:{},fn:e.program(46,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(r,null!=n?n.promoted:n,{name:"if",hash:{},fn:e.program(49,s,0),inverse:e.program(51,s,0),data:s}))?l:"")+'\n        <div class="description">'+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||o).call(r,null!=n?n.description:n,null!=n?n.descCharLimit:n,!1,{name:"simpleShorten",hash:{},data:s}))?l:"")+"</div>\n\n"+(null!=(l=t.if.call(r,null!=n?n.showTagRankings:n,{name:"if",hash:{},fn:e.program(33,s,0),inverse:e.program(35,s,0),data:s}))?l:"")+"\n"+(null!=(l=t.if.call(r,null!=n?n.isProfileWorksView:n,{name:"if",hash:{},fn:e.program(37,s,0),inverse:e.noop,data:s}))?l:"")+"    </div>\n"},44:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'            <div class="supported-marker meta">\n                '+r((t.connectImage||n&&n.connectImage||i).call(l,"paid-content/supported-stories-badge.svg","Paid Stories Badge",{name:"connectImage",hash:{},data:s}))+"\n                "+r((t.trans||n&&n.trans||i).call(l,"Paid Story",{name:"trans",hash:{},data:s}))+"\n            </div>\n"},46:function(e,n,t,a,s){var l;return'        <a class="username meta on-navigate" href="/user/'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.user:n)?l.name:l,n))+'">\n'+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.user:n)?l.fullname:l,{name:"if",hash:{},fn:e.program(47,s,0),inverse:e.program(22,s,0),data:s}))?l:"")+"        </a>\n"},47:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"by %s",(t.simpleShorten||n&&n.simpleShorten||r).call(i,null!=(l=null!=n?n.user:n)?l.fullname:l,30,!1,{name:"simpleShorten",hash:{},data:s}),{name:"trans",hash:{},data:s}))+"\n"},49:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'            <span class="meta promotion-description-story-reading">\n                '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-badge-promoted",11,"wp-base-1",{name:"iconify",hash:{},data:s}))?l:"")+"\n                "+(null!=(l=(t.trans||n&&n.trans||r).call(i,"Promoted by %s",(t.sprintf||n&&n.sprintf||r).call(i,'<div class="lightbold">%s</div>',null!=n?n.sponsorName:n,{name:"sprintf",hash:{},data:s}),{name:"trans",hash:{},data:s}))?l:"")+"\n            </span>\n"},51:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'            <div class="meta social-meta">\n                <span class="read-count"> '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-view",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.count||n&&n.count||r).call(i,null!=n?n.readCount:n,{name:"count",hash:{},data:s}))+' </span>\n                <span class="vote-count"> '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-vote",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.count||n&&n.count||r).call(i,null!=n?n.voteCount:n,{name:"count",hash:{},data:s}))+' </span>\n                <span class="part-count"> '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-list",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.count||n&&n.count||r).call(i,null!=n?n.numParts:n,{name:"count",hash:{},data:s}))+" </span>\n            </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.empty:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:""},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return'<div class="cover cover-md empty-cover"></div>\n'},3:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'\n<a href="/user/'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'" class="avatar on-navigate">\n  <img src="'+c((t.resizeAvatar||n&&n.resizeAvatar||o).call(r,null!=n?n.avatar:n,140,{name:"resizeAvatar",hash:{},data:s}))+'">\n</a>\n\n<div class="content" data-target="'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'" data-type="users">\n  <a class="title meta on-navigate" href="/user/'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'">\n    '+(null!=(l=t.if.call(r,null!=n?n.name:n,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.program(6,s,0),data:s}))?l:"")+'\n  </a>\n\n  <div class="user-stats meta">\n    <span>'+c((t.sprintf||n&&n.sprintf||o).call(r,(t.ngettext||n&&n.ngettext||o).call(r,"%s Follower","%s Followers",null!=n?n.numFollowers:n,{name:"ngettext",hash:{},data:s}),(t.count||n&&n.count||o).call(r,null!=n?n.numFollowers:n,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'</span>\n  </div>\n</div>\n\n<button class="btn btn-white btn-follow btn-fan on-follow" data-target="'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'">\n  '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-follow",15,"wp-base-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n  <span class="follow-text">'+c((t.trans||n&&n.trans||o).call(r,"Follow",{name:"trans",hash:{},data:s}))+"</span>\n</button>\n\n"},4:function(e,n,t,a,s){var l;return null!=(l=(t.simpleShorten||n&&n.simpleShorten||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.name:n,null!=n?n.nameMaxLength:n,!1,{name:"simpleShorten",hash:{},data:s}))?l:""},6:function(e,n,t,a,s){var l;return null!=(l=(t.simpleShorten||n&&n.simpleShorten||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.username:n,null!=n?n.nameMaxLength:n,!1,{name:"simpleShorten",hash:{},data:s}))?l:""},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.empty:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return'<div class="cover cover-md empty-cover"></div>\n'},3:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'\n<div class="avatar-container">\n  <a href="/user/'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'" class="avatar on-navigate">\n    <img src="'+c((t.resizeAvatar||n&&n.resizeAvatar||o).call(r,null!=n?n.avatar:n,140,{name:"resizeAvatar",hash:{},data:s}))+'">\n  </a>\n\n  <button class="btn btn-white btn-follow btn-fan on-follow" data-target="'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'">\n    '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-follow",15,"wp-base-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n    <span class="follow-text">'+c((t.trans||n&&n.trans||o).call(r,"Follow",{name:"trans",hash:{},data:s}))+'</span>\n  </button>\n</div>\n\n<div class="content" data-target="'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'" data-type="users">\n  <a class="title meta on-navigate" href="/user/'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'">\n    '+(null!=(l=t.if.call(r,null!=n?n.name:n,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.program(6,s,0),data:s}))?l:"")+'\n  </a>\n\n  <div class="user-stats meta">\n    <span>'+c((t.sprintf||n&&n.sprintf||o).call(r,(t.ngettext||n&&n.ngettext||o).call(r,"%s Work","%s Works",null!=n?n.numStoriesPublished:n,{name:"ngettext",hash:{},data:s}),null!=n?n.numStoriesPublished:n,{name:"sprintf",hash:{},data:s}))+"</span>\n    <span>"+c((t.sprintf||n&&n.sprintf||o).call(r,(t.ngettext||n&&n.ngettext||o).call(r,"%s Reading List","%s Reading Lists",null!=n?n.numLists:n,{name:"ngettext",hash:{},data:s}),null!=n?n.numLists:n,{name:"sprintf",hash:{},data:s}))+"</span>\n    <span>"+c((t.sprintf||n&&n.sprintf||o).call(r,(t.ngettext||n&&n.ngettext||o).call(r,"%s Follower","%s Followers",null!=n?n.numFollowers:n,{name:"ngettext",hash:{},data:s}),(t.count||n&&n.count||o).call(r,null!=n?n.numFollowers:n,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'</span>\n  </div>\n\n  <div class="description">'+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||o).call(r,null!=n?n.description:n,null!=n?n.descMaxLength:n,!1,{name:"simpleShorten",hash:{},data:s}))?l:"")+"</div>\n</div>\n\n"},4:function(e,n,t,a,s){var l;return null!=(l=(t.simpleShorten||n&&n.simpleShorten||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.name:n,null!=n?n.nameMaxLength:n,!1,{name:"simpleShorten",hash:{},data:s}))?l:""},6:function(e,n,t,a,s){var l;return null!=(l=(t.simpleShorten||n&&n.simpleShorten||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.username:n,null!=n?n.nameMaxLength:n,!1,{name:"simpleShorten",hash:{},data:s}))?l:""},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.empty:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return"module-header-story-reading"},3:function(e,n,t,a,s){return"module-header"},5:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression,o=null!=n?n:e.nullContext||{},c=t.helperMissing;return'        <a class="avatar on-avatar on-navigate" href="/user/'+r(i(null!=(l=null!=n?n.moduleUser:n)?l.name:l,n))+"\" data-target='"+r(i(null!=(l=null!=n?n.moduleUser:n)?l.name:l,n))+"'>\n"+(null!=(l=t.if.call(o,null!=n?n.sponsorAvatar:n,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.program(8,s,0),data:s}))?l:"")+"        </a>\n\n        <button class='btn btn-white btn-follow btn-fan on-follow' data-target='"+r(i(null!=(l=null!=n?n.moduleUser:n)?l.name:l,n))+"'>\n            "+(null!=(l=(t.iconify||n&&n.iconify||c).call(o,"fa-follow",15,"wp-base-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n            <span class="follow-text">'+r((t.trans||n&&n.trans||c).call(o,"Follow",{name:"trans",hash:{},data:s}))+"</span>\n        </button>\n"},6:function(e,n,t,a,s){return'                <img src="'+e.escapeExpression((t.resizeAvatar||n&&n.resizeAvatar||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.sponsorAvatar:n,60,{name:"resizeAvatar",hash:{},data:s}))+'">\n'},8:function(e,n,t,a,s){var l;return'                <img src="'+e.escapeExpression((t.resizeAvatar||n&&n.resizeAvatar||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.moduleUser:n)?l.avatar:l,60,{name:"resizeAvatar",hash:{},data:s}))+'">\n'},10:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'        <a class="module-title on-navigate" href="'+c("function"==typeof(i=null!=(i=t.moduleLink||(null!=n?n.moduleLink:n))?i:o)?i.call(r,{name:"moduleLink",hash:{},data:s}):i)+"\" data-target='"+c("function"==typeof(i=null!=(i=t.moduleTarget||(null!=n?n.moduleTarget:n))?i:o)?i.call(r,{name:"moduleTarget",hash:{},data:s}):i)+"'>\n            <span>"+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+"  "+(null!=(l=t.if.call(r,null!=n?n.isDesktop:n,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.program(13,s,0),data:s}))?l:"")+"</span>\n        </a>\n"},11:function(e,n,t,a,s){var l;return" "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-right",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "},13:function(e,n,t,a,s){var l;return" "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-right",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "},15:function(e,n,t,a,s){var l;return'        <div class="module-title">'+e.escapeExpression("function"==typeof(l=null!=(l=t.title||(null!=n?n.title:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"title",hash:{},data:s}):l)+"</div>\n"},17:function(e,n,t,a,s){var l;return'        <div class="module-subtitle">\n            '+e.escapeExpression("function"==typeof(l=null!=(l=t.subtitle||(null!=n?n.subtitle:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"subtitle",hash:{},data:s}):l)+"\n        </div>\n"},19:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'    <div class="promotion-description">\n        '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-badge-promoted",13,"wp-base-1",{name:"iconify",hash:{},data:s}))?l:"")+" "+(null!=(l=(t.trans||n&&n.trans||r).call(i,"Promoted by %s",(t.sprintf||n&&n.sprintf||r).call(i,"<b>%s</b>",null!=n?n.sponsorName:n,{name:"sprintf",hash:{},data:s}),{name:"trans",hash:{},data:s}))?l:"")+"\n    </div>\n"},21:function(e,n,t,a,s){return"rtl"},23:function(e,n,t,a,s){return"ltr"},25:function(e,n,t,a,s){var l;return" invisible owl-carousel"+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.turnOffLooping:n,{name:"if",hash:{},fn:e.program(26,s,0),inverse:e.program(28,s,0),data:s}))?l:"")},26:function(e,n,t,a,s){return" no-loop"},28:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.isUsers:n,{name:"if",hash:{},fn:e.program(29,s,0),inverse:e.noop,data:s}))?l:""},29:function(e,n,t,a,s){return" users"},31:function(e,n,t,a,s){var l;return null!=(l=t.each.call(null!=n?n:e.nullContext||{},null!=(l=null!=(l=null!=n?n.data:n)?l.items:l)?l.lists:l,{name:"each",hash:{},fn:e.program(32,s,0),inverse:e.noop,data:s}))?l:""},32:function(e,n,t,a,s){var l;return'            <div class="discover-module-lists">\n'+(null!=(l=e.invokePartial(a["core.item_views.discover_module_lists"],n,{name:"core.item_views.discover_module_lists",data:s,indent:"                ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"            </div>\n"},34:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.promotedByUser:n,{name:"if",hash:{},fn:e.program(35,s,0),inverse:e.program(38,s,0),data:s}))?l:""},35:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=e.lambda,o=e.escapeExpression;return'\n            <div class="discover-module-stories-large promoted-blurb">\n                <div class="user-description">'+(null!=(l=t.if.call(i,null!=(l=null!=n?n.moduleUser:n)?l.description:l,{name:"if",hash:{},fn:e.program(36,s,0),inverse:e.noop,data:s}))?l:"")+'</div>\n                <a href="/user/'+o(r(null!=(l=null!=n?n.moduleUser:n)?l.name:l,n))+'" class="avatar avatar-xs2 on-navigate">\n                    <img src="'+o((t.resizeAvatar||n&&n.resizeAvatar||t.helperMissing).call(i,null!=(l=null!=n?n.moduleUser:n)?l.avatar:l,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n                </a>\n                <a href="/user/'+o(r(null!=(l=null!=n?n.moduleUser:n)?l.name:l,n))+'" class="user-name on-navigate">@'+o(r(null!=(l=null!=n?n.moduleUser:n)?l.name:l,n))+"</a>\n            </div>\n"},36:function(e,n,t,a,s){var l;return(null!=(l=(t.linkify||n&&n.linkify||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.moduleUser:n)?l.description:l,{name:"linkify",hash:{sanitization:"unsanitize"},data:s}))?l:"")+"..."},38:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.data:n)?l.smallStories:l,{name:"if",hash:{},fn:e.program(39,s,0),inverse:e.program(42,s,0),data:s}))?l:""},39:function(e,n,t,a,s){var l;return null!=(l=t.each.call(null!=n?n:e.nullContext||{},null!=(l=null!=(l=null!=n?n.data:n)?l.items:l)?l.stories:l,{name:"each",hash:{},fn:e.program(40,s,0),inverse:e.noop,data:s}))?l:""},40:function(e,n,t,a,s){var l;return'                <div class="discover-module-stories-small">\n'+(null!=(l=e.invokePartial(a["core.item_views.discover_module_stories_small"],n,{name:"core.item_views.discover_module_stories_small",data:s,indent:"                    ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"                </div>\n"},42:function(e,n,t,a,s){var l;return(null!=(l=t.each.call(null!=n?n:e.nullContext||{},null!=(l=null!=(l=null!=n?n.data:n)?l.items:l)?l.stories:l,{name:"each",hash:{},fn:e.program(43,s,0),inverse:e.noop,data:s}))?l:"")+"        "},43:function(e,n,t,a,s){var l;return'                <div class="discover-module-stories-large">\n'+(null!=(l=e.invokePartial(a["core.item_views.discover_module_stories_large"],n,{name:"core.item_views.discover_module_stories_large",data:s,indent:"                    ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"                </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing;return'<div class="'+(null!=(l=t.if.call(r,null!=n?n.fromStoryReading:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+'">\n'+(null!=(l=t.if.call(r,null!=n?n.moduleUser:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(r,null!=n?n.moduleLink:n,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.program(15,s,0),data:s}))?l:"")+"\n"+(null!=(l=t.if.call(r,null!=n?n.subtitle:n,{name:"if",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s}))?l:"")+"\n</div>\n\n"+(null!=(l=t.if.call(r,null!=n?n.promoted:n,{name:"if",hash:{},fn:e.program(19,s,0),inverse:e.noop,data:s}))?l:"")+'\n<div style="direction:'+(null!=(l=t.if.call(r,(t.rtlLanguage||n&&n.rtlLanguage||o).call(r,null!=n?n.languageId:n,{name:"rtlLanguage",hash:{},data:s}),{name:"if",hash:{},fn:e.program(21,s,0),inverse:e.program(23,s,0),data:s}))?l:"")+'"\n     class="collection'+(null!=(l=t.if.call(r,null!=n?n.isHome:n,{name:"if",hash:{},fn:e.program(25,s,0),inverse:e.noop,data:s}))?l:"")+'"\n     data-target="'+e.escapeExpression("function"==typeof(i=null!=(i=t.type||(null!=n?n.type:n))?i:o)?i.call(r,{name:"type",hash:{},data:s}):i)+'">\n\n'+(null!=(l=t.if.call(r,null!=(l=null!=n?n.data:n)?l.readingLists:l,{name:"if",hash:{},fn:e.program(31,s,0),inverse:e.program(34,s,0),data:s}))?l:"")+'</div>\n<div id="preview-modal"></div>\n'},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return"module-header-story-reading"},3:function(e,n,t,a,s){return"module-header"},5:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression;return'        <a class="avatar on-avatar on-navigate" href="/user/'+r(i(null!=(l=null!=n?n.moduleUser:n)?l.name:l,n))+"\" data-target='"+r(i(null!=(l=null!=n?n.moduleUser:n)?l.name:l,n))+"'>\n"+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.sponsorAvatar:n,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.program(8,s,0),data:s}))?l:"")+"        </a>\n"},6:function(e,n,t,a,s){return'                <img src="'+e.escapeExpression((t.resizeAvatar||n&&n.resizeAvatar||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.sponsorAvatar:n,60,{name:"resizeAvatar",hash:{},data:s}))+'">\n'},8:function(e,n,t,a,s){var l;return'                <img src="'+e.escapeExpression((t.resizeAvatar||n&&n.resizeAvatar||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.moduleUser:n)?l.avatar:l,60,{name:"resizeAvatar",hash:{},data:s}))+'">\n'},10:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'        <a class="module-title on-contest-reading" href="'+c("function"==typeof(i=null!=(i=t.moduleLink||(null!=n?n.moduleLink:n))?i:o)?i.call(r,{name:"moduleLink",hash:{},data:s}):i)+"\" data-target='"+c("function"==typeof(i=null!=(i=t.moduleTarget||(null!=n?n.moduleTarget:n))?i:o)?i.call(r,{name:"moduleTarget",hash:{},data:s}):i)+"' data-story-id=\""+c("function"==typeof(i=null!=(i=t.contestStoryId||(null!=n?n.contestStoryId:n))?i:o)?i.call(r,{name:"contestStoryId",hash:{},data:s}):i)+'">\n            <span>'+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+"  "+(null!=(l=t.if.call(r,null!=n?n.isDesktop:n,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.program(13,s,0),data:s}))?l:"")+"</span>\n        </a>\n"},11:function(e,n,t,a,s){var l;return" "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-right",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "},13:function(e,n,t,a,s){var l;return" "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-right",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "},15:function(e,n,t,a,s){var l;return'        <div class="module-title">'+e.escapeExpression("function"==typeof(l=null!=(l=t.title||(null!=n?n.title:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"title",hash:{},data:s}):l)+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing;return'<div class="'+(null!=(l=t.if.call(r,null!=n?n.fromStoryReading:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+'">\n'+(null!=(l=t.if.call(r,null!=n?n.moduleUser:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(r,null!=n?n.moduleLink:n,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.program(15,s,0),data:s}))?l:"")+'\n    <div class="module-subtitle">\n        '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-badge-promoted",13,"wp-base-1",{name:"iconify",hash:{},data:s}))?l:"")+" "+(null!=(l=(t.trans||n&&n.trans||o).call(r,"Promoted by %s",(t.sprintf||n&&n.sprintf||o).call(r,"<b>%s</b>",null!=n?n.sponsorName:n,{name:"sprintf",hash:{},data:s}),{name:"trans",hash:{},data:s}))?l:"")+'\n    </div>\n\n</div>\n\n<div class="collection contest-discovery-module"\n     data-target="'+e.escapeExpression("function"==typeof(i=null!=(i=t.type||(null!=n?n.type:n))?i:o)?i.call(r,{name:"type",hash:{},data:s}):i)+'">\n</div>\n\n<div id="preview-modal"></div>\n'},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'  <div id="module-collection" class="collection">\n'+(null!=(l=t.each.call(i,null!=n?n.modules:n,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+'  </div>\n\n  <div id="preview-modal"></div>\n\n  <div class="show-more center-text hidden">\n      <button class="btn btn-link on-showmore">\n          <span class=\'show-more-message\'>\n              <span>'+o((t.trans||n&&n.trans||r).call(i,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n              <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n          </span>\n          <span class='loading-message hidden'>\n              "+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||r).call(i,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?l:"")+"\n              <span> "+o((t.trans||n&&n.trans||r).call(i,"Loading",{name:"trans",hash:{},data:s}))+" ...</span>\n          </span>\n      </button>\n  </div>\n\n"},2:function(e,n,t,a,s){var l;return'      <div class="discover-module">\n'+(null!=(l=e.invokePartial(a["core.collection_views.discover_module"],n,{name:"core.collection_views.discover_module",data:s,indent:"          ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"      </div>\n"},4:function(e,n,t,a,s){return'  <p class="no-item">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"No recommendations available.",{name:"trans",hash:{},data:s}))+"</p>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'<div id="home">\n'+(null!=(l=t.if.call(i,null!=n?n.hasRows:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?l:"")+"</div>\n\n"+(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(i,"WPModal","modal-home",{name:"reactComponent",hash:{},data:s}))?l:"")+"\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return null!=(l=(t.simpleShorten||n&&n.simpleShorten||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.name:n,null!=n?n.nameMaxLength:n,!1,{name:"simpleShorten",hash:{},data:s}))?l:""},3:function(e,n,t,a,s){var l;return null!=(l=(t.simpleShorten||n&&n.simpleShorten||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.username:n,null!=n?n.nameMaxLength:n,!1,{name:"simpleShorten",hash:{},data:s}))?l:""},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div class="writer-avatar">\n  <a class="on-navigate" href="/user/'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'">\n    <img src="'+c("function"==typeof(i=null!=(i=t.avatar||(null!=n?n.avatar:n))?i:o)?i.call(r,{name:"avatar",hash:{},data:s}):i)+'">\n  </a>\n</div>\n<div class="writer-info">\n  <div class="writer-name">\n    <a class="on-navigate" href="/user/'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'">\n      '+(null!=(l=t.if.call(r,null!=n?n.name:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+'\n    </a>\n  </div>\n\n  <div class="writer-meta">\n    <span class="works">'+c((t.sprintf||n&&n.sprintf||o).call(r,(t.ngettext||n&&n.ngettext||o).call(r,"%s Work","%s Works",null!=n?n.numStoriesPublished:n,{name:"ngettext",hash:{},data:s}),null!=n?n.numStoriesPublished:n,{name:"sprintf",hash:{},data:s}))+'</span>\n    <span class="reading-lists">'+c((t.sprintf||n&&n.sprintf||o).call(r,(t.ngettext||n&&n.ngettext||o).call(r,"%s Reading List","%s Reading Lists",null!=n?n.numLists:n,{name:"ngettext",hash:{},data:s}),null!=n?n.numLists:n,{name:"sprintf",hash:{},data:s}))+'</span>\n    <span class="followers">'+c((t.sprintf||n&&n.sprintf||o).call(r,(t.ngettext||n&&n.ngettext||o).call(r,"%s Follower","%s Followers",null!=n?n.numFollowers:n,{name:"ngettext",hash:{},data:s}),(t.count||n&&n.count||o).call(r,null!=n?n.numFollowers:n,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'</span>\n  </div>\n\n  <div class="writer-description">\n    '+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||o).call(r,null!=n?n.description:n,200,!1,{name:"simpleShorten",hash:{},data:s}))?l:"")+"\n  </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return'      <span class="lists-user">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Selected by %s",null!=(l=null!=n?n.user:n)?l.name:l,{name:"trans",hash:{},data:s}))+"</span>\n"},3:function(e,n,t,a,s,l,i){var r;return null!=(r=t.if.call(null!=n?n:e.nullContext||{},null!=i[1]?i[1].isDesktop:i[1],{name:"if",hash:{},fn:e.program(4,s,0,l,i),inverse:e.program(6,s,0,l,i),data:s}))?r:""},4:function(e,n,t,a,s){var l=e.lambda,i=e.escapeExpression;return'            <a class="on-navigate" href="/stories/'+i(l(n,n))+'"><s>#</s>'+i(l(n,n))+"</a>\n"},6:function(e,n,t,a,s){return"           <s>#</s>"+e.escapeExpression(e.lambda(n,n))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s,l,i){var r,o,c=null!=n?n:e.nullContext||{},u=t.helperMissing,d=e.escapeExpression;return'<div class="reading-list-cover">\n  <a class="on-navigate" href="/list/'+d("function"==typeof(o=null!=(o=t.id||(null!=n?n.id:n))?o:u)?o.call(c,{name:"id",hash:{},data:s}):o)+'">\n    <img src="'+d((t.resizeCover||n&&n.resizeCover||u).call(c,null!=n?n.background:n,122,{name:"resizeCover",hash:{},data:s}))+'" >\n  </a>\n</div>\n<div class="reading-list-info">\n  <div class="reading-list-title"><a class="on-navigate" href="/list/'+d("function"==typeof(o=null!=(o=t.id||(null!=n?n.id:n))?o:u)?o.call(c,{name:"id",hash:{},data:s}):o)+'">'+d("function"==typeof(o=null!=(o=t.name||(null!=n?n.name:n))?o:u)?o.call(c,{name:"name",hash:{},data:s}):o)+'</a></div>\n  <div class="meta">\n'+(null!=(r=t.unless.call(c,null!=n?n.isDesktop:n,{name:"unless",hash:{},fn:e.program(1,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'    <span class="num-stories">'+d((t.sprintf||n&&n.sprintf||u).call(c,(t.ngettext||n&&n.ngettext||u).call(c,"%s Story","%s Stories",null!=n?n.numStories:n,{name:"ngettext",hash:{},data:s}),null!=n?n.numStories:n,{name:"sprintf",hash:{},data:s}))+'</span>\n    <span class="tags">\n'+(null!=(r=t.each.call(c,null!=n?n.tags:n,{name:"each",hash:{},fn:e.program(3,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"    </span>\n  </div>\n</div>\n"},useData:!0,useDepths:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return'<a class="cover cover-home empty-cover-large">\n  <div class="fixed-ratio fixed-ratio-cover"></div>\n</a>\n\n'},3:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<a class="cover cover-home on-story on-navigate" href="'+o((t.formatStoryUrl||n&&n.formatStoryUrl||r).call(i,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'">\n  <div class="fixed-ratio fixed-ratio-cover">\n    <img src="'+o((t.resizeCover||n&&n.resizeCover||r).call(i,null!=n?n.cover:n,92,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o((t.trans||n&&n.trans||r).call(i,"%1$s by %2$s",null!=n?n.title:n,null!=(l=null!=n?n.user:n)?l.name:l,{name:"trans",hash:{},data:s}))+'">\n  </div>\n</a>\n\n<div class="content">\n  <a class="title meta on-story on-navigate" href="'+o((t.formatStoryUrl||n&&n.formatStoryUrl||r).call(i,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'">'+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||r).call(i,null!=n?n.title:n,28,!1,{name:"simpleShorten",hash:{},data:s}))?l:"")+'</a>\n  <a class="category meta on-navigate" href="/stories/'+o((t.slugify||n&&n.slugify||r).call(i,null!=(l=null!=n?n.category:n)?l.name_english:l,{name:"slugify",hash:{},data:s}))+'">'+o(e.lambda(null!=(l=null!=n?n.category:n)?l.name:l,n))+'</a>\n\n  <div class="meta social-meta">\n    <span class="read-count">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-view",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.count||n&&n.count||r).call(i,null!=n?n.readCount:n,{name:"count",hash:{},data:s}))+'</span>\n    <span class="vote-count">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-vote",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.count||n&&n.count||r).call(i,null!=n?n.voteCount:n,{name:"count",hash:{},data:s}))+'</span>\n  </div>\n\n  <div class="description">'+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||r).call(i,null!=n?n.description:n,130,!1,{name:"simpleShorten",hash:{},data:s}))?l:"")+"</div>\n</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.empty:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'    <li class="col-xs-3">\n      <a href="'+o("function"==typeof(l=null!=(l=t.url||(null!=n?n.url:n))?l:r)?l.call(i,{name:"url",hash:{},data:s}):l)+'" class="on-navigate">'+o("function"==typeof(l=null!=(l=t.name||(null!=n?n.name:n))?l:r)?l.call(i,{name:"name",hash:{},data:s}):l)+"</a>\n    </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return'<ul id="explore-tags" class="row">\n'+(null!=(l=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.options:n,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"</ul>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return"    "+(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},"TagpagePaidStoriesContainer","tagpage-paid-stories",{name:"reactComponent",hash:{},data:s}))?l:"")+"\n"},3:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["core.components.browse_tags"],n,{name:"core.components.browse_tags",data:s,indent:"        ",helpers:t,partials:a,decorators:e.decorators}))?l:""},5:function(e,n,t,a,s){var l;return'        <div class="browse-results">\n'+(null!=(l=e.invokePartial(a["desktop.browse.browse_results"],n,{name:"desktop.browse.browse_results",data:s,indent:"          ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div class="container">\n  <header class="background text-left">\n    <h1> '+c("function"==typeof(i=null!=(i=t.browseLabel||(null!=n?n.browseLabel:n))?i:o)?i.call(r,{name:"browseLabel",hash:{},data:s}):i)+" </h1>\n  </header>\n"+(null!=(l=t.if.call(r,(t.isTestGroup||n&&n.isTestGroup||o).call(r,"PAID_ROW_TAG_PAGES",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'  <div class="tags-container">\n    <div id="refine-by-msg">'+c((t.trans||n&&n.trans||o).call(r,"Refine by tag:",{name:"trans",hash:{},data:s}))+"</div>\n    "+(null!=(l=(t.reactComponent||n&&n.reactComponent||o).call(r,"TagCarousel","relatedTags",{name:"reactComponent",hash:{},data:s}))?l:"")+'\n  </div>\n  <div class="browse-content-container">\n    <div id="browse-header-container">\n'+(null!=(l=e.invokePartial(a["core.components.browse_header"],n,{name:"core.components.browse_header",data:s,indent:"      ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'    </div>\n    <main id="browse-content">\n'+(null!=(l=t.if.call(r,null!=n?n.showExploreList:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?l:"")+"    </main>\n  </div>\n</div>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return"    <h1>"+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Reset password",{name:"trans",hash:{},data:s}))+"</h1>\n"},3:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return"    <h1>"+r((t.trans||n&&n.trans||i).call(l,"Lost your password?",{name:"trans",hash:{},data:s}))+"</h1>\n    <span>"+r((t.trans||n&&n.trans||i).call(l,"Type your username or email below and we'll send you instructions on how to reset it.",{name:"trans",hash:{},data:s}))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return(null!=(l=t.if.call(i,null!=n?n.reset:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.forgot:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u='            <a class="on-login btn btn-link form-switch" data-form="login" data-label="top-right" rel="nofollow" href="/login';return i=null!=(i=t.nextUrl||(null!=n?n.nextUrl:n))?i:c,r={name:"nextUrl",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(o,r):i,t.nextUrl||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(u+=l),u+'">\n                '+e.escapeExpression((t.trans||n&&n.trans||c).call(o,"Log in",{name:"trans",hash:{},data:s}))+"\n            </a>\n"},2:function(e,n,t,a,s){return"?nextUrl="+e.escapeExpression(e.lambda(n,n))},4:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u='            <a class="btn btn-link" href="/';return i=null!=(i=t.nextUrl||(null!=n?n.nextUrl:n))?i:c,r={name:"nextUrl",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(o,r):i,t.nextUrl||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(u+=l),u+'">\n                '+e.escapeExpression((t.trans||n&&n.trans||c).call(o,"Sign up",{name:"trans",hash:{},data:s}))+"\n            </a>\n"},6:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'                <li class="col-xs-4 col-sm-3'+(null!=(l=t.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")+"\">\n                    <a href='#' data-code=\""+c("function"==typeof(i=null!=(i=t.locale||(null!=n?n.locale:n))?i:o)?i.call(r,{name:"locale",hash:{},data:s}):i)+'">'+(null!=(l=t.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?l:"")+" "+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+"</a>\n                </li>\n"},7:function(e,n,t,a,s){return" selected"},9:function(e,n,t,a,s){var l;return" "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-check",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<div class="full-screen"></div>\n<div id="auth-header" class="container clearfix">\n    <a href="home">\n        '+o((t.connectImage||n&&n.connectImage||r).call(i,"/logos/wp-logo-orange.png","Wattpad",{name:"connectImage",hash:{klass:"wp-logo",width:123},data:s}))+'\n    </a>\n     \n    <div class="buttons-right">\n'+(null!=(l=t.if.call(i,null!=n?n.signup:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+(null!=(l=t.if.call(i,null!=n?n.login:n,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")+'        <div class="button-group relative">\n            <button class="btn btn-link dropdown-toggle" data-toggle="dropdown"\n                    role="button" aria-controls="language-options" aria-expanded="false" aria-label="more options">\n                    '+o(e.lambda(null!=(l=null!=n?n.interfaceLang:n)?l.name:l,n))+" "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-down",16,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?l:"")+'\n            </button>\n            <div class="triangle"></div>\n            <ul id="language-options" class="dropdown-menu align-right columns">\n'+(null!=(l=t.each.call(i,null!=n?n.translatedLangs:n,{name:"each",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?l:"")+'            </ul>\n        </div>\n    </div>\n</div>\n<div class="container">\n    <div class="row">\n        <div class="col-sm-6 col-md-7 center-text">\n            '+o((t.connectImage||n&&n.connectImage||r).call(i,"/landing/hero-devices.png","devices",{name:"connectImage",hash:{id:"phone-image"},data:s}))+'\n        </div>\n        <div class="col-sm-6 col-md-5 login-page-form-header">\n            <main id="authentication-panel" class="panel panel-transparent">\n                <div class="login-modal-wrapper">\n'+(null!=(l=e.invokePartial(a["core.authentication.auth_form"],n,{name:"core.authentication.auth_form",data:s,indent:"                ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'                </div>\n            </main>\n        </div>\n    </div>\n</div>\n\n<div id="get-app-modal-container">\n'+(null!=(l=e.invokePartial(a["core.components.get_app"],n,{name:"core.components.get_app",data:s,indent:"  ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"</div>\n\n"+(null!=(l=(t.reactComponent||n&&n.reactComponent||r).call(i,"WPModal","signup-modal",{name:"reactComponent",hash:{},data:s}))?l:"")+"\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<footer id="auth-footer">\n    <div class="container">\n        <ul role="navigation" aria-label="Footer Links">\n            <li><a href="/about" title="About us" aria-label="About Us" rel="nofollow">'+o((t.trans||n&&n.trans||r).call(i,"About Us",{name:"trans",hash:{},data:s}))+'</a></li>\n            <li><a href="/writers" title="Writers" aria-label="Writers">'+o((t.trans||n&&n.trans||r).call(i,"Writers",{name:"trans",hash:{},data:s}))+'</a></li>\n            <li><a href="https://company.wattpad.com/work-at-wattpad" title="Jobs" aria-label="Jobs">'+o((t.trans||n&&n.trans||r).call(i,"Jobs",{name:"trans",hash:{},data:s}))+'</a></li>\n            <li><a href="/go/directory" title="Directory" aria-label="Directory">'+o((t.trans||n&&n.trans||r).call(i,"Directory",{name:"trans",hash:{},data:s}))+'</a></li>\n            <li><a href="http://business.wattpad.com" title="'+o((t.trans||n&&n.trans||r).call(i,"Business",{name:"trans",hash:{},data:s}))+'" aria-label="'+o((t.trans||n&&n.trans||r).call(i,"Business",{name:"trans",hash:{},data:s}))+'">'+o((t.trans||n&&n.trans||r).call(i,"Business",{name:"trans",hash:{},data:s}))+'</a></li>\n            <li><a href="https://company.wattpad.com/press" title="Press" aria-label="Press">'+o((t.trans||n&&n.trans||r).call(i,"Press",{name:"trans",hash:{},data:s}))+'</a></li>\n            <li><a href="/terms" title="Terms" aria-label="Terms" rel="nofollow">'+o((t.trans||n&&n.trans||r).call(i,"Terms",{name:"trans",hash:{},data:s}))+'</a></li>\n            <li><a href="/privacy" title="Privacy" rel="nofollow" aria-label="'+o((t.trans||n&&n.trans||r).call(i,"Privacy",{name:"trans",hash:{},data:s}))+'">'+o((t.trans||n&&n.trans||r).call(i,"Privacy",{name:"trans",hash:{},data:s}))+'</a></li>\n        </ul>\n\n        <div class="social pull-right">\n            <a href="https://facebook.com/wattpad" rel="nofollow">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-facebook-square",24,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+'</a>\n            <a href="https://twitter.com/wattpad" rel="nofollow">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-twitter",24,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+"</a>\n        </div>\n    </div>\n</footer>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return null!=(l=t.unless.call(null!=n?n:e.nullContext||{},null!=n?n.forcedSignup:n,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:""},2:function(e,n,t,a,s){var l;return"    <span class='close on-close'>\n      "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+"\n    </span>\n"},4:function(e,n,t,a,s){return'    <div class="bookmark">\n        '+e.escapeExpression((t.connectImage||n&&n.connectImage||t.helperMissing).call(null!=n?n:e.nullContext||{},"retargeting/d-bookmark-icon@1x.png","bookmark",{name:"connectImage",hash:{},data:s}))+"\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return(null!=(l=t.if.call(i,null!=n?n.modal:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.forcedSignup:n,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")+"\n\n"+(null!=(l=e.invokePartial(a["core.authentication.auth_form"],n,{name:"core.authentication.auth_form",data:s,indent:"  ",helpers:t,partials:a,decorators:e.decorators}))?l:"")},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<header class="panel-heading">\n  '+o((t.connectImage||n&&n.connectImage||r).call(i,"/shared/ic_terms.png","paper icon",{name:"connectImage",hash:{width:"55",height:"73",klass:"paper-icon"},data:s}))+"\n  <h4>"+o((t.trans||n&&n.trans||r).call(i,null!=n?n.title:n,{name:"trans",hash:{},data:s}))+'</h4>\n</header>\n\n<div class="panel-body">\n  <p>'+(null!=(l=(t.trans||n&&n.trans||r).call(i,null!=n?n.body:n,{name:"trans",hash:{},data:s}))?l:"")+'</p>\n  <div class="buttons-wrapper">\n      <a href="https://support.wattpad.com/hc/en-us/articles/360000812323-Updates-to-our-Terms-of-Service-and-Privacy-Policy" class="policies-link">  \n        <button class="btn btn-default learn-more"> \n          '+o((t.trans||n&&n.trans||r).call(i,"Learn more",{name:"trans",hash:{},data:s}))+'\n        </button>\n      </a>\n    <button class="btn btn-orange on-continue">'+o((t.trans||n&&n.trans||r).call(i,"Got it",{name:"trans",hash:{},data:s}))+"</button>\n  </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing;return'    <button class="btn btn-no-background btn-remove on-dismiss"\n            data-target="'+e.escapeExpression("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-remove",16,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+"</button>\n"},3:function(e,n,t,a,s){return'    <div class="background background-sm" style="background-image: url( \''+e.escapeExpression((t.profileBackground||n&&n.profileBackground||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.backgroundUrl:n,360,{name:"profileBackground",hash:{},data:s}))+"' );\"></div>\n"},5:function(e,n,t,a,s){var l;return'    <div class="background background-sm" '+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.highlight_colour:n,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?l:"")+"></div>\n"},6:function(e,n,t,a,s){var l;return'style="background-color: '+e.escapeExpression("function"==typeof(l=null!=(l=t.highlight_colour||(null!=n?n.highlight_colour:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"highlight_colour",hash:{},data:s}):l)+'"'},8:function(e,n,t,a,s){var l;return"          "+e.escapeExpression("function"==typeof(l=null!=(l=t.name||(null!=n?n.name:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"name",hash:{},data:s}):l)+"\n"},10:function(e,n,t,a,s){var l;return"          "+e.escapeExpression("function"==typeof(l=null!=(l=t.username||(null!=n?n.username:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"username",hash:{},data:s}):l)+"\n"},12:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"\n"+(null!=(l=(t.isCurrentUser||n&&n.isCurrentUser||r).call(i,null!=n?n.username:n,{name:"isCurrentUser",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=(t.isCurrentUser||n&&n.isCurrentUser||r).call(i,null!=n?n.username:n,{name:"isCurrentUser",hash:{},fn:e.noop,inverse:e.program(15,s,0),data:s}))?l:"")+"\n"},13:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'        <a class="btn btn-block btn-md btn-teal on-navigate" href="/user/'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'">\n          '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-user",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.trans||n&&n.trans||o).call(r,"View My Profile",{name:"trans",hash:{},data:s}))+"\n        </a>\n"},15:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u=e.escapeExpression,d='        <button class="btn btn-fan btn-md btn-block '+(null!=(l=t.if.call(o,null!=n?n.following:n,{name:"if",hash:{},fn:e.program(16,s,0),inverse:e.program(18,s,0),data:s}))?l:"")+" ";return i=null!=(i=t.disabled||(null!=n?n.disabled:n))?i:c,r={name:"disabled",hash:{},fn:e.program(20,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(o,r):i,t.disabled||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(d+=l),d+'" data-target="'+u("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:c)?i.call(o,{name:"username",hash:{},data:s}):i)+'" data-following="'+u("function"==typeof(i=null!=(i=t.following||(null!=n?n.following:n))?i:c)?i.call(o,{name:"following",hash:{},data:s}):i)+'" role="button">\n'+(null!=(l=t.if.call(o,null!=n?n.following:n,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.program(24,s,0),data:s}))?l:"")+"        </button>\n"},16:function(e,n,t,a,s){return"btn-teal"},18:function(e,n,t,a,s){return"btn-white"},20:function(e,n,t,a,s){return"disabled"},22:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-following",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+'<span class="truncate">'+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Following",{name:"trans",hash:{},data:s}))+"</span>\n"},24:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-follow",16,"wp-base-2-dark",{name:"iconify",hash:{},data:s}))?l:"")+'<span class="truncate">'+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Follow",{name:"trans",hash:{},data:s}))+"</span>\n"},26:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return"        <div>\n            <h5>"+o("function"==typeof(l=null!=(l=t.numStoriesPublished||(null!=n?n.numStoriesPublished:n))?l:r)?l.call(i,{name:"numStoriesPublished",hash:{},data:s}):l)+'</h5>\n            <small class="x-small">'+o((t.trans||n&&n.trans||r).call(i,"Works",{name:"trans",hash:{},data:s}))+"</small>\n        </div>\n"},28:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.numLists:n,{name:"if",hash:{},fn:e.program(29,s,0),inverse:e.noop,data:s}))?l:""},29:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return"        <div>\n            <h5>"+o("function"==typeof(l=null!=(l=t.numLists||(null!=n?n.numLists:n))?l:r)?l.call(i,{name:"numLists",hash:{},data:s}):l)+'</h5>\n            <small class="x-small">'+o((t.trans||n&&n.trans||r).call(i,"Lists",{name:"trans",hash:{},data:s}))+"</small>\n        </div>\n"},31:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return"        <div>\n            <h5>"+r((t.count||n&&n.count||i).call(l,null!=n?n.numFollowing:n,{name:"count",hash:{},data:s}))+'</h5>\n            <small class="x-small">'+r((t.trans||n&&n.trans||i).call(l,"Following",{name:"trans",hash:{},data:s}))+"</small>\n        </div>\n"},33:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return"        <div>\n            <h5>"+r((t.count||n&&n.count||i).call(l,null!=n?n.numFollowers:n,{name:"count",hash:{},data:s}))+'</h5>\n            <small class="x-small">'+r((t.trans||n&&n.trans||i).call(l,"Followers",{name:"trans",hash:{},data:s}))+"</small>\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u="function",d=e.escapeExpression,h='<article class="user-card">\n'+(null!=(l=t.if.call(o,null!=n?n.showRemove:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(o,null!=n?n.backgroundUrl:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?l:"")+'    <a class="avatar avatar-lg on-navigate" href="/user/'+d(typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:c)===u?i.call(o,{name:"username",hash:{},data:s}):i)+'">\n        <img src="'+d(typeof(i=null!=(i=t.avatar||(null!=n?n.avatar:n))?i:c)===u?i.call(o,{name:"avatar",hash:{},data:s}):i)+'"></a>\n    <div class="content">\n        <h5><a class="alt-link on-navigate" href="/user/'+d(typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:c)===u?i.call(o,{name:"username",hash:{},data:s}):i)+'">\n'+(null!=(l=t.if.call(o,null!=n?n.name:n,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.program(10,s,0),data:s}))?l:"")+"        </a></h5>\n        <small>@"+d(typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:c)===u?i.call(o,{name:"username",hash:{},data:s}):i)+"</small>\n\n\n";return i=null!=(i=t.isLoggedIn||(null!=n?n.isLoggedIn:n))?i:c,r={name:"isLoggedIn",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s},l=typeof i===u?i.call(o,r):i,t.isLoggedIn||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(h+=l),h+"    </div>\n\n    <footer>\n"+(null!=(l=t.if.call(o,null!=n?n.numStoriesPublished:n,{name:"if",hash:{},fn:e.program(26,s,0),inverse:e.program(28,s,0),data:s}))?l:"")+"\n"+(null!=(l=t.if.call(o,null!=n?n.numFollowing:n,{name:"if",hash:{},fn:e.program(31,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(o,null!=n?n.numFollowers:n,{name:"if",hash:{},fn:e.program(33,s,0),inverse:e.noop,data:s}))?l:"")+"    </footer>\n\n</article>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return" truncate-width"},3:function(e,n,t,a,s){var l;return" "+e.escapeExpression("function"==typeof(l=null!=(l=t.name||(null!=n?n.name:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"name",hash:{},data:s}):l)+" "},5:function(e,n,t,a,s){var l;return" "+e.escapeExpression("function"==typeof(l=null!=(l=t.username||(null!=n?n.username:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"username",hash:{},data:s}):l)+" "},7:function(e,n,t,a,s){return" <li>"+e.escapeExpression(e.lambda(n,n))+"</li> "},9:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<div class="follow">\n'+(null!=(l=(t.isCurrentUser||n&&n.isCurrentUser||r).call(i,null!=n?n.username:n,{name:"isCurrentUser",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=(t.isCurrentUser||n&&n.isCurrentUser||r).call(i,null!=n?n.username:n,{name:"isCurrentUser",hash:{},fn:e.noop,inverse:e.program(12,s,0),data:s}))?l:"")+"\n</div>\n"},10:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'  <a class="btn btn-block btn-teal on-navigate" href="/user/'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'">\n    '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-user",14,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+'\n    <span class="truncate">'+c((t.trans||n&&n.trans||o).call(r,"View My Profile",{name:"trans",hash:{},data:s}))+"</span>\n  </a>\n"},12:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u=e.escapeExpression,d='  <button class="btn btn-fan '+(null!=(l=t.if.call(o,null!=n?n.following:n,{name:"if",hash:{},fn:e.program(13,s,0),inverse:e.program(15,s,0),data:s}))?l:"")+" ";return i=null!=(i=t.disabled||(null!=n?n.disabled:n))?i:c,r={name:"disabled",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(o,r):i,t.disabled||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(d+=l),d+'" data-target="'+u("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:c)?i.call(o,{name:"username",hash:{},data:s}):i)+'" data-following="'+u("function"==typeof(i=null!=(i=t.following||(null!=n?n.following:n))?i:c)?i.call(o,{name:"following",hash:{},data:s}):i)+'" role="button">\n'+(null!=(l=t.if.call(o,null!=n?n.following:n,{name:"if",hash:{},fn:e.program(19,s,0),inverse:e.program(21,s,0),data:s}))?l:"")+"  </button>\n\n"+(null!=(l=t.if.call(o,null!=n?n.showRemoveFollowersOption:n,{name:"if",hash:{},fn:e.program(23,s,0),inverse:e.noop,data:s}))?l:"")+"\n"},13:function(e,n,t,a,s){return"btn-teal"},15:function(e,n,t,a,s){return"btn-white"},17:function(e,n,t,a,s){return"disabled"},19:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"      "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-following",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+'<span class="truncate">'+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Following",{name:"trans",hash:{},data:s}))+"</span>\n"},21:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"      "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-follow",16,"wp-base-2-dark",{name:"iconify",hash:{},data:s}))?l:"")+'<span class="truncate">'+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Follow",{name:"trans",hash:{},data:s}))+"</span>\n"},23:function(e,n,t,a,s){var l;return'  <button class="btn on-remove-follower">\n    '+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-remove",16,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+"\n  </button>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u="function",d=e.escapeExpression,h=t.blockHelperMissing,p='<div class="pull-left">\n  <a class="avatar avatar-sm3 on-navigate" href="/user/'+d(typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:c)===u?i.call(o,{name:"username",hash:{},data:s}):i)+'">\n    <img alt="'+d(typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:c)===u?i.call(o,{name:"username",hash:{},data:s}):i)+'" src="'+d(typeof(i=null!=(i=t.avatar||(null!=n?n.avatar:n))?i:c)===u?i.call(o,{name:"avatar",hash:{},data:s}):i)+'">\n  </a>\n</div>\n\n<div class="user-data pull-left';return i=null!=(i=t.isLoggedIn||(null!=n?n.isLoggedIn:n))?i:c,r={name:"isLoggedIn",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s},l=typeof i===u?i.call(o,r):i,t.isLoggedIn||(l=h.call(n,l,r)),null!=l&&(p+=l),p+='">\n  <a class="alt-link on-navigate fullname" href="/user/'+d(typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:c)===u?i.call(o,{name:"username",hash:{},data:s}):i)+'">\n    '+(null!=(l=t.if.call(o,null!=n?n.name:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?l:"")+'\n    <span class="username">@'+d(typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:c)===u?i.call(o,{name:"username",hash:{},data:s}):i)+"</span>\n  </a>\n\n  <ul>\n    "+(null!=(l=t.each.call(o,null!=n?n.metadata:n,{name:"each",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")+"\n  </ul>\n</div>\n\n",i=null!=(i=t.isLoggedIn||(null!=n?n.isLoggedIn:n))?i:c,r={name:"isLoggedIn",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s},l=typeof i===u?i.call(o,r):i,t.isLoggedIn||(l=h.call(n,l,r)),null!=l&&(p+=l),p},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i;return'    <div class="story-item hide" data-story-id="'+e.escapeExpression("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:t.helperMissing)?i.call(null!=n?n:e.nullContext||{},{name:"id",hash:{},data:s}):i)+'">\n'+(null!=(l=e.invokePartial(a["core.item_views.discover_module_stories_small"],n,{name:"core.item_views.discover_module_stories_small",hash:{hideAuthor:!0,titleCharLimit:30,isDesktop:!0,coverSize:"cover-md"},data:s,indent:"      ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<header class="panel-heading">\n  <div class="panel-title">\n    <a class="send-list-event on-navigate" href="/list/'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+"-"+c((t.slugify||n&&n.slugify||o).call(r,null!=n?n.name:n,{name:"slugify",hash:{},data:s}))+'">'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+"</a>\n    "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-right",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n  </div>\n\n  <ul class="metadata">\n    <li>'+c((t.trans||n&&n.trans||o).call(r,"Reading List",{name:"trans",hash:{},data:s}))+"</li>\n    <li>"+c((t.sprintf||n&&n.sprintf||o).call(r,(t.ngettext||n&&n.ngettext||o).call(r,"%s Story","%s Stories",null!=n?n.numStories:n,{name:"ngettext",hash:{},data:s}),null!=n?n.numStories:n,{name:"sprintf",hash:{},data:s}))+'</li>\n  </ul>\n</header>\n\n<div class="panel-body">\n  <div id="preview-modal"></div>\n'+(null!=(l=t.each.call(r,null!=n?n.storyItems:n,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"</div>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'              <span class="rank">#'+o("function"==typeof(l=null!=(l=t.rank||(null!=n?n.rank:n))?l:r)?l.call(i,{name:"rank",hash:{},data:s}):l)+" in "+o("function"==typeof(l=null!=(l=t.name||(null!=n?n.name:n))?l:r)?l.call(i,{name:"name",hash:{},data:s}):l)+"</span>\n"},3:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return"        <time>"+o((t.trans||n&&n.trans||r).call(i,"Completed",{name:"trans",hash:{},data:s}))+" "+o((t.fromNow||n&&n.fromNow||r).call(i,null!=(l=null!=n?n.lastPublishedPart:n)?l.createDate:l,{name:"fromNow",hash:{},data:s}))+"</time>\n"},5:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return"        <time>"+o((t.trans||n&&n.trans||r).call(i,"Last updated",{name:"trans",hash:{},data:s}))+" "+o((t.fromNow||n&&n.fromNow||r).call(i,null!=(l=null!=n?n.lastPublishedPart:n)?l.createDate:l,{name:"fromNow",hash:{},data:s}))+"</time>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<a href="'+(null!=(l=(t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))?l:"")+'" data-index="'+c("function"==typeof(i=null!=(i=t.index||s&&s.index)?i:o)?i.call(r,{name:"index",hash:{},data:s}):i)+'" class="cover cover-sm center-block on-navigate">\n    <img src="'+c((t.resizeCover||n&&n.resizeCover||o).call(r,null!=n?n.cover:n,96,{name:"resizeCover",hash:{},data:s}))+'" aria-hidden="true" alt="'+c((t.trans||n&&n.trans||o).call(r,"%1$s by %2$s",null!=n?n.title:n,null!=(l=null!=n?n.user:n)?l.name:l,{name:"trans",hash:{},data:s}))+'">\n</a>\n<strong><a class="on-navigate" href="'+(null!=(l=(t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))?l:"")+'">'+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+'</a></strong>\n\n<div class="popover bottom">\n    <div class="arrow"></div>\n    <h3 class="popover-title"><a href="'+(null!=(l=(t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))?l:"")+'">'+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+'</a></h3>\n    <div class="popover-content">\n        <div class="meta">\n            <span class="reads">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-view",14,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.count||n&&n.count||o).call(r,null!=n?n.readCount:n,{name:"count",hash:{},data:s}))+'</span>\n            <span class="votes">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-vote",14,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.count||n&&n.count||o).call(r,null!=n?n.voteCount:n,{name:"count",hash:{},data:s}))+'</span>\n            <span class="comments">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-comment",14,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.count||n&&n.count||o).call(r,null!=n?n.commentCount:n,{name:"count",hash:{},data:s}))+"</span>\n        </div>\n        <p>"+c((t.simpleShorten||n&&n.simpleShorten||o).call(r,null!=n?n.description:n,105,{name:"simpleShorten",hash:{},data:s}))+'</p>\n        <div class="rankings">\n'+(null!=(l=t.each.call(r,null!=n?n.rankings:n,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'        </div>\n        <span class="rating rating-'+c("function"==typeof(i=null!=(i=t.rating||(null!=n?n.rating:n))?i:o)?i.call(r,{name:"rating",hash:{},data:s}):i)+'" aria-label="'+c((t.getStoryRating||n&&n.getStoryRating||o).call(r,null!=n?n.rating:n,{name:"getStoryRating",hash:{},data:s}))+'."></span>\n'+(null!=(l=t.if.call(r,null!=n?n.completed:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?l:"")+"    </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){return'<div class=\'collection panel-body\'>\n\n</div>\n<div class="show-more hidden center-text">\n  <button class="btn btn-link on-showmore"><strong>'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Show More",{name:"trans",hash:{},data:s}))+"</strong></button>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return" unread"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=e.lambda,c=e.escapeExpression,u=t.helperMissing;return'<article class="notification follower panel'+(null!=(l=t.unless.call(r,null!=n?n.isRead:n,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'">\n    <a href="/user/'+c(o(null!=(l=null!=n?n.friend:n)?l.name:l,n))+'" class="avatar avatar-sm2 on-navigate">\n        <img src="'+c((t.resizeAvatar||n&&n.resizeAvatar||u).call(r,null!=(l=null!=n?n.friend:n)?l.avatar:l,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <a href="/user/'+c(o(null!=(l=null!=n?n.friend:n)?l.name:l,n))+'" class="on-notification-click content">\n        <div class="heading">'+(null!=(l=(t.trans||n&&n.trans||u).call(r,"Your Facebook friend <strong>%s</strong> has joined Wattpad",null!=(l=null!=n?n.friend:n)?l.name:l,{name:"trans",hash:{},data:s}))?l:"")+"</div>\n\n        "+(null!=(l=(t.iconify||n&&n.iconify||u).call(r,"fa-user",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+' <time datetime="'+c("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:u)?i.call(r,{name:"createDate",hash:{},data:s}):i)+'">'+c((t.calendar||n&&n.calendar||u).call(r,null!=n?n.createDate:n,{name:"calendar",hash:{},data:s}))+"</time>\n    </a>\n</article>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<article class="notification aggregate message panel'+(null!=(l=t.unless.call(r,null!=n?n.isRead:n,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+'">\n    <div class="on-expand" data-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'">\n        <div class="count">'+c("function"==typeof(i=null!=(i=t.children||(null!=n?n.children:n))?i:o)?i.call(r,{name:"children",hash:{},data:s}):i)+'</div>\n        <div class="content">\n            <div class="heading">'+(null!=(l=(t.trans||n&&n.trans||o).call(r,"There are <strong>%s new comments</strong> on club thread <strong>%s</strong>",null!=n?n.children:n,null!=(l=null!=n?n.discussion:n)?l.discussion:l,{name:"trans",hash:{},data:s}))?l:"")+"</div>\n            "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-following",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'<time datetime="'+c("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:o)?i.call(r,{name:"createDate",hash:{},data:s}):i)+'">'+c((t.calendar||n&&n.calendar||o).call(r,null!=n?n.createDate:n,{name:"calendar",hash:{},data:s}))+"</time>\n        </div>\n    </div>\n</article>\n\n"},2:function(e,n,t,a,s){return" unread"},4:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=e.lambda,c=e.escapeExpression,u=t.helperMissing;return'\x3c!-- Individual Message --\x3e\n<article class="notification message panel '+(null!=(l=t.unless.call(r,null!=n?n.isRead:n,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+'">\n    <a href="/user/'+c(o(null!=(l=null!=n?n.user:n)?l.name:l,n))+'" class="avatar avatar-sm2 on-navigate">\n        <img src="'+c((t.resizeAvatar||n&&n.resizeAvatar||u).call(r,null!=(l=null!=n?n.user:n)?l.avatar:l,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <a href="'+c(o(null!=(l=null!=n?n.discussion:n)?l.url:l,n))+'" class="content">\n        <div class="heading">\n            '+(null!=(l=(t.trans||n&&n.trans||u).call(r,"<strong>%s</strong> commented on club thread <strong>%s</strong>",null!=(l=null!=n?n.user:n)?l.name:l,null!=(l=null!=n?n.discussion:n)?l.discussion:l,{name:"trans",hash:{},data:s}))?l:"")+"\n            "+(null!=(l=(t.iconify||n&&n.iconify||u).call(r,"fa-users",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+' <time datetime="'+c("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:u)?i.call(r,{name:"createDate",hash:{},data:s}):i)+'">'+c((t.calendar||n&&n.calendar||u).call(r,null!=n?n.createDate:n,{name:"calendar",hash:{},data:s}))+"</time>\n            <p>"+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||u).call(r,null!=(l=null!=n?n.discussion:n)?l.body:l,140,!0,{name:"simpleShorten",hash:{doUrl:!1,doTag:!1},data:s}))?l:"")+"</p>\n        </div>\n    </a>\n</article>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.children:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){return"<pre>\nNot supported!\n</pre>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return" unread"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=e.lambda,c=e.escapeExpression,u=t.helperMissing;return'<article class="notification upload panel'+(null!=(l=t.unless.call(r,null!=n?n.isRead:n,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'">\n    <a href="/user/'+c(o(null!=(l=null!=(l=null!=n?n.story:n)?l.user:l)?l.name:l,n))+'" class="avatar avatar-sm2 on-navigate">\n        <img src="'+c((t.resizeAvatar||n&&n.resizeAvatar||u).call(r,null!=(l=null!=(l=null!=n?n.story:n)?l.user:l)?l.avatar:l,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <a href="'+c(o(null!=(l=null!=(l=null!=n?n.story:n)?l.part:l)?l.url:l,n))+'" class="on-notification-click content">\n        <div class="heading">\n            '+(null!=(l=(t.trans||n&&n.trans||u).call(r,"<strong>%1$s</strong> updated <strong>%2$s</strong> - <strong>%3$s</strong>",null!=(l=null!=(l=null!=n?n.story:n)?l.user:l)?l.name:l,null!=(l=null!=n?n.story:n)?l.title:l,null!=(l=null!=(l=null!=n?n.story:n)?l.part:l)?l.title:l,{name:"trans",hash:{},data:s}))?l:"")+"\n        </div>\n\n        "+(null!=(l=(t.iconify||n&&n.iconify||u).call(r,"fa-story",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+' <time datetime="'+c("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:u)?i.call(r,{name:"createDate",hash:{},data:s}):i)+'">'+c((t.calendar||n&&n.calendar||u).call(r,null!=n?n.createDate:n,{name:"calendar",hash:{},data:s}))+'</time>\n\n        <div class="cover cover-xxs">\n            <img src="'+c((t.resizeCover||n&&n.resizeCover||u).call(r,null!=(l=null!=n?n.story:n)?l.cover:l,30,{name:"resizeCover",hash:{},data:s}))+'">\n        </div>\n    </a>\n</article>\n'},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return" unread"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=e.lambda,c=e.escapeExpression,u=t.helperMissing;return'\x3c!-- Added to Reading List --\x3e\n<article class="notification list panel'+(null!=(l=t.unless.call(r,null!=n?n.isRead:n,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'">\n    <a href="/user/'+c(o(null!=(l=null!=(l=null!=n?n.list:n)?l.user:l)?l.name:l,n))+'" class="avatar avatar-sm2 on-navigate">\n      <img src="'+c((t.resizeAvatar||n&&n.resizeAvatar||u).call(r,null!=(l=null!=(l=null!=n?n.list:n)?l.user:l)?l.avatar:l,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <a href="/list/'+c(o(null!=(l=null!=n?n.list:n)?l.id:l,n))+"-"+c((t.slugify||n&&n.slugify||u).call(r,null!=(l=null!=n?n.list:n)?l.name:l,{name:"slugify",hash:{},data:s}))+'" class="on-notification-click content">\n        <div class="heading">\n            '+(null!=(l=(t.trans||n&&n.trans||u).call(r,"<strong>%s</strong> added <strong>%s</strong> to <strong>%s</strong>",null!=(l=null!=(l=null!=n?n.list:n)?l.user:l)?l.name:l,null!=(l=null!=n?n.story:n)?l.title:l,null!=(l=null!=n?n.list:n)?l.name:l,{name:"trans",hash:{},data:s}))?l:"")+"\n        </div>\n        "+(null!=(l=(t.iconify||n&&n.iconify||u).call(r,"fa-story",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+' <time datetime="'+c("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:u)?i.call(r,{name:"createDate",hash:{},data:s}):i)+'">'+c((t.calendar||n&&n.calendar||u).call(r,null!=n?n.createDate:n,{name:"calendar",hash:{},data:s}))+"</time>\n    </a>\n</article>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return" unread"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=e.escapeExpression,c=t.helperMissing;return'\x3c!-- Individual Dedication --\x3e\n<article class="notification dedication panel'+(null!=(l=t.unless.call(r,null!=n?n.isRead:n,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'">\n    <a href="/user/'+o(e.lambda(null!=(l=null!=n?n.dedicator:n)?l.name:l,n))+'" class="avatar avatar-sm2 on-navigate">\n      <img src="'+o((t.resizeAvatar||n&&n.resizeAvatar||c).call(r,null!=(l=null!=n?n.dedicator:n)?l.avatar:l,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <a href="'+o((t.formatStoryUrl||n&&n.formatStoryUrl||c).call(r,null!=(l=null!=(l=null!=n?n.story:n)?l.part:l)?l.url:l,{name:"formatStoryUrl",hash:{},data:s}))+'" class="on-notification-click content">\n        <div class="heading">\n          '+(null!=(l=(t.trans||n&&n.trans||c).call(r,"<strong>%s</strong> dedicated <strong>%s - %s</strong> to you",null!=(l=null!=n?n.dedicator:n)?l.name:l,null!=(l=null!=n?n.story:n)?l.title:l,null!=(l=null!=(l=null!=n?n.story:n)?l.part:l)?l.title:l,{name:"trans",hash:{},data:s}))?l:"")+"\n        </div>\n        "+(null!=(l=(t.iconify||n&&n.iconify||c).call(r,"fa-dedicate",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+' <time datetime="'+o("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:c)?i.call(r,{name:"createDate",hash:{},data:s}):i)+'">'+o((t.calendar||n&&n.calendar||c).call(r,null!=n?n.createDate:n,{name:"calendar",hash:{},data:s}))+'</time>\n        <div class="cover cover-xxs">\n            <img src="'+o((t.resizeCover||n&&n.resizeCover||c).call(r,null!=(l=null!=n?n.story:n)?l.cover:l,28,{name:"resizeCover",hash:{},data:s}))+'">\n        </div>\n    </a>\n</article>\n'},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'  <article class="notification aggregate message panel'+(null!=(l=t.unless.call(r,null!=n?n.isRead:n,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+'">\n    <div class="on-expand" data-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'">\n      <div class="count">'+c("function"==typeof(i=null!=(i=t.children||(null!=n?n.children:n))?i:o)?i.call(r,{name:"children",hash:{},data:s}):i)+'</div>\n      <div class="content">\n        <div class="heading">\n          '+c((t.sprintf||n&&n.sprintf||o).call(r,(t.ngettext||n&&n.ngettext||o).call(r,"You have %s new announcement","You have %s new announcements",null!=n?n.children:n,{name:"ngettext",hash:{},data:s}),null!=n?n.children:n,{name:"sprintf",hash:{},data:s}))+"\n        </div>\n        "+c((t.connectImage||n&&n.connectImage||o).call(r,"shared/megaphone_grey.png","announcement notification",{name:"connectImage",hash:{height:"11px",width:"17px",id:"megaphone-icon"},data:s}))+'\n        <time datetime="'+c("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:o)?i.call(r,{name:"createDate",hash:{},data:s}):i)+'">'+c((t.calendar||n&&n.calendar||o).call(r,null!=n?n.createDate:n,{name:"calendar",hash:{},data:s}))+"</time>\n      </div>\n    </div>\n  </article>\n\n"},2:function(e,n,t,a,s){return" unread"},4:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=e.lambda,c=e.escapeExpression,u=t.helperMissing;return'<article class="notification message panel'+(null!=(l=t.if.call(r,null!=(l=null!=n?n.message:n)?l.isReply:l,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+(null!=(l=t.unless.call(r,null!=n?n.isRead:n,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+'">\n    <a href="/user/'+c(o(null!=(l=null!=(l=null!=n?n.message:n)?l.from:l)?l.name:l,n))+'" class="avatar avatar-sm2 on-navigate">\n        <img src="'+c((t.resizeAvatar||n&&n.resizeAvatar||u).call(r,null!=(l=null!=(l=null!=n?n.message:n)?l.from:l)?l.avatar:l,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <div class="content '+(null!=(l=t.unless.call(r,null!=n?n.isTruncated:n,{name:"unless",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")+'">\n      <div class="heading">\n        <a href="/user/'+c(o(null!=(l=null!=(l=null!=n?n.message:n)?l.to:l)?l.name:l,n))+'" class="on-navigate">\n'+(null!=(l=t.if.call(r,null!=n?n.hasMentions:n,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.program(18,s,0),data:s}))?l:"")+"        </a>\n      </div>\n\n"+(null!=(l=t.if.call(r,null!=(l=null!=n?n.message:n)?l.wasBroadcast:l,{name:"if",hash:{},fn:e.program(32,s,0),inverse:e.program(34,s,0),data:s}))?l:"")+'\n      <time datetime="'+c("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:u)?i.call(r,{name:"createDate",hash:{},data:s}):i)+'">'+c((t.calendar||n&&n.calendar||u).call(r,null!=n?n.createDate:n,{name:"calendar",hash:{},data:s}))+'</time>\n\n      <p class="shown-message">\n        '+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||u).call(r,null!=(l=null!=n?n.message:n)?l.body:l,null!=n?n.maxTextLength:n,!0,{name:"simpleShorten",hash:{doUrl:!1,doTag:!1},data:s}))?l:"")+'\n        <span class="show-full'+(null!=(l=t.unless.call(r,null!=n?n.isTruncated:n,{name:"unless",hash:{},fn:e.program(36,s,0),inverse:e.noop,data:s}))?l:"")+'"><strong>'+c((t.trans||n&&n.trans||u).call(r,"more",{name:"trans",hash:{},data:s}))+'</strong></span>\n      </p>\n      <p class="hidden full-message">'+(null!=(l=(t.linkify||n&&n.linkify||u).call(r,null!=(l=null!=n?n.message:n)?l.body:l,{name:"linkify",hash:{},data:s}))?l:"")+"</p>\n\n    </div>\n</article>\n"},5:function(e,n,t,a,s){return" reply"},7:function(e,n,t,a,s){return"expanded-text"},9:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.message:n)?l.wasBroadcast:l,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.program(12,s,0),data:s}))?l:""},10:function(e,n,t,a,s){var l;return"              "+(null!=(l=(t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"<strong>%s</strong> mentioned you on their feed",null!=(l=null!=(l=null!=n?n.message:n)?l.from:l)?l.name:l,{name:"trans",hash:{},data:s}))?l:"")+"\n"},12:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.theirFeed:n,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.program(13,s,0),data:s}))?l:""},13:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.toMe:n,{name:"if",hash:{},fn:e.program(14,s,0),inverse:e.program(16,s,0),data:s}))?l:""},14:function(e,n,t,a,s){var l;return"              "+(null!=(l=(t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"<strong>%s</strong> mentioned you on your feed",null!=(l=null!=(l=null!=n?n.message:n)?l.from:l)?l.name:l,{name:"trans",hash:{},data:s}))?l:"")+"\n"},16:function(e,n,t,a,s){var l;return"              "+(null!=(l=(t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"<strong>%1$s</strong> mentioned you on <strong>%2$s</strong>&#39;s feed",null!=(l=null!=(l=null!=n?n.message:n)?l.from:l)?l.name:l,null!=(l=null!=(l=null!=n?n.message:n)?l.to:l)?l.name:l,{name:"trans",hash:{},data:s}))?l:"")+"\n            "},18:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.message:n)?l.wasBroadcast:l,{name:"if",hash:{},fn:e.program(19,s,0),inverse:e.program(21,s,0),data:s}))?l:""},19:function(e,n,t,a,s){var l;return"            "+(null!=(l=(t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"<strong>%s</strong> posted a new announcement",null!=(l=null!=(l=null!=n?n.message:n)?l.from:l)?l.name:l,{name:"trans",hash:{},data:s}))?l:"")+"\n"},21:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.toMe:n,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.program(27,s,0),data:s}))?l:""},22:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.message:n)?l.parentId:l,{name:"if",hash:{},fn:e.program(23,s,0),inverse:e.program(25,s,0),data:s}))?l:""},23:function(e,n,t,a,s){var l;return"              "+(null!=(l=(t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"<strong>%s</strong> replied to a message on your feed",null!=(l=null!=(l=null!=n?n.message:n)?l.from:l)?l.name:l,{name:"trans",hash:{},data:s}))?l:"")+"\n"},25:function(e,n,t,a,s){var l;return"              "+(null!=(l=(t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"<strong>%s</strong> posted a message to your feed",null!=(l=null!=(l=null!=n?n.message:n)?l.from:l)?l.name:l,{name:"trans",hash:{},data:s}))?l:"")+"\n"},27:function(e,n,t,a,s){var l;return(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.message:n)?l.parentId:l,{name:"if",hash:{},fn:e.program(28,s,0),inverse:e.program(30,s,0),data:s}))?l:"")+"          "},28:function(e,n,t,a,s){var l;return"              "+(null!=(l=(t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"<strong>%1$s</strong> replied to a message on %2$s&#39;s feed",null!=(l=null!=(l=null!=n?n.message:n)?l.from:l)?l.name:l,null!=(l=null!=(l=null!=n?n.message:n)?l.to:l)?l.name:l,{name:"trans",hash:{},data:s}))?l:"")+"\n"},30:function(e,n,t,a,s){var l;return"              "+(null!=(l=(t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"<strong>%1$s</strong> posted a message to %2$s&#39;s feed",null!=(l=null!=(l=null!=n?n.message:n)?l.from:l)?l.name:l,null!=(l=null!=(l=null!=n?n.message:n)?l.to:l)?l.name:l,{name:"trans",hash:{},data:s}))?l:"")+"\n"},32:function(e,n,t,a,s){return"        "+e.escapeExpression((t.connectImage||n&&n.connectImage||t.helperMissing).call(null!=n?n:e.nullContext||{},"shared/megaphone_grey.png","announcement notification",{name:"connectImage",hash:{height:"11px",width:"17px",id:"megaphone-icon"},data:s}))+"\n"},34:function(e,n,t,a,s){var l;return"        "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-inbox",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+"\n"},36:function(e,n,t,a,s){return" hidden"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.children:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<article class="notification aggregate vote panel'+(null!=(l=t.unless.call(r,null!=n?n.isRead:n,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+'">\n    <div class="on-expand" data-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'">\n        <div class="count">'+c("function"==typeof(i=null!=(i=t.children||(null!=n?n.children:n))?i:o)?i.call(r,{name:"children",hash:{},data:s}):i)+'</div>\n        <div class="content">\n            <div class="heading">'+(null!=(l=(t.trans||n&&n.trans||o).call(r,"%s people voted on <strong>%s - %s</strong>",null!=n?n.children:n,null!=(l=null!=n?n.story:n)?l.title:l,null!=(l=null!=(l=null!=n?n.story:n)?l.part:l)?l.title:l,{name:"trans",hash:{},data:s}))?l:"")+"</div>\n            "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-vote",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'<time datetime="'+c("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:o)?i.call(r,{name:"createDate",hash:{},data:s}):i)+'">'+c((t.calendar||n&&n.calendar||o).call(r,null!=n?n.createDate:n,{name:"calendar",hash:{},data:s}))+"</time>\n        </div>\n    </div>\n</article>\n\n"},2:function(e,n,t,a,s){return" unread"},4:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=e.escapeExpression,c=t.helperMissing;return'<article class="notification vote panel'+(null!=(l=t.unless.call(r,null!=n?n.isRead:n,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+'">\n    <a href="/user/'+o(e.lambda(null!=(l=null!=n?n.voter:n)?l.name:l,n))+'" class="avatar avatar-sm2 on-navigate">\n        <img src="'+o((t.resizeAvatar||n&&n.resizeAvatar||c).call(r,null!=(l=null!=n?n.voter:n)?l.avatar:l,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <a href="'+o((t.formatStoryUrl||n&&n.formatStoryUrl||c).call(r,null!=(l=null!=(l=null!=n?n.story:n)?l.part:l)?l.url:l,{name:"formatStoryUrl",hash:{},data:s}))+'" class="on-notification-click content">\n        <div class="heading">'+(null!=(l=(t.trans||n&&n.trans||c).call(r,"<strong>%s</strong> voted on <strong>%s - %s</strong>",null!=(l=null!=n?n.voter:n)?l.name:l,null!=(l=null!=n?n.story:n)?l.title:l,null!=(l=null!=(l=null!=n?n.story:n)?l.part:l)?l.title:l,{name:"trans",hash:{},data:s}))?l:"")+"</div>\n        "+(null!=(l=(t.iconify||n&&n.iconify||c).call(r,"fa-vote",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'<time datetime="'+o("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:c)?i.call(r,{name:"createDate",hash:{},data:s}):i)+'">'+o((t.calendar||n&&n.calendar||c).call(r,null!=n?n.createDate:n,{name:"calendar",hash:{},data:s}))+"</time>\n    </a>\n</article>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.children:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return" unread"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=e.lambda,c=e.escapeExpression,u=t.helperMissing;return'<article class="notification follower panel'+(null!=(l=t.unless.call(r,null!=n?n.isRead:n,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'">\n    <a href="/user/'+c(o(null!=(l=null!=n?n.followed:n)?l.name:l,n))+'" class="avatar avatar-sm2 on-navigate">\n        <img src="'+c((t.resizeAvatar||n&&n.resizeAvatar||u).call(r,null!=(l=null!=n?n.followed:n)?l.avatar:l,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <a href="/user/'+c(o(null!=(l=null!=n?n.followed:n)?l.name:l,n))+'" class="on-notification-click content">\n        <div class="heading">'+(null!=(l=(t.trans||n&&n.trans||u).call(r,"<strong>%s</strong> has approved your follow request",null!=(l=null!=n?n.followed:n)?l.name:l,{name:"trans",hash:{},data:s}))?l:"")+"</div>\n        "+(null!=(l=(t.iconify||n&&n.iconify||u).call(r,"fa-following",16,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+'<time datetime="'+c("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:u)?i.call(r,{name:"createDate",hash:{},data:s}):i)+'">'+c((t.calendar||n&&n.calendar||u).call(r,null!=n?n.createDate:n,{name:"calendar",hash:{},data:s}))+"</time>\n    </a>\n</article>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<article class="notification aggregate follower panel'+(null!=(l=t.unless.call(r,null!=n?n.isRead:n,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+'">\n    <div class="on-expand" data-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'">\n        <div class="count">'+c("function"==typeof(i=null!=(i=t.children||(null!=n?n.children:n))?i:o)?i.call(r,{name:"children",hash:{},data:s}):i)+'</div>\n        <div class="content">\n            <div class="heading">'+(null!=(l=(t.trans||n&&n.trans||o).call(r,"You have <strong>%s new followers</strong>",null!=n?n.children:n,{name:"trans",hash:{},data:s}))?l:"")+"</div>\n            "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-following",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'<time datetime="'+c("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:o)?i.call(r,{name:"createDate",hash:{},data:s}):i)+'">'+c((t.calendar||n&&n.calendar||o).call(r,null!=n?n.createDate:n,{name:"calendar",hash:{},data:s}))+"</time>\n        </div>\n    </div>\n</article>\n\n"},2:function(e,n,t,a,s){return" unread"},4:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=e.lambda,c=e.escapeExpression,u=t.helperMissing;return'<article class="notification follower panel'+(null!=(l=t.unless.call(r,null!=n?n.isRead:n,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+'">\n    <a href="/user/'+c(o(null!=(l=null!=n?n.follower:n)?l.name:l,n))+'" class="avatar avatar-sm2 on-navigate">\n        <img src="'+c((t.resizeAvatar||n&&n.resizeAvatar||u).call(r,null!=(l=null!=n?n.follower:n)?l.avatar:l,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <a href="/user/'+c(o(null!=(l=null!=n?n.follower:n)?l.name:l,n))+'" class="on-notification-click content">\n        <div class="heading">'+(null!=(l=(t.trans||n&&n.trans||u).call(r,"<strong>%s</strong> followed you",null!=(l=null!=n?n.follower:n)?l.name:l,{name:"trans",hash:{},data:s}))?l:"")+"</div>\n        "+(null!=(l=(t.iconify||n&&n.iconify||u).call(r,"fa-following",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'<time datetime="'+c("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:u)?i.call(r,{name:"createDate",hash:{},data:s}):i)+'">'+c((t.calendar||n&&n.calendar||u).call(r,null!=n?n.createDate:n,{name:"calendar",hash:{},data:s}))+"</time>\n    </a>\n</article>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.children:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return" hidden"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<div class="row">\n    <article class="col-sm-7 col-md-8" id="notification-feed-col">\n        <header><h1 class="h3">'+o((t.trans||n&&n.trans||r).call(i,"Notifications",{name:"trans",hash:{},data:s}))+'</h1></header>\n        <main id="notification-feed">\n            <div>'+(null!=(l=e.invokePartial(a["core.notifications.notifications"],n,{name:"core.notifications.notifications",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")+'</div>\n        </main>\n    </article>\n    <article class="col-sm-5 col-md-4'+(null!=(l=t.unless.call(i,null!=n?n.hasRequests:n,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'" id="follow-requests-col">\n        <header><h1 class="h3">'+o((t.trans||n&&n.trans||r).call(i,"Follower Requests",{name:"trans",hash:{},data:s}))+'</h1></header>\n        <main id="follow-requests">\n            <div>'+(null!=(l=e.invokePartial(a["core.notifications.follow_requests"],n,{name:"core.notifications.follow_requests",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")+'</div>\n        </main>\n    </article>\n    <div class="col-sm-5 col-md-4">\n        <div class="wp-component invite-panel-component">\n'+(null!=(l=e.invokePartial(a["core.invite_friends.components.invite_panel"],n,{name:"core.invite_friends.components.invite_panel",data:s,indent:"            ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'        </div>\n    </div>\n</div>\n<div id="expand-modal" class="modal fade" role="dialog" tabindex=\'-1\'>\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header notification aggregate panel">\n                <div class="count"></div>\n                <div class="content">\n                  <div class="heading"></div>\n                  <time></time>\n                </div>\n                <button type="button" class="close btn btn-text" data-dismiss="modal" aria-label="Close">\n                  '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n                </button>\n            </div>\n            <div class="modal-body"></div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-left-align btn-grey btn-block" data-dismiss="modal">'+o((t.trans||n&&n.trans||r).call(i,"Close",{name:"trans",hash:{},data:s}))+"</button>\n            </div>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return"        "+(null!=(l=e.lambda(null!=(l=null!=n?n.notifications:n)?l.html:l,n))?l:"")+"\n"},3:function(e,n,t,a,s){return" hidden"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<div class="collection">\n'+(null!=(l=t.if.call(i,null!=(l=null!=n?n.notifications:n)?l.hasItems:l,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'    <div class="empty-message'+(null!=(l=t.if.call(i,null!=(l=null!=n?n.notifications:n)?l.hasItems:l,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+'">\n'+(null!=(l=e.invokePartial(a["core.notifications.items.notification_base"],n,{name:"core.notifications.items.notification_base",data:s,indent:"        ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'    </div>\n</div>\n<div class="show-more center-text'+(null!=(l=t.unless.call(i,null!=(l=null!=n?n.notifications:n)?l.hasMore:l,{name:"unless",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+'">\n    <button class="on-showmore">\n        <span class=\'show-more-message\'>\n            <span>'+o((t.trans||n&&n.trans||r).call(i,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n            <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n        </span>\n        <span class='loading-message hidden'>\n            "+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||r).call(i,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{className:"loading-spinner"},data:s}))?l:"")+"\n            <span> "+o((t.trans||n&&n.trans||r).call(i,"Loading",{name:"trans",hash:{},data:s}))+' ...</span>\n        </span>\n    </button>\n</div>\n<div class="loading-spinner center-text hidden">\n  '+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||r).call(i,"fa-loading",16,null!=n?n.device:n,{name:"iconifySpin",hash:{},data:s}))?l:"")+"\n</div>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return"        <small>"+(null!=(l=(t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"You ignored a follow request from %s. You can always approve the request here at any time.",null!=n?n.username:n,{name:"trans",hash:{},data:s}))?l:"")+"</small>\n"},3:function(e,n,t,a,s){var l;return'            <button class="btn btn-grey on-ignore on-request-addressed">'+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+"</button>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<article class="notification follow-request in-profile">\n    <a href="/user/'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'" class="avatar avatar-sm2 on-navigate">\n        <img src="'+c((t.resizeAvatar||n&&n.resizeAvatar||o).call(r,null!=n?n.avatar:n,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <div class="content">\n        <a href="/user/'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'" class="heading on-navigate">\n            '+(null!=(l=(t.trans||n&&n.trans||o).call(r,"<strong>%s</strong> wants to follow you",null!=n?n.username:n,{name:"trans",hash:{},data:s}))?l:"")+"\n        </a>\n"+(null!=(l=t.if.call(r,null!=n?n.followerIgnored:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'    </div>\n\n    <footer>\n        <div class="request-btns pull-right">\n            <button class="btn btn-teal on-approve on-request-addressed">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-check",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+"</button>\n"+(null!=(l=t.if.call(r,null!=n?n.followerIgnored:n,{name:"if",hash:{},fn:e.noop,inverse:e.program(3,s,0),data:s}))?l:"")+"        </div>\n    </footer>\n</article>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<article class="notification follow-request panel in-notifications">\n    <a href="/user/'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'" class="avatar avatar-sm2 on-navigate">\n        <img src="'+c((t.resizeAvatar||n&&n.resizeAvatar||o).call(r,null!=n?n.avatar:n,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <div class="content">\n        <a href="/user/'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'" class="heading on-navigate"><strong>'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'</strong></a>\n    </div>\n\n    <div class="request-btns">\n        <button class="btn btn-circle btn-teal on-approve">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-check",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+'</button>\n        <button class="btn btn-circle btn-grey on-ignore">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+"</button>\n    </div>\n</article>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return" hidden"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<div class="collection">\n    '+(null!=(l=e.lambda(null!=(l=null!=n?n.requests:n)?l.html:l,n))?l:"")+'\n</div>\n<div class="show-more center-text'+(null!=(l=t.unless.call(i,null!=(l=null!=n?n.requests:n)?l.hasMore:l,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'">\n    <button class="on-showmore">\n        <span class=\'show-more-message\'>\n            <span>'+o((t.trans||n&&n.trans||r).call(i,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n            <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n        </span>\n        <span class='loading-message hidden'>\n            "+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||r).call(i,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?l:"")+"\n            <span> "+o((t.trans||n&&n.trans||r).call(i,"Loading",{name:"trans",hash:{},data:s}))+' ...</span>\n        </span>\n    </button>\n</div>\n<div class="loading-spinner center-text hidden">\n  '+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||r).call(i,"fa-loading",16,null!=n?n.device:n,{name:"iconifySpin",hash:{},data:s}))?l:"")+"\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<a class="alt-link" href="'+o("function"==typeof(l=null!=(l=t.url||(null!=n?n.url:n))?l:r)?l.call(i,{name:"url",hash:{},data:s}):l)+'" target="_blank">\n  '+o("function"==typeof(l=null!=(l=t.name||(null!=n?n.name:n))?l:r)?l.call(i,{name:"name",hash:{},data:s}):l)+'<span class="sr-only"> (new window)</span></a>\n'},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return'  <div class="description">\n'+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.html_enabled:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(4,s,0),data:s}))?l:"")+"  </div>\n\n"},2:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"      <pre>"+(null!=(l=(t.preFormat||n&&n.preFormat||r).call(i,(t.linkify||n&&n.linkify||r).call(i,null!=n?n.description:n,{name:"linkify",hash:{sanitization:"unsanitize"},data:s}),{name:"preFormat",hash:{},data:s}))?l:"")+"</pre>\n"},4:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"      <pre>"+(null!=(l=(t.preFormat||n&&n.preFormat||r).call(i,(t.linkify||n&&n.linkify||r).call(i,null!=n?n.description:n,{name:"linkify",hash:{sanitization:"sanitize"},data:s}),{name:"preFormat",hash:{},data:s}))?l:"")+"</pre>\n"},6:function(e,n,t,a,s){var l;return null!=(l=(t.isCurrentUser||n&&n.isCurrentUser||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.username:n,{name:"isCurrentUser",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:""},7:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'    <div class="no-description">\n      <div>'+r((t.trans||n&&n.trans||i).call(l,"Help people get to know you",{name:"trans",hash:{},data:s}))+'</div>\n      <button class="btn btn-orange on-edit">'+r((t.trans||n&&n.trans||i).call(l,"Add Description",{name:"trans",hash:{},data:s}))+"</button>\n    </div>\n"},9:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing;return'    <li class="location col-xs-12 col-sm-12">\n      <span class="user-meta-info-content">\n        '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-location",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+e.escapeExpression("function"==typeof(i=null!=(i=t.location||(null!=n?n.location:n))?i:o)?i.call(r,{name:"location",hash:{},data:s}):i)+"\n      </span>\n    </li>\n"},11:function(e,n,t,a,s){return"("+e.escapeExpression((t.formatDate||n&&n.formatDate||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.createDate:n,{name:"formatDate",hash:{},data:s}))+")"},13:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'  <hr />\n  <ul id="profile-links" class="list-unstyled row">\n\n'+(null!=(l=t.if.call(i,null!=(l=null!=n?n.links:n)?l.website:l,{name:"if",hash:{},fn:e.program(14,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=(l=null!=n?n.links:n)?l.facebook:l,{name:"if",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=(l=null!=n?n.links:n)?l.twitter:l,{name:"if",hash:{},fn:e.program(18,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=(l=null!=n?n.links:n)?l.smashwords:l,{name:"if",hash:{},fn:e.program(20,s,0),inverse:e.noop,data:s}))?l:"")+"  </ul>\n"},14:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression;return'    <li class="website col-xs-12 col-sm-12">\n      '+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-link",18,"wp-base-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n      <span class="sr-only">website:</span>\n      <a class="alt-link" href="'+r(i(null!=(l=null!=(l=null!=n?n.links:n)?l.website:l)?l.url:l,n))+'" target="_blank" rel="nofollow">\n        '+r(i(null!=(l=null!=(l=null!=n?n.links:n)?l.website:l)?l.name:l,n))+"\n      </a>\n    </li>\n"},16:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression;return'    <li class="facebook col-xs-12 col-sm-12">\n      '+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-facebook-square",18,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+'\n      <span class="sr-only">facebook:</span>\n      <a class="alt-link" href="'+r(i(null!=(l=null!=(l=null!=n?n.links:n)?l.facebook:l)?l.url:l,n))+'" target="_blank" rel="nofollow">\n        '+r(i(null!=(l=null!=(l=null!=n?n.links:n)?l.facebook:l)?l.name:l,n))+"\n      </a>\n    </li>\n"},18:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression;return'    <li class="twitter col-xs-12 col-sm-12">\n      '+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-twitter",18,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+'\n      <span class="sr-only">twitter:</span>\n      <a class="alt-link" href="'+r(i(null!=(l=null!=(l=null!=n?n.links:n)?l.twitter:l)?l.url:l,n))+'" target="_blank" rel="nofollow">\n        '+r(i(null!=(l=null!=(l=null!=n?n.links:n)?l.twitter:l)?l.name:l,n))+"\n      </a>\n    </li>\n"},20:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression;return'    <li class="smashwords col-xs-12 col-sm-12">\n      '+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-link",18,"wp-base-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n      <span class="sr-only">smashwords:</span>\n      <a class="alt-link" href="'+r(i(null!=(l=null!=(l=null!=n?n.links:n)?l.smashwords:l)?l.url:l,n))+'" target="_blank" rel="nofollow">\n        '+r(i(null!=(l=null!=(l=null!=n?n.links:n)?l.smashwords:l)?l.name:l,n))+"\n      </a>\n    </li>\n"},22:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'  <hr />\n  <div id="following-panel">\n    <div class="title">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(i,"Following",{name:"trans",hash:{},data:s}))+'</div>\n\n    <div class="users clearfix" data-section="following">\n'+(null!=(l=t.each.call(i,null!=n?n.userFollowings:n,{name:"each",hash:{},fn:e.program(23,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.numFollowingMobile:n,{name:"if",hash:{},fn:e.program(25,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.numFollowingTablet:n,{name:"if",hash:{},fn:e.program(27,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.numFollowingDesktop:n,{name:"if",hash:{},fn:e.program(29,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.numFollowingDesktopWide:n,{name:"if",hash:{},fn:e.program(31,s,0),inverse:e.noop,data:s}))?l:"")+"    </div>\n  </div>\n"},23:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'      <a class="avatar avatar-sm2 on-navigate pull-left hide" href="/user/'+o("function"==typeof(l=null!=(l=t.username||(null!=n?n.username:n))?l:r)?l.call(i,{name:"username",hash:{},data:s}):l)+'">\n        <img src="'+o((t.resizeAvatar||n&&n.resizeAvatar||r).call(i,null!=n?n.avatar:n,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n      </a>\n'},25:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'      <a href="/user/'+o("function"==typeof(l=null!=(l=t.username||(null!=n?n.username:n))?l:r)?l.call(i,{name:"username",hash:{},data:s}):l)+'/following" class="on-nav-item on-navigate num-following pull-left mobile-break hide">+'+o((t.count||n&&n.count||r).call(i,null!=n?n.numFollowingMobile:n,{name:"count",hash:{},data:s}))+"</a>\n"},27:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'      <a href="/user/'+o("function"==typeof(l=null!=(l=t.username||(null!=n?n.username:n))?l:r)?l.call(i,{name:"username",hash:{},data:s}):l)+'/following" class="on-nav-item on-navigate num-following pull-left tablet-break hide">+'+o((t.count||n&&n.count||r).call(i,null!=n?n.numFollowingTablet:n,{name:"count",hash:{},data:s}))+"</a>\n"},29:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'      <a href="/user/'+o("function"==typeof(l=null!=(l=t.username||(null!=n?n.username:n))?l:r)?l.call(i,{name:"username",hash:{},data:s}):l)+'/following" class="on-nav-item on-navigate num-following pull-left desktop-break hide">+'+o((t.count||n&&n.count||r).call(i,null!=n?n.numFollowingDesktop:n,{name:"count",hash:{},data:s}))+"</a>\n"},31:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'      <a href="/user/'+o("function"==typeof(l=null!=(l=t.username||(null!=n?n.username:n))?l:r)?l.call(i,{name:"username",hash:{},data:s}):l)+'/following" class="on-nav-item on-navigate num-following pull-left desktop-wide-break hide">+'+o((t.count||n&&n.count||r).call(i,null!=n?n.numFollowingDesktopWide:n,{name:"count",hash:{},data:s}))+"</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u=e.escapeExpression,d='<div class="panel-body">\n'+(null!=(l=t.if.call(o,null!=n?n.description:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(6,s,0),data:s}))?l:"")+'\n  <ul class="list-unstyled user-meta-info row">\n'+(null!=(l=t.if.call(o,null!=n?n.location:n,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?l:"")+'\n    <li class="date col-xs-12 col-sm-12">\n      <span class="user-meta-info-content">\n        <span>'+u((t.trans||n&&n.trans||c).call(o,"Joined",{name:"trans",hash:{},data:s}))+"</span>"+u((t.fromNow||n&&n.fromNow||c).call(o,null!=n?n.createDate:n,{name:"fromNow",hash:{fullDate:!0},data:s}))+"\n\n        ";return i=null!=(i=t.isAmbassador||(null!=n?n.isAmbassador:n))?i:c,r={name:"isAmbassador",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(o,r):i,t.isAmbassador||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(d+=l),d+"\n      </span>\n    </li>\n  </ul>\n\n"+(null!=(l=t.if.call(o,null!=n?n.links:n,{name:"if",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(o,null!=n?n.userFollowings:n,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.noop,data:s}))?l:"")+'\n  <hr />\n  <div id="profile-share-links">\n    <div class="title">'+u((t.trans||n&&n.trans||c).call(o,"Share profile",{name:"trans",hash:{},data:s}))+"</div>\n    "+(null!=(l="function"==typeof(i=null!=(i=t.socialShareSection||(null!=n?n.socialShareSection:n))?i:c)?i.call(o,{name:"socialShareSection",hash:{},data:s}):i)?l:"")+"\n  </div>\n\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return"\n"+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.isDesktop:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(4,s,0),data:s}))?l:"")+"\n"},2:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression,c=e.lambda;return"<header>"+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-pin",22,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+o((t.trans||n&&n.trans||r).call(i,"Last Message",{name:"trans",hash:{},data:s}))+'</header>\n\n<div class="panel panel-default2">\n  <a href="/user/'+o(c(null!=(l=null!=n?n.from:n)?l.name:l,n))+'" class="avatar avatar-sm3 pull-left on-navigate">\n    '+o((t.connectAvatar||n&&n.connectAvatar||r).call(i,null!=(l=null!=n?n.from:n)?l.avatar:l,null!=(l=null!=n?n.from:n)?l.name:l,32,{name:"connectAvatar",hash:{},data:s}))+'\n  </a>\n  <a class="username on-navigate" href="/user/'+o(c(null!=(l=null!=n?n.from:n)?l.name:l,n))+'">'+o(c(null!=(l=null!=n?n.from:n)?l.name:l,n))+'</a>\n\n  <span class="latest-msg-date">'+o((t.fromNow||n&&n.fromNow||r).call(i,null!=n?n.createDate:n,{name:"fromNow",hash:{},data:s}))+"</span>\n\n  <pre>"+(null!=(l=(t.preFormat||n&&n.preFormat||r).call(i,(t.simpleShorten||n&&n.simpleShorten||r).call(i,null!=n?n.body:n,200,!0,{name:"simpleShorten",hash:{},data:s}),!0,{name:"preFormat",hash:{},data:s}))?l:"")+'</pre>\n\n  <a class="btn btn-grey on-navigate on-view-conversations" href="/user/'+o(c(null!=(l=null!=n?n.from:n)?l.name:l,n))+'/conversations">\n    '+o((t.trans||n&&n.trans||r).call(i,"View all Conversations",{name:"trans",hash:{},data:s}))+"\n  </a>\n</div>\n\n"},4:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression,c=e.lambda;return'<div class="panel">\n  <hr />\n\n  <div class="section-header">'+o((t.trans||n&&n.trans||r).call(i,"Last Message",{name:"trans",hash:{},data:s}))+'</div>\n\n  <div class="user-info">\n    <a href="/user/'+o(c(null!=(l=null!=n?n.from:n)?l.name:l,n))+'" class="avatar avatar-sm3 pull-left on-navigate">\n      '+o((t.connectAvatar||n&&n.connectAvatar||r).call(i,null!=(l=null!=n?n.from:n)?l.avatar:l,null!=(l=null!=n?n.from:n)?l.name:l,32,{name:"connectAvatar",hash:{},data:s}))+'\n    </a>\n    <a class="username on-navigate" href="/user/'+o(c(null!=(l=null!=n?n.from:n)?l.name:l,n))+'">'+o(c(null!=(l=null!=n?n.from:n)?l.name:l,n))+'</a>\n\n    <span class="latest-msg-date">'+o((t.fromNow||n&&n.fromNow||r).call(i,null!=n?n.createDate:n,{name:"fromNow",hash:{},data:s}))+"</span>\n  </div>\n\n  <pre>"+(null!=(l=(t.preFormat||n&&n.preFormat||r).call(i,(t.simpleShorten||n&&n.simpleShorten||r).call(i,null!=n?n.body:n,200,!0,{name:"simpleShorten",hash:{},data:s}),!0,{name:"preFormat",hash:{},data:s}))?l:"")+'</pre>\n\n  <button class="btn btn-grey btn-block btn-left-align on-navigate on-view-conversations" href="/user/'+o(c(null!=(l=null!=n?n.from:n)?l.name:l,n))+'/conversations">\n    '+o((t.trans||n&&n.trans||r).call(i,"View all Conversations",{name:"trans",hash:{},data:s}))+"\n  </button>\n</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.id:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression,o=null!=n?n:e.nullContext||{},c=t.helperMissing;return'<a href="/user/'+r(i(null!=(l=null!=(l=null!=n?n.pinnedItem:n)?l.from:l)?l.name:l,n))+'" class="avatar avatar-sm3 pull-left on-navigate">\n  '+r((t.connectAvatar||n&&n.connectAvatar||c).call(o,null!=(l=null!=(l=null!=n?n.pinnedItem:n)?l.from:l)?l.avatar:l,null!=(l=null!=(l=null!=n?n.pinnedItem:n)?l.from:l)?l.name:l,32,{name:"connectAvatar",hash:{},data:s}))+'\n</a>\n<a class="username on-navigate" href="/user/'+r(i(null!=(l=null!=(l=null!=n?n.pinnedItem:n)?l.from:l)?l.name:l,n))+'">'+r(i(null!=(l=null!=(l=null!=n?n.pinnedItem:n)?l.from:l)?l.name:l,n))+'</a>\n<small class="from-now">'+r((t.fromNow||n&&n.fromNow||c).call(o,null!=(l=null!=n?n.pinnedItem:n)?l.createDate:l,{name:"fromNow",hash:{},data:s}))+'</small>\n\n<pre class="body">'+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||c).call(o,null!=(l=null!=n?n.pinnedItem:n)?l.body:l,200,{name:"simpleShorten",hash:{},data:s}))?l:"")+'</pre>\n\n<a class="btn btn-md btn-block btn-grey btn-left-align on-navigate" href="/user/'+r(i(null!=(l=null!=(l=null!=n?n.pinnedItem:n)?l.from:l)?l.name:l,n))+'/conversations"> '+r((t.trans||n&&n.trans||c).call(o,"View all conversations",{name:"trans",hash:{},data:s}))+"</a> \n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.pinnedItem:n)?l.id:l,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return"<header>"+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Follow Request",{name:"trans",hash:{},data:s}))+'</header>\n\n<div class="request-item-container panel panel-default2">\n  <div class="follow-request-item">'+(null!=(l=e.invokePartial(a["core.profile.profile_follow_request_item"],n,{name:"core.profile.profile_follow_request_item",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")+"</div>\n</div>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'  <a class="btn btn-more btn-grey btn-block on-update-feed" href="/user/'+o("function"==typeof(l=null!=(l=t.username||(null!=n?n.username:n))?l:r)?l.call(i,{name:"username",hash:{},data:s}):l)+'">\n    '+o((t.trans||n&&n.trans||r).call(i,"See latest activity.",{name:"trans",hash:{},data:s}))+"\n  </a>\n"},3:function(e,n,t,a,s){return'  <div class="title-wrapper" id="feed-title">\n    <h4 class="title"><span class="title-text">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Recent Activity",{name:"trans",hash:{},data:s}))+"</span></h4>\n  </div>\n"},5:function(e,n,t,a,s){var l;return'<div class="feed-item-new panel pinned-item">\n'+(null!=(l=e.invokePartial(a["core.feed_items.feed_pinned_message"],n,{name:"core.feed_items.feed_pinned_message",data:s,indent:"\t",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c="";return i=null!=(i=t.showActivityOutofDate||(null!=n?n.showActivityOutofDate:n))?i:t.helperMissing,r={name:"showActivityOutofDate",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(o,r):i,t.showActivityOutofDate||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=t.if.call(o,null!=n?n.isFeed:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(o,null!=n?n.shouldRenderPinned:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=e.invokePartial(a["desktop.components.incremental_list"],n,{name:"desktop.components.incremental_list",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div class="panel panel-default2">\n  <header class="panel-heading">\n'+(null!=(l=(t.isCurrentUser||n&&n.isCurrentUser||o).call(r,null!=n?n.username:n,{name:"isCurrentUser",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+'\n    <div class="panel-title">\n      '+c((t.sprintf||n&&n.sprintf||o).call(r,(t.ngettext||n&&n.ngettext||o).call(r,"%s Reading List","%s Reading Lists",null!=n?n.totalLists:n,{name:"ngettext",hash:{},data:s}),null!=n?n.totalLists:n,{name:"sprintf",hash:{},data:s}))+'\n    </div>\n  </header>\n\n  <hr />\n\n  <div class="panel-body">\n    <div id="lists-item-view">'+(null!=(l="function"==typeof(i=null!=(i=t.listsItemViewContent||(null!=n?n.listsItemViewContent:n))?i:o)?i.call(r,{name:"listsItemViewContent",hash:{},data:s}):i)?l:"")+'</div>\n  </div>\n\n  <div class="show-more center-text hidden">\n    <button class="btn btn-grey on-showmore">\n      <span class=\'show-more-message\'>\n        <span>'+c((t.trans||n&&n.trans||o).call(r,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n        <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n      </span>\n      <span class='loading-message hidden'>\n        "+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||o).call(r,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?l:"")+"\n        <span>"+c((t.trans||n&&n.trans||o).call(r,"Loading...",{name:"trans",hash:{},data:s}))+"</span>\n      </span>\n    </button>\n  </div>\n</div>\n\n"},2:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'    <a href="/list" class="settings on-navigate">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-settings",24,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+"</a>\n    "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-plus",24,"wp-neutral-2","settings on-create-list",{name:"iconify",hash:{},data:s}))?l:"")+"\n"},4:function(e,n,t,a,s){var l;return null!=(l=(t.isCurrentUser||n&&n.isCurrentUser||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.username:n,{name:"isCurrentUser",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:""},5:function(e,n,t,a,s){return'<div class="panel panel-default2 empty-placeholder">\n  <header class="panel-heading">\n    <div class="panel-title"></div>\n    <div class="panel-subtitle"></div>\n  </header>\n\n  <div class="panel-body">\n    <div class="no-reading-list">\n      <button class="btn btn-md btn-orange on-create-list">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Create Reading List",{name:"trans",hash:{},data:s}))+'</button>\n    </div>\n\n    <div class="story-cover">\n      <div class="fixed-ratio fixed-ratio-cover">\n      </div>\n    </div>\x3c!--\n\n --\x3e<div class="story-cover">\n      <div class="fixed-ratio fixed-ratio-cover">\n      </div>\n    </div>\x3c!--\n\n --\x3e<div class="story-cover">\n      <div class="fixed-ratio fixed-ratio-cover">\n      </div>\n    </div>\x3c!--\n\n --\x3e<div class="story-cover">\n      <div class="fixed-ratio fixed-ratio-cover">\n      </div>\n    </div>\n  </div>\n</div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.totalLists:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div id="preview-modal"></div>\n\n<div class="panel panel-default2">\n\n  <header class="panel-heading">\n'+(null!=(l=(t.isCurrentUser||n&&n.isCurrentUser||o).call(r,null!=n?n.username:n,{name:"isCurrentUser",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+'\n    <div class="panel-title">\n      '+c((t.sprintf||n&&n.sprintf||o).call(r,(t.ngettext||n&&n.ngettext||o).call(r,"Story by %s","Stories by %s",null!=n?n.totalWorks:n,{name:"ngettext",hash:{},data:s}),null!=n?n.name:n,{name:"sprintf",hash:{},data:s}))+'\n    </div>\n\n    <ul class="metadata">\n      <li>'+c((t.sprintf||n&&n.sprintf||o).call(r,(t.ngettext||n&&n.ngettext||o).call(r,"%s Published Story","%s Published Stories",null!=n?n.numPublished:n,{name:"ngettext",hash:{},data:s}),null!=n?n.numPublished:n,{name:"sprintf",hash:{},data:s}))+"</li>\n\n"+(null!=(l=(t.isCurrentUser||n&&n.isCurrentUser||o).call(r,null!=n?n.username:n,{name:"isCurrentUser",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")+'    </ul>\n  </header>\n\n  <div class="panel-body">\n    <div id="works-item-view">'+(null!=(l="function"==typeof(i=null!=(i=t.worksItemViewContent||(null!=n?n.worksItemViewContent:n))?i:o)?i.call(r,{name:"worksItemViewContent",hash:{},data:s}):i)?l:"")+'</div>\n  </div>\n\n  <div class="show-more center-text hidden">\n    <button class="btn btn-grey on-showmore">\n      <span class=\'show-more-message\'>\n        <span>'+c((t.trans||n&&n.trans||o).call(r,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n        <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n      </span>\n      <span class='loading-message hidden'>\n        "+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||o).call(r,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?l:"")+"\n        <span> "+c((t.trans||n&&n.trans||o).call(r,"Loading...",{name:"trans",hash:{},data:s}))+"</span>\n      </span>\n    </button>\n  </div>\n</div>\n"},2:function(e,n,t,a,s){var l;return'    <a href="/myworks" class="settings on-navigate">'+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-settings",24,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+"</a>\n"},4:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.numDrafts:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:""},5:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return"      <li>\n      "+r((t.sprintf||n&&n.sprintf||i).call(l,(t.ngettext||n&&n.ngettext||i).call(l,"%s Draft","%s Drafts",null!=n?n.numDrafts:n,{name:"ngettext",hash:{},data:s}),null!=n?n.numDrafts:n,{name:"sprintf",hash:{},data:s}))+" ("+r((t.trans||n&&n.trans||i).call(l,"only visible to you",{name:"trans",hash:{},data:s}))+")\n      </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.totalWorks:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return'        <img src="'+e.escapeExpression("function"==typeof(l=null!=(l=t.avatar||(null!=n?n.avatar:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"avatar",hash:{},data:s}):l)+'">\n'},3:function(e,n,t,a,s){var l;return"        "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-user",26,"wp-neutral-2","vhcenter",{name:"iconify",hash:{},data:s}))?l:"")+"\n"},5:function(e,n,t,a,s){return"sr-only"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div class="avatar avatar-md">\n'+(null!=(l=t.if.call(r,null!=n?n.avatar:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+'</div>\n<div class="message">\n    <label class="control-label '+(null!=(l=(t.supportsPlaceholder||n&&n.supportsPlaceholder||o).call(r,null!=n?n.device:n,{name:"supportsPlaceholder",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+'" for="'+c("function"==typeof(i=null!=(i=t.viewId||(null!=n?n.viewId:n))?i:o)?i.call(r,{name:"viewId",hash:{},data:s}):i)+'">'+c("function"==typeof(i=null!=(i=t.placeholder||(null!=n?n.placeholder:n))?i:o)?i.call(r,{name:"placeholder",hash:{},data:s}):i)+'</label>\n    <textarea id="'+c("function"==typeof(i=null!=(i=t.viewId||(null!=n?n.viewId:n))?i:o)?i.call(r,{name:"viewId",hash:{},data:s}):i)+'" class="form-control count-input" data-limit="2000" data-counter="post-counter" data-name="PostContent" role="textbox" aria-multiline="true" placeholder="'+c("function"==typeof(i=null!=(i=t.placeholder||(null!=n?n.placeholder:n))?i:o)?i.call(r,{name:"placeholder",hash:{},data:s}):i)+'"></textarea>\n    <div class="warning hidden">\n      '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-warning",14,"wp-lighterror",{name:"iconify",hash:{},data:s}))?l:"")+'\n      <span class="text">'+c((t.trans||n&&n.trans||o).call(r,"There was a problem posting your message, please try again later.",{name:"trans",hash:{},data:s}))+'</span>\n    </div>\n    <div class="post-ui hidden">\n        <button class="btn btn-sm btn-orange pull-right on-post">'+c((t.trans||n&&n.trans||o).call(r,"Post",{name:"trans",hash:{},data:s}))+'</button>\n        <span class="post-counter hidden pull-right"><span></span>/2000</span>\n    </div>\n</div>\n\n'},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return'        <img src="'+e.escapeExpression("function"==typeof(l=null!=(l=t.avatar||(null!=n?n.avatar:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"avatar",hash:{},data:s}):l)+'">\n'},3:function(e,n,t,a,s){var l;return"        "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-user",26,"wp-neutral-2","vhcenter",{name:"iconify",hash:{},data:s}))?l:"")+"\n"},5:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'          <div class="broadcast">\n              <input class="on-broadcast-checkbox broadcast-checkbox" type="checkbox">\n              <label class="broadcast-checkbox-label">'+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Announce this to my followers",{name:"trans",hash:{},data:s}))+"</label>\n              "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-info",14,"wp-wp-neutral-2","on-broadcast-info broadcast-info",{name:"iconify",hash:{},data:s}))?l:"")+"\n          </div>\n"},7:function(e,n,t,a,s){return'id="broadcast-submit"'},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div class="avatar avatar-md">\n'+(null!=(l=t.if.call(r,null!=n?n.avatar:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+'</div>\n<div class="message new-message-view clearfix">\n    <textarea class="form-control count-input new-textarea" role="textbox" data-limit="2000" data-counter="post-counter" data-name="PostContent" aria-multiline="true">'+c("function"==typeof(i=null!=(i=t.placeholder||(null!=n?n.placeholder:n))?i:o)?i.call(r,{name:"placeholder",hash:{},data:s}):i)+'</textarea>\n    <div class="warning hidden">\n      '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-warning",14,"wp-lighterror",{name:"iconify",hash:{},data:s}))?l:"")+'\n      <span class="text">'+c((t.trans||n&&n.trans||o).call(r,"There was a problem posting your message, please try again later.",{name:"trans",hash:{},data:s}))+'</span>\n    </div>\n    <div class="post-ui hidden">\n'+(null!=(l=t.if.call(r,null!=n?n.canBroadcast:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+"        <button "+(null!=(l=t.if.call(r,null!=n?n.canBroadcast:n,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")+' class="btn btn-sm btn-orange btn-right-align on-post pull-right">'+c((t.trans||n&&n.trans||o).call(r,"Post",{name:"trans",hash:{},data:s}))+'</button>\n        <span class="post-counter hidden pull-right"><span></span>/2000</span>\n    </div>\n</div>\n'},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return'<span class="pull-right on-dismiss">\n  '+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-remove",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+"\n</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.dismissable:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'<p class="error-msg">\n  '+(null!=(l=e.lambda(null!=(l=null!=n?n.error:n)?l.message:l,n))?l:"")+"\n</p>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return"                    "+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Select your premium theme",{name:"trans",hash:{},data:s}))+"\n"},3:function(e,n,t,a,s){return"                    "+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Select your theme",{name:"trans",hash:{},data:s}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<div id="subscription-modal"></div>\n<div id="theme-settings">\n    <div class="about-themes panel panel-default panel-default2">\n        <div class="panel-body">\n            <div class="title">\n'+(null!=(l=t.if.call(i,(t.getCurrentUserAttr||n&&n.getCurrentUserAttr||r).call(i,"premium",{name:"getCurrentUserAttr",hash:{},data:s}),{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+"            </div>\n            <hr>\n            "+(null!=(l=(t.reactComponent||n&&n.reactComponent||r).call(i,"ThemeSettings","premium-theme",{name:"reactComponent",hash:{},data:s}))?l:"")+"\n        </div>\n    </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return"<br>\n<div>"+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-lock",36,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+"</div>\n<h4>"+o((t.trans||n&&n.trans||r).call(i,"Private Profile",{name:"trans",hash:{},data:s}))+'</h4>\n<div class="disclaimer">'+o((t.trans||n&&n.trans||r).call(i,"This profile is private. You need to follow this user to see their information.",{name:"trans",hash:{},data:s}))+"</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i;return'<div class="col-sm-4 col-lg-5 follower-request-container">\n    <section id="profile-request">'+(null!=(l="function"==typeof(i=null!=(i=t.requestContent||(null!=n?n.requestContent:n))?i:t.helperMissing)?i.call(null!=n?n:e.nullContext||{},{name:"requestContent",hash:{},data:s}):i)?l:"")+'</section>\n</div>\n<div class="col-sm-8 col-lg-7 profile-disclaimer-container">\n'},3:function(e,n,t,a,s){return'<div class="col-sm-12 profile-disclaimer-container">\n'},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.followerRequested:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+(null!=(l=e.invokePartial(a["core.profile.private_profile_disclaimer"],n,{name:"core.profile.private_profile_disclaimer",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"</div>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.showAdminOptions:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:""},2:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression,c=e.lambda;return'        <section id="profile-admin" class="bg-danger">\n          <header>\n            <h3>'+o((t.trans||n&&n.trans||r).call(i,"Admin",{name:"trans",hash:{},data:s}))+'</h3>\n          </header>\n\n          <div class="description">\n            '+o(c(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.email:l,n))+" ("+o(c(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.age:l,n))+o(c(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.gender:l,n))+')\n            <hr>\n\n            <a href="https://www.wattpad.com/staff/writer_summary?username='+o(c(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.username:l,n))+'">User Overview Report</a>\n            <hr>\n\n            <a href="http://redash.wattpad.com/queries/1229?p_userid='+o(c(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.id:l,n))+'" class="text-danger">\n              Login Date / IP\n            </a>\n            <hr>\n\n            '+o(c(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.categories:l,n))+"\n            <hr>\n\n            Programs: <ul>"+(null!=(l=t.each.call(i,null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.programs:l,{name:"each",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"</ul>\n            <hr>\n\n            Has Mobile App: "+(null!=(l=t.if.call(i,null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.mobileApp:l,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.program(8,s,0),data:s}))?l:"")+"\n            <hr>\n\n            Currently Featured: "+(null!=(l=t.if.call(i,null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.isFeatured:l,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.program(8,s,0),data:s}))?l:"")+"\n            <hr>\n\n            Is Premium: "+(null!=(l=t.if.call(i,null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.isPremium:l,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.program(8,s,0),data:s}))?l:"")+"\n            <hr>\n\n            Wallet Coins: "+(null!=(l=t.each.call(i,null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.wallet:l,{name:"each",hash:{},fn:e.program(10,s,0),inverse:e.program(12,s,0),data:s}))?l:"")+'\n            <hr>\n\n            <a href="https://admin.wattpad.com/admin/db/users.php?PME_sys_rec='+o(c(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.id:l,n))+'&PME_sys_operation=Change" class="text-danger">details</a> |\n            <a href="/admin/becomeuser?id='+o(c(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.id:l,n))+'" class="text-danger">become user</a> |\n            <a href="https://admin.wattpad.com/admin/user_library?username='+o(c(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.username:l,n))+'" class="text-danger">view library</a>\n            <hr>\n\n            <a href="https://admin.wattpad.com/admin/sendMessagesWattpad.php?username='+o(c(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.username:l,n))+'">Send Message To '+o(c(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.username:l,n))+' As Wattpad</a>\n            <hr>\n\n            <a href="https://admin.wattpad.com/admin/view_messages_from_wattpad_to_user.php?username='+o(c(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.username:l,n))+'">View Conversation Between Wattpad And '+o(c(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.username:l,n))+'</a>\n            <hr>\n\n            <a href="/admin/ignore_list?id='+o(c(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.id:l,n))+'&type=ignored" class="text-danger">muted</a> |\n            <a href="/admin/ignore_list?id='+o(c(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.id:l,n))+'&type=ignoredby" class="text-danger">muted by</a>\n            <hr>\n\n            Activities:\n              <a href="https://admin.wattpad.com/admin/db/comments.php?PME_sys_qf2='+o(c(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.id:l,n))+'" class="text-danger">comments</a> |\n              <a href="https://admin.wattpad.com/admin/db/messages.php?PME_sys_qf1='+o(c(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.id:l,n))+'" class="text-danger">messages</a> |\n              <a href="https://admin.wattpad.com/admin/user_changes?username='+o(c(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.username:l,n))+'" class="text-danger">change history</a>\n            <hr>\n\n            Stories:\n              <a href="/mystories?display_user='+o(c(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.username:l,n))+'" class="text-danger">manage</a> |\n              <a href="/contentreview?username='+o(c(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.username:l,n))+'" class="text-danger">review</a> |\n              <a href="/contentreview?username='+o(c(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.username:l,n))+'&deleted=1&spam=1" class="text-danger">deleted</a> |\n              <a href="https://admin.wattpad.com/admin/restore_all?id='+o(c(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.id:l,n))+'" class="text-danger">restore all</a>\n            <hr>\n\n            Timeout:\n'+(null!=(l=t.if.call(i,null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.timeout:l,{name:"if",hash:{},fn:e.program(14,s,0),inverse:e.program(16,s,0),data:s}))?l:"")+'            | <a href="/admin/user_timeouts.php?username='+o(c(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.username:l,n))+'" class="text-danger">view history</a>\n            <hr>\n\n'+(null!=(l=t.if.call(i,null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.ambassador:l,{name:"if",hash:{},fn:e.program(18,s,0),inverse:e.program(20,s,0),data:s}))?l:"")+"            <hr>\n\n"+(null!=(l=t.if.call(i,null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.isAuthor:l,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.program(24,s,0),data:s}))?l:"")+"            <hr>\n\n"+(null!=(l=(t.ifequal||n&&n.ifequal||r).call(i,null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.vetted:l,"v",{name:"ifequal",hash:{},fn:e.program(26,s,0),inverse:e.noop,data:s}))?l:"")+(null!=(l=(t.ifequal||n&&n.ifequal||r).call(i,null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.vetted:l,"f",{name:"ifequal",hash:{},fn:e.program(28,s,0),inverse:e.noop,data:s}))?l:"")+(null!=(l=(t.ifequal||n&&n.ifequal||r).call(i,null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.vetted:l,"c",{name:"ifequal",hash:{},fn:e.program(30,s,0),inverse:e.noop,data:s}))?l:"")+"          </div>\n        </section>\n"},3:function(e,n,t,a,s){var l;return"\n            "+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},n,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")+"\n            "},4:function(e,n,t,a,s){var l;return"<li>"+e.escapeExpression("function"==typeof(l=null!=(l=t.key||s&&s.key)?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"key",hash:{},data:s}):l)+"</ li>"},6:function(e,n,t,a,s){return"Yes"},8:function(e,n,t,a,s){return"No"},10:function(e,n,t,a,s){return e.escapeExpression(e.lambda(null!=n?n.amount:n,n))+" "},12:function(e,n,t,a,s){return" None "},14:function(e,n,t,a,s){var l;return"                "+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.timeout:l,n))+"\n"},16:function(e,n,t,a,s){return"                None\n"},18:function(e,n,t,a,s){var l;return'            IS AMBASSADOR <a href="/admin/userflag.php?flag=moderator&id='+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.id:l,n))+'&action=clear" class="text-danger">[set non-ambassador]</a>\n'},20:function(e,n,t,a,s){var l;return'            IS <strong>NOT</strong> AMBASSADOR <a href="/admin/userflag.php?flag=moderator&id='+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.id:l,n))+'&action=set" class="text-danger">[set ambassador]</a>\n'},22:function(e,n,t,a,s){var l;return'            VERIFIED <a href="/admin/userflag.php?flag=author&id='+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.id:l,n))+'&action=clear" class="text-danger">[set non-verified]</a>\n'},24:function(e,n,t,a,s){var l;return'            NOT VERIFIED <a href="/admin/userflag.php?flag=author&id='+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.id:l,n))+'&action=set" class="text-danger">[set verified]</a>\n'},26:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression;return'            VETTED: <a href="/admin/user_vetted.php?id='+r(i(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.id:l,n))+'&action=c" class="text-danger">[set not vetted]</a> <a href="/admin/user_vetted.php?id='+r(i(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.id:l,n))+'&action=f" class="text-danger">[set failed]</a>\n'},28:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression;return'            FAILED: <a href="/admin/user_vetted.php?id='+r(i(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.id:l,n))+'&action=v" class="text-danger">[set vetted]</a> <a href="/admin/user_vetted.php?id='+r(i(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.id:l,n))+'&action=c" class="text-danger">[set not vetted]</a>\n'},30:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression;return'            NOT VETTED: <a href="/admin/user_vetted.php?id='+r(i(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.id:l,n))+'&action=v" class="text-danger">[set vetted]</a> <a href="/admin/user_vetted.php?id='+r(i(null!=(l=null!=(l=null!=n?n.admin:n)?l.profile:l)?l.id:l,n))+'&action=f" class="text-danger">[set failed]</a>\n'},32:function(e,n,t,a,s){var l,i,r,o="";return i=null!=(i=t.isPremiumEligible||(null!=n?n.isPremiumEligible:n))?i:t.helperMissing,r={name:"isPremiumEligible",hash:{},fn:e.program(33,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(null!=n?n:e.nullContext||{},r):i,t.isPremiumEligible||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(o+=l),o},33:function(e,n,t,a,s){var l;return'        <section id="profile-theme">\n'+(null!=(l=e.invokePartial(a["core.profile.theme_settings"],n,{name:"core.profile.theme_settings",data:s,indent:"            ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"        </section>\n"},35:function(e,n,t,a,s){var l,i;return'        <section id="authentication-panel" class="panel panel-default2">\n            <div class="signup-modal">\n                '+(null!=(l="function"==typeof(i=null!=(i=t.signupContent||(null!=n?n.signupContent:n))?i:t.helperMissing)?i.call(null!=n?n:e.nullContext||{},{name:"signupContent",hash:{},data:s}):i)?l:"")+"\n            </div>\n        </section>\n"},37:function(e,n,t,a,s){var l,i;return'        <section id="profile-pinned-item">'+(null!=(l="function"==typeof(i=null!=(i=t.pinnedItemContent||(null!=n?n.pinnedItemContent:n))?i:t.helperMissing)?i.call(null!=n?n:e.nullContext||{},{name:"pinnedItemContent",hash:{},data:s}):i)?l:"")+"</section>\n"},39:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return null!=(l=t.if.call(i,(t.isTestGroup||n&&n.isTestGroup||t.helperMissing).call(i,"PROFILE_QUESTS",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(40,s,0),inverse:e.noop,data:s}))?l:""},40:function(e,n,t,a,s){var l;return"                "+(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},"EmbeddedQuests","embedded-quests",{name:"reactComponent",hash:{},data:s}))?l:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u="function",d='<div class="col-sm-12 col-md-4">\n\n'+(null!=(l=t.if.call(o,null!=n?n.admin:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'        <br>\n        <section id="profile-request">'+(null!=(l=typeof(i=null!=(i=t.requestContent||(null!=n?n.requestContent:n))?i:c)===u?i.call(o,{name:"requestContent",hash:{},data:s}):i)?l:"")+'</section>\n        <section id="profile-about">'+(null!=(l=typeof(i=null!=(i=t.aboutContent||(null!=n?n.aboutContent:n))?i:c)===u?i.call(o,{name:"aboutContent",hash:{},data:s}):i)?l:"")+"</section>\n"+(null!=(l=(t.isCurrentUser||n&&n.isCurrentUser||c).call(o,null!=n?n.username:n,{name:"isCurrentUser",hash:{},fn:e.program(32,s,0),inverse:e.noop,data:s}))?l:"")+"\n";return i=null!=(i=t.isLoggedIn||(null!=n?n.isLoggedIn:n))?i:c,r={name:"isLoggedIn",hash:{},fn:e.noop,inverse:e.program(35,s,0),data:s},l=typeof i===u?i.call(o,r):i,t.isLoggedIn||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(d+=l),d+"\n"+(null!=(l=(t.isWattpad||n&&n.isWattpad||c).call(o,null!=n?n.username:n,{name:"isWattpad",hash:{},fn:e.noop,inverse:e.program(37,s,0),data:s}))?l:"")+'    </div>\n\n    <div class="col-sm-8">\n        <br>\n'+(null!=(l=(t.isCurrentUser||n&&n.isCurrentUser||c).call(o,null!=n?n.username:n,{name:"isCurrentUser",hash:{},fn:e.program(39,s,0),inverse:e.noop,data:s}))?l:"")+'        <section id="profile-works">'+(null!=(l=typeof(i=null!=(i=t.worksContent||(null!=n?n.worksContent:n))?i:c)===u?i.call(o,{name:"worksContent",hash:{},data:s}):i)?l:"")+'</section>\n        <section id="profile-lists">'+(null!=(l=typeof(i=null!=(i=t.listsContent||(null!=n?n.listsContent:n))?i:c)===u?i.call(o,{name:"listsContent",hash:{},data:s}):i)?l:"")+'</section>\n        <section id="profile-message" class="message-user"></section>\n    </div>\n'},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return'      <div class="wattpad-empty">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Conversation has been disabled on this profile.",{name:"trans",hash:{},data:s}))+"</div>\n"},3:function(e,n,t,a,s){var l,i;return'      <section id="profile-messages">'+(null!=(l="function"==typeof(i=null!=(i=t.messagesContent||(null!=n?n.messagesContent:n))?i:t.helperMissing)?i.call(null!=n?n:e.nullContext||{},{name:"messagesContent",hash:{},data:s}):i)?l:"")+"</section>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return'<div class="col-sm-8 col-lg-7" id="profile-message-wrapper">\n'+(null!=(l=(t.isWattpad||n&&n.isWattpad||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.username:n,{name:"isWattpad",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+"</div>"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["mobile.profile.profile_follow_modal"],n,{name:"mobile.profile.profile_follow_modal",data:s,indent:"  ",helpers:t,partials:a,decorators:e.decorators}))?l:""},3:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["desktop.profile.profile_follow_modal"],n,{name:"desktop.profile.profile_follow_modal",data:s,indent:"  ",helpers:t,partials:a,decorators:e.decorators}))?l:""},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.isMobile:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:""},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<section class="modal profile-modal fade" id="userTimeout" tabindex="-1" role="dialog" aria-labelledby="userTimeout" aria-hidden="true">\n    <div class="modal-dialog modal-sm">\n        <div class="modal-content">\n            <header class="modal-header">\n                <div class="pull-right top-right close" data-dismiss="modal">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'</div>\n                <h3 class="modal-title" id="myModalLabel">User Time-Out</h3>\n            </header>\n            <div class="modal-body">\n                <p>Duration:</p>\n                <select id="timeout-duration">\n                    <option value="86400">1 Day</option>\n                    <option value="172800">2 Days</option>\n                </select>\n                <p>Reason:</p>\n                <textarea class="form-control" role="textbox" aria-multiline="true" id="timeout-reason" name="timeout-reason" rows="10" cols="46"></textarea>\n            </div>\n            <footer class="modal-footer">\n                <button type="button" class="btn btn-orange on-timeout-user">'+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Save",{name:"trans",hash:{},data:s}))+"</button>\n            </footer>\n        </div>\n    </div>\n</section>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<section class="modal profile-modal fade" id="userClose" tabindex="-1" role="dialog" aria-labelledby="userClose" aria-hidden="true">\n    <div class="modal-dialog modal-sm">\n        <div class="modal-content">\n            <header class="modal-header">\n                <div class="pull-right top-right close" data-dismiss="modal">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'</div>\n                <h3 class="modal-title" id="myModalLabel">Close User Account</h3>\n            </header>\n            <div class="modal-body">\n                <p>Select Reason:</p>\n                <select id="close-reason">\n                    <option value="banned_explicit">Banned - Explicit</option>\n                    <option value="banned_self_harm">Banned - Self Harm</option>\n                    <option value="copyright">Copyright Infringement</option>\n                    <option value="csem">CSEM found</option>\n                    <option value="csem_image_moderation">CSEM found by image moderation</option>\n                    <option value="cyberbullying_harassment">Cyberbullying/Harassment</option>\n                    <option value="extremism">Extremism</option>\n                    <option value="poaching">Poaching</option>\n                    <option value="previous_account_closed">Previous account closed</option>\n                    <option value="sexual_messaging">Sexual Messaging</option>\n                    <option value="spam">Spam</option>\n                    <option value="underage">Underage</option>\n                </select>\n            </div>\n            <footer class="modal-footer">\n                <a role="button" href="#" class="btn btn-orange on-close-user-account">'+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Close Account",{name:"trans",hash:{},data:s}))+"</a>\n            </footer>\n        </div>\n    </div>\n</section>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<section class="modal profile-modal fade" id="userMute" tabindex="-1" role="dialog" aria-labelledby="userModal" aria-hidden="true">\n    <div class="modal-dialog modal-sm">\n        <div class="modal-content">\n            <header class="modal-header">\n                <div class="pull-right top-right close" data-dismiss="modal">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'</div>\n                <h3 class="modal-title" id="myModalLabel">Ignore User</h3>\n            </header>\n            <div class="modal-body">\n                <p>Both you and this user will be prevented from:</p>\n                <ul>\n                    <li>Messaging each other</li>\n                    <li>Commenting on each other\'s stories</li>\n                    <li>Dedicating stories to each other</li>\n                    <li>Following and tagging each other</li>\n                </ul>\n                <p><strong>Note:</strong><br />You will still be able to view each other\'s stories.</p>\n            </div>\n            <footer class="modal-footer">\n                <a href="//support.wattpad.com/hc/articles/201463560" class="pull-left"><small>More Info</small></a>\n                <a role="button" href="#" class="btn btn-orange on-mute-user">'+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Continue",{name:"trans",hash:{},data:s}))+"</a>\n            </footer>\n        </div>\n    </div>\n</section>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression,c="function";return'<div id="edit-profile" class="hidden edit-profile container">\n    <br><br>\n    <form class="form-horizontal" role="form">\n\n        \x3c!-- Temp remove until v3 API support is updated --\x3e\n        <div class="row form-group location">\n            <label for="update-location" class="control-label col-sm-3">'+o((t.trans||n&&n.trans||r).call(i,"Location",{name:"trans",hash:{},data:s}))+'</label>\n            <div class="col-sm-6">\n                <input id="update-location" type="text" class="form-control" data-field="location" value="'+o(typeof(l=null!=(l=t.location||(null!=n?n.location:n))?l:r)===c?l.call(i,{name:"location",hash:{},data:s}):l)+'" placeholder="'+o((t.trans||n&&n.trans||r).call(i,"Enter your location",{name:"trans",hash:{},data:s}))+'">\n            </div>\n        </div>\n\n        <div class="row form-group description">\n            <label for="update-location" class="control-label col-sm-3">'+o((t.trans||n&&n.trans||r).call(i,"About",{name:"trans",hash:{},data:s}))+'</label>\n            <div class="col-sm-6">\n                <textarea id="update-description" class="form-control count-input" data-field="description" data-name="Description" data-limit="2000" data-counter="description-counter" rows="10">'+o(typeof(l=null!=(l=t.description||(null!=n?n.description:n))?l:r)===c?l.call(i,{name:"description",hash:{},data:s}):l)+'</textarea>\n                <div class="description-counter pull-right"><span>'+o(typeof(l=null!=(l=t.aboutCount||(null!=n?n.aboutCount:n))?l:r)===c?l.call(i,{name:"aboutCount",hash:{},data:s}):l)+'</span>/2000</div>\n            </div>\n        </div>\n\n        <div class="row form-group website">\n            <label for="update-website" class="control-label col-sm-3">'+o((t.trans||n&&n.trans||r).call(i,"My Website",{name:"trans",hash:{},data:s}))+'</label>\n            <div class="col-sm-6">\n                <input id="update-website" type="text" class="form-control" data-field="website" value="'+o(typeof(l=null!=(l=t.website||(null!=n?n.website:n))?l:r)===c?l.call(i,{name:"website",hash:{},data:s}):l)+'" placeholder="'+o((t.trans||n&&n.trans||r).call(i,"Enter a link to your personal website",{name:"trans",hash:{},data:s}))+'">\n            </div>\n        </div>\n\n        \x3c!--<div class="row form-group facebook">\n            <label for="update-facebook" class="control-label col-sm-3">'+o((t.trans||n&&n.trans||r).call(i,"Link with Facebook",{name:"trans",hash:{},data:s}))+'</label>\n            <div class="col-sm-6">\n                <input id="update-facebook" type="text" class="form-control" data-field="facebook" value="'+o(typeof(l=null!=(l=t.facebook||(null!=n?n.facebook:n))?l:r)===c?l.call(i,{name:"facebook",hash:{},data:s}):l)+'" placeholder="'+o((t.trans||n&&n.trans||r).call(i,"Connect with Facebook",{name:"trans",hash:{},data:s}))+'">\n            </div>\n        </div>\n\n        <div class="row form-group twitter">\n            <label for="update-twitter" class="control-label col-sm-3">'+o((t.trans||n&&n.trans||r).call(i,"Link with Twitter",{name:"trans",hash:{},data:s}))+'</label>\n            <div class="col-sm-6">\n                <input id="update-twitter" type="text" class="form-control" data-field="twitter" value="'+o(typeof(l=null!=(l=t.twitter||(null!=n?n.twitter:n))?l:r)===c?l.call(i,{name:"twitter",hash:{},data:s}):l)+'" placeholder="'+o((t.trans||n&&n.trans||r).call(i,"Connect with Twitter",{name:"trans",hash:{},data:s}))+'">\n            </div>\n        </div>\n\n        <div class="row form-group smashwords">\n            <label for="update-smashwords" class="control-label col-sm-3">'+o((t.trans||n&&n.trans||r).call(i,"Smashwords",{name:"trans",hash:{},data:s}))+'</label>\n            <div class="col-sm-6">\n                <input id="update-smashwords" type="text" class="form-control" data-field="smashwords" value="'+o(typeof(l=null!=(l=t.smashwords||(null!=n?n.smashwords:n))?l:r)===c?l.call(i,{name:"smashwords",hash:{},data:s}):l)+'" placeholder="'+o((t.trans||n&&n.trans||r).call(i,"Add your Smashwords Profile",{name:"trans",hash:{},data:s}))+'">\n            </div>\n        </div>\n        --\x3e\n\n    </form>\n\n    <br>\n    <br>\n    <br>\n</div>\n'},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return'<div id="follower-modal"></div>\n'},3:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return null!=(l=t.if.call(i,(t.isTestGroup||n&&n.isTestGroup||t.helperMissing).call(i,"PAID_CONTENT",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:""},4:function(e,n,t,a,s){var l;return"    "+(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},"WPModal",null!=n?n.username:n,{name:"reactComponent",hash:{},data:s}))?l:"")+"\n"},6:function(e,n,t,a,s){return'<header class="background background-lg" style="background-image: url( \''+e.escapeExpression((t.profileBackground||n&&n.profileBackground||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.backgroundUrl:n,1920,{name:"profileBackground",hash:{},data:s}))+"' );\">\n"},8:function(e,n,t,a,s){var l;return'<header class="background background-lg" '+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.highlight_colour:n,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?l:"")+">\n"},9:function(e,n,t,a,s){var l;return'style="background-color: '+e.escapeExpression("function"==typeof(l=null!=(l=t.highlight_colour||(null!=n?n.highlight_colour:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"highlight_colour",hash:{},data:s}):l)+'"'},11:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'        <h1 class="profile-name h3" aria-label="'+o((t.trans||n&&n.trans||r).call(i,"%s's profile",null!=n?n.name:n,{name:"trans",hash:{},data:s}))+'">\n            '+o("function"==typeof(l=null!=(l=t.name||(null!=n?n.name:n))?l:r)?l.call(i,{name:"name",hash:{},data:s}):l)+"\n        </h1>\n"},13:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'        <h1 class="profile-name h3" aria-label="'+o((t.trans||n&&n.trans||r).call(i,"%s's profile",null!=n?n.username:n,{name:"trans",hash:{},data:s}))+'">\n            '+o("function"==typeof(l=null!=(l=t.username||(null!=n?n.username:n))?l:r)?l.call(i,{name:"username",hash:{},data:s}):l)+"\n        </h1>\n"},15:function(e,n,t,a,s){return"scroll-to-element"},17:function(e,n,t,a,s){return"on-followers"},19:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'data-toggle="tooltip" data-placement="top" title="'+r((t.format||n&&n.format||i).call(l,null!=n?n.numFollowers:n,{name:"format",hash:{},data:s}))+" "+r((t.trans||n&&n.trans||i).call(l,"Followers",{name:"trans",hash:{},data:s}))+'"'},21:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'      <nav role="navigation"><ul>\n        <li data-section="about" class="'+(null!=(l=t.if.call(r,null!=n?n.active_about:n,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.noop,data:s}))?l:"")+'">\n          <a href="/user/'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'" class="on-nav-item">'+c((t.trans||n&&n.trans||o).call(r,"About",{name:"trans",hash:{},data:s}))+'</a>\n        </li>\n        <li data-section="conversations" class="'+(null!=(l=t.if.call(r,null!=n?n.active_activity:n,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.noop,data:s}))?l:"")+'">\n          <a href="/user/'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'/conversations" class="on-nav-item">'+c((t.trans||n&&n.trans||o).call(r,"Conversations",{name:"trans",hash:{},data:s}))+'</a>\n        </li>\n        <li data-section="following" class="'+(null!=(l=t.if.call(r,null!=n?n.active_following:n,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.noop,data:s}))?l:"")+'">\n          <a href="/user/'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'/following" class="on-nav-item">'+c((t.trans||n&&n.trans||o).call(r,"Following",{name:"trans",hash:{},data:s}))+"</a>\n        </li>\n"+(null!=(l=(t.isCurrentUser||n&&n.isCurrentUser||o).call(r,null!=n?n.username:n,{name:"isCurrentUser",hash:{},fn:e.program(24,s,0),inverse:e.noop,data:s}))?l:"")+"      </ul></nav>\n"},22:function(e,n,t,a,s){return"active"},24:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return null!=(l=t.if.call(i,(t.isTestGroup||n&&n.isTestGroup||t.helperMissing).call(i,"PROFILE_QUESTS",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(25,s,0),inverse:e.noop,data:s}))?l:""},25:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'                <li data-section="quests" class="'+(null!=(l=t.if.call(r,null!=n?n.active_quests:n,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.noop,data:s}))?l:"")+'">\n                    <a href="/user/'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'/quests" class="on-nav-item">'+c((t.trans||n&&n.trans||o).call(r,"Quests",{name:"trans",hash:{},data:s}))+"</a>\n                </li>\n"},27:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.showAdminOptions:n,{name:"if",hash:{},fn:e.program(28,s,0),inverse:e.program(30,s,0),data:s}))?l:""},28:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing;return'        <a class="btn btn-red" role="button" href="/user/'+e.escapeExpression("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-lock",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+'</a>\n        <a class="btn btn-red on-change-invalid-image" role="button" href="#" data-imagetype="avatar">\n          '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-camera",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+' Avatar\n        </a>\n        <a class="btn btn-red on-change-invalid-image" role="button" href="#" data-imagetype="banner">\n          '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-camera",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+" Background\n        </a>\n\n"},30:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing;return'        <a class="btn btn-red" role="button" href="/user/'+e.escapeExpression("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'/admin">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-unlock",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+"</a>\n"},32:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return(null!=(l=t.if.call(i,(t.isTestGroup||n&&n.isTestGroup||r).call(i,"PAID_CONTENT",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(33,s,0),inverse:e.noop,data:s}))?l:"")+'\n        <button class="btn btn-white on-edit-profile">\n          '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-settings",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+' <span class="hidden-xs">'+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Edit Profile",{name:"trans",hash:{},data:s}))+"</span>\n        </button>\n"},33:function(e,n,t,a,s){var l;return'            <span class="user-balance">\n                '+(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},"WalletWithOnboarding","profile",{name:"reactComponent",hash:{},data:s}))?l:"")+"\n            </span>\n"},35:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u=e.escapeExpression,d="\n"+(null!=(l=t.if.call(o,null!=n?n.isPrivate:n,{name:"if",hash:{},fn:e.program(36,s,0),inverse:e.program(41,s,0),data:s}))?l:"")+"\n          "+(null!=(l=t.if.call(o,null!=n?n.isPrivateToMe:n,{name:"if",hash:{},fn:e.noop,inverse:e.program(56,s,0),data:s}))?l:"")+'\n\n          <div class="button-group inline-block relative">\n\n            '+(null!=(l=t.if.call(o,null!=n?n.isPrivateToMe:n,{name:"if",hash:{},fn:e.noop,inverse:e.program(59,s,0),data:s}))?l:"")+"\n\n";return i=null!=(i=t.isAmbassador||(null!=n?n.isAmbassador:n))?i:c,r={name:"isAmbassador",hash:{},fn:e.noop,inverse:e.program(62,s,0),data:s},l="function"==typeof i?i.call(o,r):i,t.isAmbassador||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(d+=l),d+'\n            <div class="triangle"></div>\n\n            <ul id="profile-more-options" class="dropdown-menu align-right">\n              '+(null!=(l=t.if.call(o,null!=n?n.isPrivateToMe:n,{name:"if",hash:{},fn:e.noop,inverse:e.program(64,s,0),data:s}))?l:"")+'\n\n              <li><a role="button" href="#" data-toggle="modal" class="on-report" data-gtm="profile|report">\n                '+(null!=(l=(t.iconify||n&&n.iconify||c).call(o,"fa-warning",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+u((t.trans||n&&n.trans||c).call(o,"Report",{name:"trans",hash:{},data:s}))+" "+u("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:c)?i.call(o,{name:"username",hash:{},data:s}):i)+"\n              </a></li>\n\n              "+(null!=(l=t.if.call(o,null!=n?n.isPrivateToMe:n,{name:"if",hash:{},fn:e.noop,inverse:e.program(68,s,0),data:s}))?l:"")+"\n            </ul>\n          </div>\n"},36:function(e,n,t,a,s){var l;return(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.followingRequested:n,{name:"if",hash:{},fn:e.program(37,s,0),inverse:e.program(39,s,0),data:s}))?l:"")+"\n"},37:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'            <button class="btn btn-teal on-following-request" data-action="unfollow"\n                    role="button" aria-pressed="true" data-gtm="profile|unfollow">\n              '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-following-request",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+' <span class="hidden-xs">'+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Requested",{name:"trans",hash:{},data:s}))+"</span>\n            </button>\n\n"},39:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'            <button class="btn btn-white on-following-request" data-action="follow"\n                  role="button" aria-pressed="false" data-gtm="profile|follow">\n              '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-follow",16,"wp-base-2",{name:"iconify",hash:{},data:s}))?l:"")+' <span class="hidden-xs">'+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Request",{name:"trans",hash:{},data:s}))+"</span>\n            </button>\n"},41:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u=e.escapeExpression,d='            <button class="btn btn-fan '+(null!=(l=t.if.call(o,null!=n?n.following:n,{name:"if",hash:{},fn:e.program(42,s,0),inverse:e.program(44,s,0),data:s}))?l:"")+" ";return i=null!=(i=t.disabled||(null!=n?n.disabled:n))?i:c,r={name:"disabled",hash:{},fn:e.program(46,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(o,r):i,t.disabled||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(d+=l),d+' on-follow-user" data-target="'+u("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:c)?i.call(o,{name:"username",hash:{},data:s}):i)+'" data-following="'+u("function"==typeof(i=null!=(i=t.following||(null!=n?n.following:n))?i:c)?i.call(o,{name:"following",hash:{},data:s}):i)+'" data-gtm="'+(null!=(l=t.if.call(o,null!=n?n.following:n,{name:"if",hash:{},fn:e.program(48,s,0),inverse:e.program(50,s,0),data:s}))?l:"")+'">\n'+(null!=(l=t.if.call(o,null!=n?n.following:n,{name:"if",hash:{},fn:e.program(52,s,0),inverse:e.program(54,s,0),data:s}))?l:"")+"            </button>\n"},42:function(e,n,t,a,s){return"btn-teal"},44:function(e,n,t,a,s){return"btn-white"},46:function(e,n,t,a,s){return"disabled"},48:function(e,n,t,a,s){return"profile|unfollow"},50:function(e,n,t,a,s){return"profile|follow"},52:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-following no-right-padding",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+'<span class="hidden-xs truncate"> '+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Following",{name:"trans",hash:{},data:s}))+"</span>\n"},54:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-follow no-right-padding",16,"wp-base-2",{name:"iconify",hash:{},data:s}))?l:"")+'<span class="hidden-xs truncate"> '+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Follow",{name:"trans",hash:{},data:s}))+"</span>\n"},56:function(e,n,t,a,s){var l;return null!=(l=(t.isWattpad||n&&n.isWattpad||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.username:n,{name:"isWattpad",hash:{},fn:e.noop,inverse:e.program(57,s,0),data:s}))?l:""},57:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'\n            \n                <a href="/inbox/'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'" class="btn btn-white" data-gtm="profile|message">\n\n                    '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-inbox no-right-padding",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n                    <span class="hidden-xs hidden-sm">'+c((t.trans||n&&n.trans||o).call(r,"Message",{name:"trans",hash:{},data:s}))+"</span>\n                </a>\n          "},59:function(e,n,t,a,s){var l,i,r;return i=null!=(i=t.isAmbassador||(null!=n?n.isAmbassador:n))?i:t.helperMissing,r={name:"isAmbassador",hash:{},fn:e.program(60,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(null!=n?n:e.nullContext||{},r):i,t.isAmbassador||(l=t.blockHelperMissing.call(n,l,r)),null!=l?l:""},60:function(e,n,t,a,s){var l;return'\n              <button class="btn btn-white dropdown-toggle" data-toggle="dropdown"\n                      role="button" aria-controls="profile-more-options" aria-expanded="false" aria-label="more options">\n                '+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-more",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+"\n              </button>\n            "},62:function(e,n,t,a,s){var l;return"                "+(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},"ProfileMoreOptionsButton","options",{name:"reactComponent",hash:{},data:s}))?l:"")+"\n"},64:function(e,n,t,a,s){var l,i,r;return i=null!=(i=t.isLoggedIn||(null!=n?n.isLoggedIn:n))?i:t.helperMissing,r={name:"isLoggedIn",hash:{},fn:e.program(65,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(null!=n?n:e.nullContext||{},r):i,t.isLoggedIn||(l=t.blockHelperMissing.call(n,l,r)),null!=l?l:""},65:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'\n              <li class="mute'+(null!=(l=t.if.call(i,null!=n?n.isMuted:n,{name:"if",hash:{},fn:e.program(66,s,0),inverse:e.noop,data:s}))?l:"")+'">\n                <a role="button" href="#" data-toggle="modal" data-target="#userMute" data-gtm="profile|mute">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-mute",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.trans||n&&n.trans||r).call(i,"Mute",{name:"trans",hash:{},data:s}))+'</a>\n              </li>\n\n              <li class="unmute'+(null!=(l=t.unless.call(i,null!=n?n.isMuted:n,{name:"unless",hash:{},fn:e.program(66,s,0),inverse:e.noop,data:s}))?l:"")+'">\n                <a role="button" href="#" class="on-unmute-user" data-gtm="profile|unmute">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-unmute",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.trans||n&&n.trans||r).call(i,"Undo Mute",{name:"trans",hash:{},data:s}))+"</a>\n              </li>\n              "},66:function(e,n,t,a,s){return" hide"},68:function(e,n,t,a,s){var l,i,r;return i=null!=(i=t.isAmbassador||(null!=n?n.isAmbassador:n))?i:t.helperMissing,r={name:"isAmbassador",hash:{},fn:e.program(69,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(null!=n?n:e.nullContext||{},r):i,t.isAmbassador||(l=t.blockHelperMissing.call(n,l,r)),null!=l?l:""},69:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'\n                <li><a role="button" href="#" data-toggle="modal" data-target="#userClose" data-gtm="profile|close_account">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-remove-alt",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.trans||n&&n.trans||r).call(i,"Close Account",{name:"trans",hash:{},data:s}))+'</a></li>\n                <li><a role="button" href="#" data-toggle="modal" data-target="#userTimeout" data-gtm="profile|time_out">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-clock",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.trans||n&&n.trans||r).call(i,"Time-out",{name:"trans",hash:{},data:s}))+"</a></li>\n              "},71:function(e,n,t,a,s){var l;return"  "+(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},"Toast","unmute-info",{name:"reactComponent",hash:{},data:s}))?l:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u=e.escapeExpression,d="function",h=(null!=(l=t.if.call(o,null!=n?n.numFollowers:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=(t.isCurrentUser||n&&n.isCurrentUser||c).call(o,null!=n?n.username:n,{name:"isCurrentUser",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+'\n<div id="edit-controls" class="hidden faded edit-profile clearfix">\n    <div class="container">\n        <strong>'+u((t.trans||n&&n.trans||c).call(o,"Currently editing your profile",{name:"trans",hash:{},data:s}))+'</strong>\n        <div class="actions pull-right">\n            <button class="btn btn-orange on-edit-save">'+u((t.trans||n&&n.trans||c).call(o,"Save Changes",{name:"trans",hash:{},data:s}))+'</button>\n            <button class="btn btn-grey on-edit-cancel">'+u((t.trans||n&&n.trans||c).call(o,"Cancel",{name:"trans",hash:{},data:s}))+"</button>\n        </div>\n    </div>\n</div>\n\n"+(null!=(l=t.if.call(o,null!=n?n.backgroundUrl:n,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.program(8,s,0),data:s}))?l:"")+'  <div id="edit-overlay" class="hidden faded edit-profile"></div>\n\n  <div id="edit-background" class="hidden faded edit-profile center-block">\n    <span class="loading faded"></span>\n    <button class="btn btn-glass">'+(null!=(l=(t.iconify||n&&n.iconify||c).call(o,"fa-camera",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+" "+u((t.trans||n&&n.trans||c).call(o,"Change Background Image",{name:"trans",hash:{},data:s}))+'</button>\n  </div>\n\n  <div class="avatar avatar-profile center-block">\n    '+(null!=(l=(t.reactComponent||n&&n.reactComponent||c).call(o,"Avatar","display",{name:"reactComponent",hash:{},data:s}))?l:"")+'\n\n    <div id="edit-avatar" class="hidden faded edit-profile">\n      <span class="loading-bg faded"></span>\n      <span class="loading faded"></span>\n      <button>'+(null!=(l=(t.iconify||n&&n.iconify||c).call(o,"fa-camera",60,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+'</button>\n    </div>\n  </div>\n\n  <div class="badges">\n'+(null!=(l=t.if.call(o,null!=n?n.name:n,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.program(13,s,0),data:s}))?l:"")+"    \n"+(null!=(l=e.invokePartial(a["core.components.user_badges"],n,{name:"core.components.user_badges",hash:{badgeSize:"20"},data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'  </div>\n\n  <p id="alias" aria-label="also known as '+u(typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:c)===d?i.call(o,{name:"username",hash:{},data:s}):i)+'.">@'+u(typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:c)===d?i.call(o,{name:"username",hash:{},data:s}):i)+'</p>\n\n  <div id="edit-name" class="hidden faded edit-profile center-block">\n      <input type="text" class="form-control" data-field="name"\n             value="'+u(typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:c)===d?i.call(o,{name:"name",hash:{},data:s}):i)+'" placeholder="'+u((t.trans||n&&n.trans||c).call(o,"Full name",{name:"trans",hash:{},data:s}))+'">\n  </div>\n\n  <div class="row header-metadata">\n    <div class="col-xs-4 '+(null!=(l=t.if.call(o,null!=n?n.numStoriesPublished:n,{name:"if",hash:{},fn:e.program(15,s,0),inverse:e.noop,data:s}))?l:"")+'" data-id="profile-works">\n      <p>'+u((t.count||n&&n.count||c).call(o,null!=n?n.numStoriesPublished:n,{name:"count",hash:{},data:s}))+"</p>\n      <p>"+u((t.npgettext||n&&n.npgettext||c).call(o,"Profile Metadata","Work","Works",null!=n?n.numStoriesPublished:n,{name:"npgettext",hash:{},data:s}))+'</p>\n    </div>\n    <div class="col-xs-4 '+(null!=(l=t.if.call(o,null!=n?n.numLists:n,{name:"if",hash:{},fn:e.program(15,s,0),inverse:e.noop,data:s}))?l:"")+'" data-id="profile-lists">\n      <p>'+u((t.count||n&&n.count||c).call(o,null!=n?n.numLists:n,{name:"count",hash:{},data:s}))+"</p>\n      <p>"+u((t.npgettext||n&&n.npgettext||c).call(o,"Profile Metadata","Reading List","Reading Lists",null!=n?n.numLists:n,{name:"npgettext",hash:{},data:s}))+'</p>\n    </div>\n    <div class="col-xs-4 '+(null!=(l=t.if.call(o,null!=n?n.numFollowers:n,{name:"if",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s}))?l:"")+'" '+(null!=(l=(t.greaterThan||n&&n.greaterThan||c).call(o,null!=n?n.numFollowers:n,999,{name:"greaterThan",hash:{},fn:e.program(19,s,0),inverse:e.noop,data:s}))?l:"")+'>\n      <p class="followers-count">'+u((t.count||n&&n.count||c).call(o,null!=n?n.numFollowers:n,{name:"count",hash:{},data:s}))+"</p>\n      <p>"+u((t.npgettext||n&&n.npgettext||c).call(o,"Profile Metadata","Follower","Followers",null!=n?n.numFollowers:n,{name:"npgettext",hash:{},data:s}))+'</p>\n    </div>\n  </div>\n\n  <div id="page-navigation" class="sub-navigation">\n    <div id="edit-navblock" class="hidden faded edit-profile"></div>\n\n    <div class="container">\n      <div class="navigation-content">\n\n'+(null!=(l=t.if.call(o,null!=n?n.isPrivateToMe:n,{name:"if",hash:{},fn:e.noop,inverse:e.program(21,s,0),data:s}))?l:"")+'\n      <div class="actions" role="menu">\n\n';return i=null!=(i=t.isAdmin||(null!=n?n.isAdmin:n))?i:c,r={name:"isAdmin",hash:{},fn:e.program(27,s,0),inverse:e.noop,data:s},l=typeof i===d?i.call(o,r):i,t.isAdmin||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(h+=l),h+"\n"+(null!=(l=(t.isCurrentUser||n&&n.isCurrentUser||c).call(o,null!=n?n.username:n,{name:"isCurrentUser",hash:{},fn:e.program(32,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=(t.isCurrentUser||n&&n.isCurrentUser||c).call(o,null!=n?n.username:n,{name:"isCurrentUser",hash:{},fn:e.noop,inverse:e.program(35,s,0),data:s}))?l:"")+'      </div>\n    </div>\n    </div>\n  </div>\n</header>\n\n<main id="content" class="container" role="main">'+(null!=(l=typeof(i=null!=(i=t.mainContent||(null!=n?n.mainContent:n))?i:c)===d?i.call(o,{name:"mainContent",hash:{},data:s}):i)?l:"")+'</main>\n\n<div class="profile-options-modal">\n'+(null!=(l=e.invokePartial(a["desktop.profile.profile_mute_modal"],n,{name:"desktop.profile.profile_mute_modal",data:s,indent:"  ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+(null!=(l=e.invokePartial(a["desktop.profile.profile_close_modal"],n,{name:"desktop.profile.profile_close_modal",data:s,indent:"  ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+(null!=(l=e.invokePartial(a["desktop.profile.profile_timeout_modal"],n,{name:"desktop.profile.profile_timeout_modal",data:s,indent:"  ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"</div>\n\n"+(null!=(l=t.if.call(o,null!=n?n.recentlyUnmuted:n,{name:"if",hash:{},fn:e.program(71,s,0),inverse:e.noop,data:s}))?l:"")},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'<div class="full-screen background-1"></div>\n<div class="container">\n  <div class="onboardingModal step1 modal fade in" role="dialog" data-backdrop="static" data-keyboard="false" style="display:block;">\n    <div class="modal-dialog">\n      <form class="form-horizontal" role="form" method="POST">\n        <div class="modal-content">\n          <div class="modal-header">\n            <center>'+r((t.connectImage||n&&n.connectImage||i).call(l,"/logos/wp-logo-orange.png","Wattpad",{name:"connectImage",hash:{klass:"wp-logo",width:"174"},data:s}))+'</center>\n          </div>\n          <div class="modal-body">\n            <h2 class="text-center" id="personal-greeting"> '+r((t.trans||n&&n.trans||i).call(l,"Hi %s",null!=n?n.username:n,{name:"trans",hash:{},data:s}))+' </h2>\n            <p class="text-center" id="gender-select-copy"> '+r((t.trans||n&&n.trans||i).call(l,"To get the best Wattpad experience, tell us about yourself!",{name:"trans",hash:{},data:s}))+" <br /> "+r((t.trans||n&&n.trans||i).call(l,"Your response will be kept private.",{name:"trans",hash:{},data:s}))+'</p>\n            <div class="gender-selector" id="inputGender">\n              <div class="opt male" value="male">\n                <input id="male-icon" type="radio" name="gender-icon" value="male" />\n                <label class="gender-card male-icon" for="male-icon"></label>\n                <label class="gender-text" for="male-icon" value="male">'+r((t.trans||n&&n.trans||i).call(l,"He",{name:"trans",hash:{},data:s}))+'</label>\n              </div>\n              <div class="opt female" value="female">\n                <input id="female-icon" type="radio" name="gender-icon" value="female" />\n                <label class="gender-card female-icon" for="female-icon"></label>\n                <label class="gender-text" for="female-icon" value="female">'+r((t.trans||n&&n.trans||i).call(l,"She",{name:"trans",hash:{},data:s}))+'</label>\n              </div>\n              <div class="opt other" value="other">\n                  <input id="other-icon" type="radio" name="gender-icon" value="other" />\n                  <label class="gender-card other-icon" for="other-icon"></label>\n                  <label class="gender-text" for="other-icon" value="other">'+r((t.trans||n&&n.trans||i).call(l,"They",{name:"trans",hash:{},data:s}))+'</label>\n              </div>\n          </div>\n          </div>\n          <div class="modal-footer">\n            <center><button class="btn btn-orange on-continue continue-button disabled">'+r((t.trans||n&&n.trans||i).call(l,"Next",{name:"trans",hash:{},data:s}))+"</button></center>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.story:n)?l.tagRankings:l,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:""},2:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'\n<div class="tag-ranking">\n  '+o((t.connectImage||n&&n.connectImage||r).call(i,"/shared/ranking-medal.png","ranking",{name:"connectImage",hash:{width:"22",height:"27",klass:"tag-ranking-medal"},data:s}))+"\n  <span>"+(null!=(l=(t.trans||n&&n.trans||r).call(i,"#%1$s in %2$s",(t.sprintf||n&&n.sprintf||r).call(i,"<b>%s</b>",null!=(l=null!=(l=null!=(l=null!=n?n.story:n)?l.tagRankings:l)?l[0]:l)?l.rank:l,{name:"sprintf",hash:{},data:s}),(t.sprintf||n&&n.sprintf||r).call(i,"<b>%s</b>",(t.sanitize||n&&n.sanitize||r).call(i,null!=(l=null!=(l=null!=(l=null!=n?n.story:n)?l.tagRankings:l)?l[0]:l)?l.name:l,{name:"sanitize",hash:{},data:s}),{name:"sprintf",hash:{},data:s}),{name:"trans",hash:{},data:s}))?l:"")+'</span>\n  <a href="'+o(e.lambda(null!=(l=null!=n?n.story:n)?l.url:l,n))+'/rankings" class="on-ranking-navigate">'+o((t.trans||n&&n.trans||r).call(i,"See all rankings",{name:"trans",hash:{},data:s}))+"</a>\n</div>\n"},4:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'  <div>\n    <span data-toggle="tooltip" data-html="true" data-delay=\'{"show": 0, "hide":2000}\' data-placement="auto"\n      title="'+o((t.trans||n&&n.trans||r).call(i,"Story may contain graphic depictions of violence, sexuality, strong language, and/or other mature themes.",{name:"trans",hash:{},data:s}))+" <a target='_blank' href='/guidelines'>"+o((t.trans||n&&n.trans||r).call(i,"Learn more about our content guidelines",{name:"trans",hash:{},data:s}))+'</a>" >\n      '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-info",22,"wp-neutral-2","pull-left",{name:"iconify",hash:{},data:s}))?l:"")+"</span>\n      <span> "+o((t.getStoryRating||n&&n.getStoryRating||r).call(i,null!=(l=null!=n?n.story:n)?l.rating:l,{name:"getStoryRating",hash:{},data:s}))+" </span>\n  </div>\n"},6:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"<div>"+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,(t.getCopyrightIcon||n&&n.getCopyrightIcon||r).call(i,null!=(l=null!=n?n.story:n)?l.copyright:l,{name:"getCopyrightIcon",hash:{},data:s}),22,"wp-neutral-2","pull-left",{name:"iconify",hash:{},data:s}))?l:"")+" <span> "+e.escapeExpression((t.getCopyright||n&&n.getCopyright||r).call(i,null!=(l=null!=n?n.story:n)?l.copyright:l,{name:"getCopyright",hash:{},data:s}))+" </span></div>\n"},8:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression;return"<div>"+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=(l=null!=(l=null!=n?n.story:n)?l.sourceLink:l)?l.icon:l,22,"wp-base-2-dark","pull-left",{name:"iconify",hash:{},data:s}))?l:"")+'\n  <a class="btn btn-link" href="'+r(i(null!=(l=null!=(l=null!=n?n.story:n)?l.sourceLink:l)?l.url:l,n))+'" target="_blank"> '+r(i(null!=(l=null!=(l=null!=n?n.story:n)?l.sourceLink:l)?l.label:l,n))+" </a>\n</div>\n"},10:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return"<div>"+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-warning",22,"wp-base-2-dark","pull-left",{name:"iconify",hash:{},data:s}))?l:"")+'\n  <a href="'+c("function"==typeof(i=null!=(i=t.reportUrl||(null!=n?n.reportUrl:n))?i:o)?i.call(r,{name:"reportUrl",hash:{},data:s}):i)+'" class="btn btn-link on-navigate">\n    '+c((t.trans||n&&n.trans||o).call(r,"Report this story",{name:"trans",hash:{},data:s}))+"\n  </a>\n</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return(null!=(l=t.if.call(i,null!=n?n.isMobile:n,{name:"if",hash:{},fn:e.noop,inverse:e.program(1,s,0),data:s}))?l:"")+"\n\n"+(null!=(l=(t.greaterThan||n&&n.greaterThan||t.helperMissing).call(i,null!=(l=null!=n?n.story:n)?l.rating:l,3,{name:"greaterThan",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=(l=null!=n?n.story:n)?l.copyright:l,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=(l=null!=(l=null!=n?n.story:n)?l.sourceLink:l)?l.url:l,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.unless.call(i,null!=(l=null!=n?n.story:n)?l.deleted:l,{name:"unless",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?l:"")},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<div class=\'cover-container\'>\n  <a class="on-navigate cover cover-md on-story-item" href="'+o((t.formatStoryUrl||n&&n.formatStoryUrl||r).call(i,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'">\n      <div class="fixed-ratio fixed-ratio-cover">\n          <img src="'+o((t.resizeCover||n&&n.resizeCover||r).call(i,null!=n?n.cover:n,256,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o("function"==typeof(l=null!=(l=t.title||(null!=n?n.title:n))?l:r)?l.call(i,{name:"title",hash:{},data:s}):l)+'">\n      </div>\n  </a>\n</div>\n'},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},"BrowseStoryItem",null!=n?n.id:n,{name:"reactComponent",hash:{},data:s}))?l:"")+"\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c="function",u=e.escapeExpression;return'<div data-story-id="'+u(typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)===c?i.call(r,{name:"id",hash:{},data:s}):i)+'" class="addToLibraryModal modal fade" aria-hidden="true" role="dialog">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <header class="modal-header">\n        <h1 class="modal-title">'+u(typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)===c?i.call(r,{name:"title",hash:{},data:s}):i)+"</h1>\n        <h2>"+u((t.trans||n&&n.trans||o).call(r,"Add to Reading List",{name:"trans",hash:{},data:s}))+'</h2>\n        <div class="close" data-dismiss="modal">\n          '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-remove",17,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+'\n        </div>\n      </header>\n\n      <div class="modal-body">\n        <ul id="add-to-list" class="lists-menu list-unstyled" data-story-id="'+u(typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)===c?i.call(r,{name:"id",hash:{},data:s}):i)+'"></ul>\n        <ul class="lists-menu list-unstyled">\n          <li><a class="create-list-button" href data-target=".addToLibraryListNameModal[data-story-id='+u(typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)===c?i.call(r,{name:"id",hash:{},data:s}):i)+']" data-toggle="modal">\n            '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-plus",14,"wp-base-1",{name:"iconify",hash:{},data:s}))?l:"")+'\n            <span class="reading-list-name">'+u((t.trans||n&&n.trans||o).call(r,"New Reading List",{name:"trans",hash:{},data:s}))+'</span>\n          </a></li>\n        </ul>\n      </div>\n\n    </div>\n  </div>\n</div>\n<div data-story-id="'+u(typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)===c?i.call(r,{name:"id",hash:{},data:s}):i)+'" class="addToLibraryListNameModal modal fade" aria-hidden="true" role="dialog">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <header class="modal-header">\n        <h1 class="modal-title">'+u((t.trans||n&&n.trans||o).call(r,"New Reading List",{name:"trans",hash:{},data:s}))+'</h1>\n      </header>\n\n      <div class="modal-body">\n        <div class="inputs">\n          <div class="error-feedback">\n            '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-warning",16,"wp-errorbackground",{name:"iconify",hash:{},data:s}))?l:"")+"\n            "+u((t.trans||n&&n.trans||o).call(r,"Please name your reading list",{name:"trans",hash:{},data:s}))+'\n          </div>\n          <input type="text" class="form-control list-name" placeholder="'+u((t.trans||n&&n.trans||o).call(r,"Enter Reading List name",{name:"trans",hash:{},data:s}))+'">\n        </div>\n      </div>\n      <div class="buttons clearfix">\n        <button type="button" class="btn btn-md btn-grey" data-dismiss="modal">'+u((t.trans||n&&n.trans||o).call(r,"Cancel",{name:"trans",hash:{},data:s}))+'</button>\n        <button type="button" class="on-create-list btn btn-md btn-orange" data-story-id="'+u(typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)===c?i.call(r,{name:"id",hash:{},data:s}):i)+'" data-dismiss="modal">'+u((t.trans||n&&n.trans||o).call(r,"Create",{name:"trans",hash:{},data:s}))+"</button>\n      </div>\n\n    </div>\n  </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return"                            "+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Free Preview",{name:"trans",hash:{},data:s}))+"\n"},3:function(e,n,t,a,s){return"                            "+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Read",{name:"trans",hash:{},data:s}))+"\n"},5:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'                <p class="description">'+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||r).call(i,null!=n?n.description:n,220,!1,{name:"simpleShorten",hash:{},data:s}))?l:"")+'\n                  <a class="on-story-details">  <span class="read-more">'+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"More",{name:"trans",hash:{},data:s}))+"</span></a>\n                </p>\n"},7:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'                    <div class="tag-ranking">\n                      '+c((t.connectImage||n&&n.connectImage||o).call(r,"/shared/ranking-medal.png","ranking",{name:"connectImage",hash:{width:"22",height:"27",klass:"tag-ranking-medal"},data:s}))+"\n                      <span>"+(null!=(l=(t.trans||n&&n.trans||o).call(r,"#%1$s in %2$s",(t.sprintf||n&&n.sprintf||o).call(r,"<b>%s</b>",null!=(l=null!=(l=null!=n?n.tagRankings:n)?l[0]:l)?l.rank:l,{name:"sprintf",hash:{},data:s}),(t.sprintf||n&&n.sprintf||o).call(r,"<b>%s</b>",(t.sanitize||n&&n.sanitize||o).call(r,null!=(l=null!=(l=null!=n?n.tagRankings:n)?l[0]:l)?l.name:l,{name:"sanitize",hash:{},data:s}),{name:"sprintf",hash:{},data:s}),{name:"trans",hash:{},data:s}))?l:"")+'</span>\n                      <a href="'+c("function"==typeof(i=null!=(i=t.url||(null!=n?n.url:n))?i:o)?i.call(r,{name:"url",hash:{},data:s}):i)+'/rankings" class="on-ranking-navigate">'+c((t.trans||n&&n.trans||o).call(r,"See all rankings",{name:"trans",hash:{},data:s}))+"</a>\n                    </div>\n"},9:function(e,n,t,a,s){var l;return"                    "+(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},"TagMeta",null!=n?n.id:n,{name:"reactComponent",hash:{},data:s}))?l:"")+"\n"},11:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                    "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-check",12,"wp-base-2",{name:"iconify",hash:{},data:s}))?l:"")+' <span class="completed text">'+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"completed",{name:"trans",hash:{},data:s}))+"</span>\n"},13:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                    "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-more",12,"wp-base-1",{name:"iconify",hash:{},data:s}))?l:"")+' <span class="ongoing text">'+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"ongoing",{name:"trans",hash:{},data:s}))+"</span>\n"+(null!=(l=t.if.call(i,null!=n?n.modifyDate:n,{name:"if",hash:{},fn:e.program(14,s,0),inverse:e.program(16,s,0),data:s}))?l:"")},14:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'                        <time datetime="'+r((t.fromNow||n&&n.fromNow||i).call(l,null!=n?n.modifyDate:n,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+'">\n                            '+r((t.trans||n&&n.trans||i).call(l,"Updated %s",(t.fromNow||n&&n.fromNow||i).call(l,null!=n?n.modifyDate:n,{name:"fromNow",hash:{fuzzyTime:!0},data:s}),{name:"trans",hash:{},data:s}))+"\n                        </time>\n"},16:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.lastPublishedPart:n)?l.createDate:l,{name:"if",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s}))?l:""},17:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'                                <time datetime="'+o((t.fromNow||n&&n.fromNow||r).call(i,null!=(l=null!=n?n.lastPublishedPart:n)?l.createDate:l,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+'">\n                                    '+o((t.trans||n&&n.trans||r).call(i,"Updated %s",(t.fromNow||n&&n.fromNow||r).call(i,null!=(l=null!=n?n.lastPublishedPart:n)?l.createDate:l,{name:"fromNow",hash:{fuzzyTime:!0},data:s}),{name:"trans",hash:{},data:s}))+"\n                                </time>\n"},19:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'                    <div class="mature">\n                        '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-info",10,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Mature",{name:"trans",hash:{},data:s}))+"\n                    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div class="modal fade browse-preview" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'">\n    <div class="modal-content">\n        <div class="modal-header clearfix">\n            <button type="button" class="close close-white" data-dismiss="modal" aria-label="Close">\n                '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-remove",28,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+'\n            </button>\n            <button type="button" class="close close-mobile" data-dismiss="modal" aria-label="Close">\n                '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-remove",28,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?l:"")+'\n            </button>\n        </div>\n        <div class="modal-body clearfix">\n            <a href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'" class="on-story-details cover cover-lg pull-left on-cover">\n                <img src="'+c((t.resizeCover||n&&n.resizeCover||o).call(r,null!=n?n.cover:n,368,{name:"resizeCover",hash:{},data:s}))+'" alt="'+c((t.trans||n&&n.trans||o).call(r,"%1$s by %2$s",null!=n?n.title:n,null!=(l=null!=n?n.user:n)?l.name:l,{name:"trans",hash:{},data:s}))+'">\n            </a>\n            <div class="content">\n                <h3 class="modal-title"><a href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'" class="modal-title on-story-details">'+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+'</a></h3>\n\n                <div class="meta">\n                    <span> '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-view",10,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.count||n&&n.count||o).call(r,null!=n?n.readCount:n,{name:"count",hash:{},data:s}))+" </span>\n                    <span> "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-vote",10,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.count||n&&n.count||o).call(r,null!=n?n.voteCount:n,{name:"count",hash:{},data:s}))+" </span>\n                    <span> "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-list",10,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+c("function"==typeof(i=null!=(i=t.numParts||(null!=n?n.numParts:n))?i:o)?i.call(r,{name:"numParts",hash:{},data:s}):i)+' </span>\n                </div>\n\n                <div class="actions">\n                    <button class="on-start-reading btn btn-sm btn-inline btn-orange btn-left-align">\n'+(null!=(l=t.if.call(r,null!=n?n.isPaidPreview:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+'                    </button>\n                    <div class="button-group relative inline-block">\n                        <button data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" class="btn-story-lists btn btn-sm btn-inline btn-orange btn-left-align btn-right-align">\n                            '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-plus",10,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+"\n\n                        </button>\n"+(null!=(l=e.invokePartial(a["core.components.add_to_library_dropdown"],n,{name:"core.components.add_to_library_dropdown",data:s,indent:"                        ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"                    </div>\n                </div>\n\n"+(null!=(l=t.if.call(r,null!=n?n.description:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(r,null!=n?n.showTagRankings:n,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.program(9,s,0),data:s}))?l:"")+'\n                <div class="info">\n'+(null!=(l=t.if.call(r,null!=n?n.completed:n,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.program(13,s,0),data:s}))?l:"")+"\n"+(null!=(l=t.if.call(r,null!=n?n.mature:n,{name:"if",hash:{},fn:e.program(19,s,0),inverse:e.noop,data:s}))?l:"")+"                </div>\n\n            </div>\n        </div>\n    </div>\n</div>\n\n"+(null!=(l=e.invokePartial(a["core.components.add_to_library_modal"],n,{name:"core.components.add_to_library_modal",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-right",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:""},3:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'        <div class="tag-module-tags">\n            <a class="on-navigate" href="/tags/'+o("function"==typeof(l=null!=(l=t.id||(null!=n?n.id:n))?l:r)?l.call(i,{name:"id",hash:{},data:s}):l)+'"><s>#</s>'+o("function"==typeof(l=null!=(l=t.id||(null!=n?n.id:n))?l:r)?l.call(i,{name:"id",hash:{},data:s}):l)+"</a>\n        </div>\n"},5:function(e,n,t,a,s,l,i){var r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u=e.escapeExpression;return"\n"+(null!=(r=t.if.call(o,null!=n?n.showHotListHeader:n,{name:"if",hash:{},fn:e.program(6,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"\n<div class='collection'>\n"+(null!=(r=t.each.call(o,null!=n?n.stories:n,{name:"each",hash:{},fn:e.program(11,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'</div>\n\n<div class="show-more center-text hidden">\n    <button class="btn btn-link on-showmore">\n        <span class=\'show-more-message\'>\n            <span>'+u((t.trans||n&&n.trans||c).call(o,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n            <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n        </span>\n        <span class='loading-message hidden'>\n            "+(null!=(r=(t.iconifySpin||n&&n.iconifySpin||c).call(o,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?r:"")+"\n            <span> "+u((t.trans||n&&n.trans||c).call(o,"Loading",{name:"trans",hash:{},data:s}))+' ...</span>\n        </span>\n    </button>\n</div>\n\n<div id="preview-modal"></div>\n\n'},6:function(e,n,t,a,s){var l;return"  <div id='hot-list-header'>\n"+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.appendStoriesSuffix:n,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.program(9,s,0),data:s}))?l:"")+"  </div>\n"},7:function(e,n,t,a,s){var l;return"      <p> "+(null!=(l=(t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"The Top %1$s: Best %2$s Stories","<span>1000</span>",null!=n?n.categoryNameForHotListHeader:n,{name:"trans",hash:{},data:s}))?l:"")+"</p>\n"},9:function(e,n,t,a,s){var l;return"      <p> "+(null!=(l=(t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"The Top %1$s: Best %2$s","<span>1000</span>",null!=n?n.categoryNameForHotListHeader:n,{name:"trans",hash:{},data:s}))?l:"")+"</p>\n"},11:function(e,n,t,a,s,l,i){var r;return'        <div class="browse-story-item '+(null!=(r=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.completed:n,{name:"if",hash:{},fn:e.program(12,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'">\n'+(null!=(r=e.invokePartial(a["core.item_views.browse_story_item"],n,{name:"core.item_views.browse_story_item",hash:{showRank:null!=i[1]?i[1].showHotListHeader:i[1]},data:s,indent:"            ",helpers:t,partials:a,decorators:e.decorators}))?r:"")+"        </div>\n"},12:function(e,n,t,a,s){return"completed"},14:function(e,n,t,a,s){return'<p class="no-item">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"No stories available.",{name:"trans",hash:{},data:s}))+"</p>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s,l,i){var r,o=null!=n?n:e.nullContext||{};return'<div id="category-tags" class="sub-navigation">\n  '+(null!=(r=t.if.call(o,null!=n?n.isMobile:n,{name:"if",hash:{},fn:e.program(1,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'\n  <div class="scrollable">\n    <div class="collection">\n'+(null!=(r=t.each.call(o,null!=n?n.tags:n,{name:"each",hash:{},fn:e.program(3,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"    </div>\n  </div>\n</div>\n\n"+(null!=(r=t.if.call(o,null!=n?n.hasStories:n,{name:"if",hash:{},fn:e.program(5,s,0,l,i),inverse:e.program(14,s,0,l,i),data:s}))?r:"")},usePartial:!0,useData:!0,useDepths:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return"<div class='collection'>\n"+(null!=(l=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.stories:n,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+"</div>\n"},2:function(e,n,t,a,s){var l;return'\t<div class="browse-story-item '+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.completed:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+'">\n'+(null!=(l=e.invokePartial(a["core.item_views.browse_story_item"],n,{name:"core.item_views.browse_story_item",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"  </div>\n"},3:function(e,n,t,a,s){return"completed"},5:function(e,n,t,a,s){return'<p class="no-item">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"No stories available.",{name:"trans",hash:{},data:s}))+"</p>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.hasStories:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(5,s,0),data:s}))?l:""},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return(null!=(l=e.invokePartial(a["core.item_views.comment_item_options"],n,{name:"core.item_views.comment_item_options",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")+"\n"+(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},"CommentItem",null!=n?n.id:n,{name:"reactComponent",hash:{},data:s}))?l:"")+"\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return(null!=(l=t.if.call(i,null!=n?n.isDeepLinkView:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+"    <div class='collection'>\n"+(null!=(l=t.each.call(i,null!=n?n.comments:n,{name:"each",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")+'    </div>\n    <div class="show-more hidden center-text">\n        <button class="btn on-showmore">\n        <span class=\'show-more-message\'>\n            <span>'+o((t.trans||n&&n.trans||r).call(i,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n            <span class=\"fa fa-down-small fa-wp-neutral-1\"></span>\n        </span>\n        <span class='loading-message hidden'>\n            "+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||r).call(i,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?l:"")+"\n            <span> "+o((t.trans||n&&n.trans||r).call(i,"Loading",{name:"trans",hash:{},data:s}))+' ...</span>\n        </span>\n        </button>\n    </div>\n    <div class="loading-spinner center-text hidden">\n        '+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||r).call(i,"fa-loading",16,null!=n?n.device:n,{name:"iconifySpin",hash:{},data:s}))?l:"")+"\n    </div>\n"},2:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'    <div class="single-comment-warning">\n      '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-warning",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" <small>"+o((t.trans||n&&n.trans||r).call(i,"You are viewing a single comment thread.",{name:"trans",hash:{},data:s}))+'</small>\n      <p><button class="btn btn-small btn-white on-return-all-comments">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-left",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.trans||n&&n.trans||r).call(i,"Return to all comments",{name:"trans",hash:{},data:s}))+"</button></p>\n    </div>\n"},4:function(e,n,t,a,s){var l,i;return'            <div class="comment" id="comment-'+e.escapeExpression("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:t.helperMissing)?i.call(null!=n?n:e.nullContext||{},{name:"id",hash:{},data:s}):i)+'">\n'+(null!=(l=e.invokePartial(a["core.item_views.comment_item"],n,{name:"core.item_views.comment_item",data:s,indent:"                ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"            </div>\n"},6:function(e,n,t,a,s){return"    <div class='collection'>\n        <p class=\"no-item\">"+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"No comments listed yet.",{name:"trans",hash:{},data:s}))+"</p>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return'\n<div class="post-comment"></div>\n'+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.hasComments:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(6,s,0),data:s}))?l:"")},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<div class="show-more hidden center-text">\n  <button class="btn on-showmore">\n      <span class=\'show-more-message\'>\n          <span>'+o((t.trans||n&&n.trans||r).call(i,"Show more...",{name:"trans",hash:{},data:s}))+"</span>\n      </span>\n      <span class='loading-message hidden'>\n          "+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||r).call(i,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?l:"")+"\n          <span> "+o((t.trans||n&&n.trans||r).call(i,"Loading",{name:"trans",hash:{},data:s}))+' ...</span>\n      </span>\n  </button>\n</div>\n<div class="loading-spinner center-text hidden">\n  '+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||r).call(i,"fa-loading",16,null!=n?n.device:n,{name:"iconifySpin",hash:{},data:s}))?l:"")+"\n</div>\n<div class='collection'>\n"+(null!=(l=t.each.call(i,null!=n?n.comments:n,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+"</div>\n"},2:function(e,n,t,a,s){var l,i;return'    <div class="comment" id="comment-'+e.escapeExpression("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:t.helperMissing)?i.call(null!=n?n:e.nullContext||{},{name:"id",hash:{},data:s}):i)+'">\n'+(null!=(l=e.invokePartial(a["core.item_views.comment_item"],n,{name:"core.item_views.comment_item",data:s,indent:"      ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"    </div>\n"},4:function(e,n,t,a,s){return'<div class="collection">\n  <p class="no-item">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"No comments listed yet.",{name:"trans",hash:{},data:s}))+"</p>\n</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.hasComments:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?l:"")+'<div class="post-comment"></div>\n'},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return" hidden"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<div class="show-more center-text'+(null!=(l=t.if.call(i,null!=n?n.hasMore:n,{name:"if",hash:{},fn:e.noop,inverse:e.program(1,s,0),data:s}))?l:"")+'">\n  <button class="btn on-showmore" role="button">\n    <span class="show-more-message">\n      <span>'+o((t.trans||n&&n.trans||r).call(i,"Show more...",{name:"trans",hash:{},data:s}))+'</span>\n    </span>\n    <span class="loading-message hidden">\n    '+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||r).call(i,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?l:"")+"\n    <span>"+o((t.trans||n&&n.trans||r).call(i,"Loading...",{name:"trans",hash:{},data:s}))+"</span>\n    </span>\n  </button>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'      <div class="single-comment-warning">\n        '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-warning",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" <small>"+o((t.trans||n&&n.trans||r).call(i,"You are viewing a single comment thread.",{name:"trans",hash:{},data:s}))+'</small>\n        <p><button class="btn btn-small btn-white on-return-all-comments">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-left",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.trans||n&&n.trans||r).call(i,"Return to all comments",{name:"trans",hash:{},data:s}))+"</button></p>\n      </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<div class="modal-dialog">\n  <div class="modal-content">\n    <header class="modal-header">\n      <h1 class="modal-title">'+o((t.trans||n&&n.trans||r).call(i,"Comments",{name:"trans",hash:{},data:s}))+'</h1>\n      <div class="close" data-dismiss="modal">\n        '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-remove",22,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+'\n      </div>\n    </header>\n    <div class="modal-body comments-modal-body">\n'+(null!=(l=t.if.call(i,null!=n?n.isDeepLinkView:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'\n      <div class="paragraph">\n        <div class="paragraph-text">\n        <pre>'+(null!=(l=(t.parseEmbeddedMedia||n&&n.parseEmbeddedMedia||r).call(i,null!=n?n.paragraphText:n,400,{name:"parseEmbeddedMedia",hash:{},data:s}))?l:"")+'</pre>\n        </div>\n        <ul class="paragraph-meta">\n          <li>'+o((t.trans||n&&n.trans||r).call(i,"From %s",null!=(l=null!=n?n.storyPart:n)?l.title:l,{name:"trans",hash:{},data:s}))+'</li>\n          <li><a href="'+o((t.formatStoryUrl||n&&n.formatStoryUrl||r).call(i,null!=(l=null!=n?n.storyGroup:n)?l.url:l,{name:"formatStoryUrl",hash:{},data:s}))+'" class="on-navigate">'+o(e.lambda(null!=(l=null!=n?n.storyGroup:n)?l.title:l,n))+'</a></li>\n        </ul>\n      </div>\n\n      <div class="post-comment"></div>\n\n      <div id="inline-comments" class=\'collection comments\'></div>\n\n'+(null!=(l=e.invokePartial(a["core.mixins.show_more"],n,{name:"core.mixins.show_more",data:s,indent:"      ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"    </div>\n  </div>\n</div>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression,o=null!=n?n:e.nullContext||{};return'        <li data-part-id="'+r(i(null!=n?n.id:n,n))+'">\n            <a href="'+r((t.formatStoryUrl||n&&n.formatStoryUrl||t.helperMissing).call(o,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'" class="on-navigate-part">\n              '+(null!=(l=t.if.call(o,null!=n?n.isBlocked:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+"\n              "+r(i(null!=n?n.title:n,n))+"\n"+(null!=(l=t.if.call(o,null!=n?n.deleted:n,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")+(null!=(l=t.if.call(o,null!=n?n.draft:n,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?l:"")+"            </a>\n        </li>\n"},2:function(e,n,t,a,s){var l;return null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-lock",16,"wp-neutral-2","pull-right",{name:"iconify",hash:{},data:s}))?l:""},4:function(e,n,t,a,s){return'                <span class="deleted-tag">('+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Deleted",{name:"trans",hash:{},data:s}))+")</span>\n"},6:function(e,n,t,a,s){return'                <span class="draft-tag">('+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Draft",{name:"trans",hash:{},data:s}))+")</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return'<div>\n    <ul class="table-of-contents">\n'+(null!=(l=t.each.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.story:n)?l.parts:l,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"    </ul>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"%s yrs old",null!=(l=null!=n?n.author:n)?l.age:l,{name:"trans",hash:{},data:s}))},3:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.author:n)?l.country:l,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:""},4:function(e,n,t,a,s){return"&middot;"},6:function(e,n,t,a,s){var l;return e.escapeExpression(e.lambda(null!=(l=null!=n?n.author:n)?l.country:l,n))},8:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.part:n,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?l:""},9:function(e,n,t,a,s){var l,i=e.escapeExpression;return'                <li><a href="/admin/db/text.php?PME_sys_rec='+i(e.lambda(null!=(l=null!=n?n.part:n)?l.id:l,n))+'&PME_sys_operation=Change">'+i((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Ranking Details",{name:"trans",hash:{},data:s}))+"</a></li>\n"},11:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return(null!=(l=t.if.call(r,null!=n?n.part:n,{name:"if",hash:{},fn:e.program(12,s,0),inverse:e.program(14,s,0),data:s}))?l:"")+'            <li><a href="'+c("function"==typeof(i=null!=(i=t.translateLink||(null!=n?n.translateLink:n))?i:o)?i.call(r,{name:"translateLink",hash:{},data:s}):i)+'">'+c((t.trans||n&&n.trans||o).call(r,"Translate",{name:"trans",hash:{},data:s}))+"</a></li>\n            "+(null!=(l=t.if.call(r,null!=n?n.part:n,{name:"if",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?l:"")+"\n"},12:function(e,n,t,a,s){var l,i=e.escapeExpression;return'            <li><a class="on-options-edit-part" href="/mystories?compose=true&id='+i(e.lambda(null!=(l=null!=n?n.part:n)?l.id:l,n))+'">'+i((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Edit Story Part",{name:"trans",hash:{},data:s}))+"</a></li>\n"},14:function(e,n,t,a,s){var l,i=e.escapeExpression;return'            <li><a class="on-options-edit-details" href="/myworks/'+i(e.lambda(null!=(l=null!=n?n.story:n)?l.id:l,n))+'">'+i((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Edit Story Details",{name:"trans",hash:{},data:s}))+"</a></li>\n"},16:function(e,n,t,a,s){var l,i=e.escapeExpression;return'<li><a href="/api/alltext?id='+i(e.lambda(null!=(l=null!=n?n.part:n)?l.id:l,n))+'">'+i((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Plain Text",{name:"trans",hash:{},data:s}))+"</a></li>"},18:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'            <li><a href="'+o("function"==typeof(l=null!=(l=t.reportLink||(null!=n?n.reportLink:n))?l:r)?l.call(i,{name:"reportLink",hash:{},data:s}):l)+'">'+o((t.trans||n&&n.trans||r).call(i,"Report Story",{name:"trans",hash:{},data:s}))+'</a></li>\n            <li><a class="on-options-hot-list-review" href="#">'+o((t.trans||n&&n.trans||r).call(i,"Hot List Review",{name:"trans",hash:{},data:s}))+"</a></li>\n"},20:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'        <li class="story-admin-dropdown-row options-row">\n            <strong class="row-name">'+o((t.trans||n&&n.trans||r).call(i,"Paid Story",{name:"trans",hash:{},data:s}))+':</strong>\n            <span class="row-controls"><ul class="option-items">\n                <li><a target="_blank" rel="noopener noreferrer" href="/admin/paid_stories_manager?storyId='+o(e.lambda(null!=(l=null!=n?n.story:n)?l.id:l,n))+'">'+o((t.trans||n&&n.trans||r).call(i,"Manage",{name:"trans",hash:{},data:s}))+'</a></li>\n            </ul></span>\n            <span class="response-status pull-right"></span>\n        </li>\n'},22:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'    <li class="story-admin-dropdown-row options-row">\n        <strong class="row-name">'+o((t.trans||n&&n.trans||r).call(i,"Download:",{name:"trans",hash:{},data:s}))+'</strong>\n        <span class="row-controls"><ul class="option-items">\n        '+(null!=(l=t.if.call(i,null!=n?n.part:n,{name:"if",hash:{},fn:e.program(23,s,0),inverse:e.noop,data:s}))?l:"")+'\n        <li><a href="/apiv2/storytext?group_id='+o(e.lambda(null!=(l=null!=n?n.story:n)?l.id:l,n))+'&no_format=false&include_deleted=true&include_drafts=true&include_private=true&output=zip">'+o((t.trans||n&&n.trans||r).call(i,"Story Group",{name:"trans",hash:{},data:s}))+"</a></li>\n        </ul></span>\n    </li>\n"},23:function(e,n,t,a,s){var l,i=e.escapeExpression;return'<li><a href="/apiv2/storytext?id='+i(e.lambda(null!=(l=null!=n?n.part:n)?l.id:l,n))+'&no_format=false&include_deleted=true&include_drafts=true&include_private=true&output=zip">'+i((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Story Part",{name:"trans",hash:{},data:s}))+"</a></li>"},25:function(e,n,t,a,s,l,i){var r;return null!=(r=t.unless.call(null!=n?n:e.nullContext||{},null!=(r=null!=n?n.story:n)?r.draft:r,{name:"unless",hash:{},fn:e.program(26,s,0,l,i),inverse:e.noop,data:s}))?r:""},26:function(e,n,t,a,s,l,i){var r,o,c,u=null!=n?n:e.nullContext||{},d=t.helperMissing,h=e.escapeExpression,p=t.blockHelperMissing,m='\n    <li class="story-admin-dropdown-row language-row">\n        <strong class="row-name">'+h((t.trans||n&&n.trans||d).call(u,"Language:",{name:"trans",hash:{},data:s}))+'</strong>\n        <span class="row-controls">\n            <select id="story-language-select" class="form-control">\n';return o=null!=(o=t.languages||(null!=n?n.languages:n))?o:d,c={name:"languages",hash:{},fn:e.program(27,s,0,l,i),inverse:e.noop,data:s},r="function"==typeof o?o.call(u,c):o,t.languages||(r=p.call(n,r,c)),null!=r&&(m+=r),m+='            </select>\n        </span>\n        <span class="response-status pull-right"></span>\n    </li>\n    <li class="story-admin-dropdown-row category-row">\n        <strong class="row-name">'+h((t.trans||n&&n.trans||d).call(u,"Category:",{name:"trans",hash:{},data:s}))+'</strong>\n        <span class="row-controls">\n            <select id="story-category-select" class="form-control">\n                <option value="-1">'+h((t.trans||n&&n.trans||d).call(u,"Select a category",{name:"trans",hash:{},data:s}))+"</option>\n",o=null!=(o=t.categories||(null!=n?n.categories:n))?o:d,c={name:"categories",hash:{},fn:e.program(29,s,0,l,i),inverse:e.noop,data:s},r="function"==typeof o?o.call(u,c):o,t.categories||(r=p.call(n,r,c)),null!=r&&(m+=r),m+'            </select>\n        </span>\n        <span class="response-status pull-right"></span>\n    </li>\n    <li class="story-admin-dropdown-row cover-row">\n        <strong class="row-name">'+h((t.trans||n&&n.trans||d).call(u,"Cover:",{name:"trans",hash:{},data:s}))+'</strong>\n        <span class="row-controls">\n            <ul class="option-items">\n                <li>\n                    <div class=\'button\' data-file-upload="drop">\n                        <a class="file-select" role="button" href="#">\n                            '+h((t.trans||n&&n.trans||d).call(u,"Upload",{name:"trans",hash:{},data:s}))+'\n                        </a>\n                        <input accept="image/jpeg, image/png, image/gif" type="file" name="file">\n                    </div>\n                </li>\n                <li><a class="on-cover-remove" href="#">'+h((t.trans||n&&n.trans||d).call(u,"Remove",{name:"trans",hash:{},data:s}))+'</a></li>\n                <li><a href="/banner?id='+h(e.lambda(null!=(r=null!=n?n.story:n)?r.id:r,n))+'">'+h((t.trans||n&&n.trans||d).call(u,"Banner",{name:"trans",hash:{},data:s}))+'</a></li>\n            </ul>\n\n        </span>\n        <span class="response-status pull-right"></span>\n    </li>\n    '},27:function(e,n,t,a,s,l,i){var r;return"                "+(null!=(r=(t.select||n&&n.select||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.id:n,null!=n?n.name:n,null!=(r=null!=i[1]?i[1].story:i[1])?r.language:r,{name:"select",hash:{},data:s}))?r:"")+"\n"},29:function(e,n,t,a,s,l,i){var r;return"                "+(null!=(r=(t.select||n&&n.select||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.id:n,null!=n?n.name:n,null!=(r=null!=(r=null!=i[1]?i[1].story:i[1])?r.categories:r)?r[0]:r,n,{name:"select",hash:{},data:s}))?r:"")+"\n"},31:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression,c=e.lambda;return'    <li class="story-admin-dropdown-row rating-row">\n        <strong class="row-name">'+o((t.trans||n&&n.trans||r).call(i,"Rating:",{name:"trans",hash:{},data:s}))+'</strong>\n        <span class="row-controls">\n            <ul class="option-items">\n                <li><a href="/admin/community_reports?model_type=2&model_id='+o(c(null!=(l=null!=n?n.story:n)?l.id:l,n))+'">'+o((t.trans||n&&n.trans||r).call(i,"Reports",{name:"trans",hash:{},data:s}))+'</a></li>\n                <li><a href="/admin/story_rating_history.php?story_id='+o(c(null!=(l=null!=n?n.story:n)?l.id:l,n))+(null!=(l=t.if.call(i,null!=n?n.part:n,{name:"if",hash:{},fn:e.program(32,s,0),inverse:e.noop,data:s}))?l:"")+'">'+o((t.trans||n&&n.trans||r).call(i,"History",{name:"trans",hash:{},data:s}))+"</a></li>\n            </ul>\n        </span>\n    </li>\n"},32:function(e,n,t,a,s){var l;return"&part_id="+e.escapeExpression(e.lambda(null!=(l=null!=n?n.part:n)?l.id:l,n))},34:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'    <li class="story-admin-dropdown-row total-reads-row">\n        <strong class="row-name">'+o((t.trans||n&&n.trans||r).call(i,"Total Reads By Author:",{name:"trans",hash:{},data:s}))+'</strong>\n        <span class="row-controls">\n            <ul class="option-items">\n                <li>'+o(e.lambda(null!=(l=null!=n?n.author:n)?l.totalReads:l,n))+" ("+o((t.count||n&&n.count||r).call(i,null!=(l=null!=n?n.author:n)?l.totalReads:l,{name:"count",hash:{},data:s}))+")</li>\n            </ul>\n        </span>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s,l,i){var r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u=e.escapeExpression,d=e.lambda;return'<div class="author-info clearfix">\n    <span class="avatar avatar-md pull-left">'+u((t.connectAvatar||n&&n.connectAvatar||c).call(o,null!=(r=null!=n?n.author:n)?r.avatar:r,null!=(r=null!=n?n.author:n)?r.username:r,48,{name:"connectAvatar",hash:{},data:s}))+'</span>\n    <span class="author-info-text"><strong>'+u(d(null!=(r=null!=n?n.author:n)?r.username:r,n))+'</strong></span>\n\n    <span class="author-info-text">\n        '+(null!=(r=t.if.call(o,null!=(r=null!=n?n.author:n)?r.age:r,{name:"if",hash:{},fn:e.program(1,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"\n        "+(null!=(r=t.if.call(o,null!=(r=null!=n?n.author:n)?r.age:r,{name:"if",hash:{},fn:e.program(3,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"\n        "+(null!=(r=t.if.call(o,null!=(r=null!=n?n.author:n)?r.country:r,{name:"if",hash:{},fn:e.program(6,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'\n    </span>\n\n</div>\n<ul class="lists-menu">\n    <li class="story-admin-dropdown-row error-row hidden">\n        <div class="alert alert-danger" role="alert"></div>\n    </li>\n\n    <li class="story-admin-dropdown-row review-row">\n        <strong class="row-name">'+u((t.trans||n&&n.trans||c).call(o,"Review:",{name:"trans",hash:{},data:s}))+'</strong>\n        <span class="row-controls">\n            <ul class="option-items">\n                <li><a href="/contentreview?groupid='+u(d(null!=(r=null!=n?n.story:n)?r.id:r,n))+'">'+u((t.trans||n&&n.trans||c).call(o,"Story",{name:"trans",hash:{},data:s}))+"</a></li>\n"+(null!=(r=t.if.call(o,null!=n?n.isAdmin:n,{name:"if",hash:{},fn:e.program(8,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'            </ul>\n        </span>\n    </li>\n\n    <li class="story-admin-dropdown-row options-row">\n        <strong class="row-name">'+u((t.trans||n&&n.trans||c).call(o,"Options:",{name:"trans",hash:{},data:s}))+'</strong>\n        <span class="row-controls"><ul class="option-items">\n'+(null!=(r=t.if.call(o,null!=n?n.isAdmin:n,{name:"if",hash:{},fn:e.program(11,s,0,l,i),inverse:e.program(18,s,0,l,i),data:s}))?r:"")+'        </ul></span>\n        <span class="response-status pull-right"></span>\n    </li>\n\n'+(null!=(r=t.if.call(o,null!=n?n.isAdmin:n,{name:"if",hash:{},fn:e.program(20,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"\n"+(null!=(r=t.if.call(o,null!=n?n.isStaff:n,{name:"if",hash:{},fn:e.program(22,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"\n    "+(null!=(r=t.unless.call(o,null!=(r=null!=n?n.story:n)?r.deleted:r,{name:"unless",hash:{},fn:e.program(25,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"\n"+(null!=(r=t.if.call(o,null!=n?n.isAdmin:n,{name:"if",hash:{},fn:e.program(31,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"\n"+(null!=(r=t.if.call(o,null!=n?n.isAdmin:n,{name:"if",hash:{},fn:e.program(34,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"</ul>\n"},useData:!0,useDepths:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'            <div class="supported-marker">\n                '+r((t.connectImage||n&&n.connectImage||i).call(l,"paid-content/supported-stories-badge-white.svg","Paid Stories Badge",{name:"connectImage",hash:{},data:s}))+"\n                "+r((t.trans||n&&n.trans||i).call(l,"Paid Story",{name:"trans",hash:{},data:s}))+"\n            </div>\n"},3:function(e,n,t,a,s){var l;return"            <span class='banned-overlay'>      \n              "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"warning-triangle",60,"wp-warning-01","warning-icon",{name:"iconify",hash:{},data:s}))?l:"")+"   \n            </span>\n"},5:function(e,n,t,a,s){return'<span class="deleted-tag">('+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Deleted",{name:"trans",hash:{},data:s}))+")</span>"},7:function(e,n,t,a,s){return'<span class="draft-tag">('+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Draft",{name:"trans",hash:{},data:s}))+")</span>"},9:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"            "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-badge-promoted",14,"wp-base-1",{name:"iconify",hash:{},data:s}))?l:"")+"\n            "+(null!=(l=(t.trans||n&&n.trans||r).call(i,"Promoted by %s",(t.sprintf||n&&n.sprintf||r).call(i,'<a class="lightbold on-sponsor-navigate" href="/user/%s" data-click-url="%s">%s</a>',null!=(l=null!=n?n.story:n)?l.sponsorName:l,null!=(l=null!=n?n.story:n)?l.clickUrl:l,null!=(l=null!=n?n.story:n)?l.sponsorName:l,{name:"sprintf",hash:{},data:s}),{name:"trans",hash:{},data:s}))?l:"")+"\n"},11:function(e,n,t,a,s){return"              <span>"+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Completed",{name:"trans",hash:{},data:s}))+"</span>\n"},13:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'              <span class="hidden-xs">'+o((t.trans||n&&n.trans||r).call(i,"Ongoing",{name:"trans",hash:{},data:s}))+" - </span> "+o((t.trans||n&&n.trans||r).call(i,"Updated",{name:"trans",hash:{},data:s}))+" "+o((t.fromNow||n&&n.fromNow||r).call(i,null!=(l=null!=(l=null!=n?n.story:n)?l.lastPublishedPart:l)?l.createDate:l,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"\n"},15:function(e,n,t,a,s){var l;return null!=(l=t.unless.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.story:n)?l.draft:l,{name:"unless",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?l:""},16:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'\n        <div id="share-tools" class="hidden-xs hidden-sm">\n'+(null!=(l=t.each.call(i,null!=n?n.socialShareVisible:n,{name:"each",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s}))?l:"")+'          <div class="button-group relative inline-block">\n            <button class="btn btn-no-background dropdown-toggle"\n                    data-toggle="dropdown">'+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(i,"fa-more",24,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+'</button>\n            <div class="triangle"></div>\n            <ul class="dropdown-menu dropdown-menu-right">\n'+(null!=(l=t.each.call(i,null!=n?n.socialShareHidden:n,{name:"each",hash:{},fn:e.program(20,s,0),inverse:e.noop,data:s}))?l:"")+"            </ul>\n          </div>\n        </div>\n      "},17:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'          <a class="share-'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+(null!=(l=t.unless.call(r,null!=n?n.nopopup:n,{name:"unless",hash:{},fn:e.program(18,s,0),inverse:e.noop,data:s}))?l:"")+'" '+c("function"==typeof(i=null!=(i=t.socialSharingAttributes||(null!=n?n.socialSharingAttributes:n))?i:o)?i.call(r,{name:"socialSharingAttributes",hash:{},data:s}):i)+">\n            "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,null!=n?n.icon:n,24,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+"\n          </a>\n"},18:function(e,n,t,a,s){return' social-share" rel="nofollow" target="_blank'},20:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'              <li><a class="share-'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+(null!=(l=t.unless.call(r,null!=n?n.nopopup:n,{name:"unless",hash:{},fn:e.program(18,s,0),inverse:e.noop,data:s}))?l:"")+'" '+c("function"==typeof(i=null!=(i=t.socialSharingAttributes||(null!=n?n.socialSharingAttributes:n))?i:o)?i.call(r,{name:"socialSharingAttributes",hash:{},data:s}):i)+">\n                "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,null!=n?n.icon:n,20,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+c("function"==typeof(i=null!=(i=t.label||(null!=n?n.label:n))?i:o)?i.call(r,{name:"label",hash:{},data:s}):i)+"\n              </a></li>\n"},22:function(e,n,t,a,s){var l;return e.escapeExpression((t.formatStoryUrl||n&&n.formatStoryUrl||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=(l=null!=(l=null!=n?n.story:n)?l.firstPart:l)?l.url:l,{name:"formatStoryUrl",hash:{},data:s}))},24:function(e,n,t,a,s){var l;return e.escapeExpression((t.formatStoryUrl||n&&n.formatStoryUrl||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=(l=null!=(l=null!=(l=null!=n?n.story:n)?l.parts:l)?l[0]:l)?l.url:l,{name:"formatStoryUrl",hash:{},data:s}))},26:function(e,n,t,a,s){return"                            "+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Free Preview",{name:"trans",hash:{},data:s}))+"\n"},28:function(e,n,t,a,s){return"                            "+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Read",{name:"trans",hash:{},data:s}))+"\n"},30:function(e,n,t,a,s){var l;return null!=(l=t.unless.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.story:n)?l.draft:l,{name:"unless",hash:{},fn:e.program(31,s,0),inverse:e.noop,data:s}))?l:""},31:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u='\n                    <div class="button-group relative inline-block">\n                        <button class="btn btn-orange btn-sm btn-left-align btn-right-align btn-story-lists"\n                                data-story-id="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.story:n)?l.id:l,n))+'">\n                                '+(null!=(l=(t.iconify||n&&n.iconify||c).call(o,"fa-plus",9,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+"\n                        </button>\n";return i=null!=(i=t.story||(null!=n?n.story:n))?i:c,r={name:"story",hash:{},fn:e.program(32,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(o,r):i,t.story||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(u+=l),u+"                    </div>\n                  "},32:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["core.components.add_to_library_dropdown"],n,{name:"core.components.add_to_library_dropdown",data:s,indent:"                          ",helpers:t,partials:a,decorators:e.decorators}))?l:""},34:function(e,n,t,a,s){var l;return'                    <div id="admin-panel" class="button-group relative inline-block">\n                        <button class="btn btn-red btn-sm dropdown-toggle on-admin-dropdown">'+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-lock",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+'</button>\n                        <div class="triangle"></div>\n                    </div>\n'},36:function(e,n,t,a,s){var l;return'                  <h2 class="description"><pre>'+(null!=(l=(t.linkifyDesc||n&&n.linkifyDesc||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.story:n)?l.description:l,{name:"linkifyDesc",hash:{},data:s}))?l:"")+"</pre></h2>\n"},38:function(e,n,t,a,s){var l;return'                  <h2 class="description"><pre>'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.story:n)?l.description:l,n))+"</pre></h2>\n"},40:function(e,n,t,a,s){return'class="active"'},42:function(e,n,t,a,s){var l;return'                      <div class="story-parts">\n'+(null!=(l=e.invokePartial(a["core.story_landing.story_parts"],n,{name:"core.story_landing.story_parts",data:s,indent:"                        ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"                      </div>\n"},44:function(e,n,t,a,s){var l;return'            <div id="authentication-panel" class="panel">\n                <div class="signup-modal">\n'+(null!=(l=e.invokePartial(a["core.signup_prompt"],n,{name:"core.signup_prompt",data:s,indent:"                  ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"                </div>\n            </div>\n"},46:function(e,n,t,a,s){var l;return"    "+(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},"WPModal","modal-landing",{name:"reactComponent",hash:{},data:s}))?l:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression,c=e.lambda;return'<header class="background background-lg" style="background-image: url('+o((t.resizeCoverAsBackground||n&&n.resizeCoverAsBackground||r).call(i,null!=(l=null!=n?n.story:n)?l.cover:l,1920,{name:"resizeCoverAsBackground",hash:{},data:s}))+');">\n    <div class="container">\n'+(null!=(l=t.if.call(i,null!=(l=null!=n?n.story:n)?l.isPaywalled:l,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'        <div class="cover cover-lg">\n          <img src="'+o((t.resizeCover||n&&n.resizeCover||r).call(i,null!=(l=null!=n?n.story:n)?l.cover:l,180,{name:"resizeCover",hash:{},data:s}))+'" height="281" width="180" alt="'+o(c(null!=(l=null!=n?n.story:n)?l.title:l,n))+'">\n'+(null!=(l=t.if.call(i,null!=n?n.writerPreviewHasBannedCover:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"        </div>\n        <h1>"+o(c(null!=(l=null!=n?n.story:n)?l.title:l,n))+"\n            "+(null!=(l=t.if.call(i,null!=(l=null!=n?n.story:n)?l.deleted:l,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+"\n            "+(null!=(l=t.if.call(i,null!=(l=null!=n?n.story:n)?l.draft:l,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")+'</h1>\n\n        <div class="meta">\n            <span data-toggle="tooltip" data-placement="bottom" title="'+o((t.sprintf||n&&n.sprintf||r).call(i,(t.ngettext||n&&n.ngettext||r).call(i,"%s Read","%s Reads",null!=(l=null!=n?n.story:n)?l.readCount:l,{name:"ngettext",hash:{},data:s}),(t.format||n&&n.format||r).call(i,null!=(l=null!=n?n.story:n)?l.readCount:l,{name:"format",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'">\n              '+o((t.sprintf||n&&n.sprintf||r).call(i,(t.ngettext||n&&n.ngettext||r).call(i,"%s Read","%s Reads",null!=(l=null!=n?n.story:n)?l.readCount:l,{name:"ngettext",hash:{},data:s}),(t.count||n&&n.count||r).call(i,null!=(l=null!=n?n.story:n)?l.readCount:l,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'</span>\n            <span data-toggle="tooltip" data-placement="bottom" title="'+o((t.sprintf||n&&n.sprintf||r).call(i,(t.ngettext||n&&n.ngettext||r).call(i,"%s Vote","%s Votes",null!=(l=null!=n?n.story:n)?l.voteCount:l,{name:"ngettext",hash:{},data:s}),(t.format||n&&n.format||r).call(i,null!=(l=null!=n?n.story:n)?l.voteCount:l,{name:"format",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'" >\n              '+o((t.sprintf||n&&n.sprintf||r).call(i,(t.ngettext||n&&n.ngettext||r).call(i,"%s Vote","%s Votes",null!=(l=null!=n?n.story:n)?l.voteCount:l,{name:"ngettext",hash:{},data:s}),(t.count||n&&n.count||r).call(i,null!=(l=null!=n?n.story:n)?l.voteCount:l,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+"</span>\n            <span>"+o((t.trans||n&&n.trans||r).call(i,"%s Part Story",null!=(l=null!=n?n.story:n)?l.numParts:l,{name:"trans",hash:{},data:s}))+'</span>\n        </div>\n\n        <div class="promotion-description-story-details">\n'+(null!=(l=t.if.call(i,null!=(l=null!=n?n.story:n)?l.promoted:l,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?l:"")+'        </div>\n\n        <div class="author-info clearfix">\n            <a href="/user/'+o(c(null!=(l=null!=(l=null!=n?n.story:n)?l.user:l)?l.username:l,n))+'" class="avatar avatar-md pull-left send-author-event on-navigate">\n              '+o((t.connectAvatar||n&&n.connectAvatar||r).call(i,null!=(l=null!=(l=null!=n?n.story:n)?l.user:l)?l.avatar:l,null!=(l=null!=(l=null!=n?n.story:n)?l.user:l)?l.name:l,48,{name:"connectAvatar",hash:{},data:s}))+"\n            </a>\n            <strong>"+o((t.trans||n&&n.trans||r).call(i,"By",{name:"trans",hash:{},data:s}))+' <a class="send-author-event on-navigate" href="/user/'+o(c(null!=(l=null!=(l=null!=n?n.story:n)?l.user:l)?l.username:l,n))+'">'+o(c(null!=(l=null!=(l=null!=n?n.story:n)?l.user:l)?l.username:l,n))+'</a></strong>\n            <small data-toggle="tooltip" data-placement="top"\n                   title="'+o((t.trans||n&&n.trans||r).call(i,"First published:",{name:"trans",hash:{},data:s}))+" "+o((t.fromNow||n&&n.fromNow||r).call(i,null!=(l=null!=(l=null!=n?n.story:n)?l.firstPublishedPart:l)?l.createDate:l,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+'">\n'+(null!=(l=t.if.call(i,null!=(l=null!=n?n.story:n)?l.completed:l,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.program(13,s,0),data:s}))?l:"")+"            </small>\n        </div>\n\n      "+(null!=(l=t.unless.call(i,null!=(l=null!=n?n.story:n)?l.deleted:l,{name:"unless",hash:{},fn:e.program(15,s,0),inverse:e.noop,data:s}))?l:"")+'\n    </div>\n</header>\n\n<div class="container">\n    <div class="row">\n\n        <main class="col-sm-12 col-md-8">\n            <div class="panel">\n                <div class="story-controls" role="menu">\n                    <a href="'+(null!=(l=t.if.call(i,null!=(l=null!=(l=null!=n?n.story:n)?l.firstPart:l)?l.url:l,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.program(24,s,0),data:s}))?l:"")+'"}\n                       class="btn btn-orange btn-sm btn-inline on-story-navigate">\n'+(null!=(l=t.if.call(i,null!=(l=null!=n?n.story:n)?l.isPaidPreview:l,{name:"if",hash:{},fn:e.program(26,s,0),inverse:e.program(28,s,0),data:s}))?l:"")+"                    </a>\n                  "+(null!=(l=t.unless.call(i,null!=(l=null!=n?n.story:n)?l.deleted:l,{name:"unless",hash:{},fn:e.program(30,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.showAdminPanel:n,{name:"if",hash:{},fn:e.program(34,s,0),inverse:e.noop,data:s}))?l:"")+"                </div>\n\n"+(null!=(l=(t.ifequal||n&&n.ifequal||r).call(i,null!=(l=null!=n?n.story:n)?l.id:l,"18024139",{name:"ifequal",hash:{},fn:e.program(36,s,0),inverse:e.program(38,s,0),data:s}))?l:"")+"\n                "+(null!=(l=(t.reactComponent||n&&n.reactComponent||r).call(i,"TagGrid","storyTags",{name:"reactComponent",hash:{},data:s}))?l:"")+'\n\n                <section id="story-tabs">\n                  <header class="tab-menu sub-navigation clearfix">\n                    <nav>\n                      <ul>\n\n                        <li data-section="parts" '+(null!=(l=t.if.call(i,null!=(l=null!=n?n.active:n)?l.parts:l,{name:"if",hash:{},fn:e.program(40,s,0),inverse:e.noop,data:s}))?l:"")+'>\n                      <a href="#" class="on-tab-nav">'+o((t.trans||n&&n.trans||r).call(i,"Table of Contents",{name:"trans",hash:{},data:s}))+'</a>\n                      </li>\n                        <li data-section="details" class="hidden-md hidden-lg">\n                      <a href="#" class="on-tab-nav">'+o((t.trans||n&&n.trans||r).call(i,"Details",{name:"trans",hash:{},data:s}))+'</a>\n                      </li>\n                      </ul>\n                    </nav>\n                  </header>\n                  <div id="tab-content" class="clearfix">\n'+(null!=(l=t.if.call(i,null!=(l=null!=n?n.active:n)?l.parts:l,{name:"if",hash:{},fn:e.program(42,s,0),inverse:e.noop,data:s}))?l:"")+'                  </div>\n               </section>\n            </div>\n        </main>\n\n        <aside class="col-sm-12 col-md-4">\n'+(null!=(l=t.if.call(i,null!=n?n.isLogged:n,{name:"if",hash:{},fn:e.noop,inverse:e.program(44,s,0),data:s}))?l:"")+"\n            "+(null!=(l=(t.advertisement||n&&n.advertisement||r).call(i,{name:"advertisement",hash:{tryHb:!0,adzerk:!0,storyGroup:null!=n?n.story:n,experience:"storylanding",parentClass:"ad-unit panel panel-basic",unit:"storylanding_top"},data:s}))?l:"")+'\n            <div id="story-details" class="panel hidden-xs hidden-sm">\n              <div class="story-details">\n'+(null!=(l=e.invokePartial(a["core.story_landing.story_details"],n,{name:"core.story_landing.story_details",data:s,indent:"                ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'              </div>\n            </div>\n\n            <div class="panel promoted-story-panel hidden">\n                <div class="panel-heading">\n                    <h4 class="panel-title">'+o((t.trans||n&&n.trans||r).call(i,"Promoted stories",{name:"trans",hash:{},data:s}))+'</h4>\n                </div>\n                <div id="similar-stories" class="promoted-stories panel-body"></div>\n            </div>\n\n            <div class="panel">\n                <div class="panel-heading">\n                    <h4 class="panel-title">'+o((t.trans||n&&n.trans||r).call(i,"You'll also like",{name:"trans",hash:{},data:s}))+'</h4>\n                </div>\n                <div id="similar-stories" class="similar-stories panel-body">\n                    <div class="stories">'+(null!=(l=e.invokePartial(a["core.collection_views.stories_similar"],n,{name:"core.collection_views.stories_similar",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")+"</div>\n                </div>\n            </div>\n\n\n        </aside>\n\n    </div>\n    "+(null!=(l=(t.advertisement||n&&n.advertisement||r).call(i,{name:"advertisement",hash:{lazy:!0,tryHb:!0,adzerk:!0,storyGroup:null!=n?n.story:n,experience:"storylanding",parentClass:"ad-unit",unit:"storylanding_bottom"},data:s}))?l:"")+"\n</div>\n"+(null!=(l=t.if.call(i,null!=(l=null!=n?n.story:n)?l.isPaywalled:l,{name:"if",hash:{},fn:e.program(46,s,0),inverse:e.noop,data:s}))?l:"")},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return"    "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-left",22,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+"\n"},3:function(e,n,t,a,s){var l;return"    "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-left",19,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+"\n"},5:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<ul>\n  <li class="first">\n      <a href="/stories/'+c((t.urlEncodeWithSpace||n&&n.urlEncodeWithSpace||o).call(r,null!=n?n.name:n,{name:"urlEncodeWithSpace",hash:{},data:s}))+'/hot" class="on-rank-navigate" data-rank="'+c("function"==typeof(i=null!=(i=t.rank||(null!=n?n.rank:n))?i:o)?i.call(r,{name:"rank",hash:{},data:s}):i)+'" data-name="'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+'">\n      <span class="rank">\n        <span class="rank-number-symbol">#</span>\n        <span class="rank-number">'+c("function"==typeof(i=null!=(i=t.rank||(null!=n?n.rank:n))?i:o)?i.call(r,{name:"rank",hash:{},data:s}):i)+'</span>\n      </span>\n\n      <span class="rank-tag">'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+'</span>\n      <span class="rank-total">\n        '+c((t.trans||n&&n.trans||o).call(r,"out of %s stories",(t.count||n&&n.count||o).call(r,null!=n?n.total:n,{name:"count",hash:{},data:s}),{name:"trans",hash:{},data:s}))+'\n      </span>\n\n      <span class="right-side">\n        '+c((t.connectImage||n&&n.connectImage||o).call(r,"/shared/ranking-medal.png","ranking",{name:"connectImage",hash:{width:"22",height:"27",klass:"tag-ranking-medal"},data:s}))+"\n        "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-right",14,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+"\n      </span>\n    </a>\n  </li>\n</ul>\n"},7:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'  <li>\n      <a href="/stories/'+c((t.urlEncodeWithSpace||n&&n.urlEncodeWithSpace||o).call(r,null!=n?n.name:n,{name:"urlEncodeWithSpace",hash:{},data:s}))+'/hot" class="on-rank-navigate" data-rank="'+c("function"==typeof(i=null!=(i=t.rank||(null!=n?n.rank:n))?i:o)?i.call(r,{name:"rank",hash:{},data:s}):i)+'" data-name="'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+'">\n      <span class="rank">\n        <span class="rank-number-symbol">#</span>\n        <span class="rank-number">'+c("function"==typeof(i=null!=(i=t.rank||(null!=n?n.rank:n))?i:o)?i.call(r,{name:"rank",hash:{},data:s}):i)+'</span>\n      </span>\n\n      <span class="rank-tag">'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+'</span>\n\n      <span class="right-side">\n        <span class="rank-total">\n          '+c((t.trans||n&&n.trans||o).call(r,"out of %s stories",(t.count||n&&n.count||o).call(r,null!=n?n.total:n,{name:"count",hash:{},data:s}),{name:"trans",hash:{},data:s}))+"\n        </span>\n\n        "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-right",14,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+"\n      </span>\n    </a>\n  </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<a href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.storyUrl:n,{name:"formatStoryUrl",hash:{},data:s}))+'" class="on-navigate back-to-story">\n'+(null!=(l=t.if.call(r,null!=n?n.isDesktop:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+"</a>\n<h1>"+c((t.trans||n&&n.trans||o).call(r,"Story Rankings",{name:"trans",hash:{},data:s}))+"</h1>\n\n<h2>"+c("function"==typeof(i=null!=(i=t.storyTitle||(null!=n?n.storyTitle:n))?i:o)?i.call(r,{name:"storyTitle",hash:{},data:s}):i)+"</h2>\n\n<h3>"+c((t.trans||n&&n.trans||o).call(r,"Most Impressive Ranking",{name:"trans",hash:{},data:s}))+"</h3>\n"+(null!=(l=t.with.call(r,null!=n?n.topRank:n,{name:"with",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+"\n<h3>"+c((t.trans||n&&n.trans||o).call(r,"Other Rankings",{name:"trans",hash:{},data:s}))+"</h3>\n<ul>\n"+(null!=(l=t.each.call(r,null!=n?n.otherRankings:n,{name:"each",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")+"</ul>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return' data-toggle="dropdown" '},3:function(e,n,t,a,s){return' data-toggle="modal" data-target="#table-of-contents" '},5:function(e,n,t,a,s){var l;return'data-toggle="tooltip" data-placement="bottom" title="'+e.escapeExpression((t.sanitize||n&&n.sanitize||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.group:n)?l.title:l,{name:"sanitize",hash:{},data:s}))+'"'},7:function(e,n,t,a,s){return'<span class="deleted-tag">('+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Deleted",{name:"trans",hash:{},data:s}))+")</span>"},9:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["desktop.story_reading.table_of_contents"],n,{name:"desktop.story_reading.table_of_contents",data:s,indent:"      ",helpers:t,partials:a,decorators:e.decorators}))?l:""},11:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["mobile.story_reading.table_of_contents"],n,{name:"mobile.story_reading.table_of_contents",data:s,indent:"      ",helpers:t,partials:a,decorators:e.decorators}))?l:""},13:function(e,n,t,a,s){return'  <div class="preview-alert">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Previewing %s",null!=n?n.title:n,{name:"trans",hash:{},data:s}))+"</div>\n"},15:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.isDesktop:n,{name:"if",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?l:""},16:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.group:n)?l.isPaywalled:l,{name:"if",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s}))?l:""},17:function(e,n,t,a,s){var l;return'                <div class="button-group relative inline-block">\n                    <div class="wallet-container">\n                        '+(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},"Wallet",null!=(l=null!=n?n.group:n)?l.id:l,{name:"reactComponent",hash:{},data:s}))?l:"")+"\n                    </div>\n                </div>\n"},19:function(e,n,t,a,s){var l;return'    <div id="admin-panel" class="button-group relative inline-block hidden-mobile">\n        <button class="btn btn-link dropdown-toggle on-admin-dropdown">\n            '+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-lock",16,"wp-base-1-dark",{name:"iconify",hash:{},data:s}))?l:"")+'\n        </button>\n        <div class="triangle"></div>\n    </div>\n'},21:function(e,n,t,a,s){var l;return'    <div class="button-group relative inline-block hidden-mobile">\n\n'+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.isPreview:n,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.program(24,s,0),data:s}))?l:"")+"\n    </div>\n"},22:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'        <button class="btn btn-orange on-publish">'+c((t.trans||n&&n.trans||o).call(r,"Publish",{name:"trans",hash:{},data:s}))+'</button>\n        <a class="on-navigate btn btn-grey on-write" href="/myworks/'+c(e.lambda(null!=(l=null!=n?n.group:n)?l.id:l,n))+"/write/"+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'">'+c((t.trans||n&&n.trans||o).call(r,"Back to writing",{name:"trans",hash:{},data:s}))+"</a>\n"},24:function(e,n,t,a,s){var l,i,r=e.escapeExpression,o=null!=n?n:e.nullContext||{},c=t.helperMissing;return'        <a class="btn btn-link" href="/myworks/'+r(e.lambda(null!=(l=null!=n?n.group:n)?l.id:l,n))+"/write/"+r("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:c)?i.call(o,{name:"id",hash:{},data:s}):i)+'">\n          '+(null!=(l=(t.iconify||n&&n.iconify||c).call(o,"fa-edit",16,"wp-base-1-dark",{name:"iconify",hash:{},data:s}))?l:"")+'\n          <span class="hidden-mobile hidden-xs hidden-sm story-edit">'+r((t.trans||n&&n.trans||c).call(o,"Edit part",{name:"trans",hash:{},data:s}))+"</span>\n        </a>\n"},26:function(e,n,t,a,s){var l;return null!=(l=t.unless.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.group:n)?l.draft:l,{name:"unless",hash:{},fn:e.program(27,s,0),inverse:e.noop,data:s}))?l:""},27:function(e,n,t,a,s){var l;return null!=(l=t.unless.call(null!=n?n:e.nullContext||{},null!=n?n.isPreview:n,{name:"unless",hash:{},fn:e.program(28,s,0),inverse:e.noop,data:s}))?l:""},28:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u='\n    <div class="button-group relative inline-block">\n        <button class="btn btn-story-lists btn-sm btn-orange" data-story-id="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.group:n)?l.id:l,n))+'">\n            '+(null!=(l=(t.iconify||n&&n.iconify||c).call(o,"fa-plus",10,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+"\n        </button>\n";return i=null!=(i=t.group||(null!=n?n.group:n))?i:c,r={name:"group",hash:{},fn:e.program(29,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(o,r):i,t.group||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(u+=l),u+"    </div>\n    "},29:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["core.components.add_to_library_dropdown"],n,{name:"core.components.add_to_library_dropdown",data:s,indent:"            ",helpers:t,partials:a,decorators:e.decorators}))?l:""},31:function(e,n,t,a,s){var l;return null!=(l=t.unless.call(null!=n?n:e.nullContext||{},null!=n?n.draft:n,{name:"unless",hash:{},fn:e.program(32,s,0),inverse:e.noop,data:s}))?l:""},32:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'\n    <div class="button-group relative inline-block">\n        <button class="btn btn-link on-vote" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'">\n'+(null!=(l=t.if.call(r,null!=n?n.voted:n,{name:"if",hash:{},fn:e.program(33,s,0),inverse:e.program(35,s,0),data:s}))?l:"")+'        </button>\n        <div id="vote-tool-tip" data-toggle="tooltip" data-placement="bottom" data-original-title= "'+c((t.trans||n&&n.trans||o).call(r,"There was an error registering your vote",{name:"trans",hash:{},data:s}))+'"></div>\n    </div>\n    '},33:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"            "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-vote",16,"wp-base-1",{name:"iconify",hash:{},data:s}))?l:"")+'\n            <span class="hidden-mobile hidden-xs hidden-sm story-vote">'+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Voted",{name:"trans",hash:{},data:s}))+"</span>\n"},35:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"            "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-vote",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n            <span class="hidden-mobile hidden-xs hidden-sm story-vote">'+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Vote",{name:"trans",hash:{},data:s}))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<div id="funbar-story" class="dropdown">\n  <button id="funbar-part-details" type="button" class="btn btn-toc dropdown-toggle"\n          '+(null!=(l=t.if.call(i,null!=n?n.isDesktop:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+'>\n      <span class="toc-full">\n        <span class="cover cover-xxs" '+(null!=(l=t.if.call(i,null!=n?n.isDesktop:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+'>\n          <img src="'+o((t.resizeCover||n&&n.resizeCover||r).call(i,null!=(l=null!=n?n.group:n)?l.cover:l,27,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o((t.sanitize||n&&n.sanitize||r).call(i,null!=(l=null!=n?n.group:n)?l.title:l,{name:"sanitize",hash:{},data:s}))+'">\n        </span>\n\n        <span class="info">\n          <h1 class="title h5">\n            '+o(e.lambda(null!=(l=null!=n?n.group:n)?l.title:l,n))+"\n            "+(null!=(l=t.if.call(i,null!=n?n.deleted:n,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")+'\n          </h1>\n          <span class="author h6">'+o((t.trans||n&&n.trans||r).call(i,"by %s",null!=(l=null!=(l=null!=n?n.group:n)?l.user:l)?l.username:l,{name:"trans",hash:{},data:s}))+"</span>\n        </span>\n\n        "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-down",20,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+"\n      </span>\n  </button>\n\n"+(null!=(l=t.if.call(i,null!=n?n.isDesktop:n,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.program(11,s,0),data:s}))?l:"")+"  \n</div>\n\n"+(null!=(l=t.if.call(i,null!=n?n.isPreview:n,{name:"if",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?l:"")+'\n<div id="funbar-controls">\n'+(null!=(l=t.if.call(i,(t.isTestGroup||n&&n.isTestGroup||r).call(i,"PAID_CONTENT",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(15,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.showAdminPanel:n,{name:"if",hash:{},fn:e.program(19,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.isAuthor:n,{name:"if",hash:{},fn:e.program(21,s,0),inverse:e.noop,data:s}))?l:"")+"\n    "+(null!=(l=t.unless.call(i,null!=(l=null!=n?n.group:n)?l.deleted:l,{name:"unless",hash:{},fn:e.program(26,s,0),inverse:e.noop,data:s}))?l:"")+"\n    "+(null!=(l=t.unless.call(i,null!=n?n.deleted:n,{name:"unless",hash:{},fn:e.program(31,s,0),inverse:e.noop,data:s}))?l:"")+'\n\n</div>\n\n<div id="funbar-reading-progress">\n  <div id="progressbar"></div>\n  <div id="progresstooltip" data-toggle="tooltip" data-placement=\'bottom\'></div>\n</div>\n'},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<a class="on-navigate" href="/user/'+o("function"==typeof(l=null!=(l=t.username||(null!=n?n.username:n))?l:r)?l.call(i,{name:"username",hash:{},data:s}):l)+'/conversations">'+o((t.trans||n&&n.trans||r).call(i,"View on your profile",{name:"trans",hash:{},data:s}))+"</a>\n        "},3:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<a class="on-navigate" href="/user/'+o("function"==typeof(l=null!=(l=t.username||(null!=n?n.username:n))?l:r)?l.call(i,{name:"username",hash:{},data:s}):l)+'/conversations">'+o((t.trans||n&&n.trans||r).call(i,"View on your profile",{name:"trans",hash:{},data:s}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<div class="modal-dialog" id="generic-modal">\n  <div class="modal-content">\n    <header class="modal-header">\n      <h2 class="modal-title text-center">'+o((t.trans||n&&n.trans||r).call(i,"Post to Your Profile",{name:"trans",hash:{},data:s}))+'</h1>\n      <div class="close" data-dismiss="modal">\n        '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n      </div>\n    </header>\n    <div class="modal-body clearfix">\n      <div class="post-comment"></div>\n\n      <div class="success-message text-center hidden">\n        '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-check",12,"wp-base-2",{name:"iconify",hash:{},data:s}))?l:"")+"\n        "+o((t.trans||n&&n.trans||r).call(i,"Your message has been posted!",{name:"trans",hash:{},data:s}))+"\n\n        "+(null!=(l=t.if.call(i,null!=n?n.isMobile:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+'      </div>\n\n      <div class="feed-item-new panel">\n'+(null!=(l=e.invokePartial(a["core.shared.beautify_url"],n,{name:"core.shared.beautify_url",data:s,indent:"        ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"      </div>\n    </div>\n  </div>\n</div>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.dismissibleBanner:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:""},2:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.fatBanner:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?l:""},3:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'      <div class="bottom-banner nondismissible">\n        <div class="row">\n          <div class="col-xs-12 col-sm-4">\n            <span class="wattpad-logo"></span>\n            <span class="logo-text">'+o((t.trans||n&&n.trans||r).call(i,"Wattpad App - Read, Write, Connect",{name:"trans",hash:{},data:s}))+'</span>\n          </div>\n        </div>\n        <div class="row">\n          <a class="open-app" href="'+o("function"==typeof(l=null!=(l=t.branchLink||(null!=n?n.branchLink:n))?l:r)?l.call(i,{name:"branchLink",hash:{},data:s}):l)+'" data-gtm="Download|bottom_banner|open_app">\n            <span class="open-app-text">'+o((t.trans||n&&n.trans||r).call(i,"Start Reading",{name:"trans",hash:{},data:s}))+'</span>\n          </a>\n        </div>\n        <div class="row login">\n          <a class="on-navigate bottom-login login-text" data-form="login">'+o((t.trans||n&&n.trans||r).call(i,"Log in with Browser",{name:"trans",hash:{},data:s}))+"</a>\n        </div>\n      </div>\n"},5:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'      <div class="bottom-banner dismissible">\n        <div class="bottom-content"><img src="'+o((t.resizeCover||n&&n.resizeCover||r).call(i,null!=n?n.bottomBannerImage:n,27,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o((t.sanitize||n&&n.sanitize||r).call(i,null!=n?n.bottomBannerTitle:n,{name:"sanitize",hash:{},data:s}))+'"><span class="bottom-message">'+o((t.trans||n&&n.trans||r).call(i,"Where stories live. Discover now",{name:"trans",hash:{},data:s}))+'</span></div>\n        <div class="bottom-controls">\n          <button class="btn bottom-login" data-form="login">'+o((t.trans||n&&n.trans||r).call(i,"Log in",{name:"trans",hash:{},data:s}))+'</button><button class="btn bottom-signup" data-form="signup">'+o((t.trans||n&&n.trans||r).call(i,"Sign Up",{name:"trans",hash:{},data:s}))+'</button>\n        </div>\n        <div class="dismiss">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+"</div>\n      </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.showBottomBanner:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s,l,i){var r,o,c,u=null!=n?n:e.nullContext||{},d=t.helperMissing,h=e.escapeExpression,p='        <li class="';return o=null!=(o=t.active||(null!=n?n.active:n))?o:d,c={name:"active",hash:{},fn:e.program(2,s,0,l,i),inverse:e.noop,data:s},r="function"==typeof o?o.call(u,c):o,t.active||(r=t.blockHelperMissing.call(n,r,c)),null!=r&&(p+=r),p+'">\n            <a class="on-navigate'+(null!=(r=t.if.call(u,null!=n?n.isBlocked:n,{name:"if",hash:{},fn:e.program(4,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'" href="'+h((t.formatStoryUrl||n&&n.formatStoryUrl||d).call(u,null!=n?n.url:n,{name:"formatStoryUrl",hash:{locals:i[1]},data:s}))+'">\n              <div class="part-title">\n                  '+h(e.lambda(null!=n?n.title:n,n))+"\n                  "+(null!=(r=t.if.call(u,null!=n?n.deleted:n,{name:"if",hash:{},fn:e.program(6,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"\n                  "+(null!=(r=t.if.call(u,null!=n?n.draft:n,{name:"if",hash:{},fn:e.program(8,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"\n              </div>\n              "+(null!=(r=t.if.call(u,null!=n?n.isBlocked:n,{name:"if",hash:{},fn:e.program(10,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"\n            </a>\n        </li>\n"},2:function(e,n,t,a,s){return"active"},4:function(e,n,t,a,s){return" blocked"},6:function(e,n,t,a,s){return'<span class="deleted-tag">('+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Deleted",{name:"trans",hash:{},data:s}))+")</span>"},8:function(e,n,t,a,s){return'<span class="draft-tag">('+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Draft",{name:"trans",hash:{},data:s}))+")</span>"},10:function(e,n,t,a,s){var l;return null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-lock",16,"wp-neutral-2","pull-right",{name:"iconify",hash:{},data:s}))?l:""},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s,l,i){var r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u=e.escapeExpression;return'<div class="dropdown-menu pull-left">\n    <div class="toc-header text-center">\n        <h6><a class="on-navigate" href="'+u((t.formatStoryUrl||n&&n.formatStoryUrl||c).call(o,null!=(r=null!=n?n.group:n)?r.url:r,{name:"formatStoryUrl",hash:{},data:s}))+'">'+u(e.lambda(null!=(r=null!=n?n.group:n)?r.title:r,n))+"</a></h6>\n        <small>"+u((t.trans||n&&n.trans||c).call(o,"Table of contents",{name:"trans",hash:{},data:s}))+'</small>\n    </div>\n\n    <ul class="table-of-contents">\n'+(null!=(r=t.each.call(o,null!=(r=null!=n?n.group:n)?r.parts:r,{name:"each",hash:{},fn:e.program(1,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"    </ul>\n</div>\n"},useData:!0,useDepths:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return'    <div class="media-wrapper">\n'},3:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.media:n)?l.length:l,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.program(6,s,0),data:s}))?l:""},4:function(e,n,t,a,s){return'        <div class="media-wrapper">\n'},6:function(e,n,t,a,s){return'        <div class="media-wrapper hidden">\n'},8:function(e,n,t,a,s){return'style="background-color: #827C78;background-image: url('+e.escapeExpression((t.resizeCoverAsBackground||n&&n.resizeCoverAsBackground||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.bgCover:n,1920,{name:"resizeCoverAsBackground",hash:{},data:s}))+');"'},10:function(e,n,t,a,s){return" hasStoryInfo"},12:function(e,n,t,a,s,l,i){var r,o=null!=n?n:e.nullContext||{};return(null!=(r=t.if.call(o,null!=n?n.isEditable:n,{name:"if",hash:{},fn:e.program(13,s,0,l,i),inverse:e.program(15,s,0,l,i),data:s}))?r:"")+(null!=(r=t.each.call(o,null!=n?n.media:n,{name:"each",hash:{},fn:e.program(17,s,0,l,i),inverse:e.noop,data:s}))?r:"")+(null!=(r=t.if.call(o,null!=n?n.isEditable:n,{name:"if",hash:{},fn:e.program(35,s,0,l,i),inverse:e.program(37,s,0,l,i),data:s}))?r:"")+(null!=(r=t.if.call(o,null!=n?n.isEditable:n,{name:"if",hash:{},fn:e.program(39,s,0,l,i),inverse:e.noop,data:s}))?r:"")},13:function(e,n,t,a,s){var l;return"                  "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-left",24,"wp-neutral-2","btn btn-link on-prev-media hidden-xs invisible",{name:"iconify",hash:{},data:s}))?l:"")+"\n"},15:function(e,n,t,a,s){var l;return"                  "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-left",24,"wp-neutral-5","btn btn-link on-prev-media hidden-xs invisible",{name:"iconify",hash:{},data:s}))?l:"")+"\n"},17:function(e,n,t,a,s,l,i){var r,o=null!=n?n:e.nullContext||{};return(null!=(r=t.if.call(o,null!=n?n.storyInfo:n,{name:"if",hash:{},fn:e.program(18,s,0,l,i),inverse:e.noop,data:s}))?r:"")+(null!=(r=t.if.call(o,null!=n?n.video:n,{name:"if",hash:{},fn:e.program(27,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"\n"+(null!=(r=t.if.call(o,null!=n?n.photo:n,{name:"if",hash:{},fn:e.program(30,s,0,l,i),inverse:e.noop,data:s}))?r:"")},18:function(e,n,t,a,s,l,i){var r,o,c=null!=n?n:e.nullContext||{},u=t.helperMissing,d=e.escapeExpression;return'                    <div class="media-item story-info'+(null!=(r=t.if.call(c,s&&s.index,{name:"if",hash:{},fn:e.program(19,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'">\n                        <img class= "cover" src="'+d((t.resizeCover||n&&n.resizeCover||u).call(c,null!=n?n.cover:n,140,{name:"resizeCover",hash:{},data:s}))+'" alt="'+d(e.lambda(null!=i[2]?i[2].title:i[2],n))+'"/>\n                        <div class="text">\n                            <p class="item-header">'+d((t.trans||n&&n.trans||u).call(c,"YOU ARE READING",{name:"trans",hash:{},data:s}))+'</p>\n                            <h3 class="item-title">'+d("function"==typeof(o=null!=(o=t.title||(null!=n?n.title:n))?o:u)?o.call(c,{name:"title",hash:{},data:s}):o)+'</h3>\n                            <a class="item-category on-navigate" href=\'/stories/'+d((t.slugify||n&&n.slugify||u).call(c,null!=n?n.categoryEnglish:n,{name:"slugify",hash:{},data:s}))+"'>"+d("function"==typeof(o=null!=(o=t.category||(null!=n?n.category:n))?o:u)?o.call(c,{name:"category",hash:{},data:s}):o)+'</a>\n                            <p class="item-description">'+d((t.simpleShorten||n&&n.simpleShorten||u).call(c,null!=n?n.description:n,250,!1,{name:"simpleShorten",hash:{},data:s}))+"</p>\n"+(null!=(r=t.if.call(c,null!=i[1]?i[1].isDesktop:i[1],{name:"if",hash:{},fn:e.program(21,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"                        </div>\n"+(null!=(r=t.unless.call(c,null!=i[1]?i[1].isDesktop:i[1],{name:"unless",hash:{},fn:e.program(24,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"                    </div>\n"},19:function(e,n,t,a,s){return" hidden"},21:function(e,n,t,a,s,l,i){var r;return'                                <p class="item-tags">\n'+(null!=(r=t.each.call(null!=n?n:e.nullContext||{},null!=(r=null!=i[1]?i[1].group:i[1])?r.tags:r,{name:"each",hash:{},fn:e.program(22,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"                                </p>\n"},22:function(e,n,t,a,s){var l=e.lambda,i=e.escapeExpression;return'                                        <span class="tag"><a class="on-navigate" href="/stories/'+i(l(n,n))+'"><s>#</s><strong>'+i(l(n,n))+"</strong></a></span>\n"},24:function(e,n,t,a,s,l,i){var r;return'                            <div class="item-tags">\n                                <div class="collection">\n'+(null!=(r=t.each.call(null!=n?n:e.nullContext||{},null!=(r=null!=i[1]?i[1].group:i[1])?r.tags:r,{name:"each",hash:{},fn:e.program(25,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"                                </div>\n                            </div>\n"},25:function(e,n,t,a,s){var l=e.lambda,i=e.escapeExpression;return'                                            <span class="pill"><a class="on-navigate" href="/stories/'+i(l(n,n))+'">'+i(l(n,n))+"</a></span>\n"},27:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'                    <div class="media-item video on-video '+(null!=(l=t.if.call(r,s&&s.index,{name:"if",hash:{},fn:e.program(28,s,0),inverse:e.noop,data:s}))?l:"")+'" data-youtube="'+c("function"==typeof(i=null!=(i=t.ref||(null!=n?n.ref:n))?i:o)?i.call(r,{name:"ref",hash:{},data:s}):i)+'">\n                        <img src="https://img.youtube.com/vi/'+c("function"==typeof(i=null!=(i=t.ref||(null!=n?n.ref:n))?i:o)?i.call(r,{name:"ref",hash:{},data:s}):i)+'/0.jpg"/>\n                        <div class="play">\n                            <span class="fa fa-stack-1x triangle-right">&#x25b6;</span>\n                        </div>\n                    </div>\n'},28:function(e,n,t,a,s){return"hidden"},30:function(e,n,t,a,s,l,i){var r,o,c=null!=n?n:e.nullContext||{},u=t.helperMissing,d=e.escapeExpression;return'                    <div class="media-item image '+(null!=(r=t.if.call(c,s&&s.index,{name:"if",hash:{},fn:e.program(28,s,0,l,i),inverse:e.noop,data:s}))?r:"")+" "+(null!=(r=t.unless.call(c,null!=i[1]?i[1].isWriterPreview:i[1],{name:"unless",hash:{},fn:e.program(31,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'">\n                        <img data-index="'+d("function"==typeof(o=null!=(o=t.index||s&&s.index)?o:u)?o.call(c,{name:"index",hash:{},data:s}):o)+'" src="'+d("function"==typeof(o=null!=(o=t.ref||(null!=n?n.ref:n))?o:u)?o.call(c,{name:"ref",hash:{},data:s}):o)+'" alt="'+d(e.lambda(null!=i[2]?i[2].title:i[2],n))+'"/>\n'+(null!=(r=t.if.call(c,null!=i[1]?i[1].isEditable:i[1],{name:"if",hash:{},fn:e.program(33,s,0,l,i),inverse:e.noop,data:s}))?r:"")+(null!=(r=t.if.call(c,null!=i[1]?i[1].isWriterPreview:i[1],{name:"if",hash:{},fn:e.program(33,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"                    </div>\n"},31:function(e,n,t,a,s){return" on-full-size-banner "},33:function(e,n,t,a,s){return'                                <span class=\'banned-overlay hidden\'>\n                                    <div id="header-banned-image-warning" class="hidden" contenteditable="false">\n                                        <div class="placeholder"></div>\n                                    </div>\n                                </span>\n'},35:function(e,n,t,a,s){var l;return"                    "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-right",24,"wp-neutral-2","btn btn-link on-next-media hidden-xs invisible",{name:"iconify",hash:{},data:s}))?l:"")+"\n"},37:function(e,n,t,a,s){var l;return"                    "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-right",24,"wp-neutral-5","btn btn-link on-next-media hidden-xs invisible",{name:"iconify",hash:{},data:s}))?l:"")+"\n"},39:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'                    <div class="btn-primary btn-icon edit-media on-show-media-menu">\n                        '+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(i,"edit",16,"wp-neutral-2","fa-4x edit-media on-show-media-menu",'fill="#222222" stroke="#ffffff"',{name:"iconify",hash:{},data:s}))?l:"")+'\n                    </div>\n\n                    <div class="popover bottom media-menu">\n                        <div class="arrow"></div>\n                        <div class="media-menu-content">\n'+(null!=(l=t.if.call(i,null!=n?n.hasVideo:n,{name:"if",hash:{},fn:e.program(40,s,0),inverse:e.program(42,s,0),data:s}))?l:"")+(null!=(l=t.if.call(i,null!=n?n.hasPhoto:n,{name:"if",hash:{},fn:e.program(44,s,0),inverse:e.program(46,s,0),data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.hasVideo:n,{name:"if",hash:{},fn:e.program(48,s,0),inverse:e.noop,data:s}))?l:"")+(null!=(l=t.if.call(i,null!=n?n.hasPhoto:n,{name:"if",hash:{},fn:e.program(50,s,0),inverse:e.noop,data:s}))?l:"")+"                        </div>\n                    </div>\n"},40:function(e,n,t,a,s){return'                                <a href="#" class="on-replace-video">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Replace video",{name:"trans",hash:{},data:s}))+"</a>\n"},42:function(e,n,t,a,s){return'                                <a href="#" class="on-add-video">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Add YouTube video",{name:"trans",hash:{},data:s}))+"</a>\n"},44:function(e,n,t,a,s){return'                                 <a href="#" class="on-replace-image">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Replace image",{name:"trans",hash:{},data:s}))+"</a>\n"},46:function(e,n,t,a,s){return'                                <a href="#" class="on-add-image">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Add image",{name:"trans",hash:{},data:s}))+"</a>\n"},48:function(e,n,t,a,s){return'                                <a href="#" class="on-remove-video remove-options">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Remove video",{name:"trans",hash:{},data:s}))+"</a>\n"},50:function(e,n,t,a,s){return'                              <a href="#" class="on-remove-image remove-options">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Remove image",{name:"trans",hash:{},data:s}))+"</a>\n"},52:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.isEditable:n,{name:"if",hash:{},fn:e.program(53,s,0),inverse:e.noop,data:s}))?l:""},53:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'                    <div class="btn-group media-buttons" role="group">\n                        <button type="button" class="btn btn-white btn-lg btn-writer-media on-add-image">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-image",36,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'</button>\n                        <button type="button" class="btn btn-white btn-lg btn-writer-media on-add-video">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-video",36,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+"</button>\n"+(null!=(l=t.if.call(i,null!=n?n.showTips:n,{name:"if",hash:{},fn:e.program(54,s,0),inverse:e.noop,data:s}))?l:"")+"                    </div>\n"},54:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'                            <div class="popover writer-tooltip fade left in" role="tooltip" id="header-media-tooltip" style="top: 59px; left: 322px; display: block;"><div class="arrow"></div><h3 class="popover-title">'+r((t.trans||n&&n.trans||i).call(l,"Add header media",{name:"trans",hash:{},data:s}))+'</h3><div class="popover-content"><div class="main-content">'+r((t.trans||n&&n.trans||i).call(l,"Set the mood for your story by adding multimedia.",{name:"trans",hash:{},data:s}))+'</div><div class="tooltip-footer"><a href="">'+r((t.trans||n&&n.trans||i).call(l,"Learn More",{name:"trans",hash:{},data:s}))+'</a><button class="btn btn-orange on-okay">'+r((t.trans||n&&n.trans||i).call(l,"OK",{name:"trans",hash:{},data:s}))+"</button></div></div></div>\n"},56:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'                <div class="media-fields">\n                  <div class="input-group input-group-lg photo-url hide">\n                    <input type="text" name="photoURL" class="photo-url-field form-control" value="'+o("function"==typeof(l=null!=(l=t.photoURL||(null!=n?n.photoURL:n))?l:r)?l.call(i,{name:"photoURL",hash:{},data:s}):l)+'" placeholder="'+o((t.trans||n&&n.trans||r).call(i,"Paste image URL",{name:"trans",hash:{},data:s}))+'" />\n                    <span class="input-group-btn">\n                        <button class="btn btn-grey on-submit-photo" type="button">'+o((t.trans||n&&n.trans||r).call(i,"Add",{name:"trans",hash:{},data:s}))+'</button>\n                    </span>\n                  </div>\n                  <div class="input-group input-group-lg video-url hide">\n                    <input type="text" name="videoURL" class="video-url-field form-control" value="'+o("function"==typeof(l=null!=(l=t.videoURL||(null!=n?n.videoURL:n))?l:r)?l.call(i,{name:"videoURL",hash:{},data:s}):l)+'" placeholder="'+o((t.trans||n&&n.trans||r).call(i,"Paste YouTube URL",{name:"trans",hash:{},data:s}))+'" />\n                    <span class="input-group-btn">\n                        <button class="btn btn-grey on-submit-video" type="button">'+o((t.trans||n&&n.trans||r).call(i,"Add",{name:"trans",hash:{},data:s}))+'</button>\n                    </span>\n                    <span class="input-group-btn">\n                        <button class="btn btn-grey media-fields-underlay on-cancel" type="button">'+o((t.trans||n&&n.trans||r).call(i,"Cancel",{name:"trans",hash:{},data:s}))+"</button>\n                    </span>\n                  </div>\n                </div>\n"},58:function(e,n,t,a,s){var l;return null!=(l=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.media:n,{name:"each",hash:{},fn:e.program(59,s,0),inverse:e.noop,data:s}))?l:""},59:function(e,n,t,a,s){var l;return'                <li class="on-carousel-clicked '+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},s&&s.index,{name:"if",hash:{},fn:e.noop,inverse:e.program(60,s,0),data:s}))?l:"")+'"></li>\n'},60:function(e,n,t,a,s){return"active"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s,l,i){var r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u=e.lambda,d=e.escapeExpression;return(null!=(r=t.if.call(o,null!=n?n.isEditable:n,{name:"if",hash:{},fn:e.program(1,s,0,l,i),inverse:e.program(3,s,0,l,i),data:s}))?r:"")+'    <div class="hover-wrapper"  '+(null!=(r=t.if.call(o,null!=n?n.showCover:n,{name:"if",hash:{},fn:e.program(8,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'>\n        <div class="background-lg media background'+(null!=(r=t.if.call(o,null!=n?n.storyInfoFlag:n,{name:"if",hash:{},fn:e.program(10,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'">\n'+(null!=(r=t.if.call(o,null!=(r=null!=n?n.media:n)?r.length:r,{name:"if",hash:{},fn:e.program(12,s,0,l,i),inverse:e.program(52,s,0,l,i),data:s}))?r:"")+(null!=(r=t.if.call(o,null!=n?n.isEditable:n,{name:"if",hash:{},fn:e.program(56,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'\n            <ol class="carousel-indicators">\n                <li class="icon-container">'+(null!=(r=(t.iconify||n&&n.iconify||c).call(o,"fa-flag",12,"wp-neutral-3 on-report-image-banner",{name:"iconify",hash:{},data:s}))?r:"")+"</li>\n"+(null!=(r=t.if.call(o,null!=n?n.showCarousel:n,{name:"if",hash:{},fn:e.program(58,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'\n                <li class="icon-container">\n                    <a href="'+d(u(null!=(r=null!=n?n.media:n)?r.facebook:r,n))+'" class="social-share" id="share-header-media-facebook"\n                       data-gtm-action="shareinlinemedia:facebook" data-share-channel="facebook" target="_blank"\n                       title="'+d((t.trans||n&&n.trans||c).call(o,"Share on Facebook",{name:"trans",hash:{},data:s}))+'">\n                        '+(null!=(r=(t.iconify||n&&n.iconify||c).call(o,"fa-facebook",12,"wp-neutral-5 on-share-image-banner facebook",{name:"iconify",hash:{},data:s}))?r:"")+'\n                    </a>\n                </li>\n                <li class="icon-container">\n                    <a href="'+d(u(null!=(r=null!=n?n.media:n)?r.pinterest:r,n))+'" class="social-share" id="share-header-media-pinterest"\n                       data-gtm-action="shareinlinemedia:pinterest" data-share-channel="pinterest" target="_blank"\n                       title="'+d((t.trans||n&&n.trans||c).call(o,"Share on Pinterest",{name:"trans",hash:{},data:s}))+'">\n                        '+(null!=(r=(t.iconify||n&&n.iconify||c).call(o,"fa-pinterest",12,"wp-neutral-5 on-share-image-banner pinterest",{name:"iconify",hash:{},data:s}))?r:"")+'\n                    </a>\n                </li>\n            </ol>\n        </div>\n    </div>\n    <div class="file-upload hidden">\n        <input accept=".jpeg,image/jpeg, image/png, image/gif" type="file" name="file">\n    </div>\n    <div class="media-fields-underlay"></div>\n</div>\n'},useData:!0,useDepths:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div id="sp'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+"-pg"+c("function"==typeof(i=null!=(i=t.pageNumber||(null!=n?n.pageNumber:n))?i:o)?i.call(r,{name:"pageNumber",hash:{},data:s}):i)+'"\n     data-page-number="'+c("function"==typeof(i=null!=(i=t.pageNumber||(null!=n?n.pageNumber:n))?i:o)?i.call(r,{name:"pageNumber",hash:{},data:s}):i)+'"\n     class="page col-sm-12 col-md-10 col-lg-8 col-md-offset-1 col-lg-offset-2'+(null!=(l=t.if.call(r,null!=n?n.isHeightZero:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+'">\n\n    <div class="panel panel-reading" dir=\''+(null!=(l=t.if.call(r,(t.rtlLanguage||n&&n.rtlLanguage||o).call(r,null!=(l=null!=(l=null!=n?n.group:n)?l.language:l)?l.id:l,{name:"rtlLanguage",hash:{},data:s}),{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.program(6,s,0),data:s}))?l:"")+"'>\n"+(null!=(l=t.if.call(r,(t.isTestGroup||n&&n.isTestGroup||o).call(r,"MOVE_UP_OUTSTREAM",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.program(19,s,0),data:s}))?l:"")+"    </div>\n\n"+(null!=(l=t.if.call(r,(t.isTestGroup||n&&n.isTestGroup||o).call(r,"MOVE_UP_OUTSTREAM",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(21,s,0),inverse:e.program(28,s,0),data:s}))?l:"")+"</div>\n\n"+(null!=(l=t.if.call(r,null!=n?n.cta:n,{name:"if",hash:{},fn:e.program(52,s,0),inverse:e.noop,data:s}))?l:"")+"\n\n\n"},2:function(e,n,t,a,s){return" height-zero "},4:function(e,n,t,a,s){return"rtl"},6:function(e,n,t,a,s){return"ltr"},8:function(e,n,t,a,s){var l;return null!=(l=t.unless.call(null!=n?n:e.nullContext||{},null!=n?n.isMicroPart:n,{name:"unless",hash:{},fn:e.program(9,s,0),inverse:e.program(17,s,0),data:s}))?l:""},9:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return"                <pre>\n"+(null!=(l=t.if.call(i,(t.isTestGroup||n&&n.isTestGroup||t.helperMissing).call(i,"OUTSTREAM_ELIGIBLE",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.program(15,s,0),data:s}))?l:"")+"                </pre>\n"},10:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.firstPage:n,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.program(13,s,0),data:s}))?l:""},11:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                            "+(null!=(l=(t.insertAdUnit||n&&n.insertAdUnit||r).call(i,(t.parseEmbeddedMedia||n&&n.parseEmbeddedMedia||r).call(i,null!=n?n.text:n,720,{name:"parseEmbeddedMedia",hash:{},data:s}),{name:"insertAdUnit",hash:{storyGroup:null!=n?n.group:n,experience:"reading"},data:s}))?l:"")+"\n"},13:function(e,n,t,a,s){var l;return"                            "+(null!=(l=(t.parseEmbeddedMedia||n&&n.parseEmbeddedMedia||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.text:n,720,{name:"parseEmbeddedMedia",hash:{},data:s}))?l:"")+"\n"},15:function(e,n,t,a,s){var l;return"                        "+(null!=(l=(t.parseEmbeddedMedia||n&&n.parseEmbeddedMedia||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.text:n,720,{name:"parseEmbeddedMedia",hash:{},data:s}))?l:"")+"\n"},17:function(e,n,t,a,s){var l;return"                <pre>"+(null!=(l=(t.parseEmbeddedMedia||n&&n.parseEmbeddedMedia||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.text:n,720,{name:"parseEmbeddedMedia",hash:{},data:s}))?l:"")+"</pre>\n"},19:function(e,n,t,a,s){var l;return"            <pre>"+(null!=(l=(t.parseEmbeddedMedia||n&&n.parseEmbeddedMedia||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.text:n,720,{name:"parseEmbeddedMedia",hash:{},data:s}))?l:"")+"</pre>\n"},21:function(e,n,t,a,s){var l;return null!=(l=t.unless.call(null!=n?n:e.nullContext||{},null!=n?n.isMicroPart:n,{name:"unless",hash:{},fn:e.program(22,s,0),inverse:e.noop,data:s}))?l:""},22:function(e,n,t,a,s){var l;return null!=(l=t.unless.call(null!=n?n:e.nullContext||{},null!=n?n.lastPage:n,{name:"unless",hash:{},fn:e.program(23,s,0),inverse:e.noop,data:s}))?l:""},23:function(e,n,t,a,s){var l,i,r,o="";return i=null!=(i=t.isLoggedIn||(null!=n?n.isLoggedIn:n))?i:t.helperMissing,r={name:"isLoggedIn",hash:{},fn:e.program(24,s,0),inverse:e.program(26,s,0),data:s},l="function"==typeof i?i.call(null!=n?n:e.nullContext||{},r):i,t.isLoggedIn||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(o+=l),o},24:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                    "+(null!=(l=(t.advertisement||n&&n.advertisement||r).call(i,{name:"advertisement",hash:{tryHb:!0,adzerk:!0,lazy:!0,storyGroup:null!=n?n.group:n,adTextClass:"panel-title",adText:(t.trans||n&&n.trans||r).call(i,"Story continues below",{name:"trans",hash:{},data:s}),parentClass:"reading-widget col-xs-12",experience:"reading",unit:"readinglong_mid_mweb"},data:s}))?l:"")+"\n"},26:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                    "+(null!=(l=(t.advertisement||n&&n.advertisement||r).call(i,{name:"advertisement",hash:{tryHb:!0,adzerk:!0,lazy:!0,storyGroup:null!=n?n.group:n,adTextClass:"panel-title",adText:(t.trans||n&&n.trans||r).call(i,"Story continues below",{name:"trans",hash:{},data:s}),parentClass:"reading-widget col-xs-12",experience:"reading",unit:"readinglong_mid_loggedout_mweb"},data:s}))?l:"")+"\n"},28:function(e,n,t,a,s){var l;return null!=(l=(t.ifequal||n&&n.ifequal||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.group:n)?l.id:l,"121343796",{name:"ifequal",hash:{},fn:e.program(29,s,0),inverse:e.program(35,s,0),data:s}))?l:""},29:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.firstPage:n,{name:"if",hash:{},fn:e.program(30,s,0),inverse:e.program(32,s,0),data:s}))?l:""},30:function(e,n,t,a,s){var l;return"                "+(null!=(l=(t.advertisement||n&&n.advertisement||t.helperMissing).call(null!=n?n:e.nullContext||{},{name:"advertisement",hash:{storyGroup:null!=n?n.group:n,lazy:!1,experience:"reading",unit:"outstream_video"},data:s}))?l:"")+"\n"},32:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return null!=(l=t.if.call(i,(t.shouldShowReadingAd||n&&n.shouldShowReadingAd||t.helperMissing).call(i,null!=n?n.pageNumber:n,null!=n?n.pages:n,{name:"shouldShowReadingAd",hash:{},data:s}),{name:"if",hash:{},fn:e.program(33,s,0),inverse:e.noop,data:s}))?l:""},33:function(e,n,t,a,s){var l,i,r,o="";return i=null!=(i=t.isLoggedIn||(null!=n?n.isLoggedIn:n))?i:t.helperMissing,r={name:"isLoggedIn",hash:{},fn:e.program(24,s,0),inverse:e.program(26,s,0),data:s},l="function"==typeof i?i.call(null!=n?n:e.nullContext||{},r):i,t.isLoggedIn||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(o+=l),o+"            "},35:function(e,n,t,a,s){var l;return null!=(l=t.unless.call(null!=n?n:e.nullContext||{},null!=n?n.isMicroPart:n,{name:"unless",hash:{},fn:e.program(36,s,0),inverse:e.noop,data:s}))?l:""},36:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return null!=(l=t.if.call(i,(t.isTestGroup||n&&n.isTestGroup||t.helperMissing).call(i,"OUTSTREAM_ELIGIBLE",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(37,s,0),inverse:e.program(46,s,0),data:s}))?l:""},37:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.firstPage:n,{name:"if",hash:{},fn:e.program(38,s,0),inverse:e.program(40,s,0),data:s}))?l:""},38:function(e,n,t,a,s){var l;return"                            "+(null!=(l=(t.advertisement||n&&n.advertisement||t.helperMissing).call(null!=n?n:e.nullContext||{},{name:"advertisement",hash:{storyGroup:null!=n?n.group:n,lazy:!1,experience:"reading",unit:"outstream_video"},data:s}))?l:"")+"\n"},40:function(e,n,t,a,s){var l;return null!=(l=t.unless.call(null!=n?n:e.nullContext||{},null!=n?n.lastPage:n,{name:"unless",hash:{},fn:e.program(41,s,0),inverse:e.noop,data:s}))?l:""},41:function(e,n,t,a,s){var l,i,r,o="";return i=null!=(i=t.isLoggedIn||(null!=n?n.isLoggedIn:n))?i:t.helperMissing,r={name:"isLoggedIn",hash:{},fn:e.program(42,s,0),inverse:e.program(44,s,0),data:s},l="function"==typeof i?i.call(null!=n?n:e.nullContext||{},r):i,t.isLoggedIn||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(o+=l),o},42:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                                    "+(null!=(l=(t.advertisement||n&&n.advertisement||r).call(i,{name:"advertisement",hash:{tryHb:!0,adzerk:!0,lazy:!0,storyGroup:null!=n?n.group:n,adTextClass:"panel-title",adText:(t.trans||n&&n.trans||r).call(i,"Story continues below",{name:"trans",hash:{},data:s}),parentClass:"reading-widget col-xs-12",experience:"reading",unit:"readinglong_mid_mweb"},data:s}))?l:"")+"\n"},44:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                                    "+(null!=(l=(t.advertisement||n&&n.advertisement||r).call(i,{name:"advertisement",hash:{tryHb:!0,adzerk:!0,lazy:!0,storyGroup:null!=n?n.group:n,adTextClass:"panel-title",adText:(t.trans||n&&n.trans||r).call(i,"Story continues below",{name:"trans",hash:{},data:s}),parentClass:"reading-widget col-xs-12",experience:"reading",unit:"readinglong_mid_loggedout_mweb"},data:s}))?l:"")+"\n"},46:function(e,n,t,a,s){var l;return null!=(l=t.unless.call(null!=n?n:e.nullContext||{},null!=n?n.lastPage:n,{name:"unless",hash:{},fn:e.program(47,s,0),inverse:e.noop,data:s}))?l:""},47:function(e,n,t,a,s){var l,i,r,o="";return i=null!=(i=t.isLoggedIn||(null!=n?n.isLoggedIn:n))?i:t.helperMissing,r={name:"isLoggedIn",hash:{},fn:e.program(48,s,0),inverse:e.program(50,s,0),data:s},l="function"==typeof i?i.call(null!=n?n:e.nullContext||{},r):i,t.isLoggedIn||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(o+=l),o},48:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                                "+(null!=(l=(t.advertisement||n&&n.advertisement||r).call(i,{name:"advertisement",hash:{tryHb:!0,adzerk:!0,lazy:!0,storyGroup:null!=n?n.group:n,adTextClass:"panel-title",adText:(t.trans||n&&n.trans||r).call(i,"Story continues below",{name:"trans",hash:{},data:s}),parentClass:"reading-widget col-xs-12",experience:"reading",unit:"readinglong_mid_mweb"},data:s}))?l:"")+"\n"},50:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                                "+(null!=(l=(t.advertisement||n&&n.advertisement||r).call(i,{name:"advertisement",hash:{tryHb:!0,adzerk:!0,lazy:!0,storyGroup:null!=n?n.group:n,adTextClass:"panel-title",adText:(t.trans||n&&n.trans||r).call(i,"Story continues below",{name:"trans",hash:{},data:s}),parentClass:"reading-widget col-xs-12",experience:"reading",unit:"readinglong_mid_loggedout_mweb"},data:s}))?l:"")+"\n"},52:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["core.story_reading.cta"],n,{name:"core.story_reading.cta",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:""},54:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div id="sp'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+"-pg"+c("function"==typeof(i=null!=(i=t.pageNumber||(null!=n?n.pageNumber:n))?i:o)?i.call(r,{name:"pageNumber",hash:{},data:s}):i)+'"\n     data-page-number="'+c("function"==typeof(i=null!=(i=t.pageNumber||(null!=n?n.pageNumber:n))?i:o)?i.call(r,{name:"pageNumber",hash:{},data:s}):i)+'"\n     class="page highlighter'+(null!=(l=t.if.call(r,null!=n?n.isHeightZero:n,{name:"if",hash:{},fn:e.program(55,s,0),inverse:e.noop,data:s}))?l:"")+(null!=(l=t.if.call(r,null!=n?n.firstPage:n,{name:"if",hash:{},fn:e.program(57,s,0),inverse:e.noop,data:s}))?l:"")+(null!=(l=t.if.call(r,null!=n?n.lastPage:n,{name:"if",hash:{},fn:e.program(59,s,0),inverse:e.noop,data:s}))?l:"")+'">\n\n    <div class="col-xs-10 col-xs-offset-1 col-sm-10 col-sm-offset-1 col-md-7 col-md-offset-1 col-lg-6 col-lg-offset-3 panel panel-reading"\n         dir="'+(null!=(l=t.if.call(r,(t.rtlLanguage||n&&n.rtlLanguage||o).call(r,null!=(l=null!=(l=null!=n?n.group:n)?l.language:l)?l.id:l,{name:"rtlLanguage",hash:{},data:s}),{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.program(6,s,0),data:s}))?l:"")+'">\n'+(null!=(l=t.if.call(r,(t.isTestGroup||n&&n.isTestGroup||o).call(r,"MOVE_UP_OUTSTREAM",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(61,s,0),inverse:e.program(67,s,0),data:s}))?l:"")+'    </div>\n\n    <div class="col-xs-10 col-xs-offset-1 col-sm-10 col-sm-offset-1 col-md-4 col-md-offset-0 col-lg-3 col-lg-offset-0 right-rail'+(null!=(l=t.if.call(r,(t.isTestGroup||n&&n.isTestGroup||o).call(r,"STICKY_AD_ROLLOUT",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(75,s,0),inverse:e.noop,data:s}))?l:"")+'">\n'+(null!=(l=t.if.call(r,null!=n?n.firstPage:n,{name:"if",hash:{},fn:e.program(78,s,0),inverse:e.program(80,s,0),data:s}))?l:"")+"     </div>\n</div>\n"},55:function(e,n,t,a,s){return" height-zero"},57:function(e,n,t,a,s){return" first-page"},59:function(e,n,t,a,s){return" last-page"},61:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return"            <pre>\n"+(null!=(l=t.if.call(i,(t.isTestGroup||n&&n.isTestGroup||t.helperMissing).call(i,"OUTSTREAM_ELIGIBLE",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(62,s,0),inverse:e.program(65,s,0),data:s}))?l:"")+"            </pre>\n"},62:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.firstPage:n,{name:"if",hash:{},fn:e.program(63,s,0),inverse:e.program(15,s,0),data:s}))?l:""},63:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                        "+(null!=(l=(t.insertAdUnit||n&&n.insertAdUnit||r).call(i,(t.parseEmbeddedMedia||n&&n.parseEmbeddedMedia||r).call(i,null!=n?n.text:n,720,{name:"parseEmbeddedMedia",hash:{},data:s}),{name:"insertAdUnit",hash:{storyGroup:null!=n?n.group:n,experience:"reading"},data:s}))?l:"")+"\n"},65:function(e,n,t,a,s){var l;return"                    "+(null!=(l=(t.parseEmbeddedMedia||n&&n.parseEmbeddedMedia||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.text:n,720,{name:"parseEmbeddedMedia",hash:{},data:s}))?l:"")+"\n"},67:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"            <pre>\n                "+(null!=(l=(t.parseEmbeddedMedia||n&&n.parseEmbeddedMedia||r).call(i,null!=n?n.text:n,720,{name:"parseEmbeddedMedia",hash:{},data:s}))?l:"")+"\n            </pre>\n"+(null!=(l=(t.ifequal||n&&n.ifequal||r).call(i,null!=(l=null!=n?n.group:n)?l.id:l,"121343796",{name:"ifequal",hash:{},fn:e.program(68,s,0),inverse:e.program(71,s,0),data:s}))?l:"")},68:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.firstPage:n,{name:"if",hash:{},fn:e.program(69,s,0),inverse:e.noop,data:s}))?l:""},69:function(e,n,t,a,s){var l;return"                    "+(null!=(l=(t.advertisement||n&&n.advertisement||t.helperMissing).call(null!=n?n:e.nullContext||{},{name:"advertisement",hash:{storyGroup:null!=n?n.group:n,lazy:!1,experience:"reading",unit:"outstream_video"},data:s}))?l:"")+"\n"},71:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return null!=(l=t.if.call(i,(t.isTestGroup||n&&n.isTestGroup||t.helperMissing).call(i,"OUTSTREAM_ELIGIBLE",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(72,s,0),inverse:e.noop,data:s}))?l:""},72:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.firstPage:n,{name:"if",hash:{},fn:e.program(73,s,0),inverse:e.noop,data:s}))?l:""},73:function(e,n,t,a,s){var l;return"                        "+(null!=(l=(t.advertisement||n&&n.advertisement||t.helperMissing).call(null!=n?n:e.nullContext||{},{name:"advertisement",hash:{storyGroup:null!=n?n.group:n,lazy:!1,experience:"reading",unit:"outstream_video"},data:s}))?l:"")+"\n"},75:function(e,n,t,a,s){var l;return null!=(l=t.unless.call(null!=n?n:e.nullContext||{},null!=n?n.firstPage:n,{name:"unless",hash:{},fn:e.program(76,s,0),inverse:e.noop,data:s}))?l:""},76:function(e,n,t,a,s){return" sticky-ad-container"},78:function(e,n,t,a,s){var l;return(null!=(l=e.invokePartial(a["core.story_reading.part_similar"],n,{name:"core.story_reading.part_similar",data:s,indent:"            ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"\n"},80:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return null!=(l=t.unless.call(i,(t.isTestGroup||n&&n.isTestGroup||t.helperMissing).call(i,"STICKY_AD_ROLLOUT",{name:"isTestGroup",hash:{},data:s}),{name:"unless",hash:{},fn:e.program(81,s,0),inverse:e.noop,data:s}))?l:""},81:function(e,n,t,a,s){var l,i,r,o="";return i=null!=(i=t.isLoggedIn||(null!=n?n.isLoggedIn:n))?i:t.helperMissing,r={name:"isLoggedIn",hash:{},fn:e.program(82,s,0),inverse:e.program(84,s,0),data:s},l="function"==typeof i?i.call(null!=n?n:e.nullContext||{},r):i,t.isLoggedIn||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(o+=l),o},82:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                    "+(null!=(l=(t.advertisement||n&&n.advertisement||r).call(i,{name:"advertisement",hash:{adTextClass:"panel-title hidden-md hidden-lg",adText:(t.ternary||n&&n.ternary||r).call(i,null!=n?n.lastPage:n,"",(t.trans||n&&n.trans||r).call(i,"Story continues below",{name:"trans",hash:{},data:s}),{name:"ternary",hash:{},data:s}),storyGroup:null!=n?n.group:n,lazy:!0,tryHb:!0,adzerk:!0,experience:"reading",parentClass:"reading-widget col-xs-12",unit:"readinglong_mid"},data:s}))?l:"")+"\n"},84:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                    "+(null!=(l=(t.advertisement||n&&n.advertisement||r).call(i,{name:"advertisement",hash:{adTextClass:"panel-title hidden-md hidden-lg",adText:(t.ternary||n&&n.ternary||r).call(i,null!=n?n.lastPage:n,"",(t.trans||n&&n.trans||r).call(i,"Story continues below",{name:"trans",hash:{},data:s}),{name:"ternary",hash:{},data:s}),storyGroup:null!=n?n.group:n,lazy:!0,tryHb:!0,adzerk:!0,experience:"reading",parentClass:"reading-widget col-xs-12",unit:"readinglong_mid_loggedout"},data:s}))?l:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return"\n"+(null!=(l=(t.isDevice||n&&n.isDevice||t.helperMissing).call(null!=n?n:e.nullContext||{},"mobile",{name:"isDevice",hash:{},fn:e.program(1,s,0),inverse:e.program(54,s,0),data:s}))?l:"")},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"      "+(null!=(l=(t.advertisement||n&&n.advertisement||r).call(i,{name:"advertisement",hash:{adTextClass:"panel-title hidden-md hidden-lg",adText:(t.ternary||n&&n.ternary||r).call(i,null!=n?n.isMicroPart:n,"",(t.trans||n&&n.trans||r).call(i,"Story continues below",{name:"trans",hash:{},data:s}),{name:"ternary",hash:{},data:s}),storyGroup:null!=n?n.group:n,lazy:!0,tryHb:!0,adzerk:!0,experience:"reading",parentClass:"reading-widget col-xs-12",unit:(t.ternary||n&&n.ternary||r).call(i,null!=n?n.isMicroPart:n,"readingshort_top","readinglong_top",{name:"ternary",hash:{},data:s})},data:s}))?l:"")+"\n"},3:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"    "+(null!=(l=(t.advertisement||n&&n.advertisement||r).call(i,{name:"advertisement",hash:{tryHb:!0,adTextClass:"panel-title hidden-md hidden-lg",adText:(t.ternary||n&&n.ternary||r).call(i,null!=n?n.isMicroPart:n,"",(t.trans||n&&n.trans||r).call(i,"Story continues below",{name:"trans",hash:{},data:s}),{name:"ternary",hash:{},data:s}),storyGroup:null!=n?n.group:n,lazy:!0,adzerk:!0,experience:"reading",parentClass:"reading-widget col-xs-12",unit:(t.ternary||n&&n.ternary||r).call(i,null!=n?n.isMicroPart:n,"readingshort_top_loggedout","readinglong_top_loggedout",{name:"ternary",hash:{},data:s})},data:s}))?l:"")+"\n"},5:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'    <div class="reading-widget hidden-xxs col-xs-12 col-sm-12 col-md-12 col-lg-12 hidden promoted-stories-container">\n      <h4 class="panel-title">'+r((t.trans||n&&n.trans||i).call(l,"Promoted stories",{name:"trans",hash:{},data:s}))+'</h4>\n      <div id="similar-stories" class="promoted-stories"></div>\n    </div>\n    <div class="reading-widget hidden-xxs col-xs-12 col-sm-12 col-md-12 col-lg-12 hidden similar-stories-container">\n      <h4 class="panel-title">'+r((t.trans||n&&n.trans||i).call(l,"You'll also like",{name:"trans",hash:{},data:s}))+'</h4>\n      <div id="similar-stories" class="similar-stories"></div>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'\n<div class="row">\n'+(null!=(l=t.unless.call(i,null!=n?n.anonymousUser:n,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.anonymousUser:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"\n\n"+(null!=(l=t.unless.call(i,null!=n?n.isMicroPart:n,{name:"unless",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+"</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return"<div class='col-xs-12 col-sm-10 col-sm-offset-1 col-md-7 col-md-offset-1 col-lg-6 col-lg-offset-3'>\n  <header class='panel panel-reading'>\n    <h3 class=\"part-restart-chapter\">"+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+"</h3>  \n    <a href='"+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+"' class='on-navigate restart-part'>\n      <div class='part-title'>\n        "+c((t.trans||n&&n.trans||o).call(r,"Start from the beginning",{name:"trans",hash:{},data:s}))+" "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-up",12,"wp-neutral-2","up-icon pull-right",{name:"iconify",hash:{},data:s}))?l:"")+"\n      </div>\n    </a>\n  </header>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){return'<div class="discover-module recommended-stories-view"></div>\n'},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return null!=(l=t.unless.call(null!=n?n:e.nullContext||{},null!=n?n.nextPage:n,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:""},2:function(e,n,t,a,s){var l;return'    <a class="on-navigate" href="'+e.escapeExpression((t.formatStoryUrl||n&&n.formatStoryUrl||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.nextPart:n)?l.url:l,{name:"formatStoryUrl",hash:{},data:s}))+'">\n'},4:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'        <a class="on-load-more-page load-more-page next-up grey" href="'+c("function"==typeof(i=null!=(i=t.nextPage||(null!=n?n.nextPage:n))?i:o)?i.call(r,{name:"nextPage",hash:{},data:s}):i)+'">\n            '+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||o).call(r,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{color:"wp-neutral-2"},data:s}))?l:"")+"\n            <span>"+c((t.trans||n&&n.trans||o).call(r,"Load More Pages",{name:"trans",hash:{},data:s}))+"...</span>\n        </a>\n"},6:function(e,n,t,a,s){var l,i=e.escapeExpression,r=null!=n?n:e.nullContext||{},o=t.helperMissing;return'        <a href="'+i(e.lambda(null!=(l=null!=n?n.nextPart:n)?l.url:l,n))+'" class="on-navigate next-part-link">\n          <div class="next-up next-part orange'+(null!=(l=t.if.call(r,null!=n?n.nextPage:n,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")+'">\n            <span>'+i((t.trans||n&&n.trans||o).call(r,"Continue reading next part",{name:"trans",hash:{},data:s}))+"</span>\n            "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-right",16,"wp-neutral-5","next-up-icon",{name:"iconify",hash:{},data:s}))?l:"")+"\n          </div>\n        </a>\n"},7:function(e,n,t,a,s){return" hidden"},9:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'        <div class="next-up next-part orange'+(null!=(l=t.if.call(i,null!=n?n.nextPage:n,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")+'">\n            <div class="next-up-title">\n'+(null!=(l=t.if.call(i,null!=(l=null!=n?n.group:n)?l.completed:l,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.program(12,s,0),data:s}))?l:"")+"                <strong>"+e.escapeExpression(e.lambda(null!=(l=null!=n?n.group:n)?l.title:l,n))+"</strong>\n"+(null!=(l=t.unless.call(i,null!=(l=null!=n?n.group:n)?l.completed:l,{name:"unless",hash:{},fn:e.program(14,s,0),inverse:e.noop,data:s}))?l:"")+"            </div>\n        </div>\n"},10:function(e,n,t,a,s){return"                    <div>"+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Finished Reading",{name:"trans",hash:{},data:s}))+"</div>\n"},12:function(e,n,t,a,s){return"                    <div>"+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"To be Continued...",{name:"trans",hash:{},data:s}))+"</div>\n"},14:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing;return"                    <div>"+e.escapeExpression((t.trans||n&&n.trans||i).call(l,"Last updated: %s",(t.fromNow||n&&n.fromNow||i).call(l,null!=n?n.modifyDate:n,{name:"fromNow",hash:{fuzzyTime:!0},data:s}),{name:"trans",hash:{},data:s}))+"</div>\n"},16:function(e,n,t,a,s){var l;return null!=(l=t.unless.call(null!=n?n:e.nullContext||{},null!=n?n.nextPage:n,{name:"unless",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s}))?l:""},17:function(e,n,t,a,s){return"    </a>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return"\n"+(null!=(l=t.if.call(i,null!=n?n.nextPart:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"<div>\n"+(null!=(l=t.if.call(i,null!=n?n.nextPage:n,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.nextPart:n,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.program(9,s,0),data:s}))?l:"")+"</div>\n"+(null!=(l=t.if.call(i,null!=n?n.nextPart:n,{name:"if",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?l:"")},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'            <div class="supported-marker">\n                '+r((t.connectImage||n&&n.connectImage||i).call(l,"paid-content/supported-stories-badge.svg","Paid Stories Badge",{name:"connectImage",hash:{},data:s}))+"\n                "+r((t.trans||n&&n.trans||i).call(l,"Paid Story",{name:"trans",hash:{},data:s}))+"\n            </div>\n"},3:function(e,n,t,a,s){var l;return null!=(l=(t.greaterThan||n&&n.greaterThan||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.freePartsUntilPaywall:n,-1,{name:"greaterThan",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:""},4:function(e,n,t,a,s){var l;return'                <div class="free-parts-warning">\n'+(null!=(l=(t.ifequal||n&&n.ifequal||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.freePartsUntilPaywall:n,0,{name:"ifequal",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s}))?l:"")+"                </div>\n"},5:function(e,n,t,a,s){return"                        "+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"This is the last free part",{name:"trans",hash:{},data:s}))+"\n"},7:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing;return"                        "+e.escapeExpression((t.sprintf||n&&n.sprintf||i).call(l,(t.ngettext||n&&n.ngettext||i).call(l,"There is %s more free part","There are %s more free parts",null!=n?n.freePartsUntilPaywall:n,{name:"ngettext",hash:{},data:s}),null!=n?n.freePartsUntilPaywall:n,{name:"sprintf",hash:{},data:s}))+"\n"},9:function(e,n,t,a,s){return'<span class="deleted-tag">('+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Deleted",{name:"trans",hash:{},data:s}))+")</span>"},11:function(e,n,t,a,s){return'<span class="draft-tag">('+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Draft",{name:"trans",hash:{},data:s}))+")</span>"},13:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing;return'                  data-toggle="tooltip" data-placement="bottom" title="'+e.escapeExpression((t.sprintf||n&&n.sprintf||i).call(l,(t.ngettext||n&&n.ngettext||i).call(l,"%s Read","%s Reads",(t.format||n&&n.format||i).call(l,null!=n?n.readCount:n,{name:"format",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(t.format||n&&n.format||i).call(l,null!=n?n.readCount:n,{name:"format",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'"\n'},15:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing;return'                  data-toggle="tooltip" data-placement="bottom" title="'+e.escapeExpression((t.sprintf||n&&n.sprintf||i).call(l,(t.ngettext||n&&n.ngettext||i).call(l,"%s Vote","%s Votes",(t.format||n&&n.format||i).call(l,null!=n?n.voteCount:n,{name:"format",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(t.format||n&&n.format||i).call(l,null!=n?n.voteCount:n,{name:"format",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'"\n'},17:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing;return'                  data-toggle="tooltip" data-placement="bottom" title="'+e.escapeExpression((t.sprintf||n&&n.sprintf||i).call(l,(t.ngettext||n&&n.ngettext||i).call(l,"%s Comment","%s Comments",(t.format||n&&n.format||i).call(l,null!=n?n.commentCount:n,{name:"format",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(t.format||n&&n.format||i).call(l,null!=n?n.commentCount:n,{name:"format",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'"\n'},19:function(e,n,t,a,s){return" hidden-lg"},21:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'                <li class="story-extra dedication btn btn-link">\n                    '+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(i,"Dedicated to",{name:"trans",hash:{},data:s}))+"\n"+(null!=(l=t.if.call(i,null!=(l=null!=n?n.dedication:n)?l.url:l,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.program(24,s,0),data:s}))?l:"")+"                </li>\n"},22:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression;return'                        <a href="'+r(i(null!=(l=null!=n?n.dedication:n)?l.url:l,n))+'">'+r(i(null!=(l=null!=n?n.dedication:n)?l.name:l,n))+"</a>\n"},24:function(e,n,t,a,s){var l;return"                        <strong>"+e.escapeExpression(e.lambda(null!=(l=null!=n?n.dedication:n)?l.name:l,n))+"</strong>\n"},26:function(e,n,t,a,s){var l,i,r,o="";return i=null!=(i=t.isLoggedIn||(null!=n?n.isLoggedIn:n))?i:t.helperMissing,r={name:"isLoggedIn",hash:{},fn:e.program(27,s,0),inverse:e.program(29,s,0),data:s},l="function"==typeof i?i.call(null!=n?n:e.nullContext||{},r):i,t.isLoggedIn||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(o+=l),o},27:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"        "+(null!=(l=(t.advertisement||n&&n.advertisement||r).call(i,{name:"advertisement",hash:{tryHb:!0,adzerk:!0,lazy:!0,storyGroup:null!=n?n.group:n,adTextClass:"panel-title",parentClass:"header-advertisement",experience:"reading",unit:(t.ternary||n&&n.ternary||r).call(i,null!=n?n.isMicroPart:n,"readingshort_top_mweb","readinglong_top_mweb",{name:"ternary",hash:{},data:s})},data:s}))?l:"")+"\n"},29:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"        "+(null!=(l=(t.advertisement||n&&n.advertisement||r).call(i,{name:"advertisement",hash:{tryHb:!0,adzerk:!0,lazy:!0,storyGroup:null!=n?n.group:n,adTextClass:"panel-title",parentClass:"header-advertisement",experience:"reading",unit:(t.ternary||n&&n.ternary||r).call(i,null!=n?n.isMicroPart:n,"readingshort_top_loggedout_mweb","readinglong_top_loggedout_mweb",{name:"ternary",hash:{},data:s})},data:s}))?l:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div class="col-sm-12 col-md-7 col-lg-8 col-md-offset-1 col-lg-offset-2">\n    <header class="panel panel-reading text-center">\n'+(null!=(l=t.if.call(r,null!=(l=null!=n?n.group:n)?l.isPaywalled:l,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(r,null!=n?n.isPaidPreview:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"\n        <h2>"+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+"\n            "+(null!=(l=t.if.call(r,null!=n?n.deleted:n,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?l:"")+"\n            "+(null!=(l=t.if.call(r,null!=n?n.draft:n,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s}))?l:"")+'</h2>\n\n        <div class="story-stats">\n            <span class="reads"\n'+(null!=(l=(t.greaterThan||n&&n.greaterThan||o).call(r,null!=n?n.readCount:n,999,{name:"greaterThan",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?l:"")+"                >\n                "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-view",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.count||n&&n.count||o).call(r,null!=n?n.readCount:n,{name:"count",hash:{},data:s}))+'\n            </span>\n\n            <span class="votes"\n'+(null!=(l=(t.greaterThan||n&&n.greaterThan||o).call(r,null!=n?n.voteCount:n,999,{name:"greaterThan",hash:{},fn:e.program(15,s,0),inverse:e.noop,data:s}))?l:"")+"                >\n                "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-vote",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.count||n&&n.count||o).call(r,null!=n?n.voteCount:n,{name:"count",hash:{},data:s}))+'\n            </span>\n\n            <span class="comments on-comments"\n'+(null!=(l=(t.greaterThan||n&&n.greaterThan||o).call(r,null!=n?n.commentCount:n,999,{name:"greaterThan",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s}))?l:"")+"                >\n                "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-comment",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+"\n                <a href='#'>"+c((t.count||n&&n.count||o).call(r,null!=n?n.commentCount:n,{name:"count",hash:{},data:s}))+'</a>\n            </span>\n        </div>\n\n        <div class="author'+(null!=(l=t.unless.call(r,null!=(l=null!=n?n.nextPart:n)?l.isBlocked:l,{name:"unless",hash:{},fn:e.program(19,s,0),inverse:e.noop,data:s}))?l:"")+'">\n            <a class="on-navigate avatar avatar-sm center-block" href="/user/'+c(e.lambda(null!=(l=null!=(l=null!=n?n.group:n)?l.user:l)?l.username:l,n))+'">\n                <img class="on-hover" data-toggle="tooltip" data-placement="right" title="'+c((t.trans||n&&n.trans||o).call(r,"Writer: %s",null!=(l=null!=(l=null!=n?n.group:n)?l.user:l)?l.username:l,{name:"trans",hash:{},data:s}))+'" alt="'+c((t.trans||n&&n.trans||o).call(r,"Writer: %s",null!=(l=null!=(l=null!=n?n.group:n)?l.user:l)?l.username:l,{name:"trans",hash:{},data:s}))+'" src="'+c((t.resizeAvatar||n&&n.resizeAvatar||o).call(r,null!=(l=null!=(l=null!=n?n.group:n)?l.user:l)?l.avatar:l,16,{name:"resizeAvatar",hash:{},data:s}))+'">\n            </a>\n            '+(null!=(l=(t.trans||n&&n.trans||o).call(r,"by <a class='on-navigate' href='/user/%s'>%s</a>",null!=(l=null!=(l=null!=n?n.group:n)?l.user:l)?l.username:l,null!=(l=null!=(l=null!=n?n.group:n)?l.user:l)?l.username:l,{name:"trans",hash:{},data:s}))?l:"")+'</a>\n        </div>\n\n\n        <div class="meta">\n            <ul class="story-extras">\n'+(null!=(l=t.if.call(r,null!=(l=null!=n?n.dedication:n)?l.name:l,{name:"if",hash:{},fn:e.program(21,s,0),inverse:e.noop,data:s}))?l:"")+"            </ul>\n        </div>\n    </header>\n</div>\n"+(null!=(l=(t.isDevice||n&&n.isDevice||o).call(r,"mobile",{name:"isDevice",hash:{},fn:e.program(26,s,0),inverse:e.noop,data:s}))?l:"")},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return'        <div class="paywall-container">\n            '+(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},"StoryPartPaywall",null!=n?n.id:n,{name:"reactComponent",hash:{},data:s}))?l:"")+"\n        </div>\n"},3:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c='    <div class="'+(null!=(l=t.if.call(o,null!=n?n.isDesktop:n,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")+'">\n\n        <div class="row part-content">\n            <div class="col-sm-10 col-sm-offset-1 col-md-7 col-md-offset-1 col-lg-6 col-lg-offset-3 part-col part-navigation">\n'+(null!=(l=t.unless.call(o,null!=(l=null!=n?n.nextPart:n)?l.isBlocked:l,{name:"unless",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?l:"")+'            </div>\n        </div>\n\n        <div class="row part-content">\n            <div class="col-sm-10 col-sm-offset-1 col-md-7 col-md-offset-1 col-lg-6 col-lg-offset-3 part-col">\n'+(null!=(l=e.invokePartial(a["core.story_reading.part_actions"],n,{name:"core.story_reading.part_actions",data:s,indent:"                ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'            </div>\n        </div>\n\n        <div class="row part-content">\n            <div class="col-sm-10 col-sm-offset-1 col-md-7 col-md-offset-1 col-lg-6 col-lg-offset-3 part-col">\n'+(null!=(l=e.invokePartial(a["core.story_reading.part_comments"],n,{name:"core.story_reading.part_comments",data:s,indent:"                ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'            </div>\n            <div class="col-xs-10 col-xs-offset-1 col-sm-10 col-sm-offset-1 col-md-4 col-md-offset-0 col-lg-3 col-lg-offset-0 comments right-rail">\n                <div class="reading-widget comments-ad-unit"></div>\n            </div>\n        </div>\n    </div>\n\n'+(null!=(l=t.if.call(o,null!=n?n.anonymousUser:n,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.program(11,s,0),data:s}))?l:"")+"\n";return i=null!=(i=t.isLoggedIn||(null!=n?n.isLoggedIn:n))?i:t.helperMissing,r={name:"isLoggedIn",hash:{},fn:e.program(13,s,0),inverse:e.program(15,s,0),data:s},l="function"==typeof i?i.call(o,r):i,t.isLoggedIn||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c},4:function(e,n,t,a,s){return"container"},6:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["core.story_reading.part_navigation"],n,{name:"core.story_reading.part_navigation",data:s,indent:"                    ",helpers:t,partials:a,decorators:e.decorators}))?l:""},8:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.isMicroPart:n,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?l:""},9:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'                <div class="hidden container promoted-stories-container similar-stories-footer">\n                    <div class="row">\n                        <div class="discover-rows">\n                            <div id="similar-stories" class="promoted-stories">\n                                <div class="section-heading">'+r((t.trans||n&&n.trans||i).call(l,"Promoted stories",{name:"trans",hash:{},data:s}))+'</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="hidden container similar-stories-container similar-stories-footer">\n                    <div class="row">\n                        <div class="discover-rows">\n                            <div id="similar-stories" class="similar-stories">\n                                <div class="section-heading">'+r((t.trans||n&&n.trans||i).call(l,"You'll also like",{name:"trans",hash:{},data:s}))+"</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n"},11:function(e,n,t,a,s){var l;return'        <div class="part-recommendations-container">\n            <div class="row">\n                <div class="col-xs-10 col-xs-offset-1 col-sm-8 col-sm-offset-2 col-md-11 col-md-offset-1 col-lg-11 col-lg-offset-1 discover-rows">\n                    <div class="collection">\n                        <div class="discover-module promoted-recommended-stories-view hidden"></div>\n                        <div class="colWrap no-promoted-section">\n'+(null!=(l=e.invokePartial(a["core.story_reading.part_recommendations"],n,{name:"core.story_reading.part_recommendations",data:s,indent:"                            ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n"},13:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"        "+(null!=(l=(t.advertisement||n&&n.advertisement||r).call(i,{name:"advertisement",hash:{tryHb:!0,adzerk:!0,storyGroup:null!=n?n.group:n,lazy:!0,experience:"reading",parentClass:"ad-unit",unit:(t.ternary||n&&n.ternary||r).call(i,null!=n?n.isMicroPart:n,"readingshort_bottom","readinglong_bottom",{name:"ternary",hash:{},data:s})},data:s}))?l:"")+"\n"},15:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"        "+(null!=(l=(t.advertisement||n&&n.advertisement||r).call(i,{name:"advertisement",hash:{tryHb:!0,adzerk:!0,storyGroup:null!=n?n.group:n,lazy:!0,experience:"reading",parentClass:"ad-unit",unit:(t.ternary||n&&n.ternary||r).call(i,null!=n?n.isMicroPart:n,"readingshort_bottom_loggedout","readinglong_bottom_loggedout",{name:"ternary",hash:{},data:s})},data:s}))?l:"")+"\n"},17:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c="";return i=null!=(i=t.isLoggedIn||(null!=n?n.isLoggedIn:n))?i:t.helperMissing,r={name:"isLoggedIn",hash:{},fn:e.program(18,s,0),inverse:e.program(20,s,0),data:s},l="function"==typeof i?i.call(o,r):i,t.isLoggedIn||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=t.unless.call(o,null!=(l=null!=n?n.nextPart:n)?l.isBlocked:l,{name:"unless",hash:{},fn:e.program(22,s,0),inverse:e.noop,data:s}))?l:"")+'\n    <div class="container">\n        <div class="row part-content">\n            <div class="col-sm-10 col-sm-offset-1 col-md-7 col-md-offset-1 col-lg-6 col-lg-offset-3">\n'+(null!=(l=e.invokePartial(a["core.story_reading.part_actions"],n,{name:"core.story_reading.part_actions",data:s,indent:"                ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'            </div>\n        </div>\n    </div>\n\n    <div class="container">\n        <div class="row part-content">\n            <div class="col-sm-10 col-sm-offset-1 col-md-7 col-md-offset-1 col-lg-6 col-lg-offset-3">\n'+(null!=(l=e.invokePartial(a["core.story_reading.part_comments"],n,{name:"core.story_reading.part_comments",data:s,indent:"                ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"            </div>\n        </div>\n    </div>\n\n"+(null!=(l=t.if.call(o,null!=n?n.anonymousUser:n,{name:"if",hash:{},fn:e.program(24,s,0),inverse:e.program(26,s,0),data:s}))?l:"")},18:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"        "+(null!=(l=(t.advertisement||n&&n.advertisement||r).call(i,{name:"advertisement",hash:{tryHb:!0,adzerk:!0,storyGroup:null!=n?n.group:n,lazy:!0,experience:"reading",parentClass:"center-block ad-unit",unit:(t.ternary||n&&n.ternary||r).call(i,null!=n?n.isMicroPart:n,"readingshort_bottom_mweb","readinglong_bottom_mweb",{name:"ternary",hash:{},data:s})},data:s}))?l:"")+"\n"},20:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"        "+(null!=(l=(t.advertisement||n&&n.advertisement||r).call(i,{name:"advertisement",hash:{tryHb:!0,adzerk:!0,storyGroup:null!=n?n.group:n,lazy:!0,experience:"reading",parentClass:"center-block ad-unit",unit:(t.ternary||n&&n.ternary||r).call(i,null!=n?n.isMicroPart:n,"readingshort_bottom_loggedout_mweb","readinglong_bottom_loggedout_mweb",{name:"ternary",hash:{},data:s})},data:s}))?l:"")+"\n"},22:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["core.story_reading.part_navigation"],n,{name:"core.story_reading.part_navigation",data:s,indent:"        ",helpers:t,partials:a,decorators:e.decorators}))?l:""},24:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'        <div class="hidden promoted-stories-container">\n            <h4 class="section-heading">'+r((t.trans||n&&n.trans||i).call(l,"Promoted stories",{name:"trans",hash:{},data:s}))+'</h4>\n            <div id="similar-stories" class="promoted-stories"></div>\n        </div>\n        <div class="hidden similar-stories-container">\n            <h4 class="section-heading">'+r((t.trans||n&&n.trans||i).call(l,"You'll also like",{name:"trans",hash:{},data:s}))+'</h4>\n            <div id="similar-stories" class="similar-stories"></div>\n        </div>\n'},26:function(e,n,t,a,s){var l;return'        <div class="part-recommendations-container promoted-recommended-stories container hidden">\n            <div class="row">\n                <div class="col-sm-10 col-sm-offset-1 col-md-12 col-md-offset-0 discover-rows">\n                    <div class="collection">\n                        <div class="discover-module promoted-recommended-stories-view"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="part-recommendations-container container">\n            <div class="row">\n                <div class="col-sm-10 col-sm-offset-1 col-md-12 col-md-offset-0 discover-rows">\n                    <div class="collection">\n'+(null!=(l=e.invokePartial(a["core.story_reading.part_recommendations"],n,{name:"core.story_reading.part_recommendations",data:s,indent:"                        ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"                    </div>\n                </div>\n            </div>\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return"<footer>\n"+(null!=(l=t.if.call(i,null!=(l=null!=n?n.nextPart:n)?l.isBlocked:l,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+(null!=(l=t.if.call(i,null!=n?n.isDesktop:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"\n\n"+(null!=(l=t.if.call(i,null!=n?n.isMobile:n,{name:"if",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s}))?l:"")+"</footer>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["core.story_reading.part_header_new"],n,{name:"core.story_reading.part_header_new",data:s,indent:"                ",helpers:t,partials:a,decorators:e.decorators}))?l:""},3:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["core.story_reading.part_restart"],n,{name:"core.story_reading.part_restart",data:s,indent:"                ",helpers:t,partials:a,decorators:e.decorators}))?l:""},5:function(e,n,t,a,s){var l;return'        <div class="paywall-container">\n            '+(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},"StoryPartPaywall",null!=n?n.id:n,{name:"reactComponent",hash:{},data:s}))?l:"")+"\n        </div>\n"},7:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'        <div class="container" id="'+(null!=(l=t.if.call(i,(t.isTestGroup||n&&n.isTestGroup||t.helperMissing).call(i,"STICKY_AD_ROLLOUT",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?l:"")+'">\n            <div oncontextmenu="return false;" class="row part-content">\n                <div class="col-md-1 col-lg-3 hidden-sm hidden-xs'+(null!=(l=t.if.call(i,null!=(l=null!=n?n.nextPart:n)?l.isBlocked:l,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?l:"")+' left-rail">\n'+(null!=(l=t.if.call(i,null!=n?n.isDesktop:n,{name:"if",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?l:"")+"                </div>\n\n"+(null!=(l=e.invokePartial(a["core.story_reading.part_text_container"],n,{name:"core.story_reading.part_text_container",data:s,indent:"                ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'                <div id="tooltip-container"></div>\n            </div>\n        </div>\n'},8:function(e,n,t,a,s){return"sticky-end"},10:function(e,n,t,a,s){return" hidden"},12:function(e,n,t,a,s){var l;return'                        <div id="sticky-nav">\n'+(null!=(l=e.invokePartial(a["desktop.story_reading.part_author_info"],n,{name:"desktop.story_reading.part_author_info",data:s,indent:"                            ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+(null!=(l=t.unless.call(null!=n?n:e.nullContext||{},null!=n?n.deleted:n,{name:"unless",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?l:"")+"                        </div>\n"},13:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["core.components.share_tools"],n,{name:"core.components.share_tools",data:s,indent:"                                ",helpers:t,partials:a,decorators:e.decorators}))?l:""},15:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["core.story_reading.part_footer_new"],n,{name:"core.story_reading.part_footer_new",data:s,indent:"        ",helpers:t,partials:a,decorators:e.decorators}))?l:""},17:function(e,n,t,a,s){var l;return"    "+(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},"WPModal","modal-reading",{name:"reactComponent",hash:{},data:s}))?l:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<article id="sp'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'"\n         data-part-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'"\n         data-part-url="'+c("function"==typeof(i=null!=(i=t.url||(null!=n?n.url:n))?i:o)?i.call(r,{name:"url",hash:{},data:s}):i)+'"\n         class="story-part">\n    <div id="media-container">\n'+(null!=(l=e.invokePartial(a["core.story_reading.media_banner"],n,{name:"core.story_reading.media_banner",data:s,indent:"        ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'    </div>\n\n    <div class="container">\n        <div class="row part-header">\n'+(null!=(l=t.if.call(r,null!=n?n.firstPage:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+"        </div>\n    </div>\n\n"+(null!=(l=t.if.call(r,null!=n?n.currentPartIsBlocked:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s}))?l:"")+"\n"+(null!=(l=t.unless.call(r,null!=n?n.currentPartIsBlocked:n,{name:"unless",hash:{},fn:e.program(15,s,0),inverse:e.noop,data:s}))?l:"")+"</article>\n\n"+(null!=(l=t.if.call(r,null!=(l=null!=n?n.group:n)?l.isPaywalled:l,{name:"if",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s}))?l:"")},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return'class="container"'},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return'<div id="comments-container" '+(null!=(l=t.unless.call(null!=n?n:e.nullContext||{},null!=n?n.isDesktop:n,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'>\n    <div class="row">\n        <div class="col-sm-12 col-md-12 col-lg-12 col-lg-offset-0">\n            <section id="comments">\n                <div class="comments">\n                </div>\n            </section>\n        </div>\n    </div>\n</div>\n'},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return null!=(l=t.unless.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.group:n)?l.draft:l,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:""},2:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u='\n    <div class="button-group">\n        <button class="btn btn-text dropdown-toggle btn-story-lists" data-story-id="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.group:n)?l.id:l,n))+'">\n            '+(null!=(l=(t.iconify||n&&n.iconify||c).call(o,"fa-plus",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n            <span class="btn-library-text">'+(null!=(l=(t.trans||n&&n.trans||c).call(o,"Add",{name:"trans",hash:{},data:s}))?l:"")+"</span>\n        </button>\n";return i=null!=(i=t.group||(null!=n?n.group:n))?i:c,r={name:"group",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(o,r):i,t.group||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(u+=l),u+"    </div>\n    "},3:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["core.components.add_to_library_dropdown"],n,{name:"core.components.add_to_library_dropdown",data:s,indent:"            ",helpers:t,partials:a,decorators:e.decorators}))?l:""},5:function(e,n,t,a,s){var l;return null!=(l=t.unless.call(null!=n?n:e.nullContext||{},null!=n?n.draft:n,{name:"unless",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?l:""},6:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing;return'\n    <div class="button-group">\n        <button class="btn btn-text on-vote footer-vote" data-story-id="'+e.escapeExpression("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'">\n'+(null!=(l=t.if.call(r,null!=n?n.voted:n,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.program(9,s,0),data:s}))?l:"")+'        </button>\n    </div>\n    </div>\n\n    <div class="share-tools scrolling">\n'+(null!=(l=t.each.call(r,null!=n?n.socialShareVisible:n,{name:"each",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s}))?l:"")+'\n        <div class="button-group relative inline-block more">\n            <button class="btn btn-no-background dropdown-toggle btn-left-align" data-toggle="dropdown">\n                '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-more",18,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n            </button>\n            <div class="triangle"></div>\n            <ul class="dropdown-menu align-right">\n'+(null!=(l=t.each.call(r,null!=n?n.socialShareHidden:n,{name:"each",hash:{},fn:e.program(14,s,0),inverse:e.noop,data:s}))?l:"")+"            </ul>\n        </div>\n    </div>\n"},7:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-vote",16,"wp-base-1",{name:"iconify",hash:{},data:s}))?l:"")+'\n                <span class="vote-text">'+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Voted",{name:"trans",hash:{},data:s}))+"</span>\n"},9:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"                "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-vote",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n                <span class="vote-text">'+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Vote",{name:"trans",hash:{},data:s}))+"</span>\n"},11:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'            <a data-gtm-action="share:'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+'" class="share-'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+(null!=(l=t.unless.call(r,null!=n?n.nopopup:n,{name:"unless",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?l:"")+'" '+c("function"==typeof(i=null!=(i=t.socialSharingAttributes||(null!=n?n.socialSharingAttributes:n))?i:o)?i.call(r,{name:"socialSharingAttributes",hash:{},data:s}):i)+">\n                "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,null!=n?n.icon:n,18,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+"\n            </a>\n"},12:function(e,n,t,a,s){return' social-share" target="_blank'},14:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'                    <li>\n                        <a data-gtm-action="share:'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+'" rel="nofollow" class="share-'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+(null!=(l=t.unless.call(r,null!=n?n.nopopup:n,{name:"unless",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?l:"")+'" '+c("function"==typeof(i=null!=(i=t.socialSharingAttributes||(null!=n?n.socialSharingAttributes:n))?i:o)?i.call(r,{name:"socialSharingAttributes",hash:{},data:s}):i)+">\n                            "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,null!=n?n.icon:n,20,"wp-neutral-2","pull-left",{name:"iconify",hash:{},data:s}))?l:"")+" "+c("function"==typeof(i=null!=(i=t.label||(null!=n?n.label:n))?i:o)?i.call(r,{name:"label",hash:{},data:s}):i)+"\n                        </a>\n                    </li>\n"},16:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression,c=e.lambda;return'    <a href="'+o((t.addProtocolToUrl||n&&n.addProtocolToUrl||r).call(i,null!=(l=null!=n?n.source:n)?l.url:l,{name:"addProtocolToUrl",hash:{},data:s}))+'" class="btn btn-text btn-md" target="_blank" title="'+o(c(null!=(l=null!=n?n.source:n)?l.label:l,n))+'">\n        '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-link",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o(c(null!=(l=null!=n?n.source:n)?l.label:l,n))+"\n    </a>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'<div id="part-footer-actions" class="actions" role="menu">\n\n    <div class="footer-actions">\n    '+(null!=(l=t.unless.call(i,null!=(l=null!=n?n.group:n)?l.deleted:l,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"\n\n    "+(null!=(l=t.unless.call(i,null!=n?n.deleted:n,{name:"unless",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+"\n\n"+(null!=(l=t.if.call(i,null!=(l=null!=n?n.source:n)?l.url:l,{name:"if",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?l:"")+"\n</div>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return" hide-marker"},3:function(e,n,t,a,s){return"    "+e.escapeExpression((t.count||n&&n.count||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.commentCount:n,{name:"count",hash:{},data:s}))+"\n"},5:function(e,n,t,a,s){return"    +\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'<span class="comment-marker'+(null!=(l=t.unless.call(i,null!=n?n.commentCount:n,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+' on-inline-comments-modal">\n  <span class="num-comment">\n'+(null!=(l=t.if.call(i,null!=n?n.commentCount:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?l:"")+"  </span>\n  "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(i,"fa-comment-count",28,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+"\n</span>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<div class="share-tools vertical hidden-xs hidden-sm">\n    <div class="title">'+o((t.trans||n&&n.trans||r).call(i,"Share",{name:"trans",hash:{},data:s}))+"</div>\n"+(null!=(l=t.each.call(i,null!=n?n.socialShareVisible:n,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+'\n    <div class="button-group relative inline-block dropup">\n        <button class="btn btn-no-background dropdown-toggle btn-left-align" data-toggle="dropdown">\n            '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-more",24,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n        </button>\n        <div class="triangle"></div>\n        <ul class="dropdown-menu">\n'+(null!=(l=t.each.call(i,null!=n?n.socialShareHidden:n,{name:"each",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+'        </ul>\n    </div>\n</div>\n<div class="share-tools horizontal scrolling hidden-xs hidden-sm">\n    <div class="title">'+o((t.trans||n&&n.trans||r).call(i,"Send",{name:"trans",hash:{},data:s}))+'</div>\n    <div class="send-to-friend">\n        <input type="text" class="form-control send-input" id="exampleInputAmount" placeholder="email or mobile #">\n        <button class="btn btn-block btn-teal on-send" type="button" disabled>Send to Friend</button>\n    </div>\n\n    <div class="title">'+o((t.trans||n&&n.trans||r).call(i,"Share",{name:"trans",hash:{},data:s}))+"</div>\n"+(null!=(l=t.each.call(i,null!=n?n.socialShareVisible:n,{name:"each",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")+'\n    <div class="button-group relative inline-block">\n        <button class="btn btn-no-background dropdown-toggle btn-left-align" data-toggle="dropdown">\n            '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-more",24,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n        </button>\n        <div class="triangle"></div>\n        <ul class="dropdown-menu">\n'+(null!=(l=t.each.call(i,null!=n?n.socialShareHidden:n,{name:"each",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?l:"")+"        </ul>\n    </div>\n</div>\n"},2:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'    <a data-gtm-action="share:'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+'" class="share-'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+(null!=(l=t.unless.call(r,null!=n?n.nopopup:n,{name:"unless",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+'" '+c("function"==typeof(i=null!=(i=t.socialSharingAttributes||(null!=n?n.socialSharingAttributes:n))?i:o)?i.call(r,{name:"socialSharingAttributes",hash:{},data:s}):i)+">\n        "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,null!=n?n.icon:n,24,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+"\n    </a>\n"},3:function(e,n,t,a,s){return' social-share" target="_blank'},5:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'            <li>\n                <a data-gtm-action="share:'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+'" rel="nofollow" class="share-'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+(null!=(l=t.unless.call(r,null!=n?n.nopopup:n,{name:"unless",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+'" '+c("function"==typeof(i=null!=(i=t.socialSharingAttributes||(null!=n?n.socialSharingAttributes:n))?i:o)?i.call(r,{name:"socialSharingAttributes",hash:{},data:s}):i)+">\n                    "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,null!=n?n.icon:n,20,"wp-neutral-2","pull-left",{name:"iconify",hash:{},data:s}))?l:"")+" "+c("function"==typeof(i=null!=(i=t.label||(null!=n?n.label:n))?i:o)?i.call(r,{name:"label",hash:{},data:s}):i)+"\n                </a>\n            </li>\n"},7:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'        <a data-gtm-action="share:'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+'" class="share-'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+(null!=(l=t.unless.call(r,null!=n?n.nopopup:n,{name:"unless",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+'" '+c("function"==typeof(i=null!=(i=t.socialSharingAttributes||(null!=n?n.socialSharingAttributes:n))?i:o)?i.call(r,{name:"socialSharingAttributes",hash:{},data:s}):i)+">\n            "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,null!=n?n.icon:n,24,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+"\n        </a>\n"},9:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'                <li>\n                    <a data-gtm-action="share:'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+'" rel="nofollow" class="share-'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+(null!=(l=t.unless.call(r,null!=n?n.nopopup:n,{name:"unless",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+'" '+c("function"==typeof(i=null!=(i=t.socialSharingAttributes||(null!=n?n.socialSharingAttributes:n))?i:o)?i.call(r,{name:"socialSharingAttributes",hash:{},data:s}):i)+">\n                        "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,null!=n?n.icon:n,20,"wp-neutral-2","pull-left",{name:"iconify",hash:{},data:s}))?l:"")+" "+c("function"==typeof(i=null!=(i=t.label||(null!=n?n.label:n))?i:o)?i.call(r,{name:"label",hash:{},data:s}):i)+"\n                    </a>\n                </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.unless.call(null!=n?n:e.nullContext||{},null!=n?n.draft:n,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=e.escapeExpression,r=null!=n?n:e.nullContext||{},o=t.helperMissing;return'        <button class="btn btn-fan btn-white" data-target="'+i(e.lambda(null!=(l=null!=(l=null!=n?n.group:n)?l.user:l)?l.username:l,n))+'">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-follow",16,"wp-base-2",{name:"iconify",hash:{},data:s}))?l:"")+' <span class="follow-text">'+i((t.trans||n&&n.trans||o).call(r,"Follow",{name:"trans",hash:{},data:s}))+"</span></button>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=e.lambda,r=e.escapeExpression,o=null!=n?n:e.nullContext||{},c=t.helperMissing;return'<div class="author-info center-text hidden-sm hidden-md">\n    <div class="avatar avatar-lg center-block">\n        <a class="on-navigate" href="/user/'+r(i(null!=(l=null!=(l=null!=n?n.group:n)?l.user:l)?l.username:l,n))+'">\n            <img src="'+r((t.resizeAvatar||n&&n.resizeAvatar||c).call(o,null!=(l=null!=(l=null!=n?n.group:n)?l.user:l)?l.avatar:l,128,{name:"resizeAvatar",hash:{},data:s}))+'">\n        </a>\n    </div>\n    <div class="info">\n        <a class="on-navigate" href="/user/'+r(i(null!=(l=null!=(l=null!=n?n.group:n)?l.user:l)?l.username:l,n))+'">\n            <span class="center-block">'+(null!=(l=(t.trans||n&&n.trans||c).call(o,"by <strong>%s</strong>",null!=(l=null!=(l=null!=n?n.group:n)?l.user:l)?l.username:l,{name:"trans",hash:{},data:s}))?l:"")+"</span>\n        </a>\n"+(null!=(l=(t.isCurrentUser||n&&n.isCurrentUser||c).call(o,null!=(l=null!=(l=null!=n?n.group:n)?l.user:l)?l.username:l,{name:"isCurrentUser",hash:{},fn:e.noop,inverse:e.program(1,s,0),data:s}))?l:"")+"    </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'            <a data-gtm-action="share:'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+'" class="share-'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+(null!=(l=t.unless.call(r,null!=n?n.nopopup:n,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+'" '+c("function"==typeof(i=null!=(i=t.socialSharingAttributes||(null!=n?n.socialSharingAttributes:n))?i:o)?i.call(r,{name:"socialSharingAttributes",hash:{},data:s}):i)+">\n                "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,null!=n?n.icon:n,12,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+"\n            </a>\n"},2:function(e,n,t,a,s){return' social-share" target="_blank'},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'<div id="funbar-container">\n    <div id="funbar">\n'+(null!=(l=e.invokePartial(a["core.story_reading.funbar"],n,{name:"core.story_reading.funbar",data:s,indent:"      ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'    </div>\n</div>\n\n<main id="parts-container-new">\n'+(null!=(l=e.invokePartial(a["core.story_reading.part_container_new"],n,{name:"core.story_reading.part_container_new",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'    <div class="image-options-container hide">\n        <span class="icon-container">'+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(i,"fa-flag",12,"wp-neutral-3 on-report-image",{name:"iconify",hash:{},data:s}))?l:"")+'</span>       \n        <div class="social-icons-container" id="media-share">\n'+(null!=(l=t.each.call(i,null!=n?n.mediaShare:n,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'        </div>\n    </div>\n</main>\n<div id="bottom-banner-container">\n'+(null!=(l=e.invokePartial(a["core.shared.bottom_banner"],n,{name:"core.shared.bottom_banner",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'</div>\n\n<div id="post-publish-modal"></div>\n<div id="inline-comments-modal"></div>\n'},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return'    <button type="button" class="btn btn-link btn-teal on-copy">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Copy Embed Code",{name:"trans",hash:{},data:s}))+"</button>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<button type="button" class="btn btn-link pull-right close" data-dismiss="modal">\n    <span aria-hidden="true" class="fa fa-remove"></span><span class="sr-only">'+c((t.trans||n&&n.trans||o).call(r,"Close",{name:"trans",hash:{},data:s}))+'</span>\n</button>\n<div id="quote-embed-modal">\n    <h4>'+c((t.trans||n&&n.trans||o).call(r,"Embed Preview",{name:"trans",hash:{},data:s}))+'</h4>\n    <iframe id="quote-embed-iframe" src="https://embed.wattpad.com/quote/'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+"?quote_text="+c((t.urlEncode||n&&n.urlEncode||o).call(r,null!=n?n.quoteText:n,{name:"urlEncode",hash:{},data:s}))+'"\n            frameborder="0" allowfullscreen=""></iframe>\n    <div class="on-select embed-code">\n      <span id="embed-url">\n          &lt;iframe width="500" height="280" frameborder="0" allowfullscreen=""\n          src="https://embed.wattpad.com/quote/'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+"?quote_text="+c((t.urlEncode||n&&n.urlEncode||o).call(r,null!=n?n.quoteText:n,{name:"urlEncode",hash:{},data:s}))+'"\n          &gt;&lt;/iframe&gt;\n      </span>\n    </div>\n'+(null!=(l=t.if.call(r,null!=n?n.copyExec:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'      <span class="btn btn-default on-open-embed" role="button" href="#">\n        '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-code",16,"wp-readinggrey",{name:"iconify",hash:{},data:s}))?l:"")+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Embed",{name:"trans",hash:{},data:s}))+"\n      </span>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<div class="highlight-tooltip">\n  <div class="highlight-options arrow_box">\n'+(null!=(l=t.if.call(i,null!=n?n.embedQuote:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'\n    <span class="btn btn-default on-facebook-share" role="button" href="#">\n      <div class="facebook-quote-icon">\n        '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-facebook",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+"\n      </div>\n      "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Share",{name:"trans",hash:{},data:s}))+"\n    </span>\n  </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u=e.escapeExpression,d='\n<header class="panel-heading">\n    <h4 class="text-light all-caps" id="header-left">'+u((t.sprintf||n&&n.sprintf||c).call(o,(t.ngettext||n&&n.ngettext||c).call(o,"%s Story","%s Stories",null!=n?n.numStories:n,{name:"ngettext",hash:{},data:s}),(t.count||n&&n.count||c).call(o,null!=n?n.numStories:n,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+" "+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||c).call(o,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{className:"hidden searching"},data:s}))?l:"")+'</h4>\n    <div class="button-group relative inline-block">\n        <button class="btn btn-text '+(null!=(l=t.if.call(o,null!=n?n.isMobile:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(4,s,0),data:s}))?l:"")+'">\n            '+u((t.trans||n&&n.trans||c).call(o,"Filters",{name:"trans",hash:{},data:s}))+" "+(null!=(l=t.unless.call(o,null!=n?n.isMobile:n,{name:"unless",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?l:"")+"</span>\n        </button>\n"+(null!=(l=t.unless.call(o,null!=n?n.isMobile:n,{name:"unless",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?l:"")+'    </div>\n</header>\n<ul class="list-group">\n'+(null!=(l=t.each.call(o,null!=n?n.stories:n,{name:"each",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?l:"")+'</ul>\n<footer class="panel-footer light';return i=null!=(i=t.showMore||(null!=n?n.showMore:n))?i:c,r={name:"showMore",hash:{},fn:e.noop,inverse:e.program(15,s,0),data:s},l="function"==typeof i?i.call(o,r):i,t.showMore||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(d+=l),d+'">\n    <button class="btn btn-block btn-grey on-showmore">\n        <span class="show-more-message">\n            <span>'+u((t.trans||n&&n.trans||c).call(o,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n            <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n        </span>\n        <span class='loading-message hidden'>\n            "+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||c).call(o,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?l:"")+"\n            <span> "+u((t.trans||n&&n.trans||c).call(o,"Loading",{name:"trans",hash:{},data:s}))+" ...</span>\n        </span>\n    </button>\n</footer>\n\n"+(null!=(l=t.if.call(o,null!=n?n.isMobile:n,{name:"if",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s}))?l:"")+"\n"},2:function(e,n,t,a,s){return"on-show-filter-modal"},4:function(e,n,t,a,s){return'dropdown-toggle" data-toggle="dropdown'},6:function(e,n,t,a,s){return'&nbsp;<span class="caret">'},8:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'            <div class="triangle"></div>\n            <ul class="dropdown-menu dropdown-menu-right">\n                <li>\n                  <h4>'+o((t.trans||n&&n.trans||r).call(i,"Last Updated",{name:"trans",hash:{},data:s}))+'</h4>\n                  <select id="last-updated-filters">\n                    '+(null!=(l=(t.select||n&&n.select||r).call(i,"any",(t.trans||n&&n.trans||r).call(i,"Anytime",{name:"trans",hash:{},data:s}),null!=n?n.age:n,{name:"select",hash:{},data:s}))?l:"")+"\n                    "+(null!=(l=(t.select||n&&n.select||r).call(i,"24",(t.trans||n&&n.trans||r).call(i,"Today",{name:"trans",hash:{},data:s}),null!=n?n.age:n,{name:"select",hash:{},data:s}))?l:"")+"\n                    "+(null!=(l=(t.select||n&&n.select||r).call(i,"168",(t.trans||n&&n.trans||r).call(i,"This Week",{name:"trans",hash:{},data:s}),null!=n?n.age:n,{name:"select",hash:{},data:s}))?l:"")+"\n                    "+(null!=(l=(t.select||n&&n.select||r).call(i,"720",(t.trans||n&&n.trans||r).call(i,"This Month",{name:"trans",hash:{},data:s}),null!=n?n.age:n,{name:"select",hash:{},data:s}))?l:"")+"\n                    "+(null!=(l=(t.select||n&&n.select||r).call(i,"8760",(t.trans||n&&n.trans||r).call(i,"This Year",{name:"trans",hash:{},data:s}),null!=n?n.age:n,{name:"select",hash:{},data:s}))?l:"")+"\n                  </select>\n                </li>\n                <li>\n                  <h4>"+o((t.trans||n&&n.trans||r).call(i,"Length",{name:"trans",hash:{},data:s}))+'</h4>\n                  <select id="content-length-filters">\n                    '+(null!=(l=(t.select||n&&n.select||r).call(i,"any",(t.trans||n&&n.trans||r).call(i,"Any Length",{name:"trans",hash:{},data:s}),null!=n?n.length:n,{name:"select",hash:{},data:s}))?l:"")+"\n                    "+(null!=(l=(t.select||n&&n.select||r).call(i,"1-10",(t.trans||n&&n.trans||r).call(i,"1 - 10 Parts",{name:"trans",hash:{},data:s}),null!=n?n.length:n,{name:"select",hash:{},data:s}))?l:"")+"\n                    "+(null!=(l=(t.select||n&&n.select||r).call(i,"10-20",(t.trans||n&&n.trans||r).call(i,"10 - 20 Parts",{name:"trans",hash:{},data:s}),null!=n?n.length:n,{name:"select",hash:{},data:s}))?l:"")+"\n                    "+(null!=(l=(t.select||n&&n.select||r).call(i,"20-50",(t.trans||n&&n.trans||r).call(i,"20 - 50 Parts",{name:"trans",hash:{},data:s}),null!=n?n.length:n,{name:"select",hash:{},data:s}))?l:"")+"\n                    "+(null!=(l=(t.select||n&&n.select||r).call(i,">50",(t.trans||n&&n.trans||r).call(i,"> 50 Parts",{name:"trans",hash:{},data:s}),null!=n?n.length:n,{name:"select",hash:{},data:s}))?l:"")+"\n                  </select>\n                </li>\n                <li>\n                    <h4>"+o((t.trans||n&&n.trans||r).call(i,"Content",{name:"trans",hash:{},data:s}))+'</h4>\n                    <a href="#" role="button" class="on-setfilter search-filter'+(null!=(l=t.blockHelperMissing.call(n,e.lambda(null!=(l=null!=(l=null!=n?n.stories:n)?l.filters:l)?l.complete:l,n),{name:"stories.filters.complete",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?l:"")+'" data-filter="complete" >'+o((t.trans||n&&n.trans||r).call(i,"Only show completed",{name:"trans",hash:{},data:s}))+" "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-circle-empty",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-circle-filled",14,"wp-base-2",{name:"iconify",hash:{},data:s}))?l:"")+"</a>\n                </li>\n"+(null!=(l=t.if.call(i,null!=n?n.isMature:n,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s}))?l:"")+"            </ul>\n"},9:function(e,n,t,a,s){return" active"},11:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'                <li>\n                    <a href="#" role="button" class="on-setfilter search-filter'+(null!=(l=t.blockHelperMissing.call(n,e.lambda(null!=(l=null!=(l=null!=n?n.stories:n)?l.filters:l)?l.mature:l,n),{name:"stories.filters.mature",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?l:"")+'" data-filter="mature">'+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Include mature",{name:"trans",hash:{},data:s}))+" "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-circle-empty",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-circle-filled",14,"wp-base-2",{name:"iconify",hash:{},data:s}))?l:"")+"</a>\n                </li>\n"},13:function(e,n,t,a,s){var l;return'    <li class="list-group-item">\n'+(null!=(l=e.invokePartial(a["core.search.partials.results_story_item"],n,{name:"core.search.partials.results_story_item",data:s,indent:"        ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"    </li>\n"},15:function(e,n,t,a,s){return" hidden"},17:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["core.components.search_filter_modal"],n,{name:"core.components.search_filter_modal",data:s,indent:"  ",helpers:t,partials:a,decorators:e.decorators}))?l:""},19:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.isMobile:n,{name:"if",hash:{},fn:e.program(20,s,0),inverse:e.noop,data:s}))?l:""},20:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'  <header class="panel-heading">\n    <h4 class="text-light all-caps">\n      '+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"No results found",{name:"trans",hash:{},data:s}))+"\n      "+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||r).call(i,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{className:"hidden searching"},data:s}))?l:"")+"\n    </h4>\n  </header>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.numStories:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(19,s,0),data:s}))?l:"")+"\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return'        <div class="paid-indicator">\n            '+e.escapeExpression((t.connectImage||n&&n.connectImage||t.helperMissing).call(null!=n?n:e.nullContext||{},"paid-content/supported-stories-badge.svg","Paid Stories Badge",{name:"connectImage",hash:{width:"18",height:"18"},data:s}))+"\n            <span>Paid Story</span>\n          </div>\n"},3:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'        <ul class="story-details">\n          <li>'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.user:n)?l.name:l,n))+"</li>\n          "+(null!=(l=t.if.call(i,null!=n?n.category:n,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")+'\n        </ul>\n        <div class="promotion-description">\n          '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-badge-promoted",11,"wp-base-1",{name:"iconify",hash:{},data:s}))?l:"")+"\n          "+(null!=(l=(t.trans||n&&n.trans||r).call(i,"Promoted by %s",(t.sprintf||n&&n.sprintf||r).call(i,"<b>%s</b>",null!=n?n.sponsorName:n,{name:"sprintf",hash:{},data:s}),{name:"trans",hash:{},data:s}))?l:"")+"\n        </div>\n"+(null!=(l=t.if.call(i,null!=n?n.contest:n,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?l:"")},4:function(e,n,t,a,s){var l;return"<li>"+e.escapeExpression("function"==typeof(l=null!=(l=t.category||(null!=n?n.category:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"category",hash:{},data:s}):l)+"</li>"},6:function(e,n,t,a,s){var l;return'          <div class="contest-status">\n            <span class="label label-info"> '+e.escapeExpression(e.lambda(null!=(l=null!=n?n.contest:n)?l.ctaLabel:l,n))+" </span>\n"+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=(l=null!=n?n.contest:n)?l.endDate:l,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")+"          </div>\n"},7:function(e,n,t,a,s){var l;return'              <span class="contest-end-date">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Ends %s",null!=(l=null!=n?n.contest:n)?l.endDate:l,{name:"trans",hash:{},data:s}))+"</span>\n"},9:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'        <div class="meta">\n          '+(null!=(l=t.if.call(i,null!=n?n.readCount:n,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?l:"")+"\n          "+(null!=(l=t.if.call(i,null!=n?n.voteCount:n,{name:"if",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?l:"")+"\n        </div>\n"},10:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<small class="reads">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-view",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.count||n&&n.count||r).call(i,null!=n?n.readCount:n,{name:"count",hash:{},data:s}))+"</small>"},12:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<small class="votes">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-vote",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.count||n&&n.count||r).call(i,null!=n?n.voteCount:n,{name:"count",hash:{},data:s}))+"</small>"},14:function(e,n,t,a,s){return'<span class="label label-info">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Completed",{name:"trans",hash:{},data:s}))+"</span>&nbsp;&nbsp;"},16:function(e,n,t,a,s){return'<span class="label label-danger">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Mature",{name:"trans",hash:{},data:s}))+"</span>"},18:function(e,n,t,a,s){var l;return"      "+(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(null!=n?n:e.nullContext||{},"TagMeta",null!=n?n.reactName:n,{name:"reactComponent",hash:{},data:s}))?l:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div class="results-story-item">\n  <a class="on-result" href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'" data-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'">\n    <div class="cover cover-xs pull-left">\n      <img src="'+c((t.resizeCover||n&&n.resizeCover||o).call(r,null!=n?n.cover:n,80,{name:"resizeCover",hash:{},data:s}))+'" alt="'+c((t.trans||n&&n.trans||o).call(r,"%1$s by %2$s",null!=n?n.title:n,null!=(l=null!=n?n.user:n)?l.name:l,{name:"trans",hash:{},data:s}))+'">\n    </div>\n\n    <div class="content">\n'+(null!=(l=t.if.call(r,null!=n?n.isPaywalled:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'      <h5 class="story-title-heading">'+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+"</h5>\n"+(null!=(l=t.if.call(r,null!=n?n.promoted:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(9,s,0),data:s}))?l:"")+"\n      <p>"+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||o).call(r,null!=n?n.description:n,160,!1,{name:"simpleShorten",hash:{},data:s}))?l:"")+'</p>\n    </div>\n  </a>\n  <div class="bottom-content clearfix">\n    <div class="story-status">\n      '+(null!=(l=t.if.call(r,null!=n?n.completed:n,{name:"if",hash:{},fn:e.program(14,s,0),inverse:e.noop,data:s}))?l:"")+"\n      "+(null!=(l=t.if.call(r,null!=n?n.mature:n,{name:"if",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?l:"")+"\n    </div>\n\n"+(null!=(l=t.if.call(r,null!=n?n.tagMeta:n,{name:"if",hash:{},fn:e.program(18,s,0),inverse:e.noop,data:s}))?l:"")+"  </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'  <header class="panel-heading">\n    <h4 class="text-light all-caps">\n'+(null!=(l=t.if.call(i,null!=n?n.showTotal:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(4,s,0),data:s}))?l:"")+"\n      "+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||t.helperMissing).call(i,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{className:"hidden searching"},data:s}))?l:"")+'\n    </h4>\n  </header>\n  <ul class="list-group">\n'+(null!=(l=t.each.call(i,null!=n?n.users:n,{name:"each",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?l:"")+"  </ul>\n\n"+(null!=(l=t.if.call(i,null!=n?n.isMobile:n,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?l:"")+"\n"},2:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing;return"        "+e.escapeExpression((t.sprintf||n&&n.sprintf||i).call(l,(t.ngettext||n&&n.ngettext||i).call(l,"%s Profile","%s Profiles",(t.count||n&&n.count||i).call(l,null!=n?n.numUsers:n,{name:"count",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(t.count||n&&n.count||i).call(l,null!=n?n.numUsers:n,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+"\n"},4:function(e,n,t,a,s){return"        "+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Profiles",{name:"trans",hash:{},data:s}))+"\n"},6:function(e,n,t,a,s){var l;return'      <li class="list-group-item">\n'+(null!=(l=e.invokePartial(a["core.search.partials.results_person_item"],n,{name:"core.search.partials.results_person_item",data:s,indent:"          ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"      </li>\n"},8:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u=e.escapeExpression,d='  <footer class="panel-footer light';return i=null!=(i=t.showMore||(null!=n?n.showMore:n))?i:c,r={name:"showMore",hash:{},fn:e.noop,inverse:e.program(9,s,0),data:s},l="function"==typeof i?i.call(o,r):i,t.showMore||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(d+=l),d+'">\n    <button class="btn btn-block btn-grey on-showmore">\n      <span class="show-more-message">\n        <span>'+u((t.trans||n&&n.trans||c).call(o,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n        <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n      </span>\n      <span class='loading-message hidden'>\n        "+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||c).call(o,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?l:"")+"\n        <span>"+u((t.trans||n&&n.trans||c).call(o,"Loading",{name:"trans",hash:{},data:s}))+" ...</span>\n      </span>\n    </button>\n  </footer>\n"},9:function(e,n,t,a,s){return" hidden"},11:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.isMobile:n,{name:"if",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?l:""},12:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'  <header class="panel-heading">\n    <h4 class="text-light all-caps">\n      '+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"No results found",{name:"trans",hash:{},data:s}))+"\n      "+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||r).call(i,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{className:"hidden searching"},data:s}))?l:"")+"\n    </h4>\n  </header>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.numUsers:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(11,s,0),data:s}))?l:""},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return e.escapeExpression("function"==typeof(l=null!=(l=t.name||(null!=n?n.name:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"name",hash:{},data:s}):l)},3:function(e,n,t,a,s){var l;return e.escapeExpression("function"==typeof(l=null!=(l=t.username||(null!=n?n.username:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"username",hash:{},data:s}):l)},5:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return e.escapeExpression((t.sprintf||n&&n.sprintf||r).call(i,(t.ngettext||n&&n.ngettext||r).call(i,"%s Work","%s Works",null!=n?n.numStoriesPublished:n,{name:"ngettext",hash:{},data:s}),null!=n?n.numStoriesPublished:n,{name:"sprintf",hash:{},data:s}))+"\n        "+(null!=(l=t.if.call(i,null!=n?n.numFollowers:n,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?l:"")+"\n"},6:function(e,n,t,a,s){return" &middot; "},8:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing;return" "+e.escapeExpression((t.sprintf||n&&n.sprintf||i).call(l,(t.ngettext||n&&n.ngettext||i).call(l,"%s Follower","%s Followers",null!=n?n.numFollowers:n,{name:"ngettext",hash:{},data:s}),(t.count||n&&n.count||i).call(l,null!=n?n.numFollowers:n,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+" "},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<a href="/user/'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'" class="on-result person-result" data-id="'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'">\n    <div class="avatar avatar-md pull-left">\n        <img src="'+c((t.resizeAvatar||n&&n.resizeAvatar||o).call(r,null!=n?n.avatar:n,48,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </div>\n    <div class="content">\n        <div class="name-and-badges">\n            <h5>'+(null!=(l=t.if.call(r,null!=n?n.name:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+'</h5>\n            <div class="badges">\n'+(null!=(l=e.invokePartial(a["core.components.user_badges"],n,{name:"core.components.user_badges",hash:{badgeSize:"14"},data:s,indent:"                ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'            </div>\n        </div>\n        <small class="username">@'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'</small>\n        <small class="meta">\n        '+(null!=(l=t.if.call(r,null!=n?n.numStoriesPublished:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+"        "+(null!=(l=t.if.call(r,null!=n?n.numFollowers:n,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?l:"")+"\n        </small>\n    </div>\n</a>"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return'                    <div id="authentication-panel" class="panel panel-basic">\n                        <div class="signup-modal">\n'+(null!=(l=e.invokePartial(a["core.signup_prompt"],n,{name:"core.signup_prompt",data:s,indent:"                            ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"                        </div>\n                    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return'<div id="search-page">\n\n    <header id="search-controls" class="background background-lg">\n        <div class="container">\n'+(null!=(l=e.invokePartial(a["core.search.partials.search_header"],n,{name:"core.search.partials.search_header",data:s,indent:"            ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'        </div>\n    </header>\n\n    <main class="container">\n        <div class="row">\n            <section class="col-sm-12 col-md-8">\n                <article id="results-stories">\n                    <div class="feed-item-new panel">\n'+(null!=(l=e.invokePartial(a["core.search.partials.results_stories"],n,{name:"core.search.partials.results_stories",data:s,indent:"                        ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'                    </div>\n                </article>\n            </section>\n\n            <section class="col-sm-12 col-md-4">\n'+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.isLogged:n,{name:"if",hash:{},fn:e.noop,inverse:e.program(1,s,0),data:s}))?l:"")+'                <div id="results-people">\n                    <div id="results-people-region">\n                        <div class="feed-item-new panel">\n'+(null!=(l=e.invokePartial(a["core.search.partials.results_people"],n,{name:"core.search.partials.results_people",data:s,indent:"                          ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"                        </div>\n                    </div>\n                </div>\n            </section>\n        </div>\n    </main>\n\n</div>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return(null!=(l=t.each.call(i,null!=n?n.harmMessages:n,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.relatedTags:n,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")},2:function(e,n,t,a,s){var l;return'    <div class="alert-info harm-message h6">'+(null!=(l=e.lambda(n,n))?l:"")+"</div>\n"},4:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'    <span class="refine-label">'+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Refine by",{name:"trans",hash:{},data:s}))+":</span>\n    "+(null!=(l=(t.reactComponent||n&&n.reactComponent||r).call(i,"TagCarousel","relatedTags",{name:"reactComponent",hash:{},data:s}))?l:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.noResults:n,{name:"if",hash:{},fn:e.noop,inverse:e.program(1,s,0),data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return"  <h2>\n"+(null!=(l=t.if.call(i,null!=n?n.showRecentSearches:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(4,s,0),data:s}))?l:"")+"  </h2>\n\n  <ul>\n"+(null!=(l=t.each.call(i,null!=n?n.suggestedSearchTerms:n,{name:"each",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")+"</ul>\n"},2:function(e,n,t,a,s){return"    "+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Recent Searches",{name:"trans",hash:{},data:s}))+"\n"},4:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.showPopularSearches:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:""},5:function(e,n,t,a,s){return"    "+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Popular Searches",{name:"trans",hash:{},data:s}))+"\n  "},7:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'    <li>\n      <a href="/search/'+o((t.urlEncodeWithSpace||n&&n.urlEncodeWithSpace||r).call(i,n,{name:"urlEncodeWithSpace",hash:{},data:s}))+'" class="on-navigate">\n        '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-search",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o(e.lambda(n,n))+"\n      </a>\n    </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.noResults:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return"searching"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u=e.escapeExpression,d='<label for="search-field" class="hidden">'+u((t.trans||n&&n.trans||c).call(o,"Search Wattpad for stories and people",{name:"trans",hash:{},data:s}))+'</label>\n\n<input id="search-field" type="search" placeholder="'+u((t.trans||n&&n.trans||c).call(o,"Search Stories & People",{name:"trans",hash:{},data:s}))+'" spellcheck="false" autocomplete="off" value="'+u("function"==typeof(i=null!=(i=t.searchTerm||(null!=n?n.searchTerm:n))?i:c)?i.call(o,{name:"searchTerm",hash:{},data:s}):i)+'" class="';return i=null!=(i=t.searching||(null!=n?n.searching:n))?i:c,r={name:"searching",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(o,r):i,t.searching||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(d+=l),d+'">\n\n<section id="suggested-searches">\n'+(null!=(l=e.invokePartial(a["core.search.partials.suggested_searches"],n,{name:"core.search.partials.suggested_searches",data:s,indent:"  ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'</section>\n\n<section id="browse-topics" role="region" aria-label="Browse Topics">\n'+(null!=(l=e.invokePartial(a["core.search.partials.browse_topics"],n,{name:"core.search.partials.browse_topics",data:s,indent:"  ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'</section>\n\n<section id="tag-holder" class="container row">\n'+(null!=(l=e.invokePartial(a["core.search.partials.search_header_tags"],n,{name:"core.search.partials.search_header_tags",data:s,indent:"  ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"</section>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'    <h2 class="browse-title">\n        '+(null!=(l=(t.trans||n&&n.trans||t.helperMissing).call(i,"Browse Categories",{name:"trans",hash:{},data:s}))?l:"")+'\n    </h2>\n    <div class="topics-container">\n'+(null!=(l=t.each.call(i,null!=n?n.browseTopics:n,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+"    </div> \n"},2:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=e.escapeExpression,o=e.lambda;return'        <a href="'+r((t.categoryNameToUrl||n&&n.categoryNameToUrl||t.helperMissing).call(i,null!=n?n.name:n,{name:"categoryNameToUrl",hash:{},data:s}))+'" class="browse-topic-tile on-browse-topic on-navigate" data-name='+r(o(null!=n?n.name:n,n))+' tabIndex="0"'+(null!=(l=t.if.call(i,null!=n?n.image:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+">\n            "+r(o(null!=n?n.topic:n,n))+"\n        </a>\n"},3:function(e,n,t,a,s){return" style=\"background-image:url('"+e.escapeExpression(e.lambda(null!=n?n.image:n,n))+"')\""},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.noResults:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:""},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return" active"},3:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'            <li>\n              <a href="#" role="button" class="on-setfilter search-filter'+(null!=(l=t.blockHelperMissing.call(n,e.lambda(null!=(l=null!=(l=null!=n?n.stories:n)?l.filters:l)?l.mature:l,n),{name:"stories.filters.mature",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'" data-filter="mature">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-circle-empty",17,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+" "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-circle-filled",17,"wp-base-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Include mature",{name:"trans",hash:{},data:s}))+"</a>\n            </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<div class="search-filter-modal modal" aria-hidden="true" role="dialog">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <header class="modal-header">\n        <h1 class="modal-title">'+o((t.trans||n&&n.trans||r).call(i,"Search Filters",{name:"trans",hash:{},data:s}))+'</h1>\n        <div class="close" data-dismiss="modal">\n          '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-remove",18,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n        </div>\n      </header>\n      <div class="modal-body">\n        <div>\n          <h4>'+o((t.trans||n&&n.trans||r).call(i,"Last Updated",{name:"trans",hash:{},data:s}))+'</h4>\n          <select id="last-updated-filters">\n            '+(null!=(l=(t.select||n&&n.select||r).call(i,"any",(t.trans||n&&n.trans||r).call(i,"Anytime",{name:"trans",hash:{},data:s}),null!=n?n.age:n,{name:"select",hash:{},data:s}))?l:"")+"\n            "+(null!=(l=(t.select||n&&n.select||r).call(i,"24",(t.trans||n&&n.trans||r).call(i,"Today",{name:"trans",hash:{},data:s}),null!=n?n.age:n,{name:"select",hash:{},data:s}))?l:"")+"\n            "+(null!=(l=(t.select||n&&n.select||r).call(i,"168",(t.trans||n&&n.trans||r).call(i,"This Week",{name:"trans",hash:{},data:s}),null!=n?n.age:n,{name:"select",hash:{},data:s}))?l:"")+"\n            "+(null!=(l=(t.select||n&&n.select||r).call(i,"720",(t.trans||n&&n.trans||r).call(i,"This Month",{name:"trans",hash:{},data:s}),null!=n?n.age:n,{name:"select",hash:{},data:s}))?l:"")+"\n            "+(null!=(l=(t.select||n&&n.select||r).call(i,"8760",(t.trans||n&&n.trans||r).call(i,"This Year",{name:"trans",hash:{},data:s}),null!=n?n.age:n,{name:"select",hash:{},data:s}))?l:"")+"\n          </select>\n        </div>\n        <div>\n          <h4>"+o((t.trans||n&&n.trans||r).call(i,"Length",{name:"trans",hash:{},data:s}))+'</h4>\n          <select id="content-length-filters">\n            '+(null!=(l=(t.select||n&&n.select||r).call(i,"any",(t.trans||n&&n.trans||r).call(i,"Any Length",{name:"trans",hash:{},data:s}),null!=n?n.length:n,{name:"select",hash:{},data:s}))?l:"")+"\n            "+(null!=(l=(t.select||n&&n.select||r).call(i,"1-10",(t.trans||n&&n.trans||r).call(i,"1 - 10 Parts",{name:"trans",hash:{},data:s}),null!=n?n.length:n,{name:"select",hash:{},data:s}))?l:"")+"\n            "+(null!=(l=(t.select||n&&n.select||r).call(i,"10-20",(t.trans||n&&n.trans||r).call(i,"10 - 20 Parts",{name:"trans",hash:{},data:s}),null!=n?n.length:n,{name:"select",hash:{},data:s}))?l:"")+"\n            "+(null!=(l=(t.select||n&&n.select||r).call(i,"20-50",(t.trans||n&&n.trans||r).call(i,"20 - 50 Parts",{name:"trans",hash:{},data:s}),null!=n?n.length:n,{name:"select",hash:{},data:s}))?l:"")+"\n            "+(null!=(l=(t.select||n&&n.select||r).call(i,">50",(t.trans||n&&n.trans||r).call(i,"> 50 Parts",{name:"trans",hash:{},data:s}),null!=n?n.length:n,{name:"select",hash:{},data:s}))?l:"")+"\n          </select>\n        </div>\n\n        <h4>"+o((t.trans||n&&n.trans||r).call(i,"Content",{name:"trans",hash:{},data:s}))+'</h4>\n        <ul class="lists-menu list-unstyled" aria-label="'+o((t.trans||n&&n.trans||r).call(i,"Content",{name:"trans",hash:{},data:s}))+'">\n          <li>\n            <a href="#" role="button" class="on-setfilter search-filter'+(null!=(l=t.blockHelperMissing.call(n,e.lambda(null!=(l=null!=(l=null!=n?n.stories:n)?l.filters:l)?l.complete:l,n),{name:"stories.filters.complete",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'" data-filter="complete" >'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-circle-empty",17,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+" "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-circle-filled",17,"wp-base-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.trans||n&&n.trans||r).call(i,"Only show completed",{name:"trans",hash:{},data:s}))+"</a>\n          </li>\n"+(null!=(l=t.if.call(i,null!=n?n.isMature:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<section class="feed-item-new modal-content">\n    <header class="modal-header">\n      <a class="avatar avatar-sm2 on-navigate" href="/user/'+c("function"==typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)?i.call(r,{name:"username",hash:{},data:s}):i)+'">\n        <img src="'+c((t.resizeAvatar||n&&n.resizeAvatar||o).call(r,null!=n?n.avatar:n,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n      </a>\n      <h3 class="h6"> '+(null!=(l="function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)?l:"")+' </h3>\n      <time datetime="'+c("function"==typeof(i=null!=(i=t.createDate||(null!=n?n.createDate:n))?i:o)?i.call(r,{name:"createDate",hash:{},data:s}):i)+'">'+c((t.fromNow||n&&n.fromNow||o).call(r,null!=n?n.createDate:n,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+'</time>\n      <button type="button" class="close btn btn-text" data-dismiss="modal" aria-label="Close">\n        '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n      </button>\n    </header>\n    <div class="modal-body">\n      <ul class="list-group">\n\n      </ul>\n    </div>\n    <div class="modal-footer">\n      <button type="button" class="btn btn-grey btn-block" data-dismiss="modal">'+c((t.trans||n&&n.trans||o).call(r,"Close",{name:"trans",hash:{},data:s}))+"</button>\n    </div>\n</section>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'  <div class="collection">\n  '+(null!=(l="function"==typeof(i=null!=(i=t.feedHtml||(null!=n?n.feedHtml:n))?i:o)?i.call(r,{name:"feedHtml",hash:{},data:s}):i)?l:"")+'\n  </div>\n  <div class="show-more center-text '+(null!=(l=t.if.call(r,null!=n?n.hasMoreFeedItems:n,{name:"if",hash:{},fn:e.noop,inverse:e.program(2,s,0),data:s}))?l:"")+'">\n    <button class="btn btn-link on-showmore">\n        <span class=\'show-more-message\'>\n            <span>'+c((t.trans||n&&n.trans||o).call(r,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n            <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n        </span>\n        <span class='loading-message hidden'>\n            "+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||o).call(r,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?l:"")+"\n            <span> "+c((t.trans||n&&n.trans||o).call(r,"Loading",{name:"trans",hash:{},data:s}))+" ...</span>\n        </span>\n    </button>\n  </div>\n</div>\n"},2:function(e,n,t,a,s){return"hidden"},4:function(e,n,t,a,s){return'  <div>\n    <p class="no-item">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"No news for now.",{name:"trans",hash:{},data:s}))+"</p>\n  </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.hasFeedItems:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?l:"")+'\n<div id="expand-modal" class="modal fade" role="dialog" tabindex=\'-1\'></div>\n'},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r,o="";return i=null!=(i=t.recentlyRead||(null!=n?n.recentlyRead:n))?i:t.helperMissing,r={name:"recentlyRead",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(null!=n?n:e.nullContext||{},r):i,t.recentlyRead||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(o+=l),o},2:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'      <a href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.readingURL:n,{name:"formatStoryUrl",hash:{},data:s}))+'" class="on-navigate library-item">\n          <div class="cover cover-xs">\n              '+c((t.connectCover||n&&n.connectCover||o).call(r,null!=n?n.cover:n,null!=n?n.title:n,50,{name:"connectCover",hash:{},data:s}))+'\n          </div>\n          <div class="content">\n              <h3 class="h6">'+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+"</h3>\n              <small>"+c(e.lambda(null!=(l=null!=n?n.user:n)?l.name:l,n))+'</small>\n              <div class="reading-progress">\n                  <div class="pct-read" style="width:'+c("function"==typeof(i=null!=(i=t.percentRead||(null!=n?n.percentRead:n))?i:o)?i.call(r,{name:"percentRead",hash:{},data:s}):i)+'%"></div>\n              </div>\n              <span class="x-small pull-right">\n'+(null!=(l=t.if.call(r,null!=n?n.percentRead:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?l:"")+"              </span>\n          </div>\n      </a>\n"},3:function(e,n,t,a,s){return"                  "+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Continue reading",{name:"trans",hash:{},data:s}))+"\n"},5:function(e,n,t,a,s){return"                  "+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Start reading",{name:"trans",hash:{},data:s}))+"\n"},7:function(e,n,t,a,s){var l;return'        <div id="no-recent-reads">'+(null!=(l=(t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Adding %sstories%s to your library allows you to return to them more easily.","<a href='/stories' class='on-navigate'>","</a>",{name:"trans",hash:{},data:s}))?l:"")+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return'<div class="collection">\n'+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.hasItems:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(7,s,0),data:s}))?l:"")+"</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div class=\'cover-container\'>\n  <a class="on-navigate cover cover-md on-story-item" href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'">\n      <div class="fixed-ratio fixed-ratio-cover">\n          <img src="'+c((t.resizeCover||n&&n.resizeCover||o).call(r,null!=n?n.cover:n,256,{name:"resizeCover",hash:{},data:s}))+'" alt="'+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+'">\n      </div>\n  </a>\n</div>\n<div class="content" data-target="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" data-type="'+c("function"==typeof(i=null!=(i=t.type||(null!=n?n.type:n))?i:o)?i.call(r,{name:"type",hash:{},data:s}):i)+'">\n    <div class="info">\n        <a class="title meta on-navigate" href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'">'+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||o).call(r,null!=n?n.title:n,35,!1,{name:"simpleShorten",hash:{},data:s}))?l:"")+'</a>\n        <a class="username meta on-navigate" href="/user/'+c(e.lambda(null!=(l=null!=n?n.user:n)?l.name:l,n))+'">by '+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||o).call(r,null!=(l=null!=n?n.user:n)?l.name:l,15,!1,{name:"simpleShorten",hash:{},data:s}))?l:"")+'</a>\n    </div>\n\n    <div class="meta social-meta">\n        <span class="read-count"> '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-view",15,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.count||n&&n.count||o).call(r,null!=n?n.readCount:n,{name:"count",hash:{},data:s}))+' </span>\n        <span class="vote-count"> '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-vote",15,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.count||n&&n.count||o).call(r,null!=n?n.voteCount:n,{name:"count",hash:{},data:s}))+" </span>\n    </div>\n</div>\n\n\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression,u=e.lambda;return'<div class=\'cover-container\'>\n  <a class="on-navigate cover cover-lg on-story-item" href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'">\n      <div class="fixed-ratio fixed-ratio-cover">\n          <img src="'+c((t.resizeCover||n&&n.resizeCover||o).call(r,null!=n?n.cover:n,256,{name:"resizeCover",hash:{},data:s}))+'" alt="'+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+'">\n      </div>\n  </a>\n\n  <div class="story-overlay on-story-hover" style="display: none;">\n      <div class="overlay-bg"></div>\n      <div class="overlay-container">\n          <button class="btn btn-glass btn-block btn-library btn-left-align" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" data-toggle="tooltip" title="'+c((t.trans||n&&n.trans||o).call(r,"Add to Library",{name:"trans",hash:{},data:s}))+'">\n              '+c((t.trans||n&&n.trans||o).call(r,"Add",{name:"trans",hash:{},data:s}))+'\n          </button>\n          <a class="btn btn-glass btn-block on-navigate btn-left-align" href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'">\n              '+c((t.trans||n&&n.trans||o).call(r,"Read",{name:"trans",hash:{},data:s}))+'\n          </a>\n          <button class="btn btn-glass btn-block btn-left-align btn-dismiss" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" data-toggle="tooltip" title="'+c((t.trans||n&&n.trans||o).call(r,"Dismiss Recommendation",{name:"trans",hash:{},data:s}))+'">\n              '+c((t.trans||n&&n.trans||o).call(r,"Dismiss",{name:"trans",hash:{},data:s}))+'\n          </button>\n      </div>\n  </div>\n</div>\n\n<div class="content">\n    <div class="info">\n        <strong>'+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+"</strong>\n        <small>"+c(u(null!=(l=null!=n?n.user:n)?l.name:l,n))+'</small>\n    </div>\n    <a href="/user/'+c(u(null!=(l=null!=n?n.user:n)?l.name:l,n))+'" class="avatar avatar-sm on-navigate">\n        <img src="'+c((t.resizeAvatar||n&&n.resizeAvatar||o).call(r,null!=(l=null!=n?n.user:n)?l.avatar:l,32,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n</div>\n'},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<h2><a class="on-navigate" href="/stories">\n  '+o((t.trans||n&&n.trans||r).call(i,"Recommended Stories",{name:"trans",hash:{},data:s}))+" "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-right",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n</a></h2>\n<div class="collection"></div>\n<span class="hidden">'+o((t.trans||n&&n.trans||r).call(i,"Please check back later for more recommendations.",{name:"trans",hash:{},data:s}))+"</span>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return'    <div class="background background-sm" style="background-image: url( \''+e.escapeExpression((t.profileBackground||n&&n.profileBackground||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.backgroundUrl:n,360,{name:"profileBackground",hash:{},data:s}))+"' );\"></div>\n"},3:function(e,n,t,a,s){var l;return'    <div class="background background-sm" '+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.highlight_colour:n,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")+"></div>\n"},4:function(e,n,t,a,s){var l;return'style="background-color: '+e.escapeExpression("function"==typeof(l=null!=(l=t.highlight_colour||(null!=n?n.highlight_colour:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"highlight_colour",hash:{},data:s}):l)+'"'},6:function(e,n,t,a,s){var l;return e.escapeExpression("function"==typeof(l=null!=(l=t.name||(null!=n?n.name:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"name",hash:{},data:s}):l)},8:function(e,n,t,a,s){var l;return e.escapeExpression("function"==typeof(l=null!=(l=t.username||(null!=n?n.username:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"username",hash:{},data:s}):l)},10:function(e,n,t,a,s){return"disabled"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u="function",d=e.escapeExpression,h='<article class="user-card">\n    <button class="btn btn-no-background btn-remove on-dismiss" data-target="'+d(typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:c)===u?i.call(o,{name:"username",hash:{},data:s}):i)+'">\n        '+(null!=(l=(t.iconify||n&&n.iconify||c).call(o,"fa-remove",16,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+"\n    </button>\n"+(null!=(l=t.if.call(o,null!=n?n.backgroundUrl:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+'    <a class="avatar avatar-lg on-navigate" href="/user/'+d(typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:c)===u?i.call(o,{name:"username",hash:{},data:s}):i)+'">\n        <img src="'+d(typeof(i=null!=(i=t.avatar||(null!=n?n.avatar:n))?i:c)===u?i.call(o,{name:"avatar",hash:{},data:s}):i)+'"></a>\n    <div class="content">\n        <h5><a class="alt-link on-navigate" href="/user/'+d(typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:c)===u?i.call(o,{name:"username",hash:{},data:s}):i)+'">\n          '+(null!=(l=t.if.call(o,null!=n?n.name:n,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.program(8,s,0),data:s}))?l:"")+"\n        </a></h5>\n        <small>@"+d(typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:c)===u?i.call(o,{name:"username",hash:{},data:s}):i)+'</small>\n        <button class="btn btn-block btn-md btn-white on-follow ';return i=null!=(i=t.disabled||(null!=n?n.disabled:n))?i:c,r={name:"disabled",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s},l=typeof i===u?i.call(o,r):i,t.disabled||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(h+=l),h+"\" data-target='"+d(typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:c)===u?i.call(o,{name:"username",hash:{},data:s}):i)+'\' role="button" aria-pressed="false">\n            '+(null!=(l=(t.iconify||n&&n.iconify||c).call(o,"fa-follow",14,"wp-base-2-dark",{name:"iconify",hash:{},data:s}))?l:"")+" "+d((t.trans||n&&n.trans||c).call(o,"Follow",{name:"trans",hash:{},data:s}))+"\n        </button>\n    </div>\n    <footer><span>"+(null!=(l=typeof(i=null!=(i=t.recommendationHint||(null!=n?n.recommendationHint:n))?i:c)===u?i.call(o,{name:"recommendationHint",hash:{},data:s}):i)?l:"")+"</span></footer>\n</article>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return e.escapeExpression("function"==typeof(l=null!=(l=t.name||(null!=n?n.name:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"name",hash:{},data:s}):l)},3:function(e,n,t,a,s){var l;return e.escapeExpression("function"==typeof(l=null!=(l=t.username||(null!=n?n.username:n))?l:t.helperMissing)?l.call(null!=n?n:e.nullContext||{},{name:"username",hash:{},data:s}):l)},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c="function",u=e.escapeExpression;return'<a class="on-navigate" href="/user/'+u(typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)===c?i.call(r,{name:"username",hash:{},data:s}):i)+'">\n  <div class="avatar avatar-md">\n    <img src="'+u((t.resizeAvatar||n&&n.resizeAvatar||o).call(r,null!=n?n.avatar:n,48,{name:"resizeAvatar",hash:{},data:s}))+'">\n  </div>\n</a>\n\n<div class="content">\n  <a class="name on-navigate" href="/user/'+u(typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)===c?i.call(r,{name:"username",hash:{},data:s}):i)+'">\n    <strong>'+(null!=(l=t.if.call(r,null!=n?n.name:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+"</strong>\n  </a>\n  <small>"+(null!=(l=typeof(i=null!=(i=t.recommendationHint||(null!=n?n.recommendationHint:n))?i:o)===c?i.call(r,{name:"recommendationHint",hash:{},data:s}):i)?l:"")+"</small>\n</div>\n\n<div class=\"controls pull-right\">\n  <button class='btn btn-white btn-fan btn-follow on-follow pull-left' data-target='"+u(typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)===c?i.call(r,{name:"username",hash:{},data:s}):i)+"'>\n    "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-follow",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+"\n  </button>\n  <button class='btn btn-white btn-dismiss on-dismiss pull-right' data-target='"+u(typeof(i=null!=(i=t.username||(null!=n?n.username:n))?i:o)===c?i.call(r,{name:"username",hash:{},data:s}):i)+"'>\n    "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+"\n  </button>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return"<h2>"+r((t.trans||n&&n.trans||i).call(l,"Recommended People",{name:"trans",hash:{},data:s}))+'</h2>\n<div class="collection row">\n</div>\n<span class="checklater hidden">'+r((t.trans||n&&n.trans||i).call(l,"Please check back later for more recommendations.",{name:"trans",hash:{},data:s}))+"</span>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div class="container">\n    <div class="row">\n        <main class="col-sm-8">\n            <div id="recommended-stories">\n                <div class="recommended-stories-view">'+(null!=(l=e.invokePartial(a["core.collection_views.recommended_stories"],n,{name:"core.collection_views.recommended_stories",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")+'</div>\n            </div>\n            <div id="recommended-users">\n                <div class="recommended-users-view">'+(null!=(l=e.invokePartial(a["core.collection_views.recommended_follow"],n,{name:"core.collection_views.recommended_follow",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")+"</div>\n            </div>\n\n            <h2>"+c((t.trans||n&&n.trans||o).call(r,"Newsfeed",{name:"trans",hash:{},data:s}))+'</h2>\n            <div id="news-feed">\n                <div class="news-feed">\n                    '+(null!=(l="function"==typeof(i=null!=(i=t.feedHtml||(null!=n?n.feedHtml:n))?i:o)?i.call(r,{name:"feedHtml",hash:{},data:s}):i)?l:"")+'\n                </div>\n            </div>\n\n        </main>\n\n        <aside class="col-sm-4">\n            <h2 class="first"><a class="library-list-link on-navigate" href="/library">'+c((t.trans||n&&n.trans||o).call(r,"From your library",{name:"trans",hash:{},data:s}))+" "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-right",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'</a></h2>\n            <div id="current-reads" class="library-list sidebar">\n                <div>'+(null!=(l=e.invokePartial(a["core.collection_views.recently_read"],n,{name:"core.collection_views.recently_read",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")+"</div>\n            </div>\n        </aside>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s,l,i){var r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u=e.escapeExpression;return'          <li class="col-xs-6 lists-menu list-unstyled'+(null!=(r=(t.ifequal||n&&n.ifequal||c).call(o,null!=n?n.id:n,null!=(r=null!=i[1]?i[1].category:i[1])?r.id:r,{name:"ifequal",hash:{},fn:e.program(2,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'">\n            <a class="on-navigate" href="/stories/'+u((t.slugify||n&&n.slugify||c).call(o,null!=n?n.name_english:n,{name:"slugify",hash:{},data:s}))+'">'+u(e.lambda(null!=n?n.name:n,n))+"</a>\n          </li>\n"},2:function(e,n,t,a,s){return" active"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s,l,i){var r,o=e.escapeExpression,c=null!=n?n:e.nullContext||{},u=t.helperMissing;return'<div data-category-id="'+o(e.lambda(null!=(r=null!=n?n.category:n)?r.id:r,n))+'" class="choose-category-modal modal" aria-hidden="true" role="dialog">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <header class="modal-header">\n        <h1 class="modal-title">'+o((t.trans||n&&n.trans||u).call(c,"Categories",{name:"trans",hash:{},data:s}))+'</h1>\n        <div class="close" data-dismiss="modal">\n          '+(null!=(r=(t.iconify||n&&n.iconify||u).call(c,"fa-remove",18,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'\n        </div>\n      </header>\n      <div class="modal-body">\n        <ul class="lists-menu list-unstyled" aria-label="'+o((t.trans||n&&n.trans||u).call(c,"Categories",{name:"trans",hash:{},data:s}))+'">\n'+(null!=(r=t.each.call(c,null!=n?n.categories:n,{name:"each",hash:{},fn:e.program(1,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n"},useData:!0,useDepths:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'                    <li class="col-xs-6"><a class="on-change-category" data-category="'+c((t.slugify||n&&n.slugify||o).call(r,null!=n?n.name_english:n,{name:"slugify",hash:{},data:s}))+'" href="#"> '+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+"\n"+(null!=(l=t.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+"                    </a></li>\n"},2:function(e,n,t,a,s){var l;return"                            "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-check",18,"wp-base-2",{name:"iconify",hash:{},data:s}))?l:"")+"\n"},4:function(e,n,t,a,s){return' class="active"'},6:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'                      <li data-section="featured"'+(null!=(l=t.if.call(i,null!=(l=null!=n?n.active:n)?l.featured:l,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")+'>\n                        <a href="/stories/'+o((t.slugify||n&&n.slugify||r).call(i,null!=(l=null!=n?n.category:n)?l.name_english:l,{name:"slugify",hash:{},data:s}))+'/featured" class="on-tab-nav">'+o((t.trans||n&&n.trans||r).call(i,"Featured",{name:"trans",hash:{},data:s}))+"</a>\n                      </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression,c=e.lambda;return'<div class="container">\n    <header class="background background-lg text-left category-banner">\n        <div class="category-header">\n            <h2 class="title">'+o((t.trans||n&&n.trans||r).call(i,"Category",{name:"trans",hash:{},data:s}))+'</h2>\n            <div class="dropdown">\n                <a href=\'#\' data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                    <h1 class="h2">'+o(c(null!=(l=null!=n?n.category:n)?l.name:l,n))+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-down-small",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+'</h1>\n                </a>\n                <div class="triangle"></div>\n                <ul class="dropdown-menu columns" role="menu">\n'+(null!=(l=t.each.call(i,null!=n?n.categories:n,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'                </ul>\n            </div>\n            <h2 class="subtitle">'+o(c(null!=(l=null!=n?n.category:n)?l.subtitle:l,n))+'</h2>\n        </div>\n    </header>\n    <div id="filter-tabs" class="sub-navigation">\n        <div class="container">\n            <nav class="pull-left" role="navigation">\n                <ul>\n                    <li data-section="hot"'+(null!=(l=t.if.call(i,null!=(l=null!=n?n.active:n)?l.hot:l,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")+'>\n                        <a href="/stories/'+o((t.slugify||n&&n.slugify||r).call(i,null!=(l=null!=n?n.category:n)?l.name_english:l,{name:"slugify",hash:{},data:s}))+'" class="on-tab-nav">'+o((t.trans||n&&n.trans||r).call(i,"Hot",{name:"trans",hash:{},data:s}))+"</a>\n                    </li>\n"+(null!=(l=t.if.call(i,null!=n?n.isEnglish:n,{name:"if",hash:{},fn:e.noop,inverse:e.program(6,s,0),data:s}))?l:"")+'                    <li data-section="new"'+(null!=(l=t.if.call(i,null!=(l=null!=n?n.active:n)?l.new:l,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")+'>\n                        <a href="/stories/'+o((t.slugify||n&&n.slugify||r).call(i,null!=(l=null!=n?n.category:n)?l.name_english:l,{name:"slugify",hash:{},data:s}))+'/new" class="on-tab-nav">'+o((t.trans||n&&n.trans||r).call(i,"New",{name:"trans",hash:{},data:s}))+'</a>\n                    </li>\n                </ul>\n            </nav>\n            <div class="actions pull-right" role="menu">\n                <div class="show-completed"><a href="#" role="button" class="on-filter-completed"> '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-circle-empty",11,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+' <span class="show-completed-text fa-wp-neutral-2">'+o((t.trans||n&&n.trans||r).call(i,"Only show completed",{name:"trans",hash:{},data:s}))+'</span></a></div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<main id="tab-content" class="container">\n    <div class="stories">\n'+(null!=(l=e.invokePartial(a["core.collection_views.browse_stories"],n,{name:"core.collection_views.browse_stories",data:s,indent:"        ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"    </div>\n</main>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{};return'        --\x3e<div class="story-grid-panel '+e.escapeExpression("function"==typeof(i=null!=(i=t.class||(null!=n?n.class:n))?i:t.helperMissing)?i.call(r,{name:"class",hash:{},data:s}):i)+'">\x3c!--\n\n'+(null!=(l=t.each.call(r,null!=n?n.stories:n,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+"\n        --\x3e</div>\x3c!--\n"},2:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'            --\x3e<a href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'" class="on-story-preview cover cover-lg" data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'">\n                <div class="fixed-ratio fixed-ratio-cover">\n                    <img src="'+c((t.resizeCover||n&&n.resizeCover||o).call(r,null!=n?n.cover:n,230,{name:"resizeCover",hash:{},data:s}))+'" alt="'+c((t.trans||n&&n.trans||o).call(r,"%1$s by %2$s",null!=n?n.title:n,null!=(l=null!=n?n.user:n)?l.name:l,{name:"trans",hash:{},data:s}))+'">\n                </div>\n            </a>\x3c!--\n'},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div class="discover-stories-desktop" data-type="discover-stories" data-url="'+c("function"==typeof(i=null!=(i=t.url||(null!=n?n.url:n))?i:o)?i.call(r,{name:"url",hash:{},data:s}):i)+'" data-cache="'+c("function"==typeof(i=null!=(i=t.cache||(null!=n?n.cache:n))?i:o)?i.call(r,{name:"cache",hash:{},data:s}):i)+'">\n    <h2 class="story-grid-title">'+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+"</h2>\n    <h3><small>"+c("function"==typeof(i=null!=(i=t.subtitle||(null!=n?n.subtitle:n))?i:o)?i.call(r,{name:"subtitle",hash:{},data:s}):i)+'</small></h3>\n\n    <div class="story-grid">\x3c!--\n'+(null!=(l=t.each.call(r,null!=n?n.panels:n,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"    --\x3e</div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u=e.escapeExpression,d=e.lambda,h='     --\x3e<div class="reading-list-grid-panel reading-list-card">\n            <div class="content">\n                <a href="/list/'+u("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:c)?i.call(o,{name:"id",hash:{},data:s}):i)+'"><h5>'+u((t.simpleShorten||n&&n.simpleShorten||c).call(o,null!=n?n.name:n,46,{name:"simpleShorten",hash:{},data:s}))+"</h5>\x3c!--\n";return i=null!=(i=t.sample_covers||(null!=n?n.sample_covers:n))?i:c,r={name:"sample_covers",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(o,r):i,t.sample_covers||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(h+=l),h+'                --\x3e</a>\n            </div>\n            <footer>\n                <a href="/user/'+u(d(null!=(l=null!=n?n.user:n)?l.name:l,n))+'" class="user-link on-navigate">\n                    <img src="'+u(d(null!=(l=null!=n?n.user:n)?l.avatar:l,n))+'" class="avatar avatar-md">\n                    <h5 class="h3">'+u(d(null!=(l=null!=n?n.user:n)?l.name:l,n))+"</h5>\n                    <div class=\"controls\">\n                        <button class='btn btn-white btn-fan btn-follow on-follow btn-icon-only' data-target='"+u(d(null!=(l=null!=n?n.user:n)?l.name:l,n))+"'>\n                            "+(null!=(l=(t.iconify||n&&n.iconify||c).call(o,"fa-follow",22,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+"\n                        </button>\n                    </div>\n                </a>\n            </footer>\n        </div>\x3c!--\n"},2:function(e,n,t,a,s){return'                    --\x3e<div class="sample-cover">\n                    <img src="'+e.escapeExpression((t.resizeCover||n&&n.resizeCover||t.helperMissing).call(null!=n?n:e.nullContext||{},n,96,{name:"resizeCover",hash:{},data:s}))+'" class="cover cover-sm">\n                    </div>\x3c!--\n'},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div class="discover-reading_lists_with_users-desktop" data-type="discover-reading_lists_with_users" data-url="'+c("function"==typeof(i=null!=(i=t.url||(null!=n?n.url:n))?i:o)?i.call(r,{name:"url",hash:{},data:s}):i)+'" data-cache="'+c("function"==typeof(i=null!=(i=t.cache||(null!=n?n.cache:n))?i:o)?i.call(r,{name:"cache",hash:{},data:s}):i)+'">\n    <h2 class="story-grid-title">'+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+"</h2>\n    <h3><small>"+c("function"==typeof(i=null!=(i=t.subtitle||(null!=n?n.subtitle:n))?i:o)?i.call(r,{name:"subtitle",hash:{},data:s}):i)+'</small></h3>\n\n    <div class="reading-list-grid">\x3c!--\n'+(null!=(l=t.each.call(r,null!=n?n.lists:n,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"    --\x3e</div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l=e.lambda,i=e.escapeExpression;return'        <div class="col-xs-6 col-md-4">\n          <a href="/stories/'+i(l(n,n))+'" class="discover-tag on-navigate">'+i(l(n,n))+"</a>\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{};return'<div data-type="discover-tags" class="discover-tags">\n    <h2>'+e.escapeExpression("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:t.helperMissing)?i.call(r,{name:"title",hash:{},data:s}):i)+'</h2>\n\n    <div class="row">\n'+(null!=(l=t.each.call(r,null!=n?n.tags:n,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"    </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'        <div class="col-xs-6 col-md-4">\n            <a href="/stories/'+o((t.slugify||n&&n.slugify||r).call(i,null!=n?n.name_english:n,{name:"slugify",hash:{},data:s}))+'" class="discover-category on-navigate">'+o("function"==typeof(l=null!=(l=t.name||(null!=n?n.name:n))?l:r)?l.call(i,{name:"name",hash:{},data:s}):l)+"</a>\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'<div data-type="discover-categories" class="discover-categories">\n    <h2>'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(i,"Browse Categories",{name:"trans",hash:{},data:s}))+'</h2>\n\n    <div class="row">\n'+(null!=(l=t.each.call(i,null!=n?n.categories:n,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"    </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'    <div class="container">\n        <header class="background background-lg text-left" style="background-image: url(//a.wattpad.com/img/category-banners/browse-category-header.png);">\n             <div id="authentication-panel">\n                <div class="signup-modal">\n'+(null!=(l=e.invokePartial(a["core.signup_prompt"],n,{name:"core.signup_prompt",data:s,indent:"                  ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'                </div>\n            </div>\n            <div id="sign-up-header">\n                <h1>'+o((t.trans||n&&n.trans||r).call(i,"Discover Stories",{name:"trans",hash:{},data:s}))+"</h1>\n                <p>"+o((t.trans||n&&n.trans||r).call(i,"Read books and stories free on Wattpad. Choose from millions of titles about romance, fanfiction, fantasy, science fiction, non fiction, teen fiction, and more.",{name:"trans",hash:{},data:s}))+'</p>\n            </div>\n            <div class="overlay"></div>\n        </header>\n    </div>\n'},3:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return(null!=(l=t.if.call(i,null!=n?n.panels:n,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?l:"")+(null!=(l=t.if.call(i,null!=n?n.lists:n,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?l:"")+(null!=(l=t.if.call(i,null!=n?n.placeholder:n,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?l:"")+(null!=(l=t.if.call(i,null!=n?n.tags:n,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?l:"")},4:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["desktop.discover.discover_stories"],n,{name:"desktop.discover.discover_stories",data:s,indent:"            ",helpers:t,partials:a,decorators:e.decorators}))?l:""},6:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["desktop.discover.discover_lists"],n,{name:"desktop.discover.discover_lists",data:s,indent:"            ",helpers:t,partials:a,decorators:e.decorators}))?l:""},8:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o="function",c=e.escapeExpression;return'            <div class="discover-'+c(typeof(l=null!=(l=t.placeholderType||(null!=n?n.placeholderType:n))?l:r)===o?l.call(i,{name:"placeholderType",hash:{},data:s}):l)+'-desktop" data-placeholder="true" data-type="discover-'+c(typeof(l=null!=(l=t.placeholderType||(null!=n?n.placeholderType:n))?l:r)===o?l.call(i,{name:"placeholderType",hash:{},data:s}):l)+'" data-url="'+c(typeof(l=null!=(l=t.url||(null!=n?n.url:n))?l:r)===o?l.call(i,{name:"url",hash:{},data:s}):l)+'" data-cache="'+c(typeof(l=null!=(l=t.cache||(null!=n?n.cache:n))?l:r)===o?l.call(i,{name:"cache",hash:{},data:s}):l)+'" data-layout="'+c(typeof(l=null!=(l=t.layout||(null!=n?n.layout:n))?l:r)===o?l.call(i,{name:"layout",hash:{},data:s}):l)+'">\n                <h2 class="story-grid-title">'+c(typeof(l=null!=(l=t.title||(null!=n?n.title:n))?l:r)===o?l.call(i,{name:"title",hash:{},data:s}):l)+"</h2>\n                <h3><small>"+c(typeof(l=null!=(l=t.subtitle||(null!=n?n.subtitle:n))?l:r)===o?l.call(i,{name:"subtitle",hash:{},data:s}):l)+'</small></h3>\n                <div class="loading-placeholder">'+c((t.trans||n&&n.trans||r).call(i,"Loading...",{name:"trans",hash:{},data:s}))+"</div>\n            </div>\n"},10:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["core.discover.discover_tags"],n,{name:"core.discover.discover_tags",data:s,indent:"            ",helpers:t,partials:a,decorators:e.decorators}))?l:""},12:function(e,n,t,a,s){var l;return'    <div id="recommended-users" class="clearfix">\n        <div class="recommended-users-view">'+(null!=(l=e.invokePartial(a["core.collection_views.recommended_follow"],n,{name:"core.collection_views.recommended_follow",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")+"</div>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return(null!=(l=t.unless.call(i,null!=n?n.currentUser:n,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'\n<div class="container">\n'+(null!=(l=t.each.call(i,null!=n?n.panelGroups:n,{name:"each",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.currentUser:n,{name:"if",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=e.invokePartial(a["core.discover.discover_categories"],n,{name:"core.discover.discover_categories",data:s,indent:"    ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'\n    </div>\n</div>\n\n<div id="preview-modal"></div>\n'},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return'<span class="label label-info">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Completed",{name:"trans",hash:{},data:s}))+"</span>&nbsp;&nbsp;"},3:function(e,n,t,a,s){return'<span class="label label-danger">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Mature",{name:"trans",hash:{},data:s}))+"</span>"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'\n<div class="clearfix" data-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'">\n    <div class="drag-handle on-edit-show pull-left">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-menu",28,"wp-neutral-2","fa-xl",{name:"iconify",hash:{},data:s}))?l:"")+'</div>\n    <a class="cover cover-sm pull-left on-navigate" href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'">\n        <img src="'+c((t.resizeCover||n&&n.resizeCover||o).call(r,null!=n?n.cover:n,80,{name:"resizeCover",hash:{},data:s}))+'">\n    </a>\n\n    <div class="circular-checkbox on-check-story fa-stack pull-right on-edit-show" data-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'">\n        <span class="circle-empty vhcenter">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-circle-empty",30,"wp-neutral-3 vhcenter",{name:"iconify",hash:{},data:s}))?l:"")+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-circle-empty",26,"wp-neutral-5 vhcenter",{name:"iconify",hash:{},data:s}))?l:"")+'</span>\n        <span class="checked-in vhcenter">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-circle-filled",22,"wp-base-2 vhcenter",{name:"iconify",hash:{},data:s}))?l:"")+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-check",17,"wp-neutral-5 vhcenter",{name:"iconify",hash:{},data:s}))?l:"")+'</span>\n    </div>\n\n    <div class="content">\n        <h5><a class="on-navigate" href="'+c((t.formatStoryUrl||n&&n.formatStoryUrl||o).call(r,null!=n?n.url:n,{name:"formatStoryUrl",hash:{},data:s}))+'">'+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+'</a></h5>\n        <div class="meta">\n          <small class="reads">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-view",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.count||n&&n.count||o).call(r,null!=n?n.readCount:n,{name:"count",hash:{},data:s}))+'</small>\n          <small class="votes">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-vote",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.count||n&&n.count||o).call(r,null!=n?n.voteCount:n,{name:"count",hash:{},data:s}))+'</small>\n          <small class="numParts">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-list",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.count||n&&n.count||o).call(r,null!=n?n.numParts:n,{name:"count",hash:{},data:s}))+'</small>\n        </div>\n\n        <p class="on-edit-hide">'+(null!=(l=(t.simpleShorten||n&&n.simpleShorten||o).call(r,null!=n?n.description:n,320,!1,{name:"simpleShorten",hash:{},data:s}))?l:"")+'</p>\n\n        <div class="story-status on-edit-hide">\n            '+(null!=(l=t.if.call(r,null!=n?n.completed:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"\n            "+(null!=(l=t.if.call(r,null!=n?n.mature:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"\n        </div>\n    </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=e.escapeExpression;return'                <div class="list-name-controls on-edit-show">\n                    <div class="input-group">\n                        <input id="list-name-input" type="text" class="form-control"\n                        placeholder="'+i((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Enter a name for this list",{name:"trans",hash:{},data:s}))+'" value="'+i(e.lambda(null!=(l=null!=n?n.list:n)?l.name:l,n))+'">\n                    </div>\n                </div>\n'},3:function(e,n,t,a,s){var l=e.lambda,i=e.escapeExpression;return'                        <span class="tag"><a href="/stories/'+i(l(n,n))+'">#'+i(l(n,n))+"</a></span>\n"},5:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'    <div class="edit-toolbar">\n        <button class="btn btn-md btn-orange on-edit-list on-edit-hide"><span>'+r((t.trans||n&&n.trans||i).call(l,"Edit",{name:"trans",hash:{},data:s}))+'</span></button>\n        <button class="btn btn-md btn-orange on-done-edit on-edit-show"><span>'+r((t.trans||n&&n.trans||i).call(l,"Done",{name:"trans",hash:{},data:s}))+'</span></button>\n        <button class="btn btn-md btn-red on-delete-list on-edit-show">'+r((t.trans||n&&n.trans||i).call(l,"Delete List",{name:"trans",hash:{},data:s}))+"</button>\n    </div>\n"},7:function(e,n,t,a,s){var l,i,r,o=e.lambda,c=e.escapeExpression,u=null!=n?n:e.nullContext||{},d=t.helperMissing,h='        <div class="follow">\n            <a href="/user/'+c(o(null!=(l=null!=(l=null!=n?n.list:n)?l.user:l)?l.name:l,n))+'" class="avatar avatar-md on-navigate">\n                <img src="'+c((t.resizeAvatar||n&&n.resizeAvatar||d).call(u,null!=(l=null!=(l=null!=n?n.list:n)?l.user:l)?l.avatar:l,40,{name:"resizeAvatar",hash:{},data:s}))+'" alt="'+c(o(null!=(l=null!=(l=null!=n?n.list:n)?l.user:l)?l.name:l,n))+'">\n            </a>\n            <ul>\n                <li>'+c((t.trans||n&&n.trans||d).call(u,"Like these stories?",{name:"trans",hash:{},data:s}))+"</li>\n\n"+(null!=(l=t.if.call(u,null!=(l=null!=(l=null!=n?n.list:n)?l.user:l)?l.following:l,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.program(10,s,0),data:s}))?l:"")+'            </ul>\n\n            <button class="btn btn-fan '+(null!=(l=t.if.call(u,null!=(l=null!=(l=null!=n?n.list:n)?l.user:l)?l.following:l,{name:"if",hash:{},fn:e.program(12,s,0),inverse:e.program(14,s,0),data:s}))?l:"")+" ";return i=null!=(i=t.disabled||(null!=n?n.disabled:n))?i:d,r={name:"disabled",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(u,r):i,t.disabled||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(h+=l),h+'" data-target="'+c(o(null!=(l=null!=(l=null!=n?n.list:n)?l.user:l)?l.name:l,n))+'" data-following="'+c(o(null!=(l=null!=(l=null!=n?n.list:n)?l.user:l)?l.following:l,n))+'" role="button" aria-pressed="false">\n'+(null!=(l=t.if.call(u,null!=(l=null!=(l=null!=n?n.list:n)?l.user:l)?l.following:l,{name:"if",hash:{},fn:e.program(18,s,0),inverse:e.program(20,s,0),data:s}))?l:"")+"            </button>\n        </div>\n"},8:function(e,n,t,a,s){var l;return'                <li class="created-by-user">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Selected by %s",null!=(l=null!=(l=null!=n?n.list:n)?l.user:l)?l.name:l,{name:"trans",hash:{},data:s}))+"</li>\n"},10:function(e,n,t,a,s){var l;return'                <li class="created-by-user">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Follow %s",null!=(l=null!=(l=null!=n?n.list:n)?l.user:l)?l.name:l,{name:"trans",hash:{},data:s}))+"</li>\n"},12:function(e,n,t,a,s){return"btn-teal"},14:function(e,n,t,a,s){return"btn-white"},16:function(e,n,t,a,s){return"disabled"},18:function(e,n,t,a,s){var l;return"                    "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-following",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+"\n"},20:function(e,n,t,a,s){var l;return"                    "+(null!=(l=(t.iconify||n&&n.iconify||t.helperMissing).call(null!=n?n:e.nullContext||{},"fa-follow",16,"wp-base-2-dark",{name:"iconify",hash:{},data:s}))?l:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression,c=e.lambda;return'<div class="reading-list-sidebar col-xs-12">\n    <div class="clearfix">\n        <div class="cover cover-reading-list col-xs-5 col-sm-12 pull-right">\n            <img src="'+o((t.resizeCover||n&&n.resizeCover||r).call(i,null!=(l=null!=n?n.list:n)?l.cover:l,368,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o(c(null!=(l=null!=n?n.list:n)?l.name:l,n))+'">\n        </div>\n        <div class="reading-list-info col-xs-7 col-sm-12">\n            <h1 class="h2 list-name on-edit-hide"><span>'+o(c(null!=(l=null!=n?n.list:n)?l.name:l,n))+"</span></h1>\n\n"+(null!=(l=t.if.call(i,null!=n?n.isOwner:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"\n"+(null!=(l=e.invokePartial(a["core.library.reading_list_details.library_reading_list_meta"],n,{name:"core.library.reading_list_details.library_reading_list_meta",data:s,indent:"            ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+'            <div class="taglist on-edit-hide">\n'+(null!=(l=t.each.call(i,null!=(l=null!=n?n.list:n)?l.tags:l,{name:"each",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:"")+"            </div>\n        </div>\n    </div>\n\n"+(null!=(l=t.if.call(i,null!=n?n.isOwner:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+'\n    <div class="col-xs-12 on-edit-hide">\n'+(null!=(l=(t.isCurrentUser||n&&n.isCurrentUser||r).call(i,null!=(l=null!=(l=null!=n?n.list:n)?l.user:l)?l.name:l,{name:"isCurrentUser",hash:{},fn:e.noop,inverse:e.program(7,s,0),data:s}))?l:"")+"\n        "+(null!=(l=(t.reactComponent||n&&n.reactComponent||r).call(i,"SocialSharing","sidebar",{name:"reactComponent",hash:{},data:s}))?l:"")+"\n    </div>\n</div>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'    <div class="page-controls clearfix" role="menu">\n        <a href="/list" class="pull-left btn btn-sm btn-text on-navigate">'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-left",12,"fa-text-grey",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.trans||n&&n.trans||r).call(i,"My reading lists",{name:"trans",hash:{},data:s}))+'</a>\n        <div class="pull-right page-status">\n            '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-unlock",14,"fa-mediumgrey",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.trans||n&&n.trans||r).call(i,"Public",{name:"trans",hash:{},data:s}))+"\n        </div>\n    </div>\n"},3:function(e,n,t,a,s){var l;return'            <div id="authentication-panel" class="panel panel-basic">\n                <div class="signup-modal">\n'+(null!=(l=e.invokePartial(a["core.signup_prompt"],n,{name:"core.signup_prompt",data:s,indent:"                    ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"                </div>\n            </div>\n"},5:function(e,n,t,a,s,l,i){var r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u=e.escapeExpression;return'            <div class="panel feed-item-new">\n                <div class="select-all on-edit-show">\n                    <div class="circular-checkbox fa-stack pull-right on-select-all">\n                        <span class="circle-empty">'+(null!=(r=(t.iconify||n&&n.iconify||c).call(o,"fa-circle-empty",30,"wp-neutral-3 vhcenter",{name:"iconify",hash:{},data:s}))?r:"")+(null!=(r=(t.iconify||n&&n.iconify||c).call(o,"fa-circle-empty",26,"wp-neutral-5 vhcenter",{name:"iconify",hash:{},data:s}))?r:"")+'</span>\n                        <span class="checked-in">'+(null!=(r=(t.iconify||n&&n.iconify||c).call(o,"fa-circle-filled",22,"wp-base-2 vhcenter",{name:"iconify",hash:{},data:s}))?r:"")+(null!=(r=(t.iconify||n&&n.iconify||c).call(o,"fa-check",17,"wp-neutral-5 vhcenter",{name:"iconify",hash:{},data:s}))?r:"")+'</span>\n                    </div>\n\n                    <span class="text pull-right on-select-all">'+u((t.trans||n&&n.trans||c).call(o,"Select All",{name:"trans",hash:{},data:s}))+'</span>\n                </div>\n\n                <ul class="list-group" data-drag="true">\n'+(null!=(r=t.each.call(o,null!=n?n.stories:n,{name:"each",hash:{},fn:e.program(6,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'                </ul>\n\n                <div class="show-more center-text hidden">\n                    <button class="btn btn-link on-showmore">\n                    <span class="show-more-message">\n                        <span>'+u((t.trans||n&&n.trans||c).call(o,"Show more",{name:"trans",hash:{},data:s}))+'</span>\n                        <span class="fa fa-down-small fa-wp-neutral-2"></span>\n                    </span>\n                    <span class="loading-message hidden">\n                        '+(null!=(r=(t.iconifySpin||n&&n.iconifySpin||c).call(o,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?r:"")+"\n                        <span> "+u((t.trans||n&&n.trans||c).call(o,"Loading",{name:"trans",hash:{},data:s}))+" ...</span>\n                    </span>\n                    </button>\n                </div>\n            </div>\n"},6:function(e,n,t,a,s,l,i){var r;return'                    <li class="list-group-item">\n'+(null!=(r=t.with.call(null!=n?n:e.nullContext||{},{name:"with",hash:{list:i[1]},fn:e.program(7,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"                    </li>\n"},7:function(e,n,t,a,s){var l;return null!=(l=e.invokePartial(a["core.library.reading_list_details.library_reading_list_story_item"],n,{name:"core.library.reading_list_details.library_reading_list_story_item",data:s,indent:"                            ",helpers:t,partials:a,decorators:e.decorators}))?l:""},9:function(e,n,t,a,s){var l;return null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.noStories:n,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?l:""},10:function(e,n,t,a,s){var l;return'            <div class="text-center">\n'+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.isOwner:n,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.program(13,s,0),data:s}))?l:"")+"            </div>\n            "},11:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return"                    <p>"+r((t.trans||n&&n.trans||i).call(l,"No stories yet. Go add some!",{name:"trans",hash:{},data:s}))+"</p>\n                    "+r((t.connectImage||n&&n.connectImage||i).call(l,"/shared/add_to_reading_list.png",(t.trans||n&&n.trans||i).call(l,"Add a story to your reading list",{name:"trans",hash:{},data:s}),{name:"connectImage",hash:{klass:"add-to-list",height:"153"},data:s}))+"\n                    <p>"+r((t.trans||n&&n.trans||i).call(l,'Look for the "+" button to add a story to your reading list.',{name:"trans",hash:{},data:s}))+"</p>\n"},13:function(e,n,t,a,s){return"                    <p>"+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"This reading list is currently empty.",{name:"trans",hash:{},data:s}))+"</p>\n"},15:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'    <div class="list-controls">\n        <span class="num-selected vcenter"></span>\n        <button id="btn-batch-remove" class="btn btn-lightgrey btn-md on-batch-remove pull-right" disabled> '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-trash",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'</button>\n        <button id="btn-batch-add" class="btn btn-lightgrey btn-md on-batch-add pull-right" disabled> '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-plus",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+"</button>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s,l,i){var r,o,c,u=null!=n?n:e.nullContext||{},d='\n<div class="container">\n'+(null!=(r=t.if.call(u,null!=n?n.isOwner:n,{name:"if",hash:{},fn:e.program(1,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'\n    <div class="row">\n\n        <aside class="col-xs-12 col-sm-5 col-md-4 clearfix">\n'+(null!=(r=e.invokePartial(a["core.library.reading_list_details.library_reading_list_sidebar"],n,{name:"core.library.reading_list_details.library_reading_list_sidebar",data:s,indent:"           ",helpers:t,partials:a,decorators:e.decorators}))?r:"")+"\n";return o=null!=(o=t.isLogged||(null!=n?n.isLogged:n))?o:t.helperMissing,c={name:"isLogged",hash:{},fn:e.noop,inverse:e.program(3,s,0,l,i),data:s},r="function"==typeof o?o.call(u,c):o,t.isLogged||(r=t.blockHelperMissing.call(n,r,c)),null!=r&&(d+=r),d+'        </aside>\n\n        <main class="col-xs-12 col-sm-7 col-md-8">\n'+(null!=(r=t.if.call(u,null!=n?n.hasStories:n,{name:"if",hash:{},fn:e.program(5,s,0,l,i),inverse:e.program(9,s,0,l,i),data:s}))?r:"")+"        </main>\n    </div>\n\n"+(null!=(r=t.if.call(u,null!=n?n.isOwner:n,{name:"if",hash:{},fn:e.program(15,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"</div>\n"},usePartial:!0,useData:!0,useDepths:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l=e.lambda,i=e.escapeExpression;return'            <span class="tag on-navigate"><a href="/stories/'+i(l(n,n))+'">#'+i(l(n,n))+"</a></span>\n"},3:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'        <li><a role="button" data-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" data-placement="top" title="'+c((t.trans||n&&n.trans||o).call(r,"This is your default list; it cannot be deleted",{name:"trans",hash:{},data:s}))+'" class="disabled">\n          '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-info",20,"wp-neutral-2 vcenter",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.trans||n&&n.trans||o).call(r,"Primary List",{name:"trans",hash:{},data:s}))+"\n        </a></li>\n"},5:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'        <li><a role="button" href="#" data-toggle="modal" data-target="#delete-modal"\n        data-stop-details="true" data-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" class="on-delete-list">\n          '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-trash",20,"wp-neutral-2 vcenter",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.trans||n&&n.trans||o).call(r,"Delete List",{name:"trans",hash:{},data:s}))+"\n        </a></li>\n"},7:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'        <li><a role="button" class="share-'+c("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)?i.call(r,{name:"name",hash:{},data:s}):i)+(null!=(l=t.unless.call(r,null!=n?n.nopopup:n,{name:"unless",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?l:"")+'" '+c("function"==typeof(i=null!=(i=t.socialSharingAttributes||(null!=n?n.socialSharingAttributes:n))?i:o)?i.call(r,{name:"socialSharingAttributes",hash:{},data:s}):i)+">\n          "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,null!=n?n.icon:n,20,"wp-neutral-2 vcenter",{name:"iconify",hash:{},data:s}))?l:"")+" "+c("function"==typeof(i=null!=(i=t.label||(null!=n?n.label:n))?i:o)?i.call(r,{name:"label",hash:{},data:s}):i)+"\n        </a></li>\n"},8:function(e,n,t,a,s){return' social-share" rel="nofollow" target="_blank'},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c="function",u=e.escapeExpression;return'\n<div class="reading-list-item row panel" role="listitem" data-id="'+u(typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)===c?i.call(r,{name:"id",hash:{},data:s}):i)+'">\n  <div class="drag-handle vcenter">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-menu",28,"wp-neutral-2","fa-xl",{name:"iconify",hash:{},data:s}))?l:"")+'</div>\n\n  <div class="story-wrapper vcenter">\n    <div class="cover cover-sm vcenter" aria-hidden="true">\n      <a class="on-navigate" href="/list/'+u(typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)===c?i.call(r,{name:"id",hash:{},data:s}):i)+'" data-href="/list/'+u(typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)===c?i.call(r,{name:"id",hash:{},data:s}):i)+'">\n        <img src="'+u((t.resizeCover||n&&n.resizeCover||o).call(r,null!=n?n.cover:n,70,{name:"resizeCover",hash:{},data:s}))+'" alt="'+u(typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)===c?i.call(r,{name:"name",hash:{},data:s}):i)+'" />\n      </a>\n    </div>\n    <div class="story-info vcenter">\n      <h3 class="story-title" aria-label="'+u((t.trans||n&&n.trans||o).call(r,"Story Item",{name:"trans",hash:{},data:s}))+": "+u(typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)===c?i.call(r,{name:"name",hash:{},data:s}):i)+'.">\n      <a class="on-show-details on-navigate" href="/list/'+u(typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)===c?i.call(r,{name:"id",hash:{},data:s}):i)+'" data-href="/list/'+u(typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)===c?i.call(r,{name:"id",hash:{},data:s}):i)+'">\n        <strong>'+u(typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:o)===c?i.call(r,{name:"name",hash:{},data:s}):i)+'</strong>\n      </a>\n      </h3>\n      <a class="on-show-details on-navigate" href="/list/'+u(typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)===c?i.call(r,{name:"id",hash:{},data:s}):i)+'" data-href="/list/'+u(typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)===c?i.call(r,{name:"id",hash:{},data:s}):i)+'">\n        <small>'+u((t.sprintf||n&&n.sprintf||o).call(r,(t.ngettext||n&&n.ngettext||o).call(r,"%s Story","%s Stories",null!=n?n.numStories:n,{name:"ngettext",hash:{},data:s}),null!=n?n.numStories:n,{name:"sprintf",hash:{},data:s}))+'</small>\n      </a>\n      <div class="taglist">\n'+(null!=(l=t.each.call(r,null!=n?n.tags:n,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'      </div>\n    </div>\n  </div>\n\n\n  <div class="dropdown">\n    <button class="btn btn-white dropdown-toggle" data-toggle="dropdown" role="button">\n        '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-more",18,"wp-neutral-2","fa-l",{name:"iconify",hash:{},data:s}))?l:"")+'\n    </button>\n    <div class="triangle"></div>\n    <ul class="dropdown-menu align-right" role="menu">\n'+(null!=(l=t.if.call(r,null!=n?n.featured:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?l:"")+(null!=(l=t.each.call(r,null!=n?n.socialLinks:n,{name:"each",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")+"     </ul>\n  </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"    "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-lock",14,"fa-mediumgrey",{name:"iconify",hash:{},data:s}))?l:"")+" "+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Private",{name:"trans",hash:{},data:s}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<button class="btn btn-orange on-newlist">'+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"New Reading List",{name:"trans",hash:{},data:s}))+" "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-plus",13,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+'</button>\n\n<div class="pull-right page-status">\n'+(null!=(l=t.unless.call(i,null!=n?n.islist:n,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"</div>\n\n\n\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return null!=(l=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.lists:n,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:""},2:function(e,n,t,a,s){var l;return'    --\x3e<div class="reading-list-item-row">\n'+(null!=(l=e.invokePartial(a["core.library.library_reading_list_item"],n,{name:"core.library.library_reading_list_item",data:s,indent:"        ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"    </div>\x3c!--\n"},4:function(e,n,t,a,s){return"    --\x3e<p>"+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"You currently have no reading lists.",{name:"trans",hash:{},data:s}))+"</p>\x3c!--\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'\n<div class="reading-list-tab container col-md-12 col-sm-12" id="reading-list-tab" data-drag="true">\x3c!--\n'+(null!=(l=t.if.call(i,null!=n?n.hasLists:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?l:"")+'--\x3e</div>\n\n\n<div class="show-more center-text hidden">\n  <button class="btn btn-link on-showmore">\n  <strong>'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(i,"Show More",{name:"trans",hash:{},data:s}))+"</strong>\n  </button>\n</div>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return"active"},3:function(e,n,t,a,s){var l;return"            <div>\n"+(null!=(l=e.invokePartial(a["core.library.library_controls.library_lists_controls"],n,{name:"core.library.library_controls.library_lists_controls",data:s,indent:"              ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"            </div>\n"},5:function(e,n,t,a,s){var l;return"            <div>\n"+(null!=(l=e.invokePartial(a["core.library.library_controls"],n,{name:"core.library.library_controls",data:s,indent:"              ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"            </div>\n"},7:function(e,n,t,a,s){var l;return'              <div class="library-lists-landing">\n'+(null!=(l=e.invokePartial(a["core.library.library_lists_landing"],n,{name:"core.library.library_lists_landing",data:s,indent:"                ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"              </div>\n"},9:function(e,n,t,a,s){var l;return"              <div>\n"+(null!=(l=e.invokePartial(a["core.library.library_listing"],n,{name:"core.library.library_listing",data:s,indent:"                ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"              </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u=e.escapeExpression,d=t.blockHelperMissing,h='\n <div id="library-landing-page">\n    <div class="container">\n        <header>\n            <h1>'+u((t.trans||n&&n.trans||c).call(o,"Library",{name:"trans",hash:{},data:s}))+'</h1>\n        </header>\n        <div class="sub-navigation">\n            <div class="container">\n                <nav class="pull-left" role="navigation">\n                    <ul>\n                        <li class="';return i=null!=(i=t.islibrary||(null!=n?n.islibrary:n))?i:c,r={name:"islibrary",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(o,r):i,t.islibrary||(l=d.call(n,l,r)),null!=l&&(h+=l),h+='">\n                            <a class="tab-control" data-section="current-reads" href="/library">'+u((t.trans||n&&n.trans||c).call(o,"Current reads",{name:"trans",hash:{},data:s}))+'</a>\n                        </li>\n                        <li class="',i=null!=(i=t.isarchive||(null!=n?n.isarchive:n))?i:c,r={name:"isarchive",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(o,r):i,t.isarchive||(l=d.call(n,l,r)),null!=l&&(h+=l),h+='">\n                            <a class="tab-control" data-section="archive" href="/archive">'+u((t.trans||n&&n.trans||c).call(o,"Archive",{name:"trans",hash:{},data:s}))+'</a>\n                        </li>\n                        <li class="',i=null!=(i=t.islist||(null!=n?n.islist:n))?i:c,r={name:"islist",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(o,r):i,t.islist||(l=d.call(n,l,r)),null!=l&&(h+=l),h+'">\n                            <a class="tab-control" data-section="reading-lists" href="/list">'+u((t.trans||n&&n.trans||c).call(o,"Reading Lists",{name:"trans",hash:{},data:s}))+'</a>\n                        </li>\n                    </ul>\n                </nav>\n            </div>\n        </div>\n    </div>\n    <div class="container">\n        <div id="library-controls" class="page-controls clearfix" role="menu">\n'+(null!=(l=t.if.call(o,null!=n?n.islist:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?l:"")+'        </div>\n\n        <main id="tab-content">\n'+(null!=(l=t.if.call(o,null!=n?n.islist:n,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.program(9,s,0),data:s}))?l:"")+'        </main>\n    </div>\n</div>\n<div id="preview-modal"></div>\n'},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return'        <span class="rating label label-info">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Mature",{name:"trans",hash:{},data:s}))+"</div>\n"},3:function(e,n,t,a,s){return'        <span class="status label label-info">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Completed",{name:"trans",hash:{},data:s}))+"</span>\n"},5:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'        <time datetime="'+r((t.fromNow||n&&n.fromNow||i).call(l,null!=n?n.modifyDate:n,{name:"fromNow",hash:{},data:s}))+'">\n            '+r((t.trans||n&&n.trans||i).call(l,"Updated %s",(t.fromNow||n&&n.fromNow||i).call(l,null!=n?n.modifyDate:n,{name:"fromNow",hash:{},data:s}),{name:"trans",hash:{},data:s}))+"\n        </time>\n"},7:function(e,n,t,a,s){var l,i=e.escapeExpression;return'        <pre class="description"> '+i((t.simpleShorten||n&&n.simpleShorten||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.description:n,500,!1,{name:"simpleShorten",hash:{},data:s}))+' </pre>\n        <div class="meta tags related">\n            <span class="tag">'+i(e.lambda(null!=(l=null!=n?n.categoryObject:n)?l.name:l,n))+"</span>\n        </div>\n"},9:function(e,n,t,a,s){return'        <button type="button" class="on-unarchive-story btn btn-block btn-grey">\n            '+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Unarchive",{name:"trans",hash:{},data:s}))+"\n        </button>\n\n"},11:function(e,n,t,a,s){return'        <button type="button" class="on-archive-story btn btn-block btn-grey">\n            '+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Archive",{name:"trans",hash:{},data:s}))+"\n        </button>\n\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<div class="modal-content" style="background-image: url('+c((t.resizeCoverAsBackground||n&&n.resizeCoverAsBackground||o).call(r,null!=n?n.cover:n,640,{name:"resizeCoverAsBackground",hash:{},data:s}))+');">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-remove",20,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+'\n        </button>\n        <h4 class="modal-title">'+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+'</h4>\n        <div class="username">'+c((t.trans||n&&n.trans||o).call(r,"by %s",null!=(l=null!=n?n.user:n)?l.name:l,{name:"trans",hash:{},data:s}))+"</div>\n"+(null!=(l=t.if.call(r,null!=n?n.mature:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+(null!=(l=t.if.call(r,null!=n?n.completed:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?l:"")+'        <div class="meta tags">\n            <span> '+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-view",13,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.count||n&&n.count||o).call(r,null!=n?n.readCount:n,{name:"count",hash:{},data:s}))+" </span>\n            <span> "+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-vote",13,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?l:"")+" "+c((t.count||n&&n.count||o).call(r,null!=n?n.voteCount:n,{name:"count",hash:{},data:s}))+' </span>\n            <span class="tag pull-right">'+c(e.lambda(null!=(l=null!=n?n.categoryObject:n)?l.name:l,n))+'</span>\n        </div>\n    </div>\n    <div class="modal-body">\n'+(null!=(l=t.if.call(r,null!=n?n.description:n,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")+'\n        <button type="button" class="on-story-details btn btn-block btn-grey">\n            '+c((t.trans||n&&n.trans||o).call(r,"Story Details",{name:"trans",hash:{},data:s}))+"\n        </button>\n\n"+(null!=(l=t.if.call(r,null!=n?n.archived:n,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.program(11,s,0),data:s}))?l:"")+'    </div>\n    <div class="modal-footer">\n        <button type="button" class="btn btn-block btn-grey" data-dismiss="modal">'+c((t.trans||n&&n.trans||o).call(r,"Close",{name:"trans",hash:{},data:s}))+"</button>\n    </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return'                  <button class="btn btn-block btn-glass btn-left-align on-read">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Continue Reading",{name:"trans",hash:{},data:s}))+"</button>\n"},3:function(e,n,t,a,s){return'                  <button class="btn btn-block btn-glass  btn-left-align on-read">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Start Reading",{name:"trans",hash:{},data:s}))+"</button>\n"},5:function(e,n,t,a,s){return'                  <button class="btn btn-block btn-glass btn-left-align on-unarchive-story">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Unarchive",{name:"trans",hash:{},data:s}))+"</button>\n"},7:function(e,n,t,a,s){return'                  <button class="btn btn-block btn-glass btn-left-align on-archive-story">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Archive",{name:"trans",hash:{},data:s}))+"</button>\n"},9:function(e,n,t,a,s){return'    <span class="percentage-read">\n        <span class="percentage-position" style="width:'+e.escapeExpression((t.calcPercentRead||n&&n.calcPercentRead||t.helperMissing).call(null!=n?n:e.nullContext||{},null!=n?n.parts:n,null!=n?n.readingPosition:n,{name:"calcPercentRead",hash:{},data:s}))+'%"></span>\n    </span>\n'},11:function(e,n,t,a,s){return'          <span class="label label-primary">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Updated",{name:"trans",hash:{},data:s}))+"</span>\n\n"},13:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return"          <span> "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-view",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.count||n&&n.count||r).call(i,null!=n?n.readCount:n,{name:"count",hash:{},data:s}))+" </span>\n          <span> "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-vote",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+" "+o((t.count||n&&n.count||r).call(i,null!=n?n.voteCount:n,{name:"count",hash:{},data:s}))+" </span>\n\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression,u=e.lambda;return'\n<div class="on-story-preview cover cover-lg">\n    <div class="fixed-ratio fixed-ratio-cover">\n        <img src="'+c((t.resizeCover||n&&n.resizeCover||o).call(r,null!=n?n.cover:n,256,{name:"resizeCover",hash:{},data:s}))+'">\n\n        <div class="story-overlay on-story-hover" style="display: none;">\n            <div class="overlay-bg"></div>\n\n            <div class="quick-controls clearfix">\n                <button class="btn btn-text on-delete-story">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-trash",20,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+'</button>\n            </div>\n\n            <div class="overlay-container">\n'+(null!=(l=t.if.call(r,null!=n?n.hasStarted:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+'                <button class="btn btn-block btn-glass btn-left-align on-details">'+c((t.trans||n&&n.trans||o).call(r,"Details",{name:"trans",hash:{},data:s}))+"</button>\n"+(null!=(l=t.if.call(r,null!=n?n.archived:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s}))?l:"")+'                  <button data-story-id="'+c("function"==typeof(i=null!=(i=t.id||(null!=n?n.id:n))?i:o)?i.call(r,{name:"id",hash:{},data:s}):i)+'" class="btn btn-block btn-glass btn-left-align on-reading-list btn-story-lists on-lists-add-clicked">'+c((t.trans||n&&n.trans||o).call(r,"Add to List",{name:"trans",hash:{},data:s}))+"</button>\n            </div>\n\n        </div>\n    </div>\n</div>\n"+(null!=(l=t.unless.call(r,null!=n?n.archived:n,{name:"unless",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?l:"")+'\n<div class="content">\n    <div class="info">\n        <strong>'+c("function"==typeof(i=null!=(i=t.title||(null!=n?n.title:n))?i:o)?i.call(r,{name:"title",hash:{},data:s}):i)+"</strong>\n        <small>"+c(u(null!=(l=null!=n?n.user:n)?l.name:l,n))+'</small>\n    </div>\n    <a href="/user/'+c(u(null!=(l=null!=n?n.user:n)?l.name:l,n))+'" class="avatar avatar-sm on-navigate">\n        <img src="'+c((t.resizeAvatar||n&&n.resizeAvatar||o).call(r,null!=(l=null!=n?n.user:n)?l.avatar:l,32,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n\n    <div class="meta">\n'+(null!=(l=t.if.call(r,null!=n?n.updated:n,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.program(13,s,0),data:s}))?l:"")+"    </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return"    "+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-lock",14,"fa-mediumgrey",{name:"iconify",hash:{},data:s}))?l:"")+" <span>"+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Private",{name:"trans",hash:{},data:s}))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return'<div class="pull-left">\n    <div style="height: 35px;"></div>\n</div>\n\n<div class="pull-right page-status">\n'+(null!=(l=t.unless.call(null!=n?n:e.nullContext||{},null!=n?n.islist:n,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return"            <li>"+e.escapeExpression(e.lambda(null!=n?n.title:n,n))+"</li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return"\n<h3>"+o((t.trans||n&&n.trans||r).call(i,"Some stories are no longer available",{name:"trans",hash:{},data:s}))+'</h3>\n<a class="on-inactive-stories" role="button">'+o((t.trans||n&&n.trans||r).call(i,"Learn more",{name:"trans",hash:{},data:s}))+'</a>\n\n<div class="inactive-stories modal fade" role="dialog">\n  <div class="modal-dialog" id="generic-modal">\n    <div class="modal-content">\n      <h3 class="modal-title text-center">'+o((t.trans||n&&n.trans||r).call(i,"Unavailable Stories",{name:"trans",hash:{},data:s}))+'</h3>\n      <div class="close" data-dismiss="modal">\n        '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n      </div>\n      <div class="modal-body clearfix">\n        <p>'+o((t.trans||n&&n.trans||r).call(i,"The following stories are no longer available because they were unpublished or deleted",{name:"trans",hash:{},data:s}))+":</p>\n        <ul>\n"+(null!=(l=t.each.call(i,null!=n?n.stories:n,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return"                  <li>"+e.escapeExpression(e.lambda(n,n))+"</li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r,o=null!=n?n:e.nullContext||{},c=t.helperMissing,u=e.escapeExpression,d='<div class="modal-dialog">\n    <div class="modal-content">\n        <header class="modal-header">\n            <div class="pull-right close" data-dismiss="modal">\n              '+(null!=(l=(t.iconify||n&&n.iconify||c).call(o,"fa-remove-alt",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?l:"")+'\n            </div>\n            <h2 class="modal-title" id="publish-modal-label">'+u((t.trans||n&&n.trans||c).call(o,"An Error has Occurred",{name:"trans",hash:{},data:s}))+" "+(null!=(l=(t.iconify||n&&n.iconify||c).call(o,"fa-warning",24,"wp-error-1",{name:"iconify",hash:{},data:s}))?l:"")+'</h2>\n        </header>\n\n        <div class="modal-body">\n          '+u("function"==typeof(i=null!=(i=t.error_msg||(null!=n?n.error_msg:n))?i:c)?i.call(o,{name:"error_msg",hash:{},data:s}):i)+"\n            <ul>\n";return i=null!=(i=t.errors||(null!=n?n.errors:n))?i:c,r={name:"errors",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s},l="function"==typeof i?i.call(o,r):i,t.errors||(l=t.blockHelperMissing.call(n,l,r)),null!=l&&(d+=l),d+'            </ul>\n        </div>\n\n        <div class="modal-footer">\n            <button class="btn btn-orange" data-dismiss="modal">'+u((t.trans||n&&n.trans||c).call(o,"Close",{name:"trans",hash:{},data:s}))+"</button>\n        </div>\n    </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return"    <div class='collection'>\x3c!--\n"+(null!=(l=t.each.call(i,null!=n?n.stories:n,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+'--\x3e</div>\n\n    <div class="show-more center-text hidden">\n        <button class="btn btn-link on-showmore">\n            <span class=\'show-more-message\'>\n                <span>'+o((t.trans||n&&n.trans||r).call(i,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n                <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n            </span>\n            <span class='loading-message hidden'>\n                "+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||r).call(i,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?l:"")+"\n                <span> "+o((t.trans||n&&n.trans||r).call(i,"Loading",{name:"trans",hash:{},data:s}))+' ...</span>\n            </span>\n        </button>\n    </div>\n\n    <div class="modal fade" id="preview-modal"></div>\n\n'},2:function(e,n,t,a,s){var l;return'    --\x3e<div class="library-story-item">\n'+(null!=(l=e.invokePartial(a["core.library.library_story_item"],n,{name:"core.library.library_story_item",data:s,indent:"      ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"    </div>\x3c!--\n"},4:function(e,n,t,a,s){return'    <p class="no-item">'+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"No stories available.",{name:"trans",hash:{},data:s}))+"</p>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return"\n"+(null!=(l=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.hasStories:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?l:"")},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression;return'<button type="button" class="btn btn-link pull-right close" data-dismiss="modal">\n    <span aria-hidden="true" class="fa fa-remove"></span><span class="sr-only">Close</span>\n</button>\n<div id="reading-list-create">\n    <h4>'+c((t.trans||n&&n.trans||o).call(r,"Create a Reading List",{name:"trans",hash:{},data:s}))+"</h4>\n    <h5>"+c((t.trans||n&&n.trans||o).call(r,"Give your Reading List a name. It helps to be specific.",{name:"trans",hash:{},data:s}))+'</h5>\n\n    <div class="form-group has-feedback" data-attr="name">\n        <label class="sr-only" for="reading-list-name">'+c((t.trans||n&&n.trans||o).call(r,"Reading List Name",{name:"trans",hash:{},data:s}))+' </label>\n        <input id="reading-list-name" class="form-control" type="text" placeholder="'+c((t.trans||n&&n.trans||o).call(r,"e.g. Best Fantasy books",{name:"trans",hash:{},data:s}))+'">\n      '+(null!=(l="function"==typeof(i=null!=(i=t.validationElements||(null!=n?n.validationElements:n))?i:o)?i.call(r,{name:"validationElements",hash:{},data:s}):i)?l:"")+'\n    </div>\n    <div class="clearfix">\n        <button class="btn btn-orange pull-right on-createlist" data-dismiss="modal">Create List</button>\n        <button class="btn pull-right" data-dismiss="modal">Close</button>\n    </div>\n</div>\n'},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'<div class="valueprops-container container-fluid">\n  <div class="valueprops">\n      <div class="valueprop">\n        <h2 id="write"> '+r((t.trans||n&&n.trans||i).call(l,"Write stories",{name:"trans",hash:{},data:s}))+" </h2>\n        "+r((t.trans||n&&n.trans||i).call(l,"Whatever story you want to tell, there is a reader waiting for you on Wattpad.",{name:"trans",hash:{},data:s}))+'\n      </div>\n      <div class="valueprop">\n        <h2 id="social"> '+r((t.trans||n&&n.trans||i).call(l,"Read socially",{name:"trans",hash:{},data:s}))+" </h2>\n        "+r((t.trans||n&&n.trans||i).call(l,"Inline commenting lets you share thoughts and interact with the story.",{name:"trans",hash:{},data:s}))+'\n      </div>\n      <div class="valueprop">\n        <h2 id="updates"> '+r((t.trans||n&&n.trans||i).call(l,"Get updates",{name:"trans",hash:{},data:s}))+" </h2>\n        "+r((t.trans||n&&n.trans||i).call(l,"Receive real-time notifications as your favorite stories unfold.",{name:"trans",hash:{},data:s}))+"\n      </div>\n  </div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return"sr-only"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i,r=null!=n?n:e.nullContext||{},o=t.helperMissing,c=e.escapeExpression,u=e.lambda;return'<main id="getapp" class="container-fluid">\n  <div class="row">\n      <div class="text-container">\n      <div id="text">\n        <div class="h1-container">\n          <h1>\n            '+c((t.trans||n&&n.trans||o).call(r,"Take stories with you.",{name:"trans",hash:{},data:s}))+'\n          </h1>\n        </div>\n\n        <form id="send-link" class="form-inline" method="post">\n          <div class="cta-text">'+c((t.trans||n&&n.trans||o).call(r,"Get the app in seconds:",{name:"trans",hash:{},data:s}))+'</div>\n\n          <div class="form-group has-feedback" data-attr="getMobile">\n            <label class="control-label '+(null!=(l=(t.supportsPlaceholder||n&&n.supportsPlaceholder||o).call(r,null!=n?n.device:n,{name:"supportsPlaceholder",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'" for="sendTo">'+c((t.trans||n&&n.trans||o).call(r,"enter email",{name:"trans",hash:{},data:s}))+'</label>\n            <input id="sendTo" class="form-control input-md enable" type="text" name="sendTo" placeholder="'+c((t.trans||n&&n.trans||o).call(r,"enter email",{name:"trans",hash:{},data:s}))+'">\n            '+(null!=(l="function"==typeof(i=null!=(i=t.validationElements||(null!=n?n.validationElements:n))?i:o)?i.call(r,{name:"validationElements",hash:{},data:s}):i)?l:"")+'\n          </div>\n          <button type="submit" class="btn-secondary on-send-app-link">\n            <span class="hidden-if-sent">'+c((t.trans||n&&n.trans||o).call(r,"Send Link",{name:"trans",hash:{},data:s}))+'</span>\n            <span class="shown-if-sent">'+(null!=(l=(t.iconify||n&&n.iconify||o).call(r,"fa-check",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+'</span>\n            <span class="shown-if-sending">'+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||o).call(r,"fa-loading",16,null!=n?n.device:n,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?l:"")+'</span>\n          </button>\n        </form>\n        <div class="row" id="download-row">\n          <div class="col-sm-5 google-play-logo">\n            <a href="'+c(u(null!=(l=null!=n?n.appUrl:n)?l.android:l,n))+'" data-gtm="Download|getmobile|Android" target="_blank">\n              '+c((t.connectImage||n&&n.connectImage||o).call(r,null!=n?n.googlePlayImage:n,"Google Play",{name:"connectImage",hash:{size:"170x70"},data:s}))+'\n            </a>\n          </div>\n          <div class="col-sm-5 apple-store-logo">\n            <a href="'+c(u(null!=(l=null!=n?n.appUrl:n)?l.ios:l,n))+'" data-gtm="Download|getmobile|iOS" target="_blank">\n              '+c((t.connectImage||n&&n.connectImage||o).call(r,"homepages/appstore_dark.png","App Store",{name:"connectImage",hash:{klass:"footer-appstore"},data:s}))+'\n            </a>\n          </div>\n          <div class="col-sm-5 huawei-appgallery-logo">\n            <a href="'+c(u(null!=(l=null!=n?n.appUrl:n)?l.huawei:l,n))+'" data-gtm="Download|getmobile|Huawei" target="_blank">\n              '+c((t.connectImage||n&&n.connectImage||o).call(r,"homepages/huawei_appgallery_dark.png","Huawei Appgallery",{name:"connectImage",hash:{},data:s}))+'\n            </a>\n          </div>\n        \n        </div>\n      </div>\n\n  </div>\n    <div id="devices" class="devices">\n      <div id="android-horizontal"></div>\n      <div id="iphonex"></div>\n    </div>\n  </div>\n</main>\n'+(null!=(l=e.invokePartial(a["core.getmobile.values"],n,{name:"core.getmobile.values",data:s,helpers:t,partials:a,decorators:e.decorators}))?l:"")},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<nav>\n  <ul>\n    <li data-section="browse" class="tab-control'+(null!=(l=t.if.call(i,null!=n?n.onBrowse:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+'">\n      <a href="/home/browse">'+o((t.trans||n&&n.trans||r).call(i,"Browse",{name:"trans",hash:{},data:s}))+'</a>\n    </li>\n    <li data-section="home" class="tab-control'+(null!=(l=t.unless.call(i,null!=n?n.onBrowse:n,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+'">\n      <a href="/home">'+o((t.trans||n&&n.trans||r).call(i,"Recommended",{name:"trans",hash:{},data:s}))+"</a>\n    </li>\n  </ul>\n</nav>\n"},2:function(e,n,t,a,s){return" active"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return(null!=(l=t.if.call(i,null!=n?n.isMobile:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'\n<main id="home-content">\n  <div class="load-container">\n    '+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||t.helperMissing).call(i,"fa-loading",49,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{color:"wp-neutral-3"},data:s}))?l:"")+"\n  </div>\n</main>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'                                <span class="spinner" style="display: inline-block">\n                                    '+e.escapeExpression((t.trans||n&&n.trans||r).call(i,"Finding your friends...",{name:"trans",hash:{},data:s}))+" "+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||r).call(i,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{color:"wp-neutral-5"},data:s}))?l:"")+"\n                                </span>\n"},3:function(e,n,t,a,s){return"                                "+e.escapeExpression((t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Connect with Facebook",{name:"trans",hash:{},data:s}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<div class="container">\n    <div class="row">\n        <div id="find-facebook-friends" class="col-md-8">\n            <div class="wp-panel facebook-friends-panel">\n                <div class="wp-hero vcenter">\n                    <div>\n                        <h1 class="h2"><strong> '+o((t.trans||n&&n.trans||r).call(i,"Reading is better with friends",{name:"trans",hash:{},data:s}))+'</strong></h1>\n                        <h2 class="h5"><strong> '+o((t.trans||n&&n.trans||r).call(i,"Connect with Facebook to see who's on Wattpad",{name:"trans",hash:{},data:s}))+'</strong></h2>\n                        <button class="btn btn-lg btn-facebook-link">\n                            '+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-facebook-square",18,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?l:"")+"\n"+(null!=(l=t.if.call(i,null!=n?n.hasFacebook:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+'                        </button>\n                        <div class="alert alert-danger hidden" role="alert"><span>'+(null!=(l=(t.iconify||n&&n.iconify||r).call(i,"fa-warning",16,"wp-lighterror",{name:"iconify",hash:{},data:s}))?l:"")+'</span><span class="errorMessage"></span></div>\n                    </div>\n                </div>\n                <div class="blurred-avatars">\n                    '+o((t.connectImage||n&&n.connectImage||r).call(i,"/invite-friends/img_blurred_friends.png",(t.trans||n&&n.trans||r).call(i,"Invite Your Facebook Friends",{name:"trans",hash:{},data:s}),{name:"connectImage",hash:{size:"653x236"},data:s}))+'\n                </div>\n            </div>\n        </div>\n        <div class=col-md-4>\n            <div class="wp-component invite-panel-component">\n'+(null!=(l=e.invokePartial(a["core.invite_friends.components.invite_panel"],n,{name:"core.invite_friends.components.invite_panel",data:s,indent:"                ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"            </div>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'<div class="wp-panel">\n    <div class="wp-hero vcenter form-inline">\n        <div>\n            <h3><strong> '+o((t.trans||n&&n.trans||r).call(i,"Who's missing out?",{name:"trans",hash:{},data:s}))+"</strong></h3>\n            <h6><strong> "+o((t.trans||n&&n.trans||r).call(i,"Invite them to Wattpad",{name:"trans",hash:{},data:s}))+'</strong></h6>\n            <div class="invite-email">\n                '+o((t.connectImage||n&&n.connectImage||r).call(i,"/invite-friends/ic_invite_wattpad@2x.png",(t.trans||n&&n.trans||r).call(i,"Invite your friends to Wattpad",{name:"trans",hash:{},data:s}),{name:"connectImage",hash:{size:"124x127"},data:s}))+'\n            </div>\n            <div class="provider-email">\n                <input type="text" placeholder="'+o((t.trans||n&&n.trans||r).call(i,"Email address",{name:"trans",hash:{},data:s}))+'" class="form-control">\n                <button class="btn btn-orange btn-md">\n                    <span>'+o((t.trans||n&&n.trans||r).call(i,"Invite",{name:"trans",hash:{},data:s}))+'</span>\n                    <span class="spinner">'+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||r).call(i,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{},data:s}))?l:"")+'</span>\n                </button>\n            </div>\n            <div class="email-message"></div>\n        </div>\n    </div>\n    <ul class="invite-providers">\n        \n        <li class="provider-twitter">\n            '+o((t.connectImage||n&&n.connectImage||r).call(i,"/invite-friends/ic_invite_twitter@2x.png",(t.trans||n&&n.trans||r).call(i,"Twitter Logo",{name:"trans",hash:{},data:s}),{name:"connectImage",hash:{height:"42",width:"42"},data:s}))+'\n            <strong>Twitter</strong>\n            <span class="fa fa-right"></span>\n        </li>\n        <li class="provider-mailto">\n            '+o((t.connectImage||n&&n.connectImage||r).call(i,"/invite-friends/ic_invite_email@2x.png",(t.trans||n&&n.trans||r).call(i,"Email Logo",{name:"trans",hash:{},data:s}),{name:"connectImage",hash:{height:"42",width:"42"},data:s}))+"\n            <strong>"+o((t.trans||n&&n.trans||r).call(i,"Email",{name:"trans",hash:{},data:s}))+'</strong>\n            <span class="fa fa-right"></span>\n        </li>\n    </ul>\n    <div class="consent">'+o((t.trans||n&&n.trans||r).call(i,"We won't contact anyone without your consent.",{name:"trans",hash:{},data:s}))+"</div>\n</div>\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l=null!=n?n:e.nullContext||{},i=t.helperMissing,r=e.escapeExpression;return'    <div class="wp-panel no-results">\n        <div class="wp-hero vcenter">\n            <div>\n                <h2><strong>'+r((t.trans||n&&n.trans||i).call(l,"Your Facebook friends aren't on Wattpad yet.",{name:"trans",hash:{},data:s}))+'</strong></h2>\n                <button class="btn btn-lg btn-invite">\n                    <span class="fa fa-facebook-square"></span>\n                    '+r((t.trans||n&&n.trans||i).call(l,"Invite them",{name:"trans",hash:{},data:s}))+"\n                </button>\n            </div>\n        </div>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l;return(null!=(l=t.unless.call(null!=n?n:e.nullContext||{},null!=n?n.hasItems:n,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+'<div class="collection"></div>\n'},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l;return'        <img class="header-image" src="img/retargeting/mw-stories-img@2x.png" alt="'+(null!=(l=(t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Wattpad Stories",{name:"trans",hash:{},data:s}))?l:"")+'">\n'},3:function(e,n,t,a,s){var l;return'        <img class="header-image" src="img/retargeting/dw-stories-img@2x.png"  alt="'+(null!=(l=(t.trans||n&&n.trans||t.helperMissing).call(null!=n?n:e.nullContext||{},"Wattpad Stories",{name:"trans",hash:{},data:s}))?l:"")+'">\n'},5:function(e,n,t,a,s){return" owl-carousel"},7:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'style="direction:'+(null!=(l=t.if.call(i,(t.rtlLanguage||n&&n.rtlLanguage||t.helperMissing).call(i,null!=n?n.languageId:n,{name:"rtlLanguage",hash:{},data:s}),{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.program(10,s,0),data:s}))?l:"")+'"'},8:function(e,n,t,a,s){return"rtl"},10:function(e,n,t,a,s){return"ltr"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing;return'<div id="retargeting-landing">\n  <div class="container-fluid">\n    <div class="row">\n'+(null!=(l=t.if.call(i,null!=n?n.isMobile:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?l:"")+'      <div class="container">\n        <div class="row">\n          <div class="retargeting-header">\n            <img class="logo" src="img/retargeting/dw-logo.png" alt="Wattpad Logo">\n            <h1> '+(null!=(l=(t.trans||n&&n.trans||r).call(i,"Come around here often?",{name:"trans",hash:{},data:s}))?l:"")+" 😉</h1>\n            <p>"+(null!=(l=(t.trans||n&&n.trans||r).call(i,"Sign up for Wattpad to get access to so much more",{name:"trans",hash:{},data:s}))?l:"")+'</p>\n          </div>\n        </div>\n        <div class="row">\n          <div class="value-props">\n            <div class="value-props-wrapper'+(null!=(l=t.if.call(i,null!=n?n.isMobile:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?l:"")+'"\n                 '+(null!=(l=t.if.call(i,null!=n?n.isMobile:n,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?l:"")+'>\n\n              <div class="col-md-4 col-xs-12 col-sm-12 col-lg-4">\n                <div class="value-prop">\n                  <span class="icon">📚</span>\n                  <h6 class="title">'+(null!=(l=(t.trans||n&&n.trans||r).call(i,"Endless Entertainment",{name:"trans",hash:{},data:s}))?l:"")+'</h6>\n                </div>\n              </div>\n              <div class="col-md-4 col-xs-12 col-sm-12 col-lg-4">\n                <div class="value-prop">\n                  <span class="icon">📱</span>\n                  <h6 class="title">'+(null!=(l=(t.trans||n&&n.trans||r).call(i,"Read Offline Anywhere, Anytime",{name:"trans",hash:{},data:s}))?l:"")+'</h6>\n                </div>\n              </div>\n              <div class="col-md-4 col-xs-12 col-sm-12 col-lg-4">\n                <div class="value-prop bookmark">\n                  <span class="icon"><img src="img/retargeting/d-bookmark-icon@1x.png" alt="bookmark"></span>\n                  <h6 class="title">'+(null!=(l=(t.trans||n&&n.trans||r).call(i,"Save Your Spot",{name:"trans",hash:{},data:s}))?l:"")+'</h6>\n                </div>\n              </div>\n            </div>\n\n          </div>\n        </div>\n        <button class="btn on-signup" role="button">'+(null!=(l=(t.trans||n&&n.trans||r).call(i,"Sign up",{name:"trans",hash:{},data:s}))?l:"")+"</button>\n      </div>\n    </div>\n  </div>\n</div>\n\n"},useData:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){return'class="ios-webview-padding"'},3:function(e,n,t,a,s){return"          "+e.escapeExpression((t.connectImage||n&&n.connectImage||t.helperMissing).call(null!=n?n:e.nullContext||{},"wattpad-presents/MW-Banner@2x.png","Wattpad Presents",{name:"connectImage",hash:{klass:"logo"},data:s}))+"\n"},5:function(e,n,t,a,s){return"          "+e.escapeExpression((t.connectImage||n&&n.connectImage||t.helperMissing).call(null!=n?n:e.nullContext||{},"wattpad-presents/DW-Banner@2x.png","Wattpad Presents",{name:"connectImage",hash:{klass:"logo"},data:s}))+"\n"},7:function(e,n,t,a,s){return" centre-one"},9:function(e,n,t,a,s,l,i){var r,o,c=null!=n?n:e.nullContext||{},u=t.helperMissing,d="function",h=e.escapeExpression;return'\n              <div class="video-module col-sm-12 col-xs-12'+(null!=(r=(t.ifequal||n&&n.ifequal||u).call(c,null!=i[1]?i[1].numVideos:i[1],1,{name:"ifequal",hash:{},fn:e.program(10,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"\n                  "+(null!=(r=(t.ifequal||n&&n.ifequal||u).call(c,null!=i[1]?i[1].numVideos:i[1],2,{name:"ifequal",hash:{},fn:e.program(12,s,0,l,i),inverse:e.noop,data:s}))?r:"")+(null!=(r=(t.ifequal||n&&n.ifequal||u).call(c,null!=i[1]?i[1].numVideos:i[1],3,{name:"ifequal",hash:{},fn:e.program(14,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'">\n                <div class="video-story-meta" id="story-'+h(typeof(o=null!=(o=t.id||(null!=n?n.id:n))?o:u)===d?o.call(c,{name:"id",hash:{},data:s}):o)+'">\n                  <div class="story-cover pull-left">\n                    <img src="'+h((t.resizeCover||n&&n.resizeCover||u).call(c,null!=n?n.cover:n,14,{name:"resizeCover",hash:{},data:s}))+'" alt="'+h(typeof(o=null!=(o=t.title||(null!=n?n.title:n))?o:u)===d?o.call(c,{name:"title",hash:{},data:s}):o)+" by "+h(e.lambda(null!=(r=null!=n?n.user:n)?r.name:r,n))+'">\n                  </div>\n                  <div class="story-title">'+h((t.simpleShorten||n&&n.simpleShorten||u).call(c,null!=n?n.title:n,45,!1,{name:"simpleShorten",hash:{},data:s}))+'</div>\n                  <span class="genre">'+h(typeof(o=null!=(o=t.category||(null!=n?n.category:n))?o:u)===d?o.call(c,{name:"category",hash:{},data:s}):o)+"</span>\n                  <a class='btn btn-link btn-xxs read-story pull-right' href=\""+h(typeof(o=null!=(o=t.url||(null!=n?n.url:n))?o:u)===d?o.call(c,{name:"url",hash:{},data:s}):o)+'">\n                    <span>Read story</span>\n                  </a>\n                </div>\n                <div id="player-'+h(typeof(o=null!=(o=t.videoId||(null!=n?n.videoId:n))?o:u)===d?o.call(c,{name:"videoId",hash:{},data:s}):o)+'"></div>\n              </div>\n\n'},10:function(e,n,t,a,s){return" col-md-12 col-lg-12"},12:function(e,n,t,a,s){return" col-md-6 col-lg-6"},14:function(e,n,t,a,s){return" col-md-4 col-lg-4"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s,l,i){var r,o=null!=n?n:e.nullContext||{};return'<div id="wattpad-presents" '+(null!=(r=t.if.call(o,null!=n?n.iosWebView:n,{name:"if",hash:{},fn:e.program(1,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'>\n  <div class="container-fluid">\n    <div class="row">\n      <div class="container">\n'+(null!=(r=t.if.call(o,null!=n?n.isMobile:n,{name:"if",hash:{},fn:e.program(3,s,0,l,i),inverse:e.program(5,s,0,l,i),data:s}))?r:"")+'\n        <h1>Short videos based on popular Wattpad stories!</h1>\n\n        <div class="row">\n          <div class="videos'+(null!=(r=(t.ifequal||n&&n.ifequal||t.helperMissing).call(o,null!=n?n.numVideos:n,1,{name:"ifequal",hash:{},fn:e.program(7,s,0,l,i),inverse:e.noop,data:s}))?r:"")+'">\n'+(null!=(r=t.each.call(o,null!=n?n.videoStoryPairs:n,{name:"each",hash:{},fn:e.program(9,s,0,l,i),inverse:e.noop,data:s}))?r:"")+"          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n"},useData:!0,useDepths:!0})},function(e,n,t){var a=t(0);e.exports=(a.default||a).template({1:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{},r=t.helperMissing,o=e.escapeExpression;return'      <div class="featured-picks">\n'+(null!=(l=t.if.call(i,null!=n?n.stories:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?l:"")+'        <div class="show-more center-text hidden">\n          <button class="btn btn-grey on-showmore">\n          <span class=\'show-more-message\'>\n            <span>'+o((t.trans||n&&n.trans||r).call(i,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n            <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n          </span>\n            <span class='loading-message hidden'>\n            "+(null!=(l=(t.iconifySpin||n&&n.iconifySpin||r).call(i,"fa-loading",16,null!=n?n["user-device"]:n,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?l:"")+"\n              <span>"+o((t.trans||n&&n.trans||r).call(i,"Loading...",{name:"trans",hash:{},data:s}))+'</span>\n          </span>\n          </button>\n        </div>\n      </div>\n      <div id="preview-modal"></div>\n'},2:function(e,n,t,a,s){var l;return null!=(l=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.stories:n,{name:"each",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?l:""},3:function(e,n,t,a,s){var l;return'            <div class="browse-story-item">\n'+(null!=(l=e.invokePartial(a["core.item_views.browse_story_item"],n,{name:"core.item_views.browse_story_item",data:s,indent:"              ",helpers:t,partials:a,decorators:e.decorators}))?l:"")+"            </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,a,s){var l,i=null!=n?n:e.nullContext||{};return'<div id="featured-picks-container">\n  <div class="container">\n    '+(null!=(l=(t.reactComponent||n&&n.reactComponent||t.helperMissing).call(i,"CatalogHeader","catalog-header",{name:"reactComponent",hash:{},data:s}))?l:"")+'\n  </div>\n  <div class="container">\n'+(null!=(l=t.if.call(i,null!=n?n.hasStories:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?l:"")+"  </div>\n</div>\n"},usePartial:!0,useData:!0})},function(e,n,t){t(250),t(251),t(252),t(253),t(254),t(255),t(256),t(257),t(258),t(259),t(260),t(261),t(262),t(263),t(264),t(265),t(266),t(267),t(268),t(269),t(270),t(271),t(272),t(273),t(274),t(275),t(276),t(277),t(278),t(279),t(280),t(281),t(282),t(283),t(284),t(285),t(286),t(287),t(288),t(289),t(290),t(291),t(292),t(293),t(294),t(295),t(296),t(297),t(298),t(299),t(300),t(301),t(302),t(303),t(304),t(305),t(306),t(307),t(308),t(309),t(310),t(311),t(312),t(313),t(314),t(315),t(316),t(317),t(318),t(319),t(320),t(321),t(322),t(323),t(324),t(325),t(326),t(327),t(328),t(329),t(330),t(331),t(332),t(333),t(334),t(335),t(336),t(337),t(338),t(339),t(340),t(341),t(342),t(343),t(344),t(345),t(346),t(347),t(348),t(349),t(350),t(351),t(352),t(353),t(354),t(355),t(356),t(357),t(358),t(359),t(360),t(361),t(362),t(363),t(364),t(365),t(366),t(367),t(368),t(369),t(370),t(371),t(372),t(373),t(374),t(375),t(376),t(377),t(378),t(379),t(380),t(381),t(382),t(383),t(384),t(385),t(386),t(387),t(388),t(389),t(390),t(391),t(392),t(393),t(394),t(395),t(396),t(397),t(398),t(399),t(400),t(401),t(402),t(403),t(404),t(405),t(406),t(407),t(408),t(409),t(410),t(411),t(412),t(413),t(414),t(415),t(416),t(417),t(418),t(419),t(420),t(421),t(422),t(423),t(424),t(425),t(426),t(427),t(428),t(429),t(430),t(431),t(432),t(433),t(434),t(435),t(436),t(437),t(438),t(439),t(440),t(441),t(442),t(443),t(444),t(445),t(446),t(447),t(448),t(449),t(450),t(451),t(452),t(453),t(454),t(455),t(456),t(457),t(458),t(459),t(460),t(461),t(462),t(463),t(464),t(465),t(466),t(467),t(468),t(469),t(470),t(471),t(472),t(473),t(474),t(475),t(476),t(477),t(478),t(479),t(480),t(481),t(482),t(483),t(484),t(485),t(486),t(487),t(488),t(489),t(490),t(491),t(492),t(493),t(494),t(495),t(496),t(497),t(498),t(499),t(500),t(501),t(502),t(503),t(504),t(505),t(506),t(507),t(508),t(509),t(510),t(511),t(512),t(513),t(514),t(515),t(516),t(517),t(518),t(519),t(520),t(521),t(522),t(523),t(524),t(525),t(526),t(527),t(528),t(529),t(530),t(531),t(532),t(533),t(534),t(535),t(536),t(537),t(538),t(539),t(540),t(541),t(542),t(543),t(544),t(545),t(546),t(547),t(548),t(549),t(550),t(551),t(552),t(553),t(554),t(555),t(556),t(557),t(558),t(559),t(560),t(561),t(562),t(563),t(564),t(565),t(566),t(567),t(568),t(569),t(570),t(571),t(572),t(573),t(574),t(575),t(576),t(577),t(578),t(579),t(580),t(581),t(582),t(583),t(584),t(585),t(586),t(587),t(588),t(589),t(590),t(591),t(592),t(593),t(594),t(595),t(596),t(597),t(598),t(599),t(600),t(601),t(602),t(603),t(604),e.exports=t(605)},function(e,n,t){"use strict";t.r(n);var a=t(37),s=t.n(a),l=t(38),i=t.n(l),r=t(39),o=t.n(r),c=t(26),u=t.n(c),d=t(40),h=t.n(d),p=t(41),m=t.n(p);!function(e,n,t,a){e.wattpad=a||{};var l=e.wattpad.utils||(e.wattpad.utils={});l.isBrandSafe=function(e){return t.get(e,"isBrandSafe")},n.registerHelper("isBrandSafe",l.isBrandSafe),l.getHardcodedAdString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:0,height:0,inlineStyle:"",parentClass:"",adText:"",adTextClass:"",sticky:!1,stickyStart:"",stickyEnd:""};"readinglong_mid_mweb"!==e&&"readinglong_mid_loggedout_mweb"!==e||(n.width=300,n.height=250);var t=!!n.parentClass,a=n.adText?l.sprintf('<h4 class="%s">%s</h4>',[n.adTextClass,n.adText]):"",s=m()(),i=s.length,r=s[Math.floor(Math.random()*i)],o="https://a.wattpad.com/image/"+r.prefix,c=l.sprintf("%s_%sx%s%s.png",[o,n.width,n.height,r.postfix]),u=l.sprintf('<div id="%s-%s" class="advertisement hc" %s><a href="%s" rel="nofollow" target="_blank"><img src="%s" width="%s" height="%s" /></a></div>',[e,Date.now(),n.inlineStyle,r.link,c,n.width,n.height]);return t?n.sticky?l.sprintf('<div class="%s" data-start-selector="%s" data-end-selector="%s">%s%s</div>',[n.parentClass,n.stickyStart,n.stickyEnd,a,u]):l.sprintf('<div class="%s">%s%s</div>',[n.parentClass,a,u]):u},l.advertisement=function(n){var s,i,r,o,c,u,d,h,p,m,f,g,v,w,y,b,x,C=n.hash.unit?n.hash.unit.toLowerCase():void 0,k=n.hash.experience?n.hash.experience.toLowerCase():void 0,S=n.hash.timestamp||Date.now(),_=n.hash.lazy||!1,M=n.hash.adzerk||!1,T=n.hash.refresh||!1,P=t.get(n.hash.language,"id")||n.hash.language||a.utils.currentUser().get("language"),E=l.currentUser().toJSON(),I=n.hash.storyGroup,$=n.hash.tryHb||!1,U=n.hash.totalViewCount||!1,L=n.hash.sticky||!1,R=n.hash.stickyStart||"",D=n.hash.stickyEnd||"",A=(n.hash.parentClass||"")+(L?" sticky-ad":""),F=n.hash.adText||"",N=n.hash.adTextClass||"center-text small text-uppercase light hidden-lg hidden-md",B=n.hash.minViewportWidth,z=E.premium||!1,O=!1,H="",V=t.get(e,"wattpad.testGroups.IS_IN_LIVE_AD_DISABLED_GEO",!1),W={billboard:{width:970,height:250},leaderboard:{width:728,height:90},leaderboard_mobile:{width:320,height:50},mediumrect:{width:300,height:250},skyscraper:{width:160,height:600},smallrect:{width:300,height:100},rightrail_top:[{width:300,height:250},{width:300,height:600}],rightrail_mid:[{width:300,height:250},{width:300,height:600}],rightrail_mid_sticky:{width:300,height:250},rightrail_bottom:[{width:300,height:250},{width:300,height:600}],rightrail_comments:{width:300,height:250},mediumrect_loggedout:{width:300,height:250},mediumrect_top:{width:300,height:250},mediumrect_mid:{width:300,height:250},mediumrect_bottom:{width:300,height:250},mediumrect_top_mweb:{width:300,height:250},mediumrect_bottom_mobile:{width:300,height:250},mobilebanner_top_mobile:[{width:320,height:100},{width:320,height:50},{width:300,height:50}],banner_mweb:[{width:320,height:100},{width:320,height:50},{width:300,height:50}],storylanding_top:{width:300,height:250},storylanding_bottom:{width:728,height:90},storylanding_bottom_mweb:{width:320,height:50},readingshort_bottom:{width:728,height:90},readingshort_bottom_loggedout:{width:728,height:90},readinglong_bottom:{width:728,height:90},readingshort_bottom_mweb:{width:320,height:50},readingshort_bottom_loggedout_mweb:{width:320,height:50},readinglong_bottom_loggedout:{width:728,height:90},readinglong_bottom_mweb:{width:320,height:50},readinglong_bottom_loggedout_mweb:{width:320,height:50},readinglong_mid:[{width:300,height:250},{width:300,height:600}],readinglong_mid_mweb:[{width:300,height:250},{width:320,height:50}],readinglong_mid_loggedout_mweb:[{width:300,height:250},{width:320,height:50}],readinglong_mid_loggedout:[{width:300,height:600},{width:300,height:250}],readingshort_top:{width:300,height:250},readingshort_top_loggedout:{width:300,height:250},readinglong_top:[{width:300,height:250},{width:300,height:600}],readinglong_top_loggedout:[{width:300,height:250},{width:300,height:600}],readingshort_comments:{width:300,height:250},readingshort_comments_loggedout:{width:300,height:250},readinglong_comments:{width:300,height:250},readinglong_comments_loggedout:{width:300,height:250},readinglong_top_loggedout_mweb:{width:320,height:50},readinglong_top_mweb:{width:320,height:50},readingshort_top_loggedout_mweb:{width:320,height:50},readingshort_top_mweb:{width:320,height:50}},q={generic:{units:["leaderboard","leaderboard_mobile","mediumrect","skyscraper","smallrect"]},reading:{units:["leaderboard","leaderboard_mobile","mediumrect","skyscraper","rightrail_top","rightrail_mid","rightrail_bottom","rightrail_comments","mediumrect_top","mediumrect_mid","mediumrect_bottom","mediumrect_top_mweb","mediumrect_bottom_mobile","mediumrect_loggedout","mobilebanner_top_mobile","banner_mweb","rightrail_mid_sticky","readingshort_bottom","readingshort_bottom_loggedout","readinglong_bottom","readinglong_bottom_loggedout","readingshort_bottom_mweb","readingshort_bottom_loggedout_mweb","readinglong_bottom_loggedout","readinglong_bottom_mweb","readinglong_bottom_loggedout_mweb","readinglong_mid_loggedout_mweb","readinglong_mid","readinglong_mid_loggedout","readinglong_top","readinglong_top_loggedout","readingshort_top","readingshort_top_loggedout","readingshort_comments","readinglong_comments","readingshort_comments_loggedout","readinglong_comments_loggedout","readinglong_mid_mweb","readinglong_top_mweb","readingshort_top_mweb","readinglong_top_loggedout_mweb","readingshort_top_loggedout_mweb"]},storylanding:{units:["storylanding_bottom","storylanding_bottom_mweb","storylanding_top"]},myworks:{units:["mediumrect_top"]}},j=q[k]?q[k].units:void 0;if(I&&(r=t.get(I,"isAdExempt"),s=t.get(I,"rating"),o=t.get(I,"category")||t.first(t.get(I,"categories")),P=t.get(I,"language.id")||t.get(I,"language"),h=t.get(I,"id"),p=l.isBrandSafe(I),m=l.isMatureStory(I),f=$,d=t.get(I,"parts",[]),O=t.any(d,function(e){return e.paywalled}),"reading"===k&&(u=n.data.root,i=t.get(u,"rating"),c=t.get(u,"rank"),t.get(u,"isAdExempt"))),z||r||O)return"";if(V)return Array.isArray(W[C])?(b=t.max(W[C],"width").width,y=t.max(W[C],"height").height,x=l.sprintf(' style="width:%spx;height:auto"',[b])):(b=W[C].width,y=W[C].height,x=l.sprintf(' style="width:%spx;height:%spx"',[b,y])),l.getHardcodedAdString(C,{width:b,height:y,inlineStyle:x,parentClass:A,adText:F,adTextClass:N,sticky:L,stickyStart:R,stickyEnd:D});if(C&&W[C]&&k&&t(j).includes(C)){g=l.sprintf("%s_%s-%s",[k,C,S]);var G="";Array.isArray(W[C])?(v=t.max(W[C],"width").width,w=t.max(W[C],"height").height,t.map(W[C],function(e){return l.sprintf("[%s, %s]",[e.width,e.height])}).join(", "),G=l.sprintf(' style="width:%spx;height:auto"',[v])):(v=W[C].width,w=W[C].height,l.sprintf("%s, %s",[v,w]),G=l.sprintf(' style="width:%spx;height:%spx"',[v,w])),M&&(H=f?function(){if(p&&!m){var e="",n=l.sprintf("%s-%s",[C,S]),t=l.getAdzerkUnit(C),a=l.getHeaderBiddingInlineStyle(t.sizes),r=l.getAdzerkTargeting({partRating:i,storyRating:s,category:o,totalViewCount:U,language:P,rankingStatus:c,storyId:h},E),u=l.sprintf("window.wattpad.utils.loadHbAd({placements: {'%s': {siteId: 1025452,networkId: 9660, zoneId: %s, adTypes: %s,htSlotName: '%s', targeting: %s}}});",[n,t.zone,JSON.stringify(t.sizes),C,JSON.stringify(r)]);if(e=_?l.sprintf('<div id="%s" class="advertisement lazyAd %s"%s data-ad-placement="%s" data-adzerk-zone="%s" data-ad-types=\'%s\' data-ht-slot-name="%s" data-targeting=\'%s\' data-hb="true"></div>',[n,C,a,n,t.zone,JSON.stringify(t.sizes),C,JSON.stringify(r)]):T?l.sprintf('<div id="%s" class="advertisement refresh-ad %s"%s data-ad-placement="%s" data-adzerk-zone="%s" data-ad-types=\'%s\' data-ht-slot-name="%s" data-targeting=\'%s\' data-hb="true"><script>%s<\/script></div>',[n,C,a,n,t.zone,JSON.stringify(t.sizes),C,JSON.stringify(r),u]):l.sprintf('<div id="%s" class="advertisement" %s><script>%s<\/script></div>',[n,a,u]),A){var d=F?l.sprintf('<h4 class="%s">%s</h4>',[N,F]):"";e=L?l.sprintf('<div class="%s" data-start-selector="%s" data-end-selector="%s">%s%s</div>',[A,R,D,d,e]):l.sprintf('<div class="%s">%s%s</div>',[A,d,e])}return e}return""}():function(){var e,n,t,a,r,u="",d={mediumrect:"5",mediumrect_top:"5",mediumrect_mid:"5",mediumrect_bottom:"5",mediumrect_top_mweb:"5",mediumrect_bottom_mobile:"5",mediumrect_loggedout:"5",rightrail_top:"[ 5, 43 ]",rightrail_mid:"5",rightrail_mid_sticky:"5",rightrail_bottom:"5",rightrail_comments:"5",leaderboard:"4",leaderboard_mobile:"23",mobilebanner_top_mobile:"23",banner_mweb:"23"};if(!(n=d[C]?d[C]:null))return"";if(p&&!m)t="181437";else{if("myworks"!==k)return"";t="183796"}if(e=l.getAdzerkTargeting({partRating:i,storyRating:s,category:o,totalViewCount:U,language:P,rankingStatus:c,storyId:h},E),B&&(u="if ( window.innerWidth < "+B+" ) { return false; }"),r=l.sprintf('/* Unit: %s Zone: %s SizeID: %s */ if (window.ados_add_placement) { ados_add_placement(9660, 421790, "%s", %s).setZone(%s).setProperties(%s);ados_setConsent({gdpr: true});ados_load(); }',[C,t,n,g,n,t,JSON.stringify(e)]),a=_?l.sprintf('<div id="%s" class="advertisement lazyAd %s"%s data-ad-code=\'%s\'></div>',[g,C,G,r]):l.sprintf('<div id="%s" class="advertisement %s"'+G+'><script type="text/javascript">var ados = ados || {};ados.run = ados.run || [];ados.run.push( function() {'+u+"%s});<\/script></div>",[g,C,r]),A){var f=F?l.sprintf('<h4 class="%s">%s</h4>',[N,F]):"";a=L?l.sprintf('<div class="%s" data-start-selector="%s" data-end-selector="%s">%s%s</div>',[A,R,D,f,a]):l.sprintf('<div class="%s">%s%s</div>',[A,f,a])}return a}())}return H},n.registerHelper("advertisement",function(e){return new n.SafeString(l.advertisement(e))}),l.outstreamAdvertisement=function(e){var n,a,s,i,r,o,c,u,d=l.currentUser().toJSON(),h=e.hash.storyGroup,p=d.premium||!1,m=!1,f=e.hash.experience?e.hash.experience.toLowerCase():void 0,g="outstream_video",v=e.hash.timestamp||Date.now();if(h&&(a=t.get(h,"isAdExempt"),i=t.get(h,"rating"),n=t.get(h,"category")||t.first(t.get(h,"categories")),r=t.get(h,"language.id")||t.get(h,"language"),o=l.isBrandSafe(h),c=l.isMatureStory(h),s=t.get(h,"parts",[]),m=t.any(s,function(e){return e.paywalled})),p||a||m||c||!o)return"";u=l.sprintf("%s_%s-%s",[f,g,v]);var w={};if(i&&(w.storyRating=i),n&&(w.category=n),r&&(w.language=r),d&&d.gender){var y=l.getGenderTargeting(d),b=l.getAgeTargeting(d);w.KV3=y+"-"+b}return l.sprintf('<div id="%s" class="advertisement %s" data-targeting=\'%s\'></div>',[u,g,JSON.stringify(w)])},n.registerHelper("outstreamAdvertisement",function(e){return new n.SafeString(l.outstreamAdvertisement(e))}),l.advertisementAtIndex=function(e){var n=e.hash.index,t=e.data.index;return e&&t>0&&t===n?l.advertisement(e):""},n.registerHelper("advertisementAtIndex",function(e){return new n.SafeString(l.advertisementAtIndex(e))});l.advertisementAtEveryIndex=function(e){var n=l.getDeviceType(e),t=e.data.index;return e&&t>0&&function(e,n){return"mobile"===n?2===e||e%11==2&&2!==e:5===e||e%24==5&&5!==e}(t,n)?l.advertisement(e):""},n.registerHelper("advertisementAtEveryIndex",function(e){return new n.SafeString(l.advertisementAtEveryIndex(e))}),l.trans=function(n){var t=[];if(arguments.length>1&&(t=Array.prototype.slice.call(arguments,1,arguments.length)),1===parseInt(app.get("language"),10))return e.vsprintf(n,t);var a=app.get("translatedLanguage");return a&&a.jed?e.vsprintf(a.jed.gettext(n),t):e.vsprintf(n,t)},l.trans.map=function(e){return l.trans(e)},n.registerHelper("trans",function(e){var n=arguments;return arguments.length>1&&t.isObject(arguments[arguments.length-1])&&(n=Array.prototype.slice.call(arguments,0,arguments.length-1)),l.trans.apply(this,n)}),n.registerHelper("canTrans",function(e,n){var t=app.get("translatedLanguage");return 1===parseInt(app.get("language"),10)||t&&t.jed&&t.jed.options.locale_data.messages[e]?n.fn(this):n.inverse(this)}),l.ifequal=function(e,n,a){return t.isEqual(e,n)?a.fn(this):a.inverse(this)},n.registerHelper("ifequal",l.ifequal),l.isCurrentUser=function(e,n){return e===l.currentUser().get("username")?n.fn(this):n.inverse(this)},n.registerHelper("isCurrentUser",l.isCurrentUser),l.getCurrentUserAttr=function(e,n){return l.currentUser().get(e)||""},n.registerHelper("getCurrentUserAttr",l.getCurrentUserAttr),l.getSelectedPremiumTheme=function(){return parseInt(l.getCookie("premium-theme")||5)},n.registerHelper("getSelectedPremiumTheme",l.getSelectedPremiumTheme),l.setPremiumTheme=function(e){$("body").removeClass(function(e,n){return(n.match(/(^|\s)theme-\S+/g)||[]).join(" ")}).addClass("theme-"+e),l.setCookie("premium-theme",e)},n.registerHelper("isPremiumEligible",function(e){return l.getCurrentUserAttr("premium")?e.fn(this):e.inverse(this)}),l.isLoggedIn=function(e){var n=l.currentUser().get("username");return void 0!==n&&null!==n?e.fn(this):e.inverse(this)},n.registerHelper("isLoggedIn",l.isLoggedIn),l.isAmbassador=function(e){return l.currentUser().get("ambassador")?e.fn(this):e.inverse(this)},n.registerHelper("isAmbassador",l.isAmbassador),l.isAdmin=function(e){return l.currentUser().get("isSysAdmin")?e.fn(this):e.inverse(this)},n.registerHelper("isAdmin",l.isAdmin),l.isWattpad=function(e,n){return"wattpad"===(e=e||"").toLowerCase()?n.fn(this):n.inverse(this)},n.registerHelper("isWattpad",l.isWattpad),l.isDevice=function(e,n){e=e||"";var t=app.get("device");return"desktop"===e&&t.is.desktop?n.fn(this):"tablet"===e&&t.is.tablet?n.fn(this):"mobile"===e&&t.is.mobile?n.fn(this):n.inverse(this)},n.registerHelper("isDevice",l.isDevice),l.getDeviceType=function(e){var n=app.get("device");return n&&n.is.mobile?"mobile":n&&n.is.tablet?"tablet":n&&n.is.desktop?"desktop":void 0},n.registerHelper("getDeviceType",function(e){return new n.SafeString(l.getDeviceType(e))}),l.count=function(e){return-1==e?"-":e&&t.isNumber(e)?e>=99999999?Math.floor(e/1e6)+"M":e>=1e6?Math.floor(e/1e5)/10+"M":e>=99999?Math.floor(e/1e3)+"K":e>=1e3?Math.floor(e/100)/10+"K":e:0},n.registerHelper("count",l.count),n.registerHelper("numberedLoop",function(e,n){for(var t=e.length,a="",s=0;s<t;s++)e[s].position=s+1,e[s].oddOrEven=e[s].position%2?"odd":"even",a+=n.fn(e[s]);return a}),l.resize=function(e,n,a,s,i){var r=a,o=!!i&&i[0];return e&&n&&"string"==typeof n&&s&&isFinite(String(a))?(l.pixelRatio(2.5)?(a*=3,o=!!i&&i[2],o=i?i[1]:i):l.pixelRatio(1.5)&&(a*=2,o=!!i&&i[1]),(r=t.find(e,function(e){return e+(!1!==o?Math.floor(e/o):0)>=a},this))||(r=t.reduce(e,function(e,n){return Math.abs(n-a)<Math.abs(e-a)?n:e})),n.replace(s,"$1"+r+"$3$4")):""},l.resizeAvatar=function(n,t){return"string"==typeof n&&n.length>0?l.resize(e.wattpad.avatarSizes,n,t,/(^.*\/useravatar\/[\w\-_]+\.)([0-9]{1,3})(\.?[0-9]*\.)(png|jpg|jpeg|gif)$/,[24,17]):""},n.registerHelper("resizeAvatar",l.resizeAvatar),l.resizeCover=function(n,t){return l.resize(e.wattpad.coverSizes,n,t,/(^.*\/c?cover\/[0-9]+\-)([0-9]{1,3})(\-*[\w]+\.)(png|jpg|jpeg|gif)$/,[20,14])},n.registerHelper("resizeCover",l.resizeCover),l.resizeCoverAsBackground=function(n,t){t&&isFinite(t)||(t=640);return l.resize(e.wattpad.backgroundSizes,n,t,/(^.*\/cover\/[0-9]+\-)([0-9]{1,3})(\-[\w]+\.)(png|jpg|jpeg|gif)$/,!1).replace("cover","bcover")},n.registerHelper("resizeCoverAsBackground",l.resizeCoverAsBackground),l.profileBackground=function(e,n){n&&isFinite(n)||(n=320),e=e.replace(/(\d+\.)(png|jpg|jpeg|gif)$/,".$1$2");return l.resize([320,360,640,1920],e,n,/(^.*\/userbg\/[\w\-_]+\.)()(\.?[0-9]*\.)(png|jpg|jpeg|gif)$/,!1).replace("userbg","userbgs")},n.registerHelper("profileBackground",l.profileBackground),l.resizeLogo=function(n,t){return l.resize(e.wattpad.logoSizes,n,t,/(^.*\/img\/mobile-web\/wattpad_logo_|.*\/img\/mobile-web\/white_wattpad_logo_)([0-9]{3})(\.)(png)$/,!1)},n.registerHelper("resizeLogo",l.resizeLogo),l.resizeAuthLogo=function(e){return l.pixelRatio()>1?e.replace(/(^.*\/img\/homepages\/logo_Wattpad)(\.)(png)$/,"$1@2x$2$3"):e},n.registerHelper("resizeAuthLogo",l.resizeAuthLogo),l.getStoryRating=function(e){var n=["",l.trans("Mature")];return e<4?n[0]:n[1]},n.registerHelper("getStoryRating",l.getStoryRating),l.slugify=function(e,n){return e?(e=(e=(e=e.replace(n?/[^\-a-zA-Z0-9\s]+/gi:/[^\-a-zA-Z0-9,&\s]+/gi,"")).replace(/\s+/gi,"-")).replace(/-+/gi,"-")).trim().toLowerCase():null},n.registerHelper("slugify",function(e){if(t.isFunction(l[e])){var n=Array.prototype.slice.call(arguments,1);e=l[e].apply(this,n)}return l.slugify(e)}),l.iconify=function(e,n,t,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if("fa"!==e.split("-")[0]){if(u.a[e])return"<svg\n          ".concat(s,'\n          width="').concat(n,'"\n          height="').concat(n,'"\n          viewBox="0 0 24 24"\n          fill="none"\n          stroke="').concat(h.a[t],'"\n          stroke-width="2"\n          aria-hidden="true"\n          stroke-linecap="round"\n          stroke-linejoin="round"\n          ').concat(a?' class="'.concat(a,'"'):"","\n        >\n          ").concat(u.a[e],"\n        </svg>");throw"Icon "+e+" doesn't exist"}if(!("string"!=typeof e||e.trim().length<=0)){n="number"==typeof n&&n>0?n:"auto",t="string"==typeof t?t:"wp-neutral-2",a="string"==typeof a?a:"";var i;return l.modernizr("fontface")?'<span class="'+("fa "+e+" fa-"+t+" "+a)+'" aria-hidden="true" style="font-size:'+n+'px;"></span>':(i="/img/icons/"+t+"/"+e.substr(3)+".png",'<img class="'+("fa "+e+" fallback "+a)+'" style="height:'+n+'px !important; width:auto !important;" src="'+i+'" />')}},n.registerHelper("iconify",l.iconify),l.iconifySpin=function(e,n,t,a){if(!("string"!=typeof e||e.trim().length<=0)){n="number"==typeof n&&n>0?n:"auto",t||(t=new l.Device);var s=a.hash.color||"wp-neutral-2",i=a.hash.className||"",r=a.hash.fallback||e;return t.isOperaMini()?'<img class="'+("fa "+e+" fallback "+i)+'" style="height:'+n+'px !important; width:auto !important;" src="/img/icons/spin/'+r+'.gif" />':'<span class="'+("fa "+e+" fa-spin fa-"+s+" "+i)+'" aria-hidden="true" style="font-size:'+n+'px;"></span>'}},n.registerHelper("iconifySpin",l.iconifySpin),l.validationElements=function(e){var n;e=isNaN(e)?24:e;return n=l.iconify("fa-check",e,"wp-success","form-control-feedback validation on-valid"),n+=l.iconify("fa-warning",e,"wp-error-1","form-control-feedback validation on-invalid")},n.registerHelper("validationElements",l.validationElements),n.registerHelper("querystring",function(){return e.location.search}),n.registerHelper("linkify",function(e,n){return l.linkify(e,n)}),l.simpleShorten=function(e,n,t,a){var s;return a=a||{},e?((s=(s=e.replace(/(<([^>]+)>)/gi,"")).replace(/^\s*\n/gm,"")).length>n&&(s=s.substr(0,n-1).replace(/[\.,\- \/!&?]+$/,"")+"..."),!0===t?l.linkify(s,a):s):""},n.registerHelper("simpleShorten",l.simpleShorten),n.registerHelper("shorten",function(e,n,a,s){var i,r,o={short:$('<div class="short-length">'),full:null},c=0,u=0,d=a,h=!0,p=function(e){var n=e.match(/(<a href[^>]*>)/i)[0].length+4;h&&(d=a,h=!1),d+=n,u-=n};if("boolean"==typeof(s=s||!1)&&s){for(i=e=l.linkify(e,{sanitization:"none"});u<a&&d<=e.length;)u=d,t.each(e.substr(0,d).match(/(<a href[^<]*<\/a>)/gi),p),h=!0;a+=c=d-a,n+=c}return e&&e.length>0&&(e.length<n?o.short.html("<pre>"+e+"</pre>"):(o.full=$('<div class="full-length hide">'),o.full.html("<pre>"+e+"</pre>"),e=e.substr(0,a),"boolean"==typeof s&&s&&(e.lastIndexOf("<a href")>e.lastIndexOf("</a>")?e+=i.substr(a,i.substr(a,i.length).indexOf("</a>")+5):e.lastIndexOf("<")>e.length-6&&(e=e.substr(0,e.lastIndexOf("<")))),(r=e.replace(/(\.|<\/a>|!|\?)(?=[^?!.>]*$)([\s\S]*)$/,"$1")).length>n?o.short.html("<pre>"+e+"</pre>"):r=e.replace(/( )(?=[^ ]*$)(.*)$/,"$1"),o.short.html("<pre>"+r+"</pre>"))),$("<div>").append(o.short).append(o.full).html()}),l.replace=function(e,n,t){return e=(e+"").toString(),n&&t?e.replace(n,t):e},n.registerHelper("replace",l.replace),l.formatDate=function(e,n){return e?("string"!=typeof n&&(n="YYYY-MM-DD"),moment(e).format(n)):"-"},n.registerHelper("formatDate",l.formatDate),l.fromNow=function(e,n){var t=moment(e),a="MMM DD, YYYY hh:mmA";if(moment().diff(e,"hours")<24||n.hash.fuzzyTime&&moment().diff(e,"days")<7){var s=n.hash.dropSuffix||!1;return t.fromNow(s)}return n.hash.fuzzyTime?a=moment().isSame(e,"year")?"MMM DD":"MMM DD, YYYY":n.hash.fullDate&&(a="MMMM D, YYYY"),t.format(a)},n.registerHelper("fromNow",l.fromNow),l.calendar=function(e,n){var t=moment(e);return moment().diff(t,"days")>6?t.format("llll"):t.calendar()},n.registerHelper("calendar",l.calendar),l.greaterThan=function(e,n,t){return e>n?t.fn(this):t.inverse(this)},n.registerHelper("greaterThan",l.greaterThan),l.lastNumberGreaterThan=function(e,n,t){return e%10>=n?t.fn(this):t.inverse(this)},n.registerHelper("lastNumberGreaterThan",l.lastNumberGreaterThan),l.reportCommentLink=function(e,n){return"/help/report?author="+encodeURIComponent(e)+"&comment="+encodeURIComponent(n)},n.registerHelper("reportCommentLink",l.reportCommentLink),n.registerHelper("connectCover",function(e,t,a,s,i){return new n.SafeString('<img src="'+l.resizeCover(e,a)+'" alt="'+l.sanitizeHTML(t)+'" height="'+a+'" class="'+s+'" />')}),n.registerHelper("connectImage",function(e,t,a){return new n.SafeString('<img src="/img/'+e+'" alt="'+t+'" class="'+a.hash.klass+'" id="'+a.hash.id+'" height="'+a.hash.height+'" width="'+a.hash.width+'" />')}),n.registerHelper("connectAvatar",function(e,t,a,s){var i=l.resizeAvatar(e,a);return new n.SafeString('<img src="'+i+'" width="'+a+'" height="'+a+'" />')}),l.hasContent=function(e,n){if(e.length>0)return $(e).text().trim().length>0?n.fn(this):n.inverse(this)},n.registerHelper("hasContent",l.hasContent),l.conditionalClass=function(e,n,t){return e?n:t||""},n.registerHelper("conditionalClass",l.conditionalClass),l.supportsPlaceholder=function(e,n){return l.isOperaMini?n.inverse(this):n.fn(this)},n.registerHelper("supportsPlaceholder",l.supportsPlaceholder),n.registerHelper("select",function(e,n,t){return t&&t===e?'<option value="'+e+'"selected="selected">'+(n||e)+"</option>":'<option value="'+e+'">'+(n||e)+"</option>"}),l.isCookieSet=function(e,n){return l.getCookie(e)?n.fn(this):n.inverse(this)},n.registerHelper("formatStoryUrl",function(e,n){return l.formatStoryUrl(e)}),n.registerHelper("getCopyright",function(e,n){return l.getCopyright(e)}),n.registerHelper("getCopyrightIcon",function(e,n){return l.getCopyrightIcon(e)}),n.registerHelper("isCookieSet",l.isCookieSet),n.registerHelper("urlEncode",function(e,n){return l.urlEncode(e)}),n.registerHelper("urlEncodeWithSpace",function(e,n){return l.urlEncodeWithSpace(e)}),n.registerHelper("ngettext",function(e,n,t,a){return l.ngettext(e,n,t)}),n.registerHelper("npgettext",function(e,n,t,a,s){return l.npgettext(e,n,t,a)}),l.isExperimentVariation=function(){var n,t,a=Array.prototype.slice.call(arguments),s=a[a.length-1],l=a.slice(1,-1),i=a[0];return a.length>=3&&(n=e.app.experiments.get(i))&&(n.selected(),t=n.current===n.original?"original":n.current,-1!==l.indexOf(t))?s.fn(this):s.inverse(this)},n.registerHelper("isExperimentVariation",l.isExperimentVariation),l.getExperimentVariation=function(n,t){var a=e.app.experiments.get(n);return a&&a.selected(),a&&a.current!==a.original?a.current:"original"},n.registerHelper("getExperimentVariation",l.getExperimentVariation),l.addProtocolToUrl=function(e){return e?-1==e.search(/^http[s]?\:\/\//)&&-1==e.search(/^\/\//)?"http://"+e:e:""},n.registerHelper("addProtocolToUrl",l.addProtocolToUrl),l.charsToWords=function(e){var n=parseInt(app.get("language"),10);return 8===n||9===n||10===n||12===n?e:Math.ceil(e/6)},n.registerHelper("charsToWords",l.charsToWords),l.wordCount=function(e){var n=parseInt(app.get("language"),10);return e=e.replace(/(<([^>]+)>)/gi,""),8===n||9===n||10===n||12===n?e.length:e.length>0?t.filter(e.split(/\s+/),function(e){return e.match(/\S+\s*/)}).length:0},n.registerHelper("wordCount",l.wordCount),l.calcPercentRead=function(e,n){var a=e.length,s=t.findIndex(e,{id:parseInt(n.partId)})/a+1/a*parseFloat(n.position);return s=s<0?0:s,Math.round(1e4*s)/100},n.registerHelper("calcPercentRead",l.calcPercentRead),l.rtlLanguage=function(e){switch(e){case 16:case 17:case 31:case 48:return!0;default:return!1}},n.registerHelper("rtlLanguage",l.rtlLanguage),l.preFormat=function(e,n){return!0===n?e.replace(/\n/g,""):e.replace(/\n/g,"<br />")},n.registerHelper("preFormat",l.preFormat),l.socialSharingAttributes=function(e){var t='href="'+this.href+'" ';return t+='data-share-channel="'+this.name+'" ',"share_readinglist"===this.content||n.Utils.isEmpty(this.urlTemplate)||(t+='data-share-url="'+l.urlEncode(this.urlTemplate)+'" ',t+='data-url="'+l.urlEncode(this.url)+'" ',t+='data-share-text="'+l.urlEncode(this.text)+'" ',t+='data-share-content="'+l.urlEncode(this.content)+'" '),new n.SafeString(t)},n.registerHelper("socialSharingAttributes",l.socialSharingAttributes),l.styleHashtag=function(e,t){var a="#"+e;if("#lgbt"==a){for(var s=new Array("rgb(228,3,3)","rgb(255,140,0)","rgb(0,128,38)","rgb(0,77,255)","rgb(117,7,135)"),l="",i=0;i<s.length;++i)l+='<span style="color: '+s[i]+'">'+a[i]+"</span>";a=l}return new n.SafeString(a)},n.registerHelper("styleHashtag",l.styleHashtag),l.linkifyDesc=function(e){return function(e,n){return t.each(n,function(n,t){e=e.replace(new RegExp(t,"ig"),n)}),e}(e,{amazon:'<a href="http://w.tt/2gb2o8X" target="_blank">Amazon</a>',"always red":'<a href="http://w.tt/2l2noR9" target="_blank">Always Red</a>'})},n.registerHelper("linkifyDesc",l.linkifyDesc),n.registerHelper("insertAdUnit",function(e,n){var t=$("<div>").append(e),a=t.find("p").length,s=l.outstreamAdvertisement(n);return a<3?t.append(s):t.find("p").each(function(e,n){2===e&&$(n).after(s)}),t.html()}),l.publishedPartsInStory=function(e){return(e.parts||[]).filter(function(e){return!e.draft})},n.registerHelper("parseEmbeddedMedia",function(e,n){var l=$("<div>"+e+"</div>");return n=n||480,l.find("[data-video-source=youtube]").each(function(e,n){var t=$(n),a=$(o()({videoId:t.data("videoId")})).html();t.html(a)}),l.find("[data-video-source=vimeo]").each(function(e,n){var t=$(n),a=$('<iframe width="764" height="430" src="//player.vimeo.com/video/'+t.data("videoId")+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>');t.html(a)}),l.find("[data-video-source=vine]").each(function(e,n){var t=$(n),a=$('<iframe width="764" height="430" src="//vine.co/v/'+t.data("videoId")+'/embed/simple" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe><script src="https://platform.vine.co/static/scripts/embed.js"><\/script>');t.html(a)}),l.find("[data-video-source=wattpad]").each(function(e,n){var t=$(n),a=$(i()({origWidth:t.data("original-width"),origHeight:t.data("original-height"),previewImageSrc:t.data("preview-image"),videoId:t.data("video-id"),videoSrc:"//v.wattpad.com/"+t.data("video-id")+"/hd.mp4"})).html();t.html(a)}),l.find("[data-image-layout=one-horizontal]").each(function(e,l){var i=$(l),r=t.last(t.filter(i.prev("p").text().split("."),function(e){return""!==e}))||{length:0},o=t.first(t.filter(i.next("p").text().split("."),function(e){return""!==e}))||{length:0};if(i.children("img")&&1===i.children("img").length){var c=i.children("img"),u=app.get("device").isDesktop()?650:210;if(c.data("original-width")>u){var d=c.data("original-height")/c.data("original-width")*100;i.addClass("fixed-ratio").css({"padding-bottom":d+"%"})}else c[0].setAttribute("width",c.data("original-width")),c[0].setAttribute("height",c.data("original-height"));c.attr("src",c.attr("src")+"?s=fit&w="+n+"&h="+n),(r.length||o.length)&&c.attr("alt",t.trunc(r.length>o.length?r:o,250));var h=[{image:c[0],src:c[0].getAttribute("src")+"?s=fit&w="+n+"&h="+n}],p=$(s()({id:i.data("p-id"),images:h,testGroups:a.testGroups}));i.replaceWith(p)}}),l.html()}),l.sanitizeHTML=function(e){return e&&"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e},n.registerHelper("sanitize",l.sanitizeHTML),l.categoryNameToUrl=function(e){var n="/stories/".concat(e);return"paidstories"===e?n="/catalog/".concat(e):"interactive"===e&&(n="/user/".concat(e)),n},n.registerHelper("categoryNameToUrl",l.categoryNameToUrl),l.sanitizeHTMLExceptQuotes=function(e){return e&&"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},n.registerHelper("sanitizeExceptQuotes",l.sanitizeHTMLExceptQuotes),l.unsanitizeHTML=function(e){return e&&"string"==typeof e?e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'):e},n.registerHelper("unsanitize",l.unsanitizeHTML),n.registerHelper("sprintf",function(){return e.sprintf.apply(null,arguments)}),n.registerHelper("reactComponent",function(a,s,l){e.activeReactComponents=e.activeReactComponents||[],r();var i,o=l.hash.model||this;o instanceof Monaco.Model||o instanceof Monaco.Collection||(o=t.isArray(o)?new Monaco.Collection(o):new Monaco.Model(o));var c="component-"+a+"-"+s+"-"+e.location.pathname,u=t.findWhere(e.activeReactComponents,{id:c});return u?(i=u.view,u.view.model.clear({silent:!0}),u.view.model.set(o.toJSON())):((i=new app.views.ReactComponentWrapper(a,s,{model:o},l)).render(),e.activeReactComponents.push({id:i.containerId,view:i})),new n.SafeString(i.container[0].outerHTML)});var r=function(){if(e.observer||(e.observer=new MutationObserver(c)),0===e.activeReactComponents.length){e.observer.observe(document.body,{subtree:!0,childList:!0})}},c=function(n){t.forEach(n,d),e.activeReactComponents.length<=0&&e.observer.disconnect()},d=function(n,a,s){if("childList"===n.type&&n.removedNodes.length>=1){var l=$(n.removedNodes[0]).find(".component-wrapper");t.forEach(l,function(n){var a=n.getAttribute("id");t.remove(e.activeReactComponents,function(e){return e.id===a&&(e.view.remove(),!0)})})}};n.registerHelper("shouldShowReadingAd",function(e,n){return(e-1)%2==0&&e!==n}),n.registerHelper("ternary",function(e,n,a){return t.isFunction(e)&&(e=e.call(this)),e?n:a}),n.registerHelper("isTestGroup",function(e){return!!a.testGroups[e]}),n.registerHelper("currentYear",function(){return a.currentYear}),n.registerHelper("generateDropdownOptions",function(e,t){var a,s,l="",i=parseInt(t),r=moment(),o=moment().subtract(100,"years");switch(e){case"day":a=1,s=31,l+='<option value="" disabled selected>Day</option>';break;case"month":a=0,s=11,l+='<option value="" disabled selected>Month</option>';break;case"year":a=o.year(),s=r.year(),l+='<option value="" disabled selected>Year</option>'}if("year"===e)for(var c=s;c>a;c--)l+=n.helpers.select(c,c,i);else for(c=a;c<=s;c++){var u="month"===e?9:10,d="month"===e?c+1:c,h="month"===e?moment().month(c).format("MMMM"):c;d=c<u?"0"+d:""+d,l+=n.helpers.select(d,h,t)}return l})}(window,Handlebars,_,window.wattpad)},function(e,n){!function(){var e=window.wp=window.wp||{};window.FBStatus=new function(e){this.loggedIn=!1,this.permissions=[],this.accessToken=""},window.fbAsyncInit=function(){function n(e,n,t){var a=e.split(",");!FBStatus.loggedIn||function(e){return e.reduce(function(e,n){return e||!!FBStatus.permissions[n]},!1)}(a)?(n.scope=a,FB.login(function(e){return function(n){return!!n.authResponse&&(FBStatus.accessToken=n.authResponse.accessToken,e())}}(t),n)):t()}FB.init({appId:e.app_id,cookie:!0,xfbml:!0,version:"v2.4"}),e.facebook_reprompt_permission=function(e,t){n(e,{auth_type:"rerequest"},t)},e.facebook_prompt_permission=function(e,t){n(e,{},t)},e.facebook_share_dialog=function(n,t,a,s){FB.ui({method:"share_open_graph",action_type:e.facebook_app_name+":read",action_properties:JSON.stringify({story:{"og:url":n,"og:title":t,"og:description":a,"og:image":s}})})}}}()},function(e,n){function t(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function a(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?t(Object(a),!0).forEach(function(n){s(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,n,t){"use strict";var s=(t=t||(e.wattpad={})).utils||(t.utils={});s.bootstrapReactRoot=function(){var n=e.app.components.ReactRoot,t=e.app.components.withRedux(n,e.store);ReactDOM.render(React.createElement(t),document.getElementById("react-client-root"))},s.getWrapParams=function(e){return Array.prototype.slice.call(e,1)},s.isToday=function(e){var n=moment();return n.isSame(e,"day")&&n.isSame(e,"month")&&n.isSame(e,"year")},s.pastePlainText=function(n){var t;if(n.preventDefault(),(n.originalEvent||n).clipboardData)t=(n.originalEvent||n).clipboardData.getData("text/plain"),document.execCommand("insertText",!1,t);else if(e.clipboardData){t=e.clipboardData.getData("Text"),(document.selection||document.getSelection()).createRange().pasteHTML(t)}return t},s.pixelRatio=function(n){var t=e.devicePixelRatio;if(!n)return t||(this.pixelRatio(3)?3:this.pixelRatio(2)?2:this.pixelRatio(1.5)?1.5:this.pixelRatio(1)?1:0);if(t&&t>0)return t>=n;var a=e.matchMedia||e.msMatchMedia;return!!a&&(!!a(n="only all and (min--moz-device-pixel-ratio:"+n+")").matches||!!a(n.replace("-moz-","")).matches)},s.getUserAgent=function(n){return n>0?e.navigator.userAgent.substr(0,n):e.navigator.userAgent},s.getCookie=function(n){var t=new RegExp("(?:^|; )"+encodeURIComponent(n)+"=([^;]*)").exec(e.document.cookie);return t&&t.length>0?e.decodeURIComponent(t[1]):null},s.setCookie=function(t,a,s,l){var i,r="";0!==s&&(s=s&&n.isNumber(s)?s:365,(i=new Date).setTime(i.getTime()+24*s*60*60*1e3),r+="; expires="+i.toGMTString());var o=t+"="+(a=e.encodeURIComponent(a))+r+"; path=/;";if(l){var c=e.document.domain.split(".");o+=" domain="+(c="."+c[c.length-2]+"."+c[c.length-1])+";"}return e.document.cookie=o,o},s.destroyCookie=function(n){e.document.cookie=n+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"},s.supportPushState=function(){return!(!e.history||!e.history.pushState)},s.serializeObject=function(e){var n={};return $.each(e,function(){void 0!==n[this.name]?(n[this.name].push||(n[this.name]=[n[this.name]]),n[this.name].push(this.value||"")):n[this.name]=this.value||""}),n},s.modernizr=function(n){var t,a;if(!e.Modernizr)return!1;if(s.isOperaMini&&"input.placeholder"===n)return!1;if(s.isLTIE10Mobile&&"fontface"===n)return!1;for(t=e.Modernizr,n=n.split("."),a=0;a<n.length;a++)t=t[n[a]];return t},s.supportsTransition=function(){var n=(e.document.body||e.document.documentElement).style;return void 0!==n.transition||void 0!==n.WebkitTransition||void 0!==n.MozTransition||void 0!==n.MsTransition||void 0!==n.OTransition},s.transitionEndStrings="webkitTransitionEnd oTransitionEnd MSTransitionEnd transitionend",s.scrollIntoView=function(n){var t;n&&(n=(t=$(n))[0],t.length&&(s.isOperaMini||s.isAndroidStockBrowser(2,!0)||!n.scrollIntoView?e.scrollTo(0,t.offset().top+10):n.scrollIntoView(!0)))},s.isOperaMini=Boolean(e.navigator.userAgent.match(/(Opera Mini)/)),s.isLTIE10Mobile=Boolean(e.navigator.userAgent.match(/(MSIE 9.+ IEMobile)/))||Boolean(e.navigator.userAgent.match(/(MSIE 8.+ IEMobile)/))||Boolean(e.navigator.userAgent.match(/(MSIE 7.+ IEMobile)/)),s.chromeAndroidVer=function(){var n=/Chrome\/([0-9.]+)\ Mobile/.exec(e.navigator.userAgent);return n?parseInt(n[1]):0},s.isAndroid=function(n,t){var a=0;return n&&"number"==typeof n?!!Boolean(e.navigator.userAgent.match(/(Android)/))&&(!!(a=e.navigator.userAgent.match(/Android (.)/))&&(a=parseInt(a[1],10),t?a===n:a>=n)):Boolean(e.navigator.userAgent.match(/(Android)/))},s.format=function(e,n,t){var a="\\d(?=(\\d{"+(t||3)+"})+"+(n>0?"\\.":"$")+")";return e.toFixed(Math.max(0,~~n)).replace(new RegExp(a,"g"),"$&,")},Handlebars.registerHelper("format",s.format),s.isAndroidStockBrowser=function(n,t){return!!s.isAndroid(n,t)&&parseFloat(e.navigator.userAgent.match(/AppleWebKit\/([\d.]+)/)[1])<535},s.openOnDesktop=function(n){n=n&&n.location?n:e;var t=s.getDesktopUrl(n);n.document.cookie="mw-no=true; path=/",n.location.href===t?n.location.reload():n.location.href=t},s.getDesktopUrl=function(n){return(n=n&&n.location?n:e).location.href.replace(/\/paragraph\/[\w]+/,"")},s.hideAddressBar=function(){t.utils.isOperaMini&&s.scrollToTop(),e.setTimeout(function(){e.scrollY<5&&s.scrollToTop()},0)},s.scrollToTop=function(){e.document.body.scrollTop||e.document.documentElement.scrollTop;var n=e.scrollTo;n&&n(0,0)},s.currentUser=function(){var e=app.get("currentUser");return e||(e=new app.models.User(t.user),app.set("currentUser",e,!1)),e},s.urlEncode=function(e){e=(e+"").toString();var n="";try{n=encodeURIComponent(e).replace(/!/g,"%21")}catch(t){e="..."==e.substr(-3)?e.substr(0,e.length-4)+"...":e.substr(0,e.length-1),n=encodeURIComponent(e).replace(/!/g,"%21")}return n.replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},s.urlEncodeWithSpace=function(e){return e=(e+"").toString(),encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")},s.urlDecode=function(e){return e=(e+"").toString(),decodeURIComponent(e.replace(/%21/g,"!").replace(/%27/g,"'").replace(/%28/g,"(").replace(/%29/g,")").replace(/%2A/g,"*").replace(/\+/g," "))},s.getMentions=function(e){return e.match(/((?![\/\.\#])(?:^|\W))@([\S\-]+)/gi)},s.linkify=function(e,n){var a=/((?![\/\.\#])(?:^|\W))@([\S\-]+)/gi,s=/(http(s)?:\/\/[^\s]+)/gi,l=/(?:^|\W)#([^\s\?\/]+)/gi,i='$1<a class="on-user-mention" href="/user/$2">@$2</a>',r='<a href="$1" rel="nofollow" target="_blank">$1</a>',o=' <a href="/tags/$1" class="on-navigate">#$1</a>';switch((n=n||{}).hash&&n.hash.sanitization&&(n.sanitization=n.hash.sanitization),n.sanitization=n.sanitization||"sanitize",n.doTags=!1!==n.doTags,n.doUrl=!1!==n.doUrl&&"unsanitize"!==n.sanitization,n.doMention=!1!==n.doMention,n.sanitization){case"sanitize":e=t.utils.sanitizeHTML(e);break;case"unsanitize":e=t.utils.unsanitizeHTML(e)}return n.doMention&&(e=e.replace(a,i)),n.doUrl&&(e=e.replace(s,r)),n.doTags&&(e=e.replace(l,o)),e},s.findMediaInText=function(e){var t,a,s=[],l="i";return e.text&&(e.placeholder=void 0!==e.placeholder&&""+e.placeholder,e.firstOnly=!!e.firstOnly,e.firstOnly||(l+="g"),n.each({image:/(?:https?:)?\/\/(?:[\w\-]+\.)+[a-z]{2,6}(?:\/[^\/#?]+)+\.(?:jpg|gif|png)/},function(n){t=new RegExp(n.source,l),(a=e.text.match(t))&&(e.placeholder&&(e.text=e.text.replace(t,e.placeholder)),s=s.concat(a))})),{text:e.text,media:s}},s.stopEvent=function(e){var n=e&&e.hasOwnProperty("gesture")?e.gesture.srcEvent:e,t=!!n&&(n.metaKey||n.ctrlKey);e&&!t&&(e.preventDefault(),e.stopPropagation(),e.hasOwnProperty("gesture")&&(e.gesture.preventDefault(),e.gesture.stopPropagation(),e.gesture.stopDetect()))},s.supportLocalstorage=function(){var n=e.app,t="wattpad.com.test";try{return e.localStorage.setItem(t,t),e.localStorage.removeItem(t),!0}catch(t){if(DOMException&&t&&DOMException.QUOTA_EXCEEDED_ERR&&t.code&&t.code===DOMException.QUOTA_EXCEEDED_ERR)return void 0!==n&&"undefined"!==n.local&&n.local.clear(),!0;e.wpLog.exception(t,"localstorage-not-supported")}return!1},s.redirectToCSR=function(e,n){n=n||{},app.router.navigate(e,n)},s.redirectToServer=function(e){$("body").hasClass("js-app-off")||(e?s._redirectToServer(e):s._reloadFromServer())},s._redirectToServer=function(n){e.location.href=n},s._reloadFromServer=function(){e.location.reload()},s.goBackInHistory=function(){e.history.go(-1)},s.getWindowSearch=function(){return e.location.search},s.reloadWithQuery=function(n){e.location="//"+e.location.hostname+e.location.pathname+n+e.location.hash},s.cacheBust=function(e,t,a,s){var l=[];return e=Array.isArray(e)?e:[e],t=Array.isArray(t)?t:[t],n.forEach(e,function(e,i){var r,o;(o=(r=s?new app.models[e](t[i]):new app.collections[e]([],t[i]))instanceof app.collections.IncrementalFetch?Promise.resolve(r.fetchNextSet({localOnly:!0})):Promise.resolve(r.fetch({localOnly:!0}))).then(function(){a&&!r.get(a)||app.local._clearItem(n.result(r,"resource"))}),l.push(o)}),Promise.all(l)},s.showBuyCoinsModal=function(n,t,a,s){e.app.components.showBuyCoinsModal({isDesktop:app.get("device").isDesktop(),appLink:s,trackCoinsEvents:function(s,l){var i=e.store.getState().wallet;e.te.push("event","coins","packages",s,l,{page:n,storyid:t,partid:a,starting_balance:i.amount})}})},s.shouldSeePaidOnboarding=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(parseInt(t.utils.getCookie("seen-paid-onboard"))||!1)&&e},s.showPaidOnboardingAfterDelay=function(){$("body").addClass("js-app-off");var n=e.location.pathname;setTimeout(function(){$("body").removeClass("js-app-off"),e.location.pathname!==n||e.app.components.showPaidOnboardingModal({premium:t.utils.currentUser().get("premium")})},1500)},s.getAppUrl=function(e){e=e||"mobileweb";var n=app.get("device");return n&&n.is.ios?"https://itunes.apple.com/app/free-books-wattpad-ebook-reader/id306310789":n&&n.is.huawei?"https://appgallery5.huawei.com/#/app/C100252597":n&&n.is.android?"https://play.google.com/store/apps/details?id=wp.wattpad&referrer=utm_source%3Dwattpad%26utm_medium%3D"+e:n&&n.is.kindle?"https://www.amazon.com/Unlimited-Stories-Wattpad-Free-Reader/dp/B004K56MNU":n&&n.is.windows?"https://www.microsoft.com/store/apps/9nblggh6gm17":"/getmobile"},s.getAllAppUrls=function(e){return{ios:"https://itunes.apple.com/app/free-books-wattpad-ebook-reader/id306310789",android:"https://play.google.com/store/apps/details?id=wp.wattpad&referrer=utm_source%3Dwattpad%26utm_medium%3D"+(e=e||"mobileweb"),kindle:"https://www.amazon.com/Unlimited-Stories-Wattpad-Free-Reader/dp/B004K56MNU",windows:"https://www.microsoft.com/store/apps/9nblggh6gm17",huawei:"https://appgallery5.huawei.com/#/app/C100252597",fallback:"/getmobile"}},s.openPopup=function(n,t,a,s){var l=void 0!==e.screenLeft?e.screenLeft:screen.left,i=void 0!==e.screenTop?e.screenTop:screen.top,r=(e.innerWidth?e.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-a/2+l,o=(e.innerHeight?e.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-s/2+i,c=e.open(n,t,"scrollbars=yes, width="+a+", height="+s+", top="+o+", left="+r);return e.focus&&c.focus(),c},s.sortByColumns=function(e,n){for(var t=[],a=0,s=0,l=0,i=0,r=e.length%n;t.length<e.length;){for(;a<e.length&&(t.push(e[a]),a+=Math.ceil(e.length/n)-s,l++,r&&l>=r&&(s=1),!(t.length>=e.length)););l=0,s=0,a=++i}return t},s.sprintf=function(e,n){var t="";if(0===n.length)return e;for(var a=e.split("%s"),s=0;s<a.length;s++)t+=a[s]+(null!==n[s]&&void 0!==n[s]?n[s].toString():"");return t},s.extractUriFromUrl=function(e){return e.replace(/^((https?:)?\/\/)?[a-z-.]*[a-z-](:\d+)?(?=\/)/i,"")},s.formatStoryUrl=function(e){return s.extractUriFromUrl(e)},s.getCopyright=function(e){var n="";switch(e){case 0:n=s.trans("Not Specified");break;case 1:n=s.trans("All Rights Reserved");break;case 2:n=s.trans("Public Domain");break;case 3:n=s.trans("Creative Commons (CC) Attribution");break;case 4:n=s.trans("(CC) Attrib. NonCommercial");break;case 5:n=s.trans("(CC) Attrib. NonComm. NoDerivs");break;case 6:n=s.trans("(CC) Attrib. NonComm. ShareAlike");break;case 7:n=s.trans("(CC) Attribution-ShareAlike");break;case 8:n=s.trans("(CC) Attribution-NoDerivs")}return n},s.getCopyrightIcon=function(e){var n=null;switch(e){case 0:break;case 1:n="fa-copyright";break;case 2:n="fa-public-domain";break;case 3:case 4:case 5:case 6:case 7:case 8:n="fa-creative-commons"}return n},s.addSource=function(e,n,t,a,s){var l=(e.indexOf("?")>0?"&":"?")+"utm_source="+n,i=e+l;t&&(i+="&utm_medium="+t),a&&(i+="&utm_content="+a),s&&(i+="&wp_page="+s);var r=e.indexOf("#");return r>0&&(i=e.substr(0,e.indexOf("#")+1)+l+"#"+r),i},s.setTitle=function(n,a){void 0===a&&(a=!0);var s=0,l=n?n+(a?" - Wattpad":""):"Wattpad";t.utils.currentUser().get("inbox")&&(s=t.utils.currentUser().get("inbox").unread),app.get("device").is.desktop&&s>0&&(l="("+s+") "+l),e.document.title!==l&&(e.document.title=t.utils.unsanitizeHTML(l))},s.getNextUrl=function(e,n){var t,a=function(e){return"string"==typeof e&&!/(\/|%2F)(getmobile|login|signup)\/?[^\/\s]*/i.test(e)};return e=a(e)?e:"",n=(a(n)?n:"")||"/home",(t=e||s.getParam("nextUrl")||s.getParam("nexturl"))&&"string"==typeof t&&a(t)?encodeURIComponent(t):encodeURIComponent(n)},s.getParam=function(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+n+"=([^&#]*)").exec(e.location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},s.npgettext=function(e,n,t,a){var s=app.get("translatedLanguage");return a=parseInt(a,10),s&&s.jed?s.jed.npgettext(e,n,t,a):function(e,n,t){return 1===t?e:n}(n,t,a)},s.ngettext=function(e,n,t){return s.npgettext(void 0,e,n,t)},s.toPascalCase=function(e){var n=e.toLowerCase().replace(/[\W_]+(\w)/g,function(e,n){return n.toUpperCase()});return n.charAt(0).toUpperCase()+n.slice(1)},s.experimentSelected=function(n){n&&n.current&&e.te.push("event","experiment","variation",null,"select",{experiment:n.options.experimentKey,variation:n.variationLoki?n.variationLoki:"unknown"})},s.isHttp=function(){return"http:"===e.location.protocol},s.pushEvent=function(n,t){n&&"object"===l(n)&&e.dataLayer&&(n.event=t||"ga-event",e.dataLayer.push(n))},s.getAppLink=function(e,t){var a=app.get("device"),s=!n.includes(["library","homepage"],e);if(void 0===e||s&&void 0===t||!a.is.ios&&!a.is.android&&!a.is.windows)return null;switch(e){case"homepage":return"wattpad://discover";case"story-landing":return t instanceof app.models.StoryModel?a.is.ios?"wattpad:///read?groupid="+t.get("id"):"wattpad://story/"+t.get("id"):null;case"story-reading":return t instanceof app.models.StoryPartModel?a.is.ios?"wattpad:///read?groupid="+t.get("group").id+"&partid="+t.get("id"):"wattpad://story/"+t.get("group").id+"/part/"+t.get("id"):null;case"user-profile":return t instanceof app.models.User?a.is.ios?"wattpad:///profile?username="+t.get("username"):"wattpad://user/"+t.get("username"):null;case"library":return a.is.android?"wattpad://library":null}return a.is.ios?"iOS":a.is.android?"android":a.is.windows?"windows":null},s.harm=function(e){var a=[],l=e.replace(/:|#/g," ").split(" ");return n.forEach(t.harm,function(e){n.intersection(l,n.map(e.words,s.trans.map)).length&&a.push(s.sprintf(e.message[0],n.rest(e.message)))}),!!a.length&&a},s.appOn=function(){return!$("body").hasClass("js-app-off")},s.categorySubtitle=function(e){switch(e.id){case 1:return s.trans("Ride the emotional rollercoaster of young adulthood with these free coming-of-age stories on love, friendship, high school drama, popularity and awkward teen moments.");case 2:return s.trans("Immerse yourself with the best poems online about love, life, and the human experience.");case 3:return s.trans("Enter the realm of magic, dragons, princesses, elves, and faraway kingdoms, where a series of most unexpected events come to life.");case 4:return s.trans("Discover free love stories for any passion or persuasion. Book a date with your favorite author and read everything from sweet young romance to steamy new adult.");case 5:return s.trans("Travel to the interstellar worlds of science fiction. Discover free books about space odysseys, time travel, dystopian futures, alien planets, and post-apocalyptic universes.");case 6:return s.trans("From Supernatural to Harry Potter, One Direction to Percy Jackson, read the best fanfiction from whatever fandom you are in.");case 7:return s.trans("From tongue-in-cheek satire to literary comedy, enjoy these funny stories for adults and teens.");case 8:return s.trans("Welcome to the world of mystery, crime, and intrigue. Investigate psychological thrillers, blood boiling murders, and detective stories.");case 9:return s.trans("Feeling brave? Prepare for a scare with these creepy tales of eerie encounters, urban legends, and the unknown.");case 10:return s.trans("Immerse yourself in must read classic novels and literature that have stood the test of time.");case 11:return s.trans("Go on an epic journey with these free adventure books. Travel to the realm of heroes, villains, pirates, and other fairy folk.");case 12:return s.trans("Beware: ghosts, zombies, demons, clairvoyants, and ghouls. Read these free paranormal stories at your own risk.");case 13:return s.trans("Embark on a spiritual journey with stories that nourish the soul. Find your answers through self-reflection, healing, and spirituality.");case 14:return s.trans("Looking for danger, risk, and excitement? Find your hero in the best action books for teens and adults from your favorite authors.");case 16:return s.trans("Read fascinating biographies, intimate memoirs, real stories of personal growth, and other non-fiction books.");case 17:return s.trans("On the go? Read these slice-of-life short stories that span across genres.");case 18:return s.trans("Sink your teeth into these vampire books about century-old love, coven drama, and paranormal transformation.");case 19:return s.trans("Read stories that defy definition. Whether you are looking for things to do when you are bored, top 10 lists, guides, rants, diary entries, or contests, find your fix here.");case 21:return s.trans("Get your fix of contemporary fiction. Experience a new perspective with the best free fiction from your next favorite author.");case 22:return s.trans("From alpha to omega, find your one true mate with these free werewolf books that will make you howl.");case 23:return s.trans("Fall back in time with fictional period pieces, war stories, and tales of vikings, kings and queens that capture the essence of history.");case 24:return s.trans("Discover your next favorite chicklit author with these tales of dating, drama, and disasters. Book your next experience in classic trials of modern womanhood.")}},s.isYouTubeUrl=function(e){return 0===e.indexOf("http://youtu.be/")||0===e.indexOf("https://youtu.be/")||0===e.indexOf("http://www.youtube.com/watch?v=")||0===e.indexOf("https://www.youtube.com/watch?v=")},s.extractYouTubeId=function(e){var n=e.match(/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/);return n&&11==n[1].length?n[1]:""},s.connectAsset=function(e){return t.mediaServer&&(e=t.mediaServer+e),e},s.resizeImages=function(e,n){var t=app.get("device");n=n||t.isDesktop()&&650||210;e.each(function(e,t){var a=$(t).children("img");if(a.data("original-width")>n){var s=a.data("original-height")/a.data("original-width")*100;$(t).addClass("fixed-ratio").css({"padding-bottom":s+"%"})}else a.attr("width",a.data("original-width")),a.attr("height",a.data("original-height")),$(t).removeClass("fixed-ratio").css({"padding-bottom":""})})},s.isOnScreen=function(n,t){if(t=t||1,!n.length)return!1;if(!n.is(":visible"))return!1;var a=$(e).scrollTop(),s=a+$(e).height(),l=n.offset().top,i=l+n.height(),r=n.height()*t;return i<=s&&l>=a||l<=a&&i>a&&i-a>=r||i>=s&&l<s&&s-l>=r},s.generateBranchLink=function(n,t,a){var l={source:a.source,fields:"url",uuid:s.getCookie("wp_id"),url:n,shorten:1,post:0,shouldFallback:!1};return a.desktopRedirect&&(l.desktopRedirect=!0),t&&(l.deeplink=t,l.medium=a.medium,l.content=a.content,l.page=a.page,a.campaign&&(l.campaign=a.campaign),e._utms.originator&&(l.ref_ori=e._utms.originator)),$.get("/v4/link",l)},s.qsReplace=function(e,n,t){if("string"!=typeof e||"string"!=typeof n||e.indexOf(n+"=")<0)return e;var a=new RegExp(n+"=[^&]*");return e.replace(a,n+"="+(void 0===t||null===t?"":t))},s.eligibleForDirectSoldAds=function(){return n.includes(JSON.parse(t.directAdCountries),t.userCountryCode)},s.isMatureStory=function(e){return!e||e.rating>=4},s.getGenderTargeting=function(e){var n;if(!e||!e.gender)return"Ke28";switch(e.gender){case"Male":case"He":n="IU10";break;case"Female":case"She":n="Bu44";break;default:n="Ke28"}return n},s.getViewCountTargeting=function(e){var n;return e>=0&&e<100?n="0to100":e>=100&&e<1e3?n="100to1000":e>=1e3&&e<1e4?n="1000to10000":e>=1e4&&e<1e5?n="1000to10000":e>=1e5&&(n="100000plus"),n},s.cacheBustPaidMetadata=function(n,t){return e.store.dispatch(e.app.components.actions.cacheBustPaidContentMetadata(n,t))},s.revertPaidContentAccess=function(e,n){var t=s.getCurrentUserAttr("username");if(!t)throw new Error("User must be logged in to revert access");var a="";return n&&(a="/part/"+n),Promise.resolve($.ajax({type:"DELETE",url:"/v5/users/"+t+"/story/"+e+a+"/access"})).then(function(){s.cacheBustPaidMetadata(e,[n])})},s.buyPaidContent=function(e,n,a){var l=s.getCurrentUserAttr("username");if(!l)throw new Error("User must be logged in to buy a part");var i="";return a&&(i="/part/"+a),Promise.resolve($.post("/v5/users/"+l+"/story/"+n+i+"/access?currency="+e)).then(function(e){if(!!e.code)throw e;return e}).catch(function(e){var n;try{if(3005!==e.code)throw"Unknown error code";n=t.utils.trans("Sorry, there weren't enough funds in your wallet to make this purchase.")}catch(e){n=t.utils.trans("Something went wrong, please try again. Don't worry, you won't be charged twice!")}throw n})},s.fetchPaidContentStoryMetadata=function(e,n){var t=n.join(",");return Promise.resolve($.ajax({type:"GET",url:"/v5/story/"+e+"/paid-content/metadata",data:{parts:t}})).catch(function(e){return console.error("Couldn't fetch story metadata",e),{}})},s.markBlockedParts=function(e,n){return n.map(function(n){var t=e.parts[n.id];return t?a({},n,{isBlocked:t.paywalled&&!t.has_access,paywalled:t.paywalled}):n})},s.isPaidPreview=function(e){var t=n.any(e,function(e){return e.paywalled&&!e.isBlocked});return n.any(e,function(e){return e.paywalled})&&!t},s.numPartsBetweenCurrentAndPaywall=function(e,t){if(t.isBlocked)return-1;var a=n.findIndex(e,{id:t.id}),s=e.slice(a+1);return n.findIndex(s,function(e){return e.isBlocked})},s.getIndexForPartId=function(e,t){var a=t.parts;return n.findIndex(a,function(n){return n.id===e})},s.getAgeTargeting=function(e){return e&&e.age?e.age<15?"13HW":e.age>=15&&e.age<=17?"59ss":e.age>=18&&e.age<=24?"09Pv":e.age>=25&&e.age<=34?"68OK":e.age>=35&&e.age<=40?"71aa":e.age>=41&&e.age<=45?"76PT":e.age>=46&&e.age<=49?"74xS":e.age>=50&&e.age<=54?"68zo":e.age>=55&&e.age<=59?"33es":e.age>=60&&e.age<=64?"84Vv":e.age>=65?"29kM":"UNKn":"UNKn"},s.getCategoryTargeting=function(e){if(n([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,16,17,18,19,21,22,23,24]).includes(e))return e},s.getRankingTargeting=function(e){return e>0&&e<=100?"0to100":"100plus"},s.getAdzerkUnit=function(e){var n=t.adzerkHeaderBiddingUnitMap[e];return n||{zone:0,sizes:{0:[0,0]}}},s.loadHbAd=function(l){e.ados=e.ados||{},e.ados.run=e.ados.run||[],e.ads=e.ads||{};var i=l.placements;if(!i)return"";function r(l,i,r){var o=r?function(a,s){for(var l=a,i={},r=(s=s||"unknown",n.get(e,"wattpad.testGroups.ADS_PROMETHEUS_METRICS",!1)),o=0;o<l.length;o++){if(r){var c=l[o],u=t.utils.getDeviceType(),d=e.ads[s]?e.ads[s]:{},h=d.ixRequestId?d.ixRequestId:"unknown",p=d.ixResponseId?d.ixResponseId:"unknown";c.id=t.utils.generateUUID(),e.te.push("event","ad","internal",null,"bid",{id:c.id,created_at:(new Date).toISOString(),page_view_id:n.get(app,"currentView.model.attributes.pageviewId","unknown"),partner_id:n.get(c,"partnerId","unknown"),price:n.get(c,"price",void 0),dimensions:c.size?c.size.join("x"):"0x0",platform:"mobile"===u?"mobile-web":"desktop-web",username:t.utils.getCurrentUserAttr("username"),external_id:t.utils.getCurrentUserAttr("externalId"),request_id:h,response_id:p,adunit_id:s})}(!i.hasOwnProperty("price")||l[o].price>i.price)&&(i=l[o])}return i}(r,l):null;if(n.get(e,"wattpad.testGroups.ADS_PROMETHEUS_METRICS",!1)){var c=t.utils.getDeviceType(),u=l||"unknown",d=i.targeting?i.targeting:{},h=!!r,p=n.get(e,"ads[".concat(u,"].ixRequestId"),"unknown"),m=t.utils.generateUUID();e.ads[u].ixResponseId=m,e.te.push("event","ad","internal",null,"auction_result",{id:m,created_at:(new Date).toISOString(),country_code:t.userCountryCode,username:t.utils.getCurrentUserAttr("username"),external_id:t.utils.getCurrentUserAttr("externalId"),platform:"mobile"===c?"mobile-web":"desktop-web",page_view_id:n.get(app,"currentView.model.attributes.pageviewId","unknown"),adunit_id:u,storyid:d.storyId?parseInt(d.storyId,10):void 0,num_bids:h?r.length:0,price:o?o.price:0,best_bid_id:o?o.id:null,request_id:p})}var f=i.networkId,g=i.siteId,v=i.zoneId,w=i.targeting?i.targeting:{},y=function(e){for(var n=Object.keys(e.adTypes),t=0;t<n.length;t++)n[t]=parseInt(n[t]);return n}(i),b=o?function(e,n){var t={advertisers:{}},a=e.price/100;return t.advertisers[n]={ecpm:a},t}(o,370943):{},x=o?function(e){var t={};return t.partnerId=e.partnerId?e.partnerId:null,t.ixWidth=e.size?e.size[0].toString():"1",t.ixHeight=e.size?e.size[1].toString():"1","RubiconHtb"===t.partnerId&&e.targeting.rpfl_7941&&(t.rubiconSizeId=e.targeting.rpfl_7941[0].slice(0,e.targeting.rpfl_7941[0].indexOf("_"))),n.merge(t,e.targeting)}(o):{},C=n.merge(w,x),k=o?function(e){switch(e.category){case 0:return"genre-uncategorized";case 1:return"genre-teen-fiction";case 2:return"genre-poetry";case 3:return"genre-fantasy";case 4:return"genre-romance";case 5:return"genre-science-fiction";case 6:return"genre-fanfiction";case 7:return"genre-humor";case 8:return"genre-mystery-thriller";case 9:return"genre-horror";case 10:return"genre-classics";case 11:return"genre-adventure";case 12:return"genre-paranormal";case 13:return"genre-spiritual";case 14:return"genre-action";case 16:return"genre-non-fiction";case 17:return"genre-short-stories";case 18:return"genre-vampire";case 19:return"genre-random";case 21:return"genre-general-fiction";case 22:return"genre-werewolf";case 23:return"genre-historical-fiction";case 24:return"genre-chick-lit";default:return""}}(w):"";return t.testGroups.ADS_DATADOG_METRICS&&s.sendDataDogMetric({isAdRequest:!0,adRequested:!0}),function(){if(n.get(e,"wattpad.testGroups.ADS_PROMETHEUS_METRICS",!1)){var s=t.utils.getDeviceType(),r=e.location.pathname.split("/")[1].match(/^\d+/)?"reading":"story_details",o=l||"unknown",c=i,u=n.get(e,"wattpad.testGroups.BLOCK_RTB",!1),d=t.utils.generateUUID(),h=l;e.ads[h]=a({},e.ads[h],{},{requestId:d}),e.te.push("event","ad","internal",null,"request",{id:d,page:r,zone_id:c.zoneId?c.zoneId.toString():"unknown",country_code:t.userCountryCode,username:t.utils.getCurrentUserAttr("username"),external_id:t.utils.getCurrentUserAttr("externalId"),created_at:(new Date).toISOString(),ad_partner:"adzerk",platform:"mobile"===s?"mobile-web":"desktop-web",storyid:C.storyId?parseInt(C.storyId,10):void 0,partid:"reading"===r?n.get(app,"currentView.model.attributes.id",!1):void 0,placement:c.htSlotName?c.htSlotName:"unknown",page_view_id:n.get(app,"currentView.model.attributes.pageviewId","unknown"),gdpr_is_eu:u,adunit_id:o})}var p=p||{};p.run=p.run||[],p.run.push(void(e.ados_add_placement&&(ados_add_placement(f,g,l,y).setZone(v).setProperties(C).setOverrides(b),ados_setConsent({gdpr:!0}),ados_setKeywords(k),ados_load())))}}function o(e,n,t){var a=e,s=n,l=t;return function(e){return e&&e.slot&&e.slot[l]?r(a,s,e.slot[l])():r(a,s)()}}for(var c in i){var u=i[c],d=u.htSlotName,h=o(c,u,d);if(e.headertag&&e.headertag.retrieveDemand){if(n.get(e,"wattpad.testGroups.ADS_PROMETHEUS_METRICS",!1)){var p=t.utils.generateUUID(),m=t.utils.getDeviceType(),f=e.location.pathname.split("/")[1].match(/^\d+/)?"reading":"story_details",g=c||"unknown",v=u.targeting?u.targeting:{},w=n.get(e,"wattpad.testGroups.BLOCK_RTB",!1),y=c;e.ads[y]=a({},e.ads[y],{},{ixRequestId:p}),e.te.push("event","ad","internal",null,"request",{id:p,page:f,zone_id:u.zoneId.toString(),country_code:t.userCountryCode,username:t.utils.getCurrentUserAttr("username"),external_id:t.utils.getCurrentUserAttr("externalId"),created_at:(new Date).toISOString(),ad_partner:"indexexchange",platform:"mobile"===m?"mobile-web":"desktop-web",storyid:parseInt(v.storyId,10),partid:"reading"===f?n.get(app,"currentView.model.attributes.id",void 0):void 0,placement:u.htSlotName,page_view_id:n.get(app,"currentView.model.attributes.pageviewId","unknown"),gdpr_is_eu:w,adunit_id:g})}e.headertag.retrieveDemand([{htSlotName:d}],h)}else h()}},s.getAdzerkTargeting=function(e,n){var t=e,a=n,l={};if(t.partRating&&(l.partRating=t.partRating),t.storyRating&&(l.storyRating=t.storyRating),t.category){var i=s.getCategoryTargeting(t.category);i&&(l.category=i)}return t.totalViewCount&&(l.totalViewCount=s.getViewCountTargeting(t.totalViewCount)),t.language&&(l.language=t.language),t.rankingStatus&&(l.rankingStatus=s.getRankingTargeting(t.rankingStatus)),t.storyId&&(l.storyId=t.storyId),a&&a.gender&&(l.KV1=s.getGenderTargeting(a),l.KV2=s.getAgeTargeting(a)),l},s.getHeaderBiddingInlineStyle=function(e){var t=Object.keys(e);if(t.length>1){var a=0;return n.forIn(e,function(e,n){e[0]>a&&(a=e[0])}),'style="width:'+a+'px;height:auto;"'}return'style="width:'+e[t[0]][0]+"px;height:"+e[t[0]][1]+'px;"'},s.showToast=function(e,n){new app.views.ErrorToast({message:e},n).render()},s.sendDataDogMetric=function(e,n){var t=e||{},a=n||null;$.post("/v4/metrics",t,a)},s.validatePrefilledTagText=function(e){var n=t.utils.sanitizeHTMLExceptQuotes(e.split(" ")[0]);return(n=n.replace(/<(br|p|div)(\s*)>/gi,"\n").replace(/(<([^>]+)>)/gi,"").substring(0,128)).length<2?null:n},s.validateImageURLs=function(e){var n=t.utils.sanitizeHTMLExceptQuotes(e.split(" ")[0]),a=new RegExp(/https?:\/\/(www\.)?(em|a|d).wattpad.(dev-prod|com)\/+\w+/);return!!n.match(a)},s.sendPurchaseResultEvent=function(n){var t=n.action,a=n.storyId,s=n.isFree,l=n.freeReason,i=n.isRepurchase,r=n.orderRefId;e.te.push("event","story_insights","report",null,t,{storyid:parseInt(a,10),is_free:s,free_reason:l,is_repurchase:i,order_reference_id:r})},s.refreshAd=function(n){var t=document.getElementById(n);if(t){var a=t.getAttribute("data-ad-placement"),s=t.getAttribute("data-adzerk-zone"),l=t.getAttribute("data-ad-types"),i=t.getAttribute("data-ht-slot-name"),r=t.getAttribute("data-targeting");if(a&&s&&l&&i&&r){var o={placements:{}};o.placements[a]={siteId:1025452,networkId:9660,zoneId:parseInt(s,10),adTypes:JSON.parse(l),htSlotName:i,targeting:JSON.parse(r)},t.innerHTML="",e.wattpad.utils.loadHbAd(o)}}},s.generateUUID=function(){for(var e=[],n=0;n<256;n++)e[n]=(n<16?"0":"")+n.toString(16);var t=4294967295*Math.random()|0,a=4294967295*Math.random()|0,s=4294967295*Math.random()|0,l=4294967295*Math.random()|0;return e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&a]+e[a>>8&255]+"-"+e[a>>16&15|64]+e[a>>24&255]+"-"+e[63&s|128]+e[s>>8&255]+"-"+e[s>>16&255]+e[s>>24&255]+e[255&l]+e[l>>8&255]+e[l>>16&255]+e[l>>24&255]}}(window,window._,window.wattpad)},function(e,n){!function(e,n,t,a){"use strict";e.wattpad=t||{};var s=(e.wattpad.utils||(e.wattpad.utils={})).Device=function(e){return void 0==e&&(e=navigator.userAgent),this.ua=e.toLowerCase(),this.is={mobile:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|windows phone|xda|xiino/i.test(this.ua)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(this.ua.substr(0,4)),iPhone:Boolean(this.ua.match(/iphone/)),iPod:Boolean(this.ua.match(/ipod/)),iPad:Boolean(this.ua.match(/ipad/)),android:Boolean(this.ua.match(/android/)),androidTablet:Boolean(this.ua.match(/android/)&&!this.ua.match(/mobile/)),googleweblight:Boolean(this.ua.match(/googleweblight/)),kindle:Boolean(this.ua.match(/(kindle)/)),windows:Boolean(this.ua.match(/windows phone/)),blackBerry:Boolean(this.ua.match(/blackberry/)),playBook:Boolean(this.ua.match(/playbook/)),huawei:Boolean(this.ua.match(/huawei/)||"mozilla/5.0 (linux; android 9; vog-l29) applewebkit/537.36 (khtml, like gecko) chrome/73.0.3683.90 mobile safari/537.36"===this.ua||"mozilla/5.0 (linux; android 9; ele-l29) applewebkit/537.36 (khtml, like gecko) chrome/73.0.3683.90 mobile safari/537.36"===this.ua),palmDevice:Boolean(this.ua.match(/(palmos|palmsource| pre\/)/)),smartMobileHints:Boolean(this.ua.match(/(smartphone|iemobile)/)),tabletPC:Boolean(this.ua.match(/tablet pc/)),ie:Boolean(this.ua.match(/msie/)||this.ua.match(/trident/i)),ie9:Boolean(this.ua.match(/msie 9./)),ie8:Boolean(this.ua.match(/msie 8./)),ie7:Boolean(this.ua.match(/msie 7./)),ie6:Boolean(this.ua.match(/msie 6./)),opera:Boolean(this.ua.match(/opera/)),chrome:Boolean(this.ua.match(/chrome/)),facebookCrawler:Boolean(this.ua.match(/facebookexternalhit/)),twitterCrawler:Boolean(this.ua.match(/twitterbot/)),appleCrawler:Boolean(this.ua.match(/applebot/)),pinterestCrawler:Boolean(this.ua.match(/pinterest/)),googlePlusCrawler:Boolean(this.ua.match(/\+\/web\/snippet/)),otherCrawler:Boolean(this.ua.match(/googlebot/))||Boolean(this.ua.match(/yahoo/))||Boolean(this.ua.match(/yandex/))||Boolean(this.ua.match(/drupal/))||Boolean(this.ua.match(/bot/))||Boolean(this.ua.match(/nutch/))||Boolean(this.ua.match(/crawl/))||Boolean(this.ua.match(/spider/))||Boolean(this.ua.match(/search/))||Boolean(this.ua.match(/index/))||Boolean(this.ua.match(/rss/))||Boolean(this.ua.match(/simplepie/))||Boolean(this.ua.match(/tracker/))||Boolean(this.ua.match(/teoma/))||Boolean(this.ua.match(/wazzup/))||Boolean(this.ua.match(/finder/))},this.is.ios=this.is.iPhone||this.is.iPod||this.is.iPad,this.is.smartphone=this.isSmartPhoneLike(),this.is.touch=this.isTouchDevice(),this.is.desktop=this.isDesktop(),this.is.tablet=this.isTablet(),this};s.prototype.isSmartPhoneLike=function(){return(this.is.iPhone||this.is.iPod||this.is.android&&this.is.mobile||this.is.windows||this.is.blackBerry||this.is.palmDevice||this.is.smartMobileHints)&&!this.isTablet()},s.prototype.isTablet=function(){return(this.is.iPad||this.is.tabletPC||this.is.playBook||this.is.androidTablet||this.is.kindle)&&!this.isOperaMini()},s.prototype.isTouchDevice=function(){return this.isTablet()||this.isSmartPhoneLike()},s.prototype.isDesktop=function(){return!this.isTouchDevice()},s.prototype.isOperaMini=function(){return Boolean(this.ua.match(/opera mini/))||Boolean(this.ua.match(/opera mobi/))||Boolean(this.ua.match(/opera tablet/))},s.prototype.isCrawler=function(){return this.is.facebookCrawler||this.is.twitterCrawler||this.is.pinterestCrawler||this.is.otherCrawler||this.is.appleCrawler||this.is.googlePlusCrawler},s.prototype.isWebView=function(){return this.is.ios&&!Boolean(this.ua.match(/safari/))||this.is.android&&Boolean(this.ua.match(/version\//))},s.prototype.androidVersion=function(){var e=null;return this.is.android&&2==(e=/android (\d+(?:\.\d+)+)/gi.exec(this.ua)).length?e[1]:e}}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t){"use strict";var a=function e(t,a){if(this.layout=a||e.Layouts.Default,this.stories=n.clone(t,!0),this.panelGroup=[],t.length){if(this.layout===e.Layouts.Default){var s=parseInt(this.stories[0].id,10)%100;this.stories.length>9?this.layout=s>49?e.Layouts.FourUpOutside:e.Layouts.FourUpInside:this.stories.length>6?this.layout=s>74?e.Layouts.FourUpPanel4:s>49?e.Layouts.FourUpPanel3:s>24?e.Layouts.FourUpPanel2:e.Layouts.FourUpPanel1:this.layout=e.Layouts.FourUpNone}this.generateGroup()}};a.Layouts={Default:1,FourUpNone:2,FourUpInside:3,FourUpOutside:4,FourUpPanel1:5,FourUpPanel2:6,FourUpPanel3:7,FourUpPanel4:8},a.prototype.generateGroup=function(){switch(this.layout){case a.Layouts.FourUpInside:this.buildPanel({panels:1}),this.buildPanel({panels:2,stories:4}),this.buildPanel({panels:1});break;case a.Layouts.FourUpOutside:this.buildPanel({panels:1,stories:4}),this.buildPanel({panels:2}),this.buildPanel({panels:1,stories:4});break;case a.Layouts.FourUpPanel1:this.buildPanel({panels:1,stories:4}),this.buildPanel({panels:3});break;case a.Layouts.FourUpPanel2:this.buildPanel({panels:1}),this.buildPanel({panels:1,stories:4}),this.buildPanel({panels:2});break;case a.Layouts.FourUpPanel3:this.buildPanel({panels:2}),this.buildPanel({panels:1,stories:4}),this.buildPanel({panels:1});break;case a.Layouts.FourUpPanel4:this.buildPanel({panels:3}),this.buildPanel({panels:1,stories:4});break;case a.Layouts.FourUpNone:this.buildPanel({panels:4})}},a.prototype.buildPanel=function(e){e=n.defaults(e,{panels:1,stories:1});for(var t=0;t<e.panels&&this.stories.length>e.stories-1;t++)this.panelGroup.push({class:"grid-"+e.stories,stories:this.stories.splice(0,e.stories)})},a.linkifyTitle=function(e,t){var a=e;return a&&t?(n.forOwn(t,function(e){if(e.text){var n=new RegExp("("+e.text.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+")(?!</a>)");a=a.replace(n,'<a href="'+e.link+'" class="on-navigate">$1</a>')}}),new Handlebars.SafeString(a)):a},t.PanelBuilder=a}(window,_,wattpad.utils)},function(e,n){window.mobileApp=window.mobileApp||{},window.mobileApp.instantiate=function(e,n,t,a){"use strict";e.app=new a.Application("mobile-web",{prefetched:e.prefetched,cachePolicy:"X-WPApp-Cache-Control"}),n.get(e,"wattpad.testGroups.ADS_PROMETHEUS_METRICS",!1)&&e.addEventListener("DOMContentLoaded",function(){e.ados=e.ados||{},e.ados.events=e.ados.events||{},e.ados.on=function(n,t){return e.ados.events[n]=e.ados.events[n]||[],e.ados.events[n].push(t)},e.ads=e.ads||{},e.ados.on("ImpressionCounted",function(t){var a=t.data,s=wattpad.utils.getDeviceType(),l=e.te.getPage(),i=n.get(e,"wattpad.testGroups.BLOCK_RTB",!1),r=a.div||"unknown",o=e.ads[r]?e.ads[r].requestId:"unknown",c=a.shim.zn?a.shim.zn:"unknown",u=a.shim.pc?a.shim.pc:0;n([183796]).contains(c)||e.te.push("event","ad","internal",null,"impression",{id:wattpad.utils.generateUUID(),created_at:(new Date).toISOString(),username:wattpad.utils.getCurrentUserAttr("username"),external_id:wattpad.utils.getCurrentUserAttr("externalId"),country_code:wattpad.userCountryCode,platform:"mobile"===s?"mobile-web":"desktop-web",storyid:"reading"===l?parseInt(n.get(app,"currentView.model.attributes.group.id",!1),10):parseInt(n.get(app,"currentView.model.attributes.id",!1),10),partid:"reading"===l?n.get(app,"currentView.model.attributes.id",void 0):void 0,adunit_id:a.shim.pn?a.shim.pn:"unknown",zone_id:c.toString(),flight_id:n.get(a,"shim.fl","unknown").toString(),page:l,ad_partner:"adzerk",gdpr_is_eu:i,price:u,page_view_id:n.get(app,"currentView.model.attributes.pageviewId","unknown"),request_id:o})})},{once:!0})},window.mobileApp.instantiate(window,window._,window.Backbone,window.Monaco)},function(e,n){window.mobileApp=window.mobileApp||{},window.mobileApp.framework=function(e,n,t,a,s,l,i){"use strict";var r=(l=l||(e.wattpad={})).utils||(l.utils={});i.frameworkFilters=i.frameworkFilters||{},i.frameworkFilters.beforeAjax=function(e,n){var t="en";try{t=i.get("supported-languages").get(i.get("language")).get("code")}catch(e){}if(n.setRequestHeader("Accept-Language",t),n.setRequestHeader("Authorization",i.get("api-key-web")),e)return e.apply(this,r.getWrapParams(arguments))},i.frameworkFilters.fetch=function(e){var n=arguments[1]||{};return n.beforeSend=t.wrap(n.beforeSend,i.frameworkFilters.beforeAjax),e.call(this,n)},i.router.on("route",function(t){var a=n("body");a.removeClass(function(e,n){return(n.match(/\broute-\S+/g)||[]).join(" ")}),a.addClass("route-"+t),e.GSLoader&&e.GSLoader.reset()}),s.Router.prototype.__extractParameters=s.Router.prototype._extractParameters,s.Router.prototype._extractParameters=function(e,n){var a,l=n.lastIndexOf("#"),i=s.history.getHash(),r={};return l>=0&&(n=n.slice(0,n.lastIndexOf("#"))),a=this.__extractParameters(e,n),t.isString(i)&&i.length>2&&(r=s.history.getQueryParameters("?"+i),t.size(r)>0&&(t.isObject(a[a.length-1])?a[a.length-1]=t.extend(a[a.length-1],r):a[a.length]=r)),a};var o=s.history.start;s.history.start=function(n){return n=n||{},e.history&&e.history.pushState||(n.pushState=!1,n.hashChange=!1),o.call(this,n)};var c=s.Experiment.prototype.controller,u=s.Experiment.prototype.view,d=s.Experiment.prototype.template;if(s.Experiment.prototype.controller=function(){return this.selected(),c.apply(this,arguments)},s.Experiment.prototype.view=function(){return this.selected(),u.apply(this,arguments)},s.Experiment.prototype.template=function(e){return this.selected(),d.apply(this,arguments)},s.Experiment.prototype.split=function(){var e;this.groups&&!t.isEmpty(this.groups)&&(e=Object.keys(this.groups)[0]),e&&(this.current="original"===e||"unknown"===e||"active"!==this.options.status&&"finished"!==this.options.status?this.original:e,this.variationLoki=e),this.selectedFlag={}},s.Experiment.prototype.selected=function(){var n=e.location.pathname;"active"!==this.options.status||this.selectedFlag[n]||(l.utils.experimentSelected(this),this.selectedFlag[n]=!0)},s.Experiment.prototype._normalizeGroup=function(){return[]},s.Experiment.prototype.optout=function(){throw new Error("Loki experiments don't support opt out from an experiment yet")},s.Model.prototype.lookup=s.Collection.prototype.lookup=function(n){var t=this;return n=n||{},new e.Promise(function(e,a){var s=n.success;n.success=function(){s&&s.apply(t,arguments),e(t)};var l=n.error;n.error=function(){l&&l.apply(t,arguments),a.apply(t,arguments)},t.fetch(n)})},"https://www.wattpad.io"===e.wattpad.apiDomain){s.Application.prototype.add=function(e,n){if(!n.prototype||!n.prototype.namespace)throw new Error("Monaco :: missing required object property 'namespace'");if(this[n.prototype.namespace][e])throw new Error("Monaco :: "+e+" have already been defined in "+this.name+"."+n.prototype.namespace);n.prototype._app=this,n.prototype.MonacoComponentName=e,n.prototype.MonacoComponentType=n.prototype.namespace,n.prototype.MonacoComponentParents=function e(n,t){if(n&&n.__proto__&&n.__proto__.MonacoComponentName){var a=t.concat(n.__proto__.MonacoComponentName);return e(n.__proto__,a)}return t}(n.prototype,[]),this[n.prototype.namespace][e]=n}}},window.mobileApp.framework(window,$,_,Backbone,Monaco,wattpad,window.app)},function(e,n){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,n,a,s,l){"use strict";l&&(e.wattpad=s||{},e.wattpad.utils=e.wattpad.utils||(e.wattpad.utils={}),void 0===l.router.addFilter&&e.wpLog.info("missing-router-method",{instanceofBackbone:l.router instanceof a.Router,instanceofMonaco:l.router instanceof Monaco.Router,typeofFilter:t(l.router.filter),typeof_filters:t(l.router._filters),typeofAddFilter:t(e.Monaco.Router.prototype.addFilter)}),l.router.addFilter("getCategories",function(e,t){if(l.get("categories")&&l.get("categories").resource==="system.categories."+l.get("language"))return e.apply(this,t);var a=new l.collections.Categories,s=this;Promise.resolve(a.fetch()).catch(function(i){var r=l.get("retry:categories")||0,o=n.result(i,"status");return[0,404,408,500,502,503,504].indexOf(o)>=0&&r<2?(l.set("retry:categories",r+1),l.router._filters.getCategories.call(s,e,t)):(l.set("retry:categories",0),l.set("categories",a),!1)}).then(function(n){return e.apply(s,t)})}),l.router.addFilter("requireLogin",function(n,t){return s.utils.currentUser().authenticated()?n.apply(this,t):(l.router.navigate("/login?nexturl="+encodeURIComponent(e.location.href),{trigger:!0,replace:!0}),!1)}),l.router.addFilter("getTranslations",function(e,n){if(void 0===l.get("translatedLanguage")){var t={domain:"messages",locale_data:{messages:s.translation}},a=new l.collections.TranslatedLanguage({},{translations:t});a.fetch(),l.set("translatedLanguage",a)}return e.apply(this,n)}))}(window,_,Backbone,wattpad,window.app||("undefined"!=typeof app?app:null))},function(e,n){!function(e,n){"use strict";n.router.add({":others":["error-404",{regexp:{others:/.*/}}]})}(window,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.router.on("route:error-404",s.router.filter(["getTranslations"],function(n,l){if(t("body").hasClass("js-app-off"))if("user"===n){var i=new s.views.DummyReactView({component:"UserError404",componentId:"userError-404"});s.transitionTo(i,{hasHeader:!0,hasFooter:!0})}else if("story"===n){i=new s.views.DummyReactView({component:"StoryError404",componentId:"story-error-404"});s.transitionTo(i,{hasHeader:!0,hasFooter:!0})}else{var r=new s.collections.BrowseTopics;Promise.resolve(r.fetch()).then(function(){var e=new s.views.Error404({type:n,modelId:l,browseTopics:r});s.transitionTo(e,{hasHeader:!0,hasFooter:!0})})}else a.utils.redirectToServer(e.location.href)}))}(window,_,jQuery,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("BaseTransition",n.Transition.extend({_canonicalURL:function(e){var t=n.history.fragment||"",s=t.toLowerCase();void 0!==e.username&&""!==e.username&&(s=s.replace(e.username.toLowerCase(),e.username)),t!==s&&a.router.navigate(s,{trigger:!1,replace:!0})},_hideAddressBar:function(){t.utils.hideAddressBar()},_pageView:function(){t.utils.pushEvent({},"virtualPageview"),void 0!==e._FskRefresh&&e._FskRefresh()},injectDOM:function(n,t,s,l){var i=$(s);!n&&i.children().length>0?(t.setElement(i.children(0)[0]),$("body").removeClass("js-app-off"),e.BOOMR?(e.BOOMR.page_ready(),e.BOOMR.addVar("tag","CSR")):document.addEventListener&&document.addEventListener("onBoomerangLoaded",function(e){e.detail.BOOMR.page_ready(),e.detail.BOOMR.addVar("tag","CSR")}),a.router.on("route",function(n){e.BOOMR&&a.set("transition_timer",e.BOOMR.requestStart())}),a.trigger("app:client-bound",{app:a,view:t})):(l&&i.empty(),i.append(t.$el))}}))}(window,Monaco,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("Language",t.Model.extend())}(window,_,Monaco,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("Languages",t.Collection.extend({model:s.models.Language,initialize:function(){this.on("sync",function(){s.set("supported-languages",this)})},url:"/api/v3/internal/languages",resource:"supported-languages",cacheLocal:!0,expireLocal:1440}))}(window,_,Monaco,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("TranslatedLanguage",t.Collection.extend({initialize:function(n,t){var s=this;this.locale=a.utils.getCookie("locale")||navigator.language||"en_US";var l=(t=t||{}).translations||{};this.jed=new e.Jed(l),this.on("sync",function(){s.jed=new e.Jed(s.toJSON()[0])})},fetch:function(){var e=s.local._getKey("strings-"),a=s.local._getKey(this.resource());n.forOwn(localStorage,function(n,t){0===t.indexOf(e)&&t!==a&&localStorage.removeItem(t)}),t.Collection.prototype.fetch.apply(this,arguments)},url:function(){return a.apiDomain+"/v4/strings/"+this.locale},resource:function(){return"strings-"+a.languagePackage},cacheLocal:!0,expireLocal:1440}))}(window,_,Monaco,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("Categories",t.Collection.extend({resource:function(){return"system.categories."+s.get("language")},url:function(){return"/api/v3/categories"},initialize:function(){this.on("sync",function(){s.set("categories",this)})},comparator:function(e,n){return e.get("name")>n.get("name")?1:e.get("name")<n.get("name")?-1:0},parse:function(e){var s="",l="",i="";return n.each(e,function(e){switch(e.id){case 1:s=a.utils.trans("Read about the ins, outs, ups, and downs of the teenage experience. These free books and stories offer the best in teen fiction covering topics like gay and lesbian romance, high school, popularity and young love."),l="teen_fiction.jpg",i="bg_teen_fiction.png";break;case 2:s=a.utils.trans("Delve into powerful feelings on love, life, romance, teen life, and everything in between. Read the best free poems online, and find your next inspiration."),l="poetry.jpg",i="bg_poetry.png";break;case 3:s=a.utils.trans("So you're into stories about magic, unicorns, dragons, thieves, elves and kingdoms? We have you covered. Read fantasy stories anywhere, anytime on Wattpad."),l="fantasy.jpg",i="bg_fantasy.png";break;case 4:s=a.utils.trans("Free books and love stories for any passion or persuasion; from sweet contemporary romance to steamy new adult, young love, sexy romance, to great historical novels. Find the greatest love stories from passionate authors who know about love."),l="romance.jpg",i="bg_romance.png";break;case 5:s=a.utils.trans("Get lost in the speculative Science Fiction stories of the future: dystopian novels, space odysseys, post-apocalyptic worlds from the great authors and writers of today. We have the best in free books and stories online by authors who love to write alien, fantasy, space time travel, and short sci fi."),l="science_fiction.jpg",i="bg_science_fiction.png";break;case 6:s=a.utils.trans("From Supernatural to Harry Potter, One Direction to Percy Jackson, and more. We have the best fic for whatever fandom you're into. Discover your next fanfiction on the site or on your phone with Wattpad."),l="fanfic.jpg",i="bg_fanfiction.png";break;case 7:s=a.utils.trans("Funny stories to keep you cackling. We have the best comedy stories online for adults and teens, whether you like satire, tongue-in-cheek critique, or witty social commentary. "),l="humor.jpg",i="bg_humor.png";break;case 8:s=a.utils.trans("Short mystery stories and thrillers exploring murder and crime investigations, detective work, and uncovering the answers to a problem or mystery. We have the best free mystery and thriller stories online for teens and adults."),l="mystery_thriller.jpg",i="bg_mystery_thriller.png";break;case 9:l="horror.jpg",i="bg_horror.png";break;case 10:s=a.utils.trans("Read your favorite classic novels, stories, and books anywhere. Classic literature are must read stories written over 100 years ago that stand the test of time and are still loved today."),l="classics.jpg",i="bg_classics.png";break;case 11:s=a.utils.trans("Risk, danger and excitement will fuel your next adventure on Wattpad. Find your quest and get ready for the journey of a lifetime with the best free adventure books and stories online about worldly travel, pirates, heroes, villains, challenges, and more."),l="adventure.jpg",i="bg_adventure.png";break;case 12:s=a.utils.trans("Read the best free paranormal romance stories and series with strong female leads, vampires, and werewolf drama. These stories are way beyond the normal."),l="paranormal.jpg",i="bg_paranormal.png";break;case 13:s=a.utils.trans("Read powerful spiritual stories about women and healing. These free online stories are spiritual but not necessarily religious, playing on existential themes that make us question who we are and why we’re here."),l="spiritual.jpg",i="bg_spiritual.png";break;case 14:s=a.utils.trans("If you love action; adventure, excitement and risk await you. Find your heroes and villains in the best action books and stories for teens and young adults online from author around the world."),l="action.jpg",i="bg_action.png";break;case 16:s=a.utils.trans("Read non-fiction stories by the best original authors on topics ranging from personal growth to exciting memoirs."),l="non_fiction.jpg",i="bg_non_fiction.png";break;case 17:s=a.utils.trans("Get lost in short stories about love, life, friendship, and bullying. Our short stories can be funny, sad, or dramatic. They all share a slice of life that everyone can relate to."),l="short_story.jpg",i="bg_short_story.png";break;case 18:s=a.utils.trans("Read the best in free vampire stories about vampires and romance, chasers, brothers, werewolf vs vampire, gay and lesbian, and more."),l="vampire.jpg",i="bg_vampire.png";break;case 19:s=a.utils.trans("Read stories that defy definition. When you’re looking for things to do when you’re bored, top 10 lists, guides, rants, diary entries, contests and stories, you will find your fix on Wattpad Random and never be bored again."),l="random.jpg",i="bg_random.png";break;case 21:s=a.utils.trans("Get your contemporary fiction fix with the best free fiction books and stories written by authors from around the world."),l="general_fiction.jpg",i="bg_general_fiction.png";break;case 22:s=a.utils.trans("Read free fanfiction and werewolf fiction online by the best authors. These exciting werewolf reads cover stories about true transformation, gay and lesbian themes, scary, creepy, romance, vampires, and more."),l="werewolf.jpg",i="bg_werewolf.png";break;case 23:s=a.utils.trans("Short stories and free books by exciting authors in historical fiction. Discover the best stories about war, the vikings and fictional period pieces that capture the essence of history recounting the world as it once was."),l="historical_fiction.jpg",i="bg_historical_fiction.png";break;case 24:s=a.utils.trans("From classic British chick lit to dating drama disasters, discover your next favorite chicklit author online or on your phone with Wattpad. We have tons of free stories for you to read wherever you go."),l="chicklit.jpg",i="bg_chicklit.png"}e.tagline=s,e.banner=l,e.bg_image=i}),t.Collection.prototype.parse.apply(this,arguments)},cacheLocal:!0,expireLocal:720}))}(window,_,Monaco,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("GenerateFields",Monaco.Mixin.create({fetch:function(e,t){if(e=e||{},n.result(this,"url").indexOf("fields")>-1)return t(e);if(n.isArray(this.fields)&&0===this.fields.length)return t(e);if(!(e=this.getFieldsString(e)).data||!e.data.fields)throw new Error("Fields were not specified for API call:"+n.result(this,"url"));return t(e)},getFieldsString:function(e,n){return e=e||{},!this.fields||e.data&&e.data.fields||(e.data=e.data||{},e.data.fields=this.generateFieldsString(this.fields)),n(e),e},generateFieldsString:function(e,t){var a=this,s="";if("string"==typeof e)return e;if(n.isArray(e))s+=n.map(e,function(e){return a.generateFieldsString(e)}).join(",");else{var l=[];n.forIn(e,function(e,n){l.push(n+"("+a.generateFieldsString(e)+")")}),s+=l.join(",")}return t(s),s}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("CollectionParsing",Monaco.Mixin.create({parse:function(e,n){return this.arrayKey?(this.total=e.total,this.nextUrl=e.nextUrl,n(e),e[this.arrayKey]):e},revertParse:function(e){var n={};return this.arrayKey?(n.total=this.total,n[this.arrayKey]=this.toJSON(),e(n),n):this.toJSON()}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("ApiV2",Monaco.Mixin.create({save:function(e,t,a){if((t=t||{}).url)return a(e,t);if(!(this.v2CreateUrl||this.v2UpdateUrl||this.v2DeleteUrl||this.v2Url))throw new Error("No v2 API Urls were found on this object. "+n.result(this,"resource"));return this.get("id")&&"new"!==this.get("id")?(t.url=n.result(this,"v2UpdateUrl")||n.result(this,"v2Url")||n.result(this,"url"),this.set("req_type","edit")):(t.url=n.result(this,"v2CreateUrl")||n.result(this,"v2Url")||n.result(this,"url"),this.set("req_type","new")),t.data=this.toJSON(),t.emulateJSON=!0,t.type="POST",a(e,t)},destroy:function(e,t){if((e=e||{}).url)return t(e);if(!(this.v2CreateUrl||this.v2UpdateUrl||this.v2DeleteUrl||this.v2Url))throw new Error("No v2 API Urls were found on this object. "+n.result(this,"resource"));return e.url=n.result(this,"v2DeleteUrl")||n.result(this,"v2Url")||n.result(this,"url"),e.data=this.toJSON(),e.emulateJSON=!0,e.type="POST",t(e)}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("ApiV2Patch",Monaco.Mixin.create({save:function(e,t,a){return(t=t||{}).data=n.pick(t.data||{},this.v2Fields),a(e,t)},destroy:function(e,t){return e.data=n.pick(e.data||{},this.v2Fields),t(e)}}))}(window,_,wattpad,window.app)},function(e,n){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,n,a,s,l){"use strict";l.add("ValidationModel",Monaco.Mixin.create({regex:{email:/^[a-zA-Z0-9_\.\'\+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-\.]+$/,az09:/^[a-z0-9_-]+$/i,phone:/^\+?\d{8,16}$/,hasLetter:/[a-z]/i,hasNumber:/\d/,isNumber:/^\d+$/},validate:function(e,a,s){var l,i={},r={},o={};if((a=a||{}).ignore&&(o=a.ignore),a.validation&&a.validation.ignore&&(o=a.validation.ignore),!this.validationRules)return null;switch(t(e)){case"string":e=[e];break;case"undefined":e=this.attributes}return n.isArray(e)&&(l=e,e={},n.each(l,function(n){e[n]=this.get(n)},this)),n.forOwn(e,function(e,t){this.validationRules[t]&&(n.each(this.validationRules[t],function(a){if(!n.includes([].concat(o[t]),a.func)&&a)if(a.async)r[t]||(r[t]={value:e,rules:[]}),r[t].rules.push(a);else if(!this[a.func](e,a))return this.trigger("attr:invalid",t,a.msg),i[t]=a.msg,!1},this),i[t]||r[t]||this.trigger("attr:valid",t))},this),n.keys(r).length&&this.validateAsync(r),s(),n.keys(i).length?i:null},validateAsync:function(e,t){n.forOwn(e,function(e,t){var a=[],l=!0,i=this;n.each(e.rules,function(n){var r=this[n.func](e.value,n).catch(function(a){var r=n.msg?n.msg:a.responseJSON.message||null,o=a.responseJSON.error_code||0;e.value===i.get(t)&&(o>=1e3&&o<1100&&a.responseJSON.message?i.trigger("attr:invalid",t,r):i.trigger("attr:warning",t,s.trans("An error occurred during validation."))),l=!1});a.push(r)},this),Promise.all(a).then(function(){e.value===i.get(t)&&l&&i.trigger("attr:valid",t)})},this),t()},isRequired:function(e,t,a){return a(),!n.isEmpty(e)},isEmail:function(e,n,t){return t(),null!==e.match(this.regex.email)},isAlphaNumeric:function(e,n,t){return t(),null!==e.match(this.regex.az09)},isMatch:function(e,n,t){return t(),e===this.get(n.matchesKey)},hasNumber:function(e,n,t){return t(),null!==e.match(this.regex.hasNumber)},hasLetter:function(e,n,t){return t(),null!==e.match(this.regex.hasLetter)},minLength:function(e,n,t){return t(),e.length>=n.length},maxLength:function(e,n,t){return t(),e.length<=n.length},isNumber:function(e,n,t){return t(),null!==e.match(this.regex.isNumber)},minValue:function(e,n,t){return t(),!e||e&&("string"==typeof e?parseInt(e,10):e)>=n.min},isEq:function(e,n,t){return t(),e===n.val},isNotEq:function(e,n,t){return t(),!this.isEq(e,n)}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("SignupModel",Monaco.Mixin.create({defaults:{username:null,email:null,password:null,month:null,day:null,year:null},validationRules:{email:[{func:"isRequired",msg:a.trans("Email is required.")},{func:"isEmail",msg:a.trans("That is not a valid email address.")},{func:"uniqueEmail",async:!0}],forgotEmail:[{func:"isRequired",msg:a.trans("Email is required.")},{func:"isEmail",msg:a.trans("That is not a valid email address.")}],username:[{func:"isRequired",msg:a.trans("Username is required.")},{func:"isAlphaNumeric",msg:a.trans("Your username may only contain letters and numbers.")},{func:"hasLetter",msg:a.trans("Your username must contain at least one letter.")},{func:"minLength",length:6,msg:a.trans("Your username must be at 6-20 characters long.")},{func:"maxLength",length:20,msg:a.trans("Your username must be at 6-20 characters long.")},{func:"uniqueUsername",async:!0,msg:a.trans("The username you have requested is already in use. Please try another name.")}],password:[{func:"isRequired",msg:a.trans("Password is required.")},{func:"minLength",length:6,msg:a.trans("Your password must be at least 6 characters long.")},{func:"maxLength",length:20,msg:a.trans("Your password may be no longer than 20 characters.")}],month:[{func:"isRequired",msg:"Month is required."},{func:"isNotAKid",msg:"You must be 13 or older to use Wattpad"},{func:"isValidFullDate",msg:"The date provided is invalid."}],day:[{func:"isRequired",msg:"Day is required."},{func:"isNotAKid",msg:"You must be 13 or older to use Wattpad"},{func:"isValidFullDate",msg:"The date provided is invalid."}],year:[{func:"isRequired",msg:"Year is required."},{func:"isNotAKid",msg:"You must be 13 or older to use Wattpad"},{func:"isValidFullDate",msg:"The date provided is invalid."}]},isValidFullDate:function(e,n){var t=this.changed.day?e:this.get("day"),a=this.changed.month?e:this.get("month"),s=this.changed.year?e:this.get("year");return null===t||null===a||null===s||!!moment(a+"-"+t+"-"+s,"MM-DD-YYYY",!0).isValid()},isNotAKid:function(e,n){var t,a=this.changed.day?e:this.get("day"),s=this.changed.month?e:this.get("month"),l=this.changed.year?e:this.get("year"),i=moment();return null===l||(t=null===a||null===s?moment(l,"YYYY"):moment(s+"-"+a+"-"+l,"MM-DD-YYYY"),!(i.diff(t,"years")<13))},uniqueEmail:function(e,n,t){return t(),Promise.resolve($.ajax("/api/v3/users/validate",{data:{email:e}}))},uniqueUsername:function(e,n,t){return t(),Promise.resolve($.ajax("/api/v3/users/validate",{data:{username:e}}))}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("GetAppValRules",Monaco.Mixin.create({defaults:{getApp:null},validationRules:{getApp:[{func:"isRequired",msg:a.trans("Please enter a valid SMS number.")}]}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("GetMobileValRules",Monaco.Mixin.create({defaults:{getMobile:null},validationRules:{getMobile:[{func:"isRequired",msg:a.trans("Please enter a valid email address.")},{func:"isPhoneOrEmail",msg:a.trans("Please enter a valid email address.")}]},isPhoneOrEmail:function(e,n,t){return t(),!!(null!==e.match(this.regex.email))}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("BeautifyURL",Monaco.Mixin.create({getBeautifyUrlSettings:function(e,n){n(e);var a=e.body.split(/\s+/).filter(function(e){return e.match(t.siteRoot+"/story")})[0],s=e.body.split(/\s+/).filter(function(e){return e.match("http://my.w.tt/")})[0];return a?{url:"/api/v3/stories/"+a.match(/[0-9]+/)}:!!s&&{url:"https://api.branch.io/v1/url?url="+s+"&branch_key="+t.branchKey,xhr:function(){var e=jQuery.ajaxSettings.xhr(),n=e.setRequestHeader;return e.setRequestHeader=function(e,t){"Authorization"!=e&&n.call(this,e,t)},e}}},parseMetadata:function(e,n){n(e);var t={cover:e.cover||e.data.$og_image_url,description:e.description||e.data.$og_description,url:e.url||e.data.$fallback_url,title:e.title||e.data.$og_title,storyId:e.id||e.data.$canonical_identifier.match(/[0-9]+/)[0],profileOwner:this.get("ownername")||this.get("username"),isReply:this.get("isReply")};return this.set("beautifyUrlMetadata",t),t},getMetadataForBeautifyUrl:function(e,n){return n(e),Promise.resolve($.get(e)).then(this.parseMetadata.bind(this))}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";var l,i;s.add("InfiniteScroll",Monaco.Mixin.create({initialize:function(e,n){if(e=e||{},this.paused=!1,!this instanceof s.views.IncrementalList)throw Error("Mixin can only be applied to IncrementalList views");this.removed=!1,n(e),e.postpone&&(this.paused=!0),this.collection&&this.collection.hasMore&&!e.manualRegistration&&this.registerForScrolling()},registerForScrolling:function(){i.addDelegate(this.cid,this.onFrameRequest,this)},deregisterFromScrolling:function(){i.removeDelegate(this.cid)},onFrameRequest:function(e){this.collection&&this.collection.hasMore&&this.collection.hasMore()&&!1===this.removed?this.checkDistance():this.deregisterFromScrolling(),e()},setButtonState:function(e){e(),this.paused=!1},checkDistance:n.throttle(function(){var n=this.$(".on-showmore"),t=e.innerHeight||e.screen.height;!this.paused&&this.collection&&this.collection.hasMore&&this.collection.hasMore()&&n&&n.length>0&&1.5*t>n.offset().top-e.scrollY&&(this.paused=!0,this.performLoad())},500),performLoad:function(e){this.onShowMore(),e()},setPaused:function(e,t){n.isBoolean(e)&&(this.paused=e)},remove:function(e){this.removed=!0,e()}})),(l=function(){this.delegates={},this.trigger.bind&&(this.trigger=this.trigger.bind(this))}).prototype.addDelegate=function(t,a,s){var l=n.keys(this.delegates).length,i=this;this.delegates[t]=a.bind(s),l<1&&(e.requestAnimationFrame?i.trigger():$(e).on("scroll.screen_animation_frame_delegate_fallback",function(){i.trigger()}))},l.prototype.removeDelegate=function(e){delete this.delegates[e]},l.prototype.trigger=function(){n.forOwn(this.delegates,function(e){e()}),this.cleanup()},l.prototype.cleanup=function(){n.keys(this.delegates).length>0?e.requestAnimationFrame&&e.requestAnimationFrame(this.trigger):e.requestAnimationFrame||$(e).off("scroll.screen_animation_frame_delegate_fallback")},i=new l,e.wattpad.RequestAnimationFrameDelegator=l,e.wattpad.RequestAnimationFrameDelegator.instance=i}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("ErrorHandler",Monaco.Mixin.create({seenErrors:{},delegateEvents:function(e,t){t(e),this.errorHandlerMixinDisabled||(this.model&&this.model instanceof Monaco.Model&&this.attachErrorHandlers(this.model),this.collection&&this.collection instanceof Monaco.Collection&&this.attachErrorHandlers(this.collection),n.bindAll(this,"handlePromiseUnexpected","handlePromiseExpected"))},handleError:function(e,t,a){var l={};t&&(l.type=t.type?t.type:"default"),n.each(e,function(e,n){l.delay=n,new s.views.ErrorToast(e,l).render()}),a()},attachErrorHandlers:function(e,n){this.listenTo(e,"sync",this.handleUnexpected),this.listenTo(e,"error",this.handleExpected),n()},detachErrorHandlers:function(e,n){this.stopListening(e,"sync",this.handleUnexpected),this.stopListening(e,"error",this.handleExpected),n()},handleUnexpected:function(e,t,a,s){var l=[],i={};if(!1===t.success||t.error_count>0){var r=$.now()/1e3;if(this.seenErrors[e]){if(!(r-this.seenErrors[e]>1))return this.seenErrors[e]=r,s();this.seenErrors[e]=r}else this.seenErrors[e]=r;1===t.error_count?(i.message=t.error||n.first(n.values(t.errors)),l.push(i)):n.each(t.errors,function(e){i.message=e,l.push(n.clone(i))}),this.handleError(l,a,s)}s()},handleExpected:function(e,n,t,a){var s=$.now()/1e3;if(this.seenErrors[e]){if(!(s-this.seenErrors[e]>1))return this.seenErrors[e]=s,a();this.seenErrors[e]=s}else this.seenErrors[e]=s;var l=[],i={};n.responseJSON&&(i=n.responseJSON),l.push(i),this.handleError(l,t,a),a()},handlePromiseUnexpected:function(e,n,t){this.handleUnexpected({},e,n,t),t()},handlePromiseExpected:function(e,n,t){this.handleExpected({},e,n,t),t()},iCanHazErrors:function(){this.errorHandlerMixinDisabled=!0,this.model&&this.model instanceof Monaco.Model&&this.detachErrorHandlers(this.model),this.collection&&this.collection instanceof Monaco.Collection&&this.detachErrorHandlers(this.collection)}}))}(window,_,wattpad,wattpad.utils,window.app),window.app.callErrors=function(e,n){"use strict";app.mixins.ErrorHandler.prototype.constructor.mixinFunctions.handleError(e,n,function(){})}},function(e,n){!function(e,n,t,a,s){"use strict";s.add("ReadingAds",Monaco.Mixin.create({initialize:function(e,n){n(e)},loadNextPage:function(e,n){var a=this.model.get("group");s.get("device").is.desktop&&!a.isAdExempt&&(a.showAdUnit=this.shouldShowDesktopAd(e,this.model.get("pages"))),s.get("device").is.tablet&&!a.isAdExempt&&(a.showAdUnit=this.shouldShowTabletAd(e,this.model.get("pages"))),s.get("device").is.mobile&&!a.isAdExempt&&(a.showAdUnit=this.shouldShowMobileAd(e,this.model.get("pages"))),a.USReader="US"===t.userCountryCode,this.model.set("group",a),n(e)},shouldShowDesktopAd:function(e,n,t){return!(n<5||$(".sticky-ad").length)&&(n>=5&&n<12&&e+2===n||(n>=12&&e>0&&e%5==1&&e!==n||(t(),!1)))},shouldShowTabletAd:function(e,n,t){return e>0&&e%15==1||(t(),!1)},shouldShowMobileAd:function(e,n,t){return 2===e&&n>=3||(t(),!1)}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("LazyAds",Monaco.Mixin.create({render:function(t){var a=this,s=t();return n.delay(function(){a.loadLazyAds(function(){}),$(e).on("scroll.screen_"+a.cid,n.throttle(a.loadLazyAds.bind(a),200))},200),s},remove:function(n){$(e).off("scroll.screen_"+this.cid),n()},loadLazyAds:function(n){var t=this;$.each($(".lazyAd").not(".loaded"),function(n,a){var s=$(a).parent().data("mediaquery")||$(a).closest("[data-mediaquery]").data("mediaquery"),l=a.getAttribute("data-hb");if(!s||!l&&e.matchMedia(s).matches||l){var i=a.getBoundingClientRect();i.top>=0&&i.left>=0&&i.top<=2*(e.innerHeight||document.documentElement.clientHeight)&&i.left<=(e.innerWidth||document.documentElement.clientWidth)&&(a.classList.add("loaded"),l?t.lazyLoadHeaderBiddingAd(a):t.lazyLoadAdzerkAd(a))}!s||e.matchMedia(s).matches||l||$(a).parent().addClass("hidden")}),n()},lazyLoadAdzerkAd:function(n,t){var a=$(n).data("ad-code"),s=new Function(a),l=e.ados||{};l.run=l.run||[],l.run.push(s),t(n)},lazyLoadGoogleAd:function(n,t){googletag.cmd.push(function(){googletag.pubads().refresh([e.adSlots[$(n).attr("id")]])}),t(n)},lazyLoadHeaderBiddingAd:function(n,t){var a={},s=$(n),l=s.data("ad-placement"),i=s.data("adzerk-zone"),r=s.data("ad-types"),o=s.data("ht-slot-name"),c=s.data("targeting");a.placements={},a.placements[l]={siteId:1025452,networkId:9660,zoneId:i,adTypes:r,htSlotName:o,targeting:c},e.wattpad.utils.loadHbAd(a),t(n)}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("StickyAds",Monaco.Mixin.create({render:function(n){var t=n();return $(e).on("scroll.screen_"+this.cid,this.handleStickyAds.bind(this)),t},remove:function(n){$(e).off("scroll.screen_"+this.cid),n()},handleStickyAds:function(n){$.each($(".sticky-ad"),function(n,t){var a=$(t).data("start-selector"),s=$(t).data("end-selector"),l=t.getBoundingClientRect(),i=l.bottom-l.top,r=(e.innerHeight||document.documentElement.clientHeight)/2,o=a&&$(a).length?$(a)[0].getBoundingClientRect().top:document.body.getBoundingClientRect().top,c=s&&$(s).length?$(s)[0].getBoundingClientRect().bottom:document.body.getBoundingClientRect().bottom;o>=r-i/2?$(t).css({position:"absolute",top:"0"}):r>o&&r<c-i/2?$(t).css({position:"fixed",top:"114px"}):$(t).css({position:"absolute",top:c-o-i+"px"})}),n()}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("RefreshAds",Monaco.Mixin.create({render:function(e){var n=e();return this.refreshingAds=[],this.isRefreshing=!1,this.listenTo(s,"checkRefreshingAds",this.checkRefreshingAds),n},remove:function(e){this.stopListening(s,"checkRefreshingAds",this.checkRefreshingAds),e()},checkRefreshingAds:function(t,s){var l=this.refreshingAds.length>0,i=t.pageNumber||null,r=n.get(e,"wattpad.testGroups.STICKY_AD_ROLLOUT")||!1;if(a.getCurrentUserAttr("premium")||!1||!r||!t||!i||1===i)return s();l?this.refreshAd(i,this.refreshingAds[0].id):this.insertStickyAd(t),s()},refreshAd:function(t,a,s){var l=this,i=n.find(l.refreshingAds,{id:a},!1);if(!i)return s();!l.isRefreshing&&(t>2||2===t&&i.hasRefreshed)&&(l.isRefreshing=!0,i.timesRefreshed++,i.hasRefreshed=!0,e.wattpad.utils.refreshAd(a),e.setTimeout(function(){l.isRefreshing=!1},5e3)),s()},insertStickyAd:function(e,n){var a,s,l=e.pageNumber,i=Date.now(),r=t.utils.currentUser().get("username");a=(s=void 0!==r&&null!==r?"readinglong_mid":"readinglong_mid_loggedout")+"-"+i;var o=t.utils.advertisement({data:{root:e},hash:{unit:s,experience:"reading",storyGroup:e.group,adzerk:!0,tryHb:!0,refresh:!0,parentClass:"reading-widget",adText:e.lastPage?t.utils.trans("Story continues below"):"",adTextClass:"panel-title hidden-md hidden-lg",sticky:!0,stickyStart:".sticky-ad-container",stickyEnd:"#sticky-end",timestamp:i}});$("div[data-page-number='".concat(l,"'] .right-rail")).append(o),this.refreshingAds.push({id:a,hasRefreshed:!1,timesRefreshed:0}),n()}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("Highlighter",Monaco.Mixin.create({events:{"mouseup .highlighter":"onShowMenu"},selection:{},onShowMenu:function(t,a){var s=this;n.delay(function(){var n=e.getSelection();n.toString().length>0?(s.selection=n,s.renderTooltip(a)):void 0!==s.tooltip&&(s.tooltip.remove(),delete s.tooltip)},200),a(t)},renderTooltip:function(e){var n,t,a,l,i,r;if(t=(n=this.selection.getRangeAt(0)).getBoundingClientRect(),(r=n.toString()).length<=500){var o=this.model.get("group").id,c=this.model.get("url");this.tooltip=new s.views.HighlightTooltip({quoteString:r,storyId:o,url:c}),this.tooltip.render(),i=$(".part-content")[0].getBoundingClientRect(),l=t.top-i.top-57,a=(t.left+t.right)/2-(i.left+46),$(".highlight-tooltip").css({top:l,left:a,opacity:1})}e()}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("BaseModel",Monaco.Model.extend({cacheLocal:!0,sync:function(e,t,a){return n.get(t.__proto__,"bypassBrowserCache")&&(a.cache=!1),Monaco.Model.prototype.sync.apply(this,arguments)}})),a.mixin(a.models.BaseModel,"GenerateFields","ErrorHandler")}(window,_,wattpad,window.app)},function(e,n){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,n,a,s){"use strict";s.add("Base",Monaco.Model.extend({_loaded:null,_dependencies:null,initialize:function(){this._loaded=$.Deferred(),this.on("sync",this._setResolved,this),this.on("error",this._setRejected,this),this.init&&this.init.apply(this,arguments),this._setResource(),this._bindEvents()},_setResource:function(){var e=this;this.resource&&this.get(this.idAttribute)&&(this.collection||(this.collection=new Monaco.Collection,this.collection.cacheLocal=!0),this.collection.resource=this.collection.resource||function(){return"function"==typeof e.resource?e.resource():e.resource})},_bindEvents:function(){var e=this;this.events&&"object"===t(this.events)&&n.forEach(this.events,function(n,t){e.on(t,e[n])})},_setResolved:function(){this._loaded.resolve(this)},_setRejected:function(){this._loaded.reject(this)},_loadCheck:function(){return!0},dependsOn:function(e,n){var t=this;this._dependencies=this._dependencies||[],this._dependencies.push(e),n&&(e.get(n)?this._resolveDepenencyProperty(e,n):this.listenTo(e,"change:"+n,function(){t._resolveDepenencyProperty(e,n)}))},_resolveDepenencyProperty:function(e,n){this.set(this.idAttribute,e.get(n))},generateFields:function(e){return e=e||{},!this.fields||e.data&&e.data.fields||(e.data=e.data||{},e.data.fields=this._recursiveFields(this.fields)),e},_recursiveFields:function(e){var t=this,a="";if("string"==typeof e)return e;if(Array.isArray(e))a+=n.map(e,function(e){return t._recursiveFields(e)}).join(",");else{var s=[];n.forIn(e,function(e,n){s.push(n+"("+t._recursiveFields(e)+")")}),a+=s.join(",")}return a},loaded:function(e){var t=this;return e=this.generateFields(e),this._loadCheck()?"pending"===this._loaded.state()&&(this._dependencies?$.when.apply($,n.map(this._dependencies,function(e){return e.loaded()})).done(function(){t._setResource(),t.fetch(e)}):(t._setResource(),this.fetch(e))):this._loaded.reject(),this._loaded}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("User",a.models.Base.extend({defaults:{username:null,avatar:null},fields:["username","name","description","avatar","backgroundUrl","createDate","location","following","followingRequest","numFollowing","follower","followerRequest","numFollowers","numLists","numStoriesPublished","votesReceived","facebook","twitter","website","smashwords","highlight_colour","html_enabled","verified","ambassador","wattpad_squad","is_staff",{programs:["wattpad_stars"]},"isPrivate","isMuted","externalId"],authenticate:function(e,n){return $.ajax({url:"/api/v3/sessions",type:"POST",data:{username:e,password:n}})},authenticated:function(){return!!this.get("username")},getMaxNumParts:function(){return this.get("max_parts")},_resolveDepenencyProperty:function(e,n){this.set(this.idAttribute,e.get(n).name)},isStaff:function(){return this.get("is_staff")},isWattpadStar:function(){return this.get("programs")&&this.get("programs").wattpad_stars},_followers:null,followers:function(e){return this._followers||(this._followers=new a.collections.Followers),e?this._followers.get(e):this._followers},_following:null,following:function(e){return this._following||(this._following=new a.collections.Following(null,{user:this})),e?this._following.get(e):this._following},_library:null,library:function(e){return this._library||(this._library=new a.collections.Library(null,{user:this})),e?this._library.get(e):this._library},_works:null,works:function(e){return this._works||(this._works=new a.collections.Works(null,{user:this})),e?this._works.get(e):this._works},urlRoot:"/api/v3/users/",resource:function(){return"user."+this.get("username")},idAttribute:"username",determineFollowStatus:function(){var e=this;return Promise.resolve($.get("/api/v3/users/"+this.get("username"),{fields:"following"})).then(function(n){e.set("following",n.following)})},acceptFollowRequest:function(){var e=t.utils.currentUser(),n=this;return Promise.resolve($.ajax({url:"/api/v3/users/"+e.get("username")+"/followers/"+this.get("username"),type:"POST"})).then(function(t){return e._clearFollowerCache(),n._clearFollowingCache(),t})},ignoreFollowRequest:function(){var e=t.utils.currentUser(),n=this;return Promise.resolve($.ajax({url:"/api/v3/users/"+e.get("username")+"/followers/"+this.get("username")+"/requests",type:"PUT"})).then(function(t){return e._clearFollowerCache(),n._clearFollowingCache(),t})},deleteFollower:function(){var e=t.utils.currentUser(),n=this;return Promise.resolve($.ajax({url:"/api/v3/users/"+e.get("username")+"/followers/"+this.get("username"),type:"DELETE"})).then(function(t){return e._clearFollowerCache(),n._clearFollowingCache(),t})},acceptLatestTermsOfService:function(){var e=t.utils.currentUser(),n=this;return n.set("has_seen_latest_tos_notice",!0),Promise.resolve($.ajax({url:"/api/v3/users/"+e.get("username"),method:"PUT",data:{has_accepted_latest_tos:!0}})).then(function(e){return n.set("has_accepted_latest_tos",e.has_accepted_latest_tos),e.has_accepted_latest_tos}).catch(function(e){return console.error(e),!1})},_clearFollowerCache:function(){var e=this.get("username");a.local.clear("user."+e),a.local.clear("user."+e+".follow-requests"),a.local.clear("user."+e+".profile.followers")},_clearFollowingCache:function(){var e=this.get("username");a.local.clear("user."+e),a.local.clear("user."+e+".following"),a.local.clear("user."+e+".profile.following")}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("UserModel",a.models.BaseModel.extend({idAttribute:"username",fields:["id,username,avatar,inbox"],urlRoot:"/api/v3/users/",resource:function(){return"user."+this.get("username")}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("Authlogin",Monaco.Model.extend({defaults:{user:null,password:null},validationRules:{user:[{func:"isRequired",msg:a.trans("Username/Email is required.")},{func:"isUsernameOrEmail",minLength:6,maxLength:20,msg:a.trans("You have not entered a valid email or username.")}],password:[{func:"isRequired",msg:a.trans("Password is required.")},{func:"minLength",length:6,msg:a.trans("Passwords must be 6-20 characters long.")},{func:"maxLength",length:20,msg:a.trans("Passwords must be 6-20 characters long.")}]},isUsernameOrEmail:function(e,n){var t,a,s;return!!(null!==e.match(this.regex.email))||(a=null!==e.match(this.regex.az09),s=null!==e.match(this.regex.hasLetter),t=e.length>=n.minLength&&e.length<=n.maxLength,!!(a&&s&&t))}})),s.mixin(s.models.Authlogin,"ValidationModel","GetAppValRules")}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("Authsignup",Monaco.Model.extend({})),s.mixin(s.models.Authsignup,"ValidationModel","SignupModel","GetAppValRules")}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("Authforgot",Monaco.Model.extend({defaults:{email:null},validationRules:{email:[{func:"isRequired",msg:a.trans("This field is required.")}]}})),s.mixin(s.models.Authforgot,"ValidationModel","GetAppValRules")}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("Authreset",Monaco.Model.extend({defaults:{confirm:null,password:null},validationRules:{password:[{func:"isRequired",msg:a.trans("Password is required.")},{func:"minLength",length:6,msg:a.trans("Your password must be at least 6 characters long.")},{func:"maxLength",length:20,msg:a.trans("Your password may be no longer than 20 characters.")}],confirm:[{func:"isRequired",msg:a.trans("Please confirm your password.")},{func:"isMatch",matchesKey:"password",msg:a.trans("Passwords must match.")}]}})),s.mixin(s.models.Authreset,"ValidationModel","GetAppValRules")}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("Signup",Monaco.Model.extend({})),s.mixin(s.models.Signup,"ValidationModel","SignupModel")}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";a.add("StoryText",Monaco.Model.extend({parse:function(e){return{text:e,paragraphs:this.filterHTML(e).reduce(function(e,n){var t=n.getAttribute("data-p-id");return n.getAttribute("data-media-type")?e[t]=n.outerHTML:e[t]=n.innerHTML.trim(),e},{})}},fetch:function(e){var n=this;return(e=e||{}).dataType="html",Promise.resolve(Monaco.Model.prototype.fetch.call(this,e)).catch(function(t){return e.reject?Promise.reject():n.refreshToken()})},filterHTML:function(e){return n.filter(s.parseHTML(e),function(e){return 3!==e.nodeType})},getParagraphById:function(e){return this.get("paragraphs")[e]},url:function(){return this.get("url")},refreshToken:function(){var e=this;return this.get("token")?Promise.resolve(s.get(this.get("token"))).catch(function(){return Promise.reject()}).then(function(n){return e.set("url",e.url().replace(/\?.*/,"?"+n.token)),Promise.resolve(e.fetch({reject:!0}))}):Promise.reject()}}))}(window,_,wattpad,window.app,jQuery)},function(e,n){!function(e,n,t,a,s){"use strict";a.add("StoryModel",a.models.BaseModel.extend({defaults:{cover:"",title:"",description:""},fields:["id","title","voteCount","readCount","commentCount","description","url","firstPublishedPart","cover","language","isAdExempt",{user:["name","username","avatar","description","location","highlight_colour","backgroundUrl","numLists","numStoriesPublished","numFollowing","numFollowers","twitter"]},"completed","isPaywalled","numParts","lastPublishedPart",{parts:["id","title","length","url","deleted","draft"]},"tags","categories","rating","rankings","tagRankings","language","copyright","sourceLink","firstPartId","deleted","draft","hasBannedCover"],cacheLocal:!0,urlRoot:"/api/v3/stories/",resource:function(){return"story.read."+parseInt(this.get("id"),10)+".metadata"},fetch:function(e){e=e||{};var s=a.models.BaseModel.prototype.fetch.call(this,e);if(!0===s||!s)return Promise.resolve(s);n.bindAll(this,"fetchPromotionStatus","buildAdRequestData","parsePromotionStatus","parseStorySafetyLevel");var l=Promise.resolve($.get("/v5/stories/"+this.get("id")+"/classification/safety")).then(this.parseStorySafetyLevel).catch(function(){}),i=Promise.resolve([]);return t.utils.eligibleForDirectSoldAds()&&!t.utils.currentUser().get("premium")&&(i=Promise.resolve(this.fetchPromotionStatus()).then(this.parsePromotionStatus).catch(function(){})),Promise.all([s,i,l]).then(function(e){return e[0]}).catch(function(e){return result[0]})},fetchPromotionStatus:function(){var e=this.buildAdRequestData();return Promise.resolve($.ajax({type:"POST",url:"https://adz.wattpad.com/api/v2",dataType:"json",contentType:"text/plain",data:JSON.stringify(e),xhr:function(){var e=jQuery.ajaxSettings.xhr(),n=e.setRequestHeader;return e.setRequestHeader=function(e,t){"Authorization"!=e&&n.call(this,e,t)},e}}))},buildAdRequestData:function(){var e=a.get("supported-languages").find({id:parseInt(a.get("language"),10)}).get("nameEnglish"),n=t.utils.currentUser().get("externalId")||"";return{placements:[{divName:"azk70876",networkId:9660,siteId:421790,adTypes:[318],zoneIds:this.get("zoneIds"),properties:{userLanguage:e,storyId:String(this.get("id"))},user:{key:n},time:"123455",keywords:[this.get("id")]}]}},parsePromotionStatus:function(e){return n.get(e,"decisions.azk70876")&&(this.set("sponsorName",n.get(e,"decisions.azk70876.contents[0].data.customData.sponsorName")),this.set("promoted",!0),this.set("clickUrl",n.get(e,"decisions.azk70876.clickUrl")),this.set("impressionUrl",n.get(e,"decisions.azk70876.impressionUrl")),this.set("thirdParty",n.get(e,"decisions.azk70876.contents[0].data.customData.thirdParty"))),this},parseStorySafetyLevel:function(e){var t=n.get(e,"safe_for");return 1===t?this.set("isBrandSafe",!0):0===t&&this.set("noIndex",!0),this},parse:function(e){if(e.categories&&e.categories.length>1&&(e.categories=[e.categories[0]||e.categories[1]],a.get("categories"))){var s=a.get("categories").get(e.categories[0]);s&&(e.categoryObject=s.toJSON())}e.language&&(e.language=e.language?e.language.id||e.language:this.get("language")||1);var l=e.rankings?e.rankings:[],i=null;return l.length>0&&n.each(l,function(e){e.rank>i&&(i=e.rank)}),e.rank=i,e.promoted&&(e.sponsor&&(e.sponsorName=e.sponsor.name?e.sponsor.name:e.user.name),e.contest&&(e.contest.ctaLabel=e.contest.ctaLabel||t.utils.trans("SUBMIT NOW"))),e},syncPosition:function(e){var n=this;e?$.post("/apiv2/syncreadingposition",{story_id:this.get("firstPartId"),position:e,wp_token:t.utils.getCookie("token")}):$.get("/apiv2/syncreadingposition",{story_id:this.get("firstPartId"),wp_token:t.utils.getCookie("token")}).done(function(e){n.trigger("reading-position-available",e)})}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,n){!function(e,n,t,a){"use strict";a.add("StoryLabelsModel",a.models.BaseModel.extend({fields:["characters","target_audience"],idAttribute:"storyId",urlRoot:"/v5/stories",resource:function(){return"story."+this.get("id")+".labels"}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";a.add("StoryPartModel",a.models.BaseModel.extend({fields:["id","title","url","modifyDate","length","wordCount","videoId","photoUrl","commentCount","voteCount","readCount","voted","private","pages","text_url","rating","deleted","draft","isAdExempt","hasBannedHeader",{group:["id","title","cover","url",{user:["username","name","avatar","twitter","authorMessage"]},"categories","isAdExempt","deleted","draft","rating","language","description","tags","completed","isPaywalled",{parts:["title","url","id","deleted","draft","rating"]},"rankings"]},{dedication:["name","url"]},{source:["url","label"]}],cacheLocal:!0,bypassBrowserCache:!0,urlRoot:"/v4/parts/",defaults:{private:!1},resource:function(){return"part."+parseInt(this.get("id"),10)+".metadata"},fetch:function(e){e=e||{};return Promise.resolve(a.models.BaseModel.prototype.fetch.call(this,e)).then(function(e){return!0!==e&&e?Promise.all([function(e){var t=n.get(e,"group.id");return t?Promise.resolve($.ajax({type:"GET",url:"/v5/stories/"+t+"/classification/safety"})).then(function(t){var a=n.get(t,"safe_for");return 1===a?n.extend(e.group,{isBrandSafe:!0}):0===a&&n.extend(e.group,{noIndex:!0}),e}):e}(e)]).then(function(){return e}):e})},parse:function(e){e.group.categories&&e.group.categories.length>1&&(e.group.categories=[e.group.categories[0]||e.group.categories[1]]),n.each(e.group.parts,function(n){n.id===e.id&&(n.active=!0)});var t=e.group.rankings?e.group.rankings:[],a=null;return t.length>0&&n.each(t,function(e){e.rank>a&&(a=e.rank)}),e.rank=a,e},syncPosition:function(e){var n=this;e?$.post("/apiv2/syncreadingposition",{story_id:n.get("id"),position:e,wp_token:t.utils.getCookie("token")}):$.get("/apiv2/syncreadingposition",{story_id:n.get("id"),wp_token:t.utils.getCookie("token")}).done(function(e){var t=e.position||0;n.trigger("reading-position-available",n.get("id")===e.part?t:0)})},getCommentCountByParagraph:function(){var e=this,n=$.ajax({type:"GET",url:"/v4/parts/"+this.get("id")+"/paragraphs"});return Promise.resolve(n).then(function(n){return e.set({paragraphs:n.paragraphs}),{paragraphs:n.paragraphs}})},getPage:function(e){if(!this.loadedPages){this.loadedPages={};var n=a.local._getLocalData(this.resource()).resp,s=n.pageNumber;if(n.storyText){var l=t.utils.unsanitizeHTML(n.storyText);this.loadedPages[s]=new a.models.StoryText({url:i,token:this.get("text_url").refresh_token}),this.loadedPages[s].set("text",l),this.loadedPages[s].set("paragraphs",this.loadedPages[s].parse(l).paragraphs)}}if(e>this.get("pages"))return Promise.resolve();if(this.loadedPages[e])return Promise.resolve(this.loadedPages[e]);var i="";i=this.get("text_url").text.indexOf("/apiv2/")>-1?this.get("text_url").text.replace(/(page=)([0-9]*)/i,"$1"+e):this.get("text_url").text.replace(/([0-9]+-[0-9a-z]+)(\?.*)/i,"$1-"+e+"$2");var r=this.loadedPages[e]=new a.models.StoryText({url:i,token:this.get("text_url").refresh_token}),o=this;return Promise.resolve(r.fetch()).then(function(){return r},function(){o.handlePromiseExpected("")})},vote:function(){var e=this.get("voted"),n=$.ajax({url:"/api/v3/stories/"+this.get("group").id+"/parts/"+this.get("id")+"/votes",type:e?"DELETE":"POST"}),t=this;return Promise.resolve(n).then(function(n){return t.set({voteCount:n.votes,voted:!e}),n})}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,n){!function(e,n,t,a){"use strict";a.add("StoryPartCreateModel",a.models.BaseModel.extend({defaults:{title:"Untitled Part 1",text:"<p><br></p>",copyright:1,flag1:0,groupid:0,req_type:"new",id:"new",cover_url:"",error_count:0,errors:[],story_url:"",skip_title:0},fields:["id","title","category1","category2","language","title","text","flag1","groupid","author","private","deleted","text_hash"],v2CreateUrl:"/apiv2/newstory",v2DeleteUrl:"/apiv2/deletestory",v2UpdateUrl:"/apiv2/editstory",urlRoot:"/api/v3/story_parts/",initialize:function(){this.listenTo(this,"change:text",this.saveLocalText)},resource:function(){return"part."+parseInt(this.get("id"),10)+".metadata"},parse:function(e){return this.set("last_text_hash",e.text_hash),a.models.BaseModel.prototype.parse.apply(this,arguments)},save:function(e,n){var t=this;return this.failedSaveCount=this.failedSaveCount||0,t.trigger("partModel:save-online"),this.saveXhr&&this.saveXhr.abort(),this.saveXhr=a.models.BaseModel.prototype.save.apply(this,arguments),this.saveXhr.done(function(e){t.saveXhr=null,t.failedSaveCount=0,t.saveOnline||(t.trigger("partModel:save-online"),t.saveOnline=!0,t.failedSaveCount=0)}),this.saveXhr.fail(function(e){"abort"===e.statusText&&t.unset("last_text_hash"),t.failedSaveCount++,t.failedSaveCount>=4&&(t.saveOnline=!1,t.trigger("partModel:save-offline"))}),this.saveXhr},publish:function(){return this.set({publish:1,part_id:this.get("id"),draft:0}),this.save()},unpublish:function(){return this.save({publish:0,part_id:this.get("id"),draft:1},{url:this.url()})},saveLocalText:function(){try{e.localStorage.setItem(parseInt(this.get("groupid"),10)+"."+parseInt(this.get("id"),10)+".storyText",this.get("text"),!0)}catch(e){a.trigger("works:storytext-localsave-failed",this)}}})),a.mixin(a.models.StoryPartCreateModel,"ApiV2")}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("StoryPartLabelsModel",a.models.BaseModel.extend({fields:["id","time_setting"],idAttribute:"partId",urlRoot:"/v5/parts",resource:function(){return"part."+this.get("id")+".labels"}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("StoryGroup",a.models.Base.extend({events:{"change:parts":"initializeParts","change:categories":"initializeCategories"},slug:function(){return this.get("id")+"-"+t.utils.slugify(this.get("title"),!0)},initializeParts:function(){var e,t=this,s=null;this._parts=[],n.each(this.get("parts"),function(l){t._dependencies&&(s=n.find(t._dependencies,function(e){return e instanceof a.models.Story&&e.get("id")===l.id}))?t._parts.push(s):((e=new a.models.Story(l))._group=t,t._parts.push(e))})},initializeCategories:function(){var e=this.get("categories"),t=a.get("categories"),s=this;this._categories=[],t&&n.each(e,function(e){var n=t.get(e);n&&s._categories.push(n.get("name"))})},_author:null,author:function(){return null===this._author&&(this._author=new a.models.User,this._author.dependsOn(this,"user")),this._author},_parts:null,parts:function(e){return this._parts||(this._parts=[]),void 0!==e?this._parts[e]:this._parts},_categories:null,categories:function(e){return this._categories&&0!==this._categories.length||this.initializeCategories(),void 0!==e?this._categories[e]:this._categories},_comments:null,comments:function(){},resource:function(){return"group."+this.get("id")+".metadata"},urlRoot:"/api/v3/stories"}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";a.add("ReadingList",a.models.BaseModel.extend({defaults:{id:null,name:null,numStories:0,cover:0,tags:[],featured:!1},fields:["id","name",{user:["name","avatar","following"]},"numStories","sampleCovers","cover","tags","featured"],url:function(){return"/api/v3/lists/"+(this.get("id")?this.get("id"):"")},validationRules:{name:[{func:"minLength",length:1,msg:s.trans("Your reading list must have a title.")}]},resource:function(){return"reading-list."+this.get("id")},stories:function(e){if(!this._stories){var t={listId:this.get("id")};n.isNumber(e)&&n.extend(t,{limit:e}),this._stories=new a.collections.ReadingListStories(this.get("stories"),t),this._stories.on({removedStory:function(e){this.trigger("list:removed",this.get("id"),e.get("id"))},addedStory:function(e){this.trigger("list:added",this.get("id"),e.get("id"))}},this)}return this._stories}})),a.mixin(a.models.ReadingList,"ValidationModel")}(window,_,wattpad,window.app,wattpad.utils)},function(e,n){!function(e,n,t,a){"use strict";a.add("UserEvent",a.models.Base.extend({defaults:{id:null,type:null,createDate:null,data:null},validTypes:["follow","vote","comment","inline_comment","library","upload","message","placeholder","dedicate","newMessage"],isValid:function(){var e=this.get("type");return n.contains(this.validTypes,e)},createCommentDeeplinkUrl:function(e){return e.data.comment.parentId?e.data.story.part.url+"/comment/"+e.data.comment.parentId+"/replies/"+e.data.comment.id:e.data.story.part.url+"/comment/"+e.data.comment.id},parse:function(e,t){if("comment"!==e.type&&"inline_comment"!==e.type||n.get(e,"data.comment.deeplink_url")||(e.data.comment.deeplink_url=this.createCommentDeeplinkUrl(e)),"message"===e.type){var s=e.id;n.extend(e,e.data.message),e.id=s,e.username=e.username||e.to.name,e.latestReplies=e.latestReplies||[]}return e.children&&(e.group=[],e.group.push({id:e.id,type:e.type,createDate:e.createDate,data:e.data})),a.models.Base.prototype.parse(e,t)}})),a.mixin(a.models.UserEvent,"BeautifyURL")}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("UserInvite",a.models.Base.extend({defaults:{id:null,emails:null,content:null},v2Url:"/apiv2/userinvites"})),a.mixin(a.models.UserInvite,"ApiV2")}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("PublicMessage",a.models.UserEvent.extend({fields:["id","type","createDate","data"],validTypes:["follow","vote","comment","inline_comment","library","upload","message","dedicate","newMessage"],initialize:function(e){if("string"!=typeof(e=e||{}).username||""===e.username.trim())throw new Error("PublicMessage: username cannot be null");a.models.UserEvent.prototype.initialize.apply(this,arguments)},url:function(){return"/api/v3/users/"+this.get("username")+"/activity/"+this.get("id")},resource:function(){return"user."+this.get("username")+".activity."+this.get("id")},idAttribute:"createDate"}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("PinnedMessage",a.models.PublicMessage.extend({fields:["id","body","createDate","from","numReplies","isReply","latestReplies","isOffensive"],url:function(){return"/v4/users/"+this.get("username")+"/messages/latest/"},resource:function(){return"user."+this.get("username")+".latest.activity."},idAttribute:"createDate"})),a.mixin(a.models.PinnedMessage,"GenerateFields")}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("NotificationEvent",a.models.UserEvent.extend({defaults:{id:null,type:null,createDate:null,data:null,isRead:!1,children:[],group_url:""},validTypes:["follow","follower_approved","vote","comment","inline_comment","library","message","dedicate","forum_post","upload","friend_join"]}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";a.add("StoryCreateModel",a.models.StoryModel.extend({defaults:{cover:"",title:"",description:"",skip_title:0,tags:[]},fields:["id","title","voteCount","readCount","commentCount","description","url","user","cover","cover_timestamp","completed","numParts","lastPublishedPart","cover_source_id","cover_partner",{parts:["id","title","url","draft","modifyDate","createDate","length","videoId","photoUrl","user","pages","text_url","rating","voted","private","flag1","dedication","voteCount","readCount","commentCount","source","deleted","text_hash","hasBannedImages","hasBannedHeader","wordCount"]},"tags","categories","rating","ratingLocked","mature","language","copyright","deleted","hasBannedCover"],v2Fields:["id","title","description","language","copyright","textids","complete","category1","dedication","human_rating","transaction_key","skip_title"],v2CreateUrl:"/apiv2/newstorygroup",v2UpdateUrl:"/apiv2/editstorygroup",v2DeleteUrl:"/apiv2/deletestorygroup",parse:function(e){return e.parts&&(e.textids=n.pluck(e.parts,"id").join(",")),e.published=!1,n.each(e.parts,function(n){n.stats=!!(n.readCount||n.voteCount||n.commentCount),n.flag1=n.private?1:0,n.source=n.source?n.source.url:"",e.published=e.published||!n.draft}),a.models.StoryModel.prototype.parse.call(this,e)},initialize:function(e){this.validationRules={description:[{func:"maxLength",length:2e3,msg:s.trans("Your description may be no longer than 2000 characters.")}],title:[{func:"maxLength",length:80,msg:s.trans("Your title may be no longer than 80 characters.")},{func:"isRequired",msg:s.trans("Please enter a title for your story.")},{func:"isNotEq",val:s.trans("Untitled Story"),msg:s.trans("Please enter a title for your story.")}]}},isInsightsEligible:function(){var n=this.get("language"),t=this.get("categories"),a=e.wattpad.testGroups.PAID_WRITER_INSIGHTS,s=this.get("published"),l=1===n,i=t.includes(2);return a&&s&&l&&!i},resource:function(){return"story."+parseInt(this.get("id"),10)+".metadata"},expireLocal:1})),a.mixin(a.models.StoryModel,"ApiV2Patch","ApiV2","ValidationModel")}(window,_,wattpad,window.app,wattpad.utils)},function(e,n){!function(e,n,t,a){"use strict";a.add("Message",a.models.BaseModel.extend({defaults:{id:null,createDate:null,from:null,isReply:!1,parentId:null,body:null,broadcast:!1},cacheLocal:!1,initialize:function(e){if("string"!=typeof(e=e||{}).ownername||""===e.ownername.trim())throw new Error("Message: ownername cannot be null");a.models.BaseModel.prototype.initialize.apply(this,arguments)},url:function(){return"/v4/users/"+this.get("ownername")+"/messages"},sync:function(e,n,t){return t=t||{},"delete"===e&&(t.url=this.url()+"/"+n.get("id")),a.models.BaseModel.prototype.sync.apply(this,arguments)}})),a.mixin(a.models.Message,"BeautifyURL")}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";a.add("SupportTicket",a.models.BaseModel.extend({cacheLocal:!1,urlRoot:"/v4/support/tickets",defaults:{name:null,email:null,comment:"",ticket_form_id:null,username:null,custom_fields:[]},fields:["comment","ticket_form_id","custom_fields"],initialize:function(e){t.utils.currentUser().authenticated()||(this.validationRules={name:[{func:"isRequired",msg:s.trans("Name is required.")},{func:"hasLetter",msg:s.trans("Please enter your name or Wattpad username.")}],email:[{func:"isRequired",msg:s.trans("Email is required.")},{func:"isEmail",msg:s.trans("Invalid email.")}]})},setCustomField:function(e,t){var a,s,l;l={id:e,value:t},a=this.get("custom_fields"),(s=n.findIndex(a,{id:e}))<0?a.push(l):a[s]=l},setRequester:function(){this.has("name")&&this.has("email")&&(this.set("requester",{name:this.get("name"),email:this.get("email")}),this.unset("name"),this.unset("email"))}})),a.mixin(a.models.SupportTicket,"ValidationModel")}(window,_,wattpad,window.app,wattpad.utils)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("GetMobile",Monaco.Model.extend({})),s.mixin(s.models.GetMobile,"ValidationModel","GetMobileValRules")}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("DiscoverModule",a.models.Base.extend({defaults:{id:null,type:null,createDate:null,data:null},validTypes:["listCurated","storiesRecentlyRead","storiesRecommended","storiesRecommendedExplore","storiesRecommendedRNN","storiesRecommendedInfluential","storiesRecentlyUpdated","storiesSupported","storiesTop","storiesByFollowedHub","storiesByPromotedUser","tagTop","tagRecommended","storiesByRecentVote","hubTop","listsByFollowedHub","storiesRecentlyVotedByFollowedHubs","hubsFollowedByFollowedHub","listTrending","listPromoted","hubTrending","tagTrending","storiesBySearchResults","emergentStories"],promotedModules:["storiesByPromotedUser","listPromoted","promotedStoriesRecommended"],isValid:function(){var e=this.get("type");return n.contains(this.validTypes,e)},parse:function(e){return t.utils.currentUser().get("premium")&&n(this.promotedModules).includes(e.type)?void 0:e}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("TagModuleItem",a.models.Base.extend({defaults:{id:null,type:null,createDate:null,data:null},validTypes:["hotStoriesForTag","newStoriesForTag","relatedWritersForTag","relatedReadingListsForTag","relatedTagsForTag"],isValid:function(){var e=this.get("type");return n.contains(this.validTypes,e)}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("PromotedStoryModel",s.models.BaseModel.extend({cacheLocal:!1,initialize:function(e){e=e||{},this.storyId=e.storyId||"",this.zoneIds=e.zoneIds||[155799],this.descCharLimit=e.descCharLimit||170,this.baseStoryCategory=e.baseStoryCategory,n.bindAll(this,"checkforPromotedStory","fetchPromotedStory","parse")},fetch:function(){var e=this;return!a.eligibleForDirectSoldAds()||t.utils.currentUser().get("premium")?Promise.resolve():Promise.resolve(e.checkforPromotedStory()).then(e.fetchPromotedStory).then(e.parse).catch(function(){e.storyModel=null})},parse:function(e){return e&&(e.promoted=!0,e.description&&(e.description=a.sanitizeHTML(e.description)),e.descCharLimit=this.descCharLimit,this.promotedCover&&this.promotedCover.length&&(e.cover=this.promotedCover),e.sponsorName=this.sponsor?this.sponsor.name:e.user.name),e},checkforPromotedStory:function(){var e=this.buildAdRequestData();return Promise.resolve($.ajax({type:"POST",url:"https://adz.wattpad.com/api/v2",dataType:"json",contentType:"text/plain",data:JSON.stringify(e),xhr:function(){var e=jQuery.ajaxSettings.xhr(),n=e.setRequestHeader;return e.setRequestHeader=function(e,t){"Authorization"!=e&&n.call(this,e,t)},e}}))},buildAdRequestData:function(){var e=s.get("supported-languages").find({id:parseInt(s.get("language"),10)}).get("nameEnglish"),n=t.utils.currentUser().get("externalId")||"",a="";return this.baseStoryCategory&&(a=s.get("categories").find({id:this.baseStoryCategory}).get("name_english")),{placements:[{divName:"azk70876",networkId:9660,siteId:421790,adTypes:[318],zoneIds:this.zoneIds,properties:{userLanguage:e,storyCategory:[a],storyId:String(this.storyId)},user:{key:n},time:"123455",keywords:[a]}]}},fetchPromotedStory:function(e){return this.storyModel=this.parsePromotedStory(e),!!this.storyModel?this.storyModel.fetch():Promise.resolve(null)},parsePromotedStory:function(e){if(n.get(e,"decisions.azk70876.contents[0].data.customData.story.id")){var t=e.decisions.azk70876.contents[0].data.customData;return this.promotedCover=t.story.cover,this.sponsor=t.story.sponsor,this.clickUrls=[e.decisions.azk70876.clickUrl],this.impressionUrls=[e.decisions.azk70876.impressionUrl],t.thirdParty&&(t.thirdParty.clickUrls&&(this.clickUrls=this.clickUrls.concat(t.thirdParty.clickUrls)),t.thirdParty.impressionUrls&&(this.impressionUrls=this.impressionUrls.concat(t.thirdParty.impressionUrls))),new s.models.StoryModel({id:t.story.id})}return null}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("BaseCollection",Monaco.Collection.extend({resource:"resource-not-set",cacheLocal:!0})),a.mixin(a.collections.BaseCollection,"GenerateFields","CollectionParsing")}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("IncrementalFetch",a.collections.BaseCollection.extend({constructor:function(e,t){if(t=t||{},this.arrayKey=t.arrayKey||this.arrayKey,this.fields=t.fields||this.fields,this.limit=t.limit||this.limit||10,this.offset=e&&e.length?e.length:0,this.total=null,"string"!=typeof this.arrayKey)throw new Error("IncrementalFetch: this.arrayKey { String } must be specified ( necessary for API request ).");if(!n.isArray(this.fields))throw new Error("IncrementalFetch: this.fields { Array } must be specified ( necessary for API request ).");this.on("reset",this.onReset,this),this.on("sync",this.onSync,this),a.collections.BaseCollection.prototype.constructor.apply(this,arguments)},resource:"incremental.list.unknown",revertParse:function(){var e=a.collections.BaseCollection.prototype.revertParse.apply(this,arguments);return this.revertParseExtras(e),e},revertParseExtras:function(e){},fetchNextSet:function(e){return null===this.total||this.total>this.offset?((e=e||{}).data=n.extend({offset:this.offset,limit:this.limit},e.data||{}),e=n.extend({fresh:null!==this.total,remove:!1},e),this.fetch(e)):$.Deferred().reject().promise()},onSync:function(){this.updateOffset.apply(this,arguments),this.trigger("fetchNext:done")},updateOffset:function(){this.offset=this.models.length},hasMore:function(){return this.offset<this.total},onReset:function(){this.total=null,this.offset=0}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("IncrementalFetchNextUrl",a.collections.IncrementalFetch.extend({constructor:function(e,n){n=n||{},this.turnOffPagination=n.turnOffPagination||!1,this.nextUrl=null,a.collections.IncrementalFetch.prototype.constructor.apply(this,arguments)},fetchNextSet:function(e){return null===this.nextUrl&&((e=e||{}).data=n.extend({offset:this.offset,limit:this.limit},e.data||{})),e=n.extend({fresh:null!==this.total,remove:!1},e),this.fetch(e)},url:function(){return this.nextUrl?this.updateWpToken(this.nextUrl):this.defaultUrl()},hasMore:function(){return!this.turnOffPagination&&void 0!==this.nextUrl},onReset:function(){this.total=null,this.nextUrl=null,this.offset=0},revertParse:function(){var e=a.collections.IncrementalFetch.prototype.revertParse.apply(this);return e.nextUrl=this.nextUrl,e},updateWpToken:function(e){var n=encodeURIComponent(t.utils.getCookie("token")),a=/(wp_token=)([\w:%]*)/g,s=a.exec(e);return s&&s[2]!==n?e.replace(a,"wp_token="+n):e}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("StoryGroup",a.collections.IncrementalFetch.extend({model:a.models.StoryModel,arrayKey:"stories",fields:[{stories:["title","voteCount","readCount","commentCount","cover","tags","rating","url","id","description","categories","user","lastPublishedPart",{parts:""}]},"total","nextUrl"],resource:"storygroup.collection"}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("StoryStats",Monaco.Collection.extend({arrayKey:"analytics",cacheLocal:!0,resource:function(){return"storystats."+this.id+"."+this.statType},initialize:function(e,n){this.id=n.id,this.statType=n.statType},url:function(){var e="/v4/stories/"+this.id+"/"+this.statType;return"activities"===this.statType&&(e+="?interval=30"),e},errors:{fetchError:a.trans("We seem to have had some issues getting your story's analytics. Please try again"),1097:a.trans("I'm sorry, I can't do that for you ")+a.currentUser().get("username")+a.trans(". Your story must be published before you can view Writer Analytics."),1016:a.trans("I'm sorry, I can't do that for you ")+a.currentUser().get("username")+a.trans(". You may only view Writer Analytics for your own stories."),1018:a.trans("I'm sorry, I can't do that for you ")+a.currentUser().get("username")+a.trans(". You must be logged in to view Writer Analytics."),1017:a.trans("Our apologies, the story you requested was not found.")}})),s.mixin(s.collections.StoryStats,"CollectionParsing")}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("Works",a.collections.IncrementalFetchNextUrl.extend({initialize:function(e,n){if(!(n=n||{}).username)throw new Error("Works Collection - Missing parameter username");n.nextUrl&&(this.nextUrl=n.nextUrl),this.username=n.username,this.published=n.published||!1,a.collections.IncrementalFetchNextUrl.prototype.initialize.apply(this,arguments)},model:a.models.StoryCreateModel,arrayKey:"stories",fields:[{stories:["id","title","voteCount","readCount","commentCount","categories","description","cover","completed","numParts","lastPublishedPart","url","tags","language","user","hasBannedCover",{parts:["draft","title","id","modifyDate","hasBannedImages"]}]},"total","nextUrl"],defaultUrl:function(){return this.published?this.urlPublished():"/api/v3/users/"+this.username+"/stories"},urlPublished:function(){return"/v4/users/"+this.username+"/stories/published"},hasBannedImages:function(){var e=n.some(this.models,function(e){if(n.some(e.get("parts"),function(e){if(!0!==e.deleted&&e.hasBannedImages)return!0})||e.get("hasBannedCover"))return!0});return e},resource:function(){return"user."+this.username+".works"+(this.published?".published":"")},cacheLocal:!0}))}(window,_,wattpad,window.app)},function(e,n){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,n,a,s){"use strict";s.add("Base",Monaco.Collection.extend({_loaded:null,_dependencies:null,initialize:function(){this._loaded=$.Deferred(),this.on("sync",this._setResolved,this),this.on("error",this._setRejected,this),this.init&&this.init.apply(this,arguments),this._bindEvents()},_bindEvents:function(){var e=this;this.events&&"object"===t(this.events)&&n.forEach(this.events,function(n,t){e.on(t,e[n])})},resource:function(){throw new Error("resource must be implemented to use localCache")},_setResolved:function(){this._loaded.resolve(this)},_setRejected:function(){this._loaded.reject(this)},dependsOn:function(e,n){this._dependencies=this._dependencies||[],this._dependencies.push(e)},generateFields:function(e){return e=e||{},!this.fields||e.data&&e.data.fields||(e.data=e.data||{},e.data.fields=this._recursiveFields(this.fields)),e},_recursiveFields:function(e){var t=this,a="";if("string"==typeof e)return e;if(Array.isArray(e))a+=n.map(e,function(e){return t._recursiveFields(e)}).join(",");else{var s=[];n.forIn(e,function(e,n){s.push(n+"("+t._recursiveFields(e)+")")}),a+=s.join(",")}return a},loaded:function(e){var t=this;return e=this.generateFields(e),!this.url||"function"==typeof this.url&&!this.url()?this._loaded.resolve():"pending"===this._loaded.state()&&(this._dependencies?$.when.apply($,n.map(this._dependencies,function(e){return e.loaded()})).done(function(){t.fetch(e)}):this.fetch(e)),this._loaded},lookup:function(e){var n=this.get(e),t=$.Deferred();return n?t.resolve(n):((n=new this.model({id:e})).collection=this,this.add(n),n.loaded().done(function(e){t.resolve(e)})),t.promise()},ghost:function(e){var n=new this.model({id:e});return n.collection=this,this.add(n),n}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("User",a.collections.Base.extend({resource:"users.collection",model:a.models.User}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("Library",a.collections.Base.extend({eventsOn:!1,init:function(e,n){var t=this;(n=n||{}).user?this._user=n.user:(this._loaded.reject(),this._user=new a.models.User),this.on("request",function(){this.eventsOn&&(t.off("add",t.saveItem),t.off("remove",t.deleteItem),this.eventsOn=!1)}),this.on("sync",function(){this.eventsOn||(this.eventsOn=!0,t.on("add",t.saveItem,t),t.on("remove",t.deleteItem,t))})},saveItem:function(n){var t=this;if(this.url()){$.post(this.url(),{stories:n.get("id")}).done(function(){t.trigger("added",n)}).fail(function(e){t.trigger("error-adding",e)});var a=e.te.getPage();e.te.push("event","app","library","story","add",{storyid:n.get("id"),page:a}),"story_details"===a&&e.te.push("event","story_details","story","library","add",{storyid:n.get("id")})}},deleteItem:function(n){var t=this;this.url()&&($.ajax({url:this.url(!0)+"/"+n.get("id"),type:"DELETE"}).done(function(){t.trigger("removed",n.get("id"))}).fail(function(e){t.trigger("error-removing",e)}),e.te.push("event","wattpad","story","library","remove",{storyid:n.get("id")}))},_user:null,user:function(){return this._user},resource:function(){return this.user().authenticated()?"user."+this.user().get("username")+".library":null},url:function(e){return this.user().authenticated()?"/api/v3/users/"+this.user().get("username")+"/library"+(e?"":"?fields=stories(id)"):null},parse:function(e){return e.stories}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("Followers",a.collections.Base.extend({}))}(window,_,wattpad,window.app)},function(e,n){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,n,a,s){"use strict";s.add("Following",s.collections.Base.extend({model:s.models.User,init:function(e,n){n=n||{},this._user=n.user},_user:null,user:function(){return this._user},resource:function(){return"user."+this.user().get("username")+".following"},url:function(){return"/api/v3/users/"+this.user().get("username")+"/following"},_clearCache:function(e,n){s.local.clear("user."+e),s.local.clear("user."+e+".following"),s.local.clear("user."+e+".profile.following"),s.local.clear("user."+n),s.local.clear("user."+n+".profile.followers")},follow:function(e){var n=this;return"string"==typeof e?this._doFollowRequest(e).done(function(){n._clearCache(n.user().get("username"),e)}):"object"===t(e)&&e instanceof s.models.User?this._doFollowRequest(e.get("username")).done(function(){n._clearCache(n.user().get("username"),e.get("username"))}):$.Deferred().reject().promise()},_doFollowRequest:function(e){return $.post(this.url()+"?users="+e)},unfollow:function(e){var n=this;return"string"==typeof e?this._doUnFollowRequest(e).done(function(){n._clearCache(n.user().get("username"),e)}):"object"===t(e)&&e instanceof s.models.User?this._doUnFollowRequest(e.get("username")).done(function(){n._clearCache(n.user().get("username"),e.get("username"))}):$.Deferred().reject().promise()},_doUnFollowRequest:function(e){return $.ajax(this.url()+"/"+e,{type:"DELETE"})}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("Stories",a.collections.Base.extend({resource:"stories.collection"}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("SimilarStories",a.collections.BaseCollection.extend({baseStoryId:null,model:a.models.StoryModel,fields:["id","title","voteCount","readCount","createDate","lastPublishedPart",{user:["name","avatar"]},"cover","url","numParts","isPaywalled"],resource:function(){return"group."+this.baseStoryId+".similar"},cacheLocal:!1,initialize:function(e,n){n=n||{},this.baseStoryId=n.storyId,this.limit=n.limit||3,this.baseStory=n.baseStory||{},n.showDescription&&this.fields.push("description")},fetch:function(e){return(e=e||{}).data=n.extend({limit:this.limit},e.data||{}),a.collections.BaseCollection.prototype.fetch.call(this,e)},url:function(){return"/api/v3/stories/"+this.baseStoryId+"/recommended"}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("NewMessageReplies",a.collections.IncrementalFetch.extend({model:a.models.Message,cacheLocal:!1,arrayKey:"replies",fields:[{replies:["id","body","createDate","from","isReply","parentId","isOffensive","eventId"]},"message","nextUrl"],nextUrl:null,initialize:function(e,n){n=n||{},this.parentId=n.parentId,this.messageOwnerName=n.messageOwnerName,this.on("add remove",function(){a.local._clearItem(this.resource())}),a.collections.IncrementalFetch.prototype.initialize.apply(this,arguments)},_prepareModel:function(e,n){return e.ownername||(e.ownername=this.messageOwnerName||e.from.name),a.collections.IncrementalFetch.prototype._prepareModel.apply(this,arguments)},parse:function(e){return!0===e.hasOwnProperty("nextUrl")&&""!==e.nextUrl?this.nextUrl=e.nextUrl:this.nextUrl=!1,!0===e.hasOwnProperty("message")&&(this.parentMessage=new a.models.Message({id:e.message.id,body:e.message.body,createDate:e.message.createDate,from:e.message.from,isReply:e.message.isReply,parentId:e.message.parentId,ownername:e.message.from.name})),a.collections.IncrementalFetch.prototype.parse.apply(this,arguments)},revertParseExtras:function(e){e.nextUrl=this.nextUrl},fetchNextSet:function(e){return null===this.nextUrl?this.fetch(n.extend({data:{limit:this.limit,fields:this.getFieldsString().data.fields,direction:1,omitParentReply:1,replyId:e.replyId||null},fresh:!0,remove:!1},e||{})):!1!==this.nextUrl?this.fetch(n.extend({fresh:!0,remove:!1},e||{})):$.Deferred().reject().promise()},comparator:function(e){return moment(e.get("createDate")).unix()},hasMore:function(){return!1!==this.nextUrl},url:function(){return"string"!=typeof this.nextUrl?"/v4/messages/"+this.parentId:this.nextUrl},resource:function(){return"user.messages."+this.parentId+".replies"}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("RecommendedStories",a.collections.IncrementalFetchNextUrl.extend({model:a.models.StoryModel,arrayKey:"stories",username:null,cacheLocal:!0,cacheExpire:5,nextUrl:null,fields:[{stories:["title","voteCount","readCount","commentCount","cover","tags","rating","url","id","description","categories","firstPartId","numParts",{user:["name","avatar"]}]},"total","nextUrl"],initialize:function(e,n){if(!(n=n||{}).username)throw new Error("Recommended Collection: options.username cannot be null");this.username=n.username,a.collections.IncrementalFetchNextUrl.prototype.initialize.apply(this,arguments)},parse:function(e){return!0===e.hasOwnProperty("nextUrl")&&""!==e.nextUrl?this.nextUrl=e.nextUrl:this.nextUrl=!1,a.collections.IncrementalFetchNextUrl.prototype.parse.apply(this,arguments)},revertParseExtras:function(e){e.nextUrl=this.nextUrl},removeAndDismiss:function(n){var t=n.get("id"),a=this,s=Promise.resolve();e.te.push("event","recommended","stories",null,"dismiss",{dismissed_storyid:t}),this.length<5&&(s=Promise.resolve(this.fetchNextSet())),s.then(function(){a.remove(n),a.trigger("update")})},resource:function(){return this.username+".recommended-stories"},defaultUrl:function(){return"/api/v3/users/"+this.username+"/recommended"}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("ReadingListStories",a.collections.IncrementalFetchNextUrl.extend({model:a.models.StoryModel,arrayKey:"stories",listId:null,eventsOn:!1,limit:30,fields:["id","name",{stories:["id","title","cover","description","url","voteCount","readCount","numParts","firstPartId","completed","tags","mature",{user:["name","avatar"]}]},"total","nextUrl"],constructor:function(e,n){a.collections.IncrementalFetchNextUrl.prototype.constructor.apply(this,arguments)},initialize:function(e,n){if(!(n=n||{}).listId)throw new Error("ReadingListStories: listId cannot be null");this.listId=n.listId,n.nextUrl&&(this.nextUrl=n.nextUrl),a.collections.IncrementalFetchNextUrl.prototype.initialize.apply(this,arguments)},defaultUrl:function(){return"/api/v3/lists/"+this.listId+"/stories"},resource:function(){return"reading-list."+this.listId+".stories"},remove:function(e,t){var s=this,l=arguments;t=t||{};var i=!n.isArray(e);e=i?[e]:n.clone(e);var r=n.pluck(e,"id").join(",");return Promise.resolve($.ajax({url:this.defaultUrl()+"/"+encodeURIComponent(r),type:"DELETE"})).then(function(){a.collections.StoryGroup.prototype.remove.apply(s,l),a.local.clear(s.resource()),s.offset-=e.length,s.total-=e.length,s.nextUrl=null,n.each(e,function(e){s.trigger("removedStory",e)}),"function"==typeof t.success&&t.success()}).catch(function(){"function"==typeof t.error&&t.error()}),i?e[0]:e},add:function(e,t){var s=this,l=arguments;t=t||{};var i=!n.isArray(e);e=i?[e]:n.clone(e);var r=n.pluck(e,"id").join(",");return Promise.resolve($.ajax({url:this.url(),data:{stories:r},type:"POST"})).then(function(){a.collections.StoryGroup.prototype.add.apply(s,l),a.local.clear(s.resource()),n.each(e,function(e){s.trigger("addedStory",e)}),"function"==typeof t.success&&t.success()}).catch(function(){"function"==typeof t.error&&t.error()}),i?e[0]:e}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("OnboardingListStories",a.collections.IncrementalFetchNextUrl.extend({model:a.models.StoryModel,arrayKey:"stories",listId:null,eventsOn:!1,fields:["id","name",{stories:["id","title","cover","voteCount","readCount","categories"]},"total","nextUrl"],initialize:function(e,n){if(!(n=n||{}).listId)throw new Error("ReadingListStories: listId cannot be null");this.listId=n.listId,n.nextUrl&&(this.nextUrl=n.nextUrl),a.collections.IncrementalFetchNextUrl.prototype.initialize.apply(this,arguments)},defaultUrl:function(){return"/api/v3/lists/"+this.listId+"/stories"},resource:function(){return"onboarding-list."+this.listId+".stories"}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("OnboardingStories",a.collections.IncrementalFetchNextUrl.extend({model:a.models.StoryModel,arrayKey:"stories",fields:[{stories:["id","title","url","cover","voteCount","readCount","numParts","categories","description",{user:["name","fullname","avatar"]}]},"total","nextUrl"],resource:function(){return"stories.onboarding"},defaultUrl:function(){return"/api/v3/stories?filter=onboarding"}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("RecommendedUsers",a.collections.IncrementalFetch.extend({model:a.models.User,arrayKey:"users",fields:[{users:["username","name","avatar","following","backgroundUrl","numStoriesPublished","numFollowers","highlight_colour","recommendationHint"]}],username:null,cacheLocal:!0,cacheExpire:5,initialize:function(e,n){if(!(n=n||{}).username)throw new Error("RecommendedUsers Collection: options.username cannot be null");this.username=n.username,a.collections.IncrementalFetch.prototype.initialize.apply(this,arguments)},parse:function(e){var n=a.collections.IncrementalFetch.prototype.parse.apply(this,arguments);return this.total=n.length,n},removeAndDismiss:function(n){var t=n.get("username"),a=this;e.te.push("event","recommended","users",null,"dismiss",{dismissed_username:t}),$.post(this.url()+"/"+t+"/dismiss").done(function(){a.remove(n),a.trigger("update")})},resource:function(){return this.username+".recommended-users"},url:function(){return"/api/v3/users/"+this.username+"/recommended/users"}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("NewsFeed",a.collections.IncrementalFetch.extend({model:a.models.UserEvent,cacheLocal:!0,cacheExpire:5,username:null,arrayKey:"feed",more:null,fields:[{feed:["id","type","createDate","data","children","group_url"]},"total","has_more"],_prepareModel:function(e,t){return this.extractUser(e),"comment"!==e.type&&"inline_comment"!==e.type||n.get(e,"data.comment.deeplink_url")||(e.data.comment.parentId?e.data.comment.deeplink_url=e.data.story.part.url+"/comment/"+e.data.comment.parentId+"/replies/"+e.data.comment.id:e.data.comment.deeplink_url=e.data.story.part.url+"/comment/"+e.data.comment.id),a.collections.IncrementalFetch.prototype._prepareModel.apply(this,arguments)},extractUser:function(e){switch(e.type){case"comment":case"inline_comment":e.data.user=e.data.comment.user;break;case"follow":e.data.user=e.data.follower;break;case"library":e.data.user=e.data.list.user;break;case"message":e.data.user=e.data.message.from;break;case"update":case"upload":e.data.user=e.data.story.user;break;case"vote":e.data.user=e.data.voter}},parse:function(e){return this.more=e.has_more,a.collections.IncrementalFetch.prototype.parse.apply(this,arguments)},revertParseExtras:function(e){e.has_more=this.more},hasMore:function(){return null===this.more||this.more},fetchNextSet:function(e){return null===this.more?this.fetch(n.extend({data:{limit:this.limit},fresh:!1,remove:!1},e||{})):this.more?this.fetch(n.extend({data:{limit:this.limit,newest_id:this.models.length>0?this.min(function(e){return e.get("id")}).get("id"):-1},fresh:!0,remove:!1},e||{})):$.Deferred().reject().promise()},url:function(){return"/api/v3/users/"+t.utils.currentUser().get("username")+"/feed"},resource:function(){return"user."+t.utils.currentUser().get("username")+".news-feed"},updateOffset:function(e,t,a){var s=this;n.each(t.feed,function(e){s.offset+=1,e.children&&(s.offset+=e.children.length)})}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("Autocomplete",Monaco.Collection.extend({cacheLocal:!1,url:function(){return"/v4/autocomplete/query?term="+this.searchTerm},resource:function(){return"search.autocomplete."+this.searchTerm},initialize:function(e,n){n=n||{},this.searchTerm=n.searchTerm||""},parse:function(e){var t=[];return n.each(e,function(e,n){t.push({itemId:n,term:e})}),t}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("StorySearch",a.collections.IncrementalFetchNextUrl.extend({model:a.models.StoryGroup,arrayKey:"stories",expireLocal:5,fields:[{stories:["title","voteCount","readCount","commentCount","cover","tags","rating","url","id","description","categories",{user:["name"]}]},"total","nextUrl"],initialize:function(e,n){n=n||{},this.searchTerm=n.searchTerm,this.filterComplete=n.filterComplete||!1,a.collections.IncrementalFetchNextUrl.prototype.initialize.apply(this,arguments),this.parentFetchNextSet=a.collections.IncrementalFetchNextUrl.prototype.fetchNextSet},fetchNextSet:function(){return""!==this.searchTerm?a.collections.IncrementalFetchNextUrl.prototype.fetchNextSet.apply(this,arguments):$.Deferred().resolve().promise()},resource:function(){return"search-results.story.query-"+this.searchTerm+this.completeFilter()},completeFilter:function(){return this.filterComplete?"&filter=complete":""},defaultUrl:function(){return"/api/v3/stories/?query="+encodeURIComponent(this.searchTerm)+this.completeFilter()}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("Notifications",a.collections.IncrementalFetchNextUrl.extend({model:a.models.NotificationEvent,username:null,arrayKey:"feed",more:null,hasUnread:!1,useLocalCache:!0,fields:[{feed:["id","type","createDate","data","isRead","children","group_url"]},"nextUrl"],initialize:function(e,n){if("string"!=typeof(n=n||{}).username||""===n.username.trim())throw new Error("Notifications: options.username cannot be null");this.username=n.username,void 0!==n.useLocalCache&&null!==n.useLocalCache&&(this.useLocalCache=n.useLocalCache),this.on("sync",this.checkUnreads,this),a.collections.IncrementalFetchNextUrl.prototype.initialize.apply(this,arguments)},checkUnreads:function(e,n,t){$.ajax({url:this.defaultUrl(),type:"PUT",data:{username:this.username,read:1}}),$("#notifications-menu-badge, .notification-badge").css("display","none")},defaultUrl:function(){return"/api/v3/users/"+this.username+"/notifications"},resource:function(){return this.useLocalCache?"user."+this.username+".notifications":null}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("RecentlyRead",a.collections.BaseCollection.extend({model:a.models.StoryGroup,arrayKey:"stories",fields:[{stories:["id","title","readingPosition","cover","url",{user:["name"]},{parts:["id","url"]}]}],initialize:function(e,n){if(!(n=n||{}).username)throw new Error("Recently Read Collection: options.username cannot be null");this.username=n.username,a.collections.BaseCollection.prototype.initialize.apply(this,arguments)},resource:function(){return"user."+this.username+".recently-read"},url:function(){return"/v4/users/"+this.username+"/recent_reads"}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("Discover",a.collections.BaseCollection.extend({fields:["listType,url,elements,subtitle,id,title"],url:"/v4/discover/",initialize:function(e){e=e||{},this.user=e.user||t.utils.currentUser()},resource:function(){return"user."+(this.user.get("username")||"anonymous")+".discover"}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("TagModules",a.collections.IncrementalFetch.extend({model:a.models.TagModuleItem,arrayKey:"modules",fields:[{modules:["type","data"]}],typeByPathName:{hot:"hotStoriesForTag",new:"newStoriesForTag",writers:"relatedWritersForTag",lists:"relatedReadingListsForTag"},initialize:function(e,n){if(!(n=n||{}).tags)throw new Error("A tag module collection needs a tag(s) to be passed in");this.tags=n.tags,this.user=n.user||t.utils.currentUser(),a.collections.IncrementalFetch.prototype.initialize.apply(this,arguments)},resource:function(){return"user."+(this.user.get("username")||"anonymous")+"."+this.tags+".tag-modules"},parse:function(e){return a.collections.IncrementalFetch.prototype.parse.call(this,e)},url:function(){return t.utils.currentUser().authenticated(),"/v5/discover/tags?tags="+encodeURIComponent(this.tags)+"&language="+a.get("language")},getTypeByUrlPath:function(e){return this.typeByPathName[e]}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("ActivityMessages",a.collections.IncrementalFetchNextUrl.extend({model:a.models.PublicMessage,cacheLocal:!0,cacheExpire:5,arrayKey:"messages",username:null,fields:[{messages:["id","body","createDate","from","numReplies","isReply","latestReplies","isOffensive","replies"]},"total","nextUrl"],initialize:function(e,n){if("string"!=typeof(n=n||{}).username||""===n.username.trim())throw new Error("An Activity Feed collection requires a username string to be passed to the options hash on init");a.collections.IncrementalFetch.prototype.initialize.apply(this,arguments),this.username=n.username,this.on("remove",function(){a.local._clearItem(this.resource())})},parse:function(e){return n.forOwn(e[this.arrayKey],function(e){e.type=e.type||"newMessage"}),a.collections.IncrementalFetchNextUrl.prototype.parse.apply(this,arguments)},_prepareModel:function(e,n){return e.username||(e.username=this.username),a.collections.IncrementalFetch.prototype._prepareModel.apply(this,arguments)},defaultUrl:function(){return"/v4/users/"+this.username+"/messages"},resource:function(){return"user."+this.username+".profile.messages"}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("ReadingLists",a.collections.IncrementalFetchNextUrl.extend({model:a.models.ReadingList,arrayKey:"lists",fields:[{lists:["id","name",{user:["name"]},"numStories","cover","sample_covers","tags","featured","isPaywalled"]},"total","nextUrl"],initialize:function(e,n){if("string"!=typeof(n=n||{}).username||""===n.username.trim())throw new Error("A ReadingLists collection requires a username string to be passed to the options hash on init");this.username=n.username,n.getStories&&(this.fields[0].lists.push({stories:["id"]}),this.getStories=!0),this.nonEmpty=!!n.nonEmpty,this.on("sync",function(e){a.local.clear(this.resource())},this),a.collections.IncrementalFetch.prototype.initialize.apply(this,arguments)},defaultUrl:function(){return"/api/v3/users/"+this.username+"/lists"+(this.nonEmpty?"?non_empty=1":"")},resource:function(){return"user."+this.username+".profile.reading-lists"+(this.getStories?".withStories":"")+(this.nonEmpty?".non-empty":"")}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("ProfileFollowers",a.collections.IncrementalFetchNextUrl.extend({cacheExpire:5,cacheLocal:!0,arrayKey:"users",model:a.models.User,username:null,usernameErr:"A ProfileFollowers collection requires a username string to be passed to the options hash on init",fields:[{users:["username","name","avatar","following","numStoriesPublished","numLists","numFollowers","numFollowing","location","description","backgroundUrl","highlight_colour"]},"total","nextUrl"],defaultUrl:function(){return"/api/v3/users/"+this.username+"/followers"},resource:function(){return"user."+this.username+".profile.followers"},initialize:function(e,n){if("string"!=typeof(n=n||{}).username||""===n.username.trim())throw new Error(this.usernameErr);this.username=n.username,a.collections.IncrementalFetchNextUrl.prototype.initialize.apply(this,arguments)}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("ProfileFollowing",a.collections.IncrementalFetchNextUrl.extend({model:a.models.User,cacheExpire:1,cacheLocal:!0,arrayKey:"users",username:null,fields:[{users:["username","name","avatar","following","location","description","backgroundUrl","highlight_colour","numStoriesPublished","numLists","numFollowers","numFollowing","votesReceived"]},"total","nextUrl"],defaultUrl:function(){return"/api/v3/users/"+this.username+"/following"},resource:function(){return"user."+this.username+".profile.following"},initialize:function(e,n){if("string"!=typeof(n=n||{}).username||""===n.username.trim())throw new Error("A ProfileFollowing collection requires a username string to be passed to the options hash on init");this.username=n.username,a.collections.IncrementalFetchNextUrl.prototype.initialize.apply(this,arguments)}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("ProfileWorks",a.collections.StoryGroup.extend({fields:[{stories:["title","lastPublishedPart","voteCount","readCount","commentCount","cover","tags","url","id","description","categories","completed","mature","rating","rankings","tagRankings","numParts","firstPartId","parts","isPaywalled"]},"total","nextUrl","numPublished","numDrafts"],url:function(){return t.utils.currentUser().get("username")===this.username?"/v4/users/"+this.username+"/stories/all":"/v4/users/"+this.username+"/stories/published"},parse:function(e){return this.numPublished=e.numPublished,this.numDrafts=e.numDrafts,a.collections.StoryGroup.prototype.parse.apply(this,arguments)},revertParse:function(){var e=a.collections.StoryGroup.prototype.revertParse.apply(this,arguments);return e.numPublished=this.numPublished,e.numDrafts=this.numDrafts,e},resource:function(){return t.utils.currentUser().get("username")===this.username?"user."+this.username+".profile.works.all":"user."+this.username+".profile.works"},initialize:function(e,n){if("string"!=typeof(n=n||{}).username||""===n.username.trim())throw new Error("A ProfileWorks collection requires a username string to be passed to the options hash on init");this.username=n.username,a.collections.StoryGroup.prototype.initialize.apply(this,arguments)}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("FollowRequests",a.collections.ProfileFollowers.extend({cacheLocal:!1,usernameErr:"FollowRequests collection requires a username string to be passed to the options hash on init",fields:[{users:["username","avatar"]},"total","nextUrl"],url:function(){return"/api/v3/users/"+this.username+"/followers/requests"},resource:function(){return"user."+this.username+".follow-requests"}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("StoryInLists",Monaco.Model.extend({initialize:function(e){if(!e.storyId)throw new Error("StoryInLists - Missing parameter storyId");this.storyId=e.storyId},url:function(){return"/v4/stories/collections?storyIds="+this.storyId},arrayKey:"collections",parse:function(e){return e[this.arrayKey]}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";a.add("CommentModel",a.models.BaseModel.extend({cacheLocal:!1,fields:[],initialize:function(e,n){n=n||{},e=e||{},this.isDeepLink=n.isDeepLink||!1,this.isDeeplinkedReply=n.isDeeplinkedReply||!1,this.commentIdToHighlight=n.commentIdToHighlight,a.models.BaseModel.prototype.initialize.apply(this,arguments)},url:function(){return this.isDeepLink&&this.get("parentId")?"/v4/comments/"+this.get("parentId").toString().split("#").join("_")+"/replies/"+this.get("id"):"/v4/comments/"+this.get("id")},_replies:null,replies:function(){return this._replies||(this._replies=new a.collections.CommentReplies([],{paragraphId:this.get("paragraphId")||null,partId:this.get("partId"),parentId:this.get("id"),isReply:!0,storyAuthor:this.get("storyAuthor")})),this._replies},destroyAndUpdateMarker:function(){var e=this.get("paragraphId");Promise.resolve(this.destroy()).then(function(){a.trigger("app:story:inlinecomment",e)})},sync:function(e,n,t){var s=this;if((t=t||{}).error=function(e,n,t){return s.handlePromiseExpected(e)},n.get("paragraphId")&&!n.get("isReply"))t.url="create"===e?"/v4/parts/"+n.get("partId")+"/paragraphs/"+n.get("paragraphId")+"/comments":"/v4/comments/"+n.get("id");else if(n.get("parentId"))if("create"===e){var l=n.get("parentId").toString().split("#").join("_");l.match(/[0-9_]+/)&&(t.url="/v4/comments/"+l)}else t.url="/v4/comments/"+n.get("id");return a.models.BaseModel.prototype.sync.apply(this,arguments)}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,n){!function(e,n,t,a){"use strict";a.add("RecentComments",a.collections.IncrementalFetch.extend({model:a.models.CommentModel,arrayKey:"comments",fields:[{comments:["id","body","createDate","isOffensive","parent_id",{author:["name","avatar"]}]},"total","nextUrl"],storyId:null,url:function(){return"/v4/stories/"+this.storyId+"/recent_comments"},resource:function(){return"story."+this.storyId+".recent-comments"},initialize:function(e,n){if(a.collections.IncrementalFetch.prototype.initialize.apply(this,arguments),void 0===(n=n||{}).storyId||""===n.storyId.toString().trim())throw new Error("A RecentComments collection requires a storyId to be passed to the options hash on init");this.storyId=n.storyId}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("InlineComments",a.collections.IncrementalFetchNextUrl.extend({model:a.models.CommentModel,arrayKey:"comments",fields:[{comments:["body","createDate","startPosition","endPosition","id","isOffensive","isReply","numReplies","paragraphId","parentId","partId","deeplink",{author:["avatar","name"]}]},"total"],cacheLocal:!1,cacheExpire:5,defaultUrl:function(){return"/v4/parts/"+this.partId+"/paragraphs/"+this.paragraphId+"/comments"},initialize:function(e,t){if(a.collections.IncrementalFetchNextUrl.prototype.initialize.apply(this,arguments),t=t||{},this.pageText=n.find(t.storyPart.loadedPages,function(e){return e.getParagraphById(t.paragraphId)}),!this.pageText)throw new Error("The selected paragraph ID for this story does not exist.");this.partId=t.storyPart.get("id"),this.commentId=t.commentId,this.paragraphId=t.paragraphId,this.paragraphText=this.pageText.getParagraphById(t.paragraphId),this.storyAuthor=t.storyPart.get("group").user.username,this.startPosition=0,this.endPosition=this.paragraphText.length,t.paragraphId&&this.on("sync",function(){a.trigger("app:story:inlinecomment",t.paragraphId)},this)},hasMore:function(){return(1!==this.models.length||!this.models[0].isDeepLink)&&a.collections.IncrementalFetchNextUrl.prototype.hasMore.apply(this,arguments)},_prepareModel:function(e,n){return!e.storyAuthor&&this.storyAuthor&&(e.storyAuthor=this.storyAuthor),a.collections.IncrementalFetch.prototype._prepareModel.apply(this,arguments)}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("FeaturedStories",a.collections.IncrementalFetchNextUrl.extend({category:null,model:a.models.StoryModel,arrayKey:"stories",fields:[{stories:["id","title","voteCount","readCount","commentCount","tags",{user:["name","avatar"]},"description","cover","completed","rating","mature","url","numParts","modifyDate","categories","firstPartId"]},"total","nextUrl"],resource:function(){return"stories.featured"},defaultUrl:function(){return"/api/v3/stories?filter=featured"}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("BrowseStories",a.collections.IncrementalFetchNextUrl.extend({category:null,model:a.models.StoryModel,arrayKey:"stories",fields:[{stories:["id","title","voteCount","readCount","commentCount","tags","rankings",{user:["name","avatar"]},"description","cover","completed","rating","mature","url","numParts","modifyDate","firstPartId"]},"total","tags","nextUrl"],initialize:function(e,n){if(!(n=n||{}).category&&!n.tag)throw new Error("BrowseStories - Need to pass in a category");this.filter=n.filter||"hot",this.category=n.category,this.nextUrl=this.nextUrl||n.nextUrl||null,a.collections.IncrementalFetchNextUrl.prototype.initialize.apply(this,arguments)},parse:function(e){return this.tags=e.tags,a.collections.IncrementalFetchNextUrl.prototype.parse.apply(this,arguments)},revertParse:function(){var e=a.collections.IncrementalFetchNextUrl.prototype.revertParse.apply(this,arguments);return e.tags=this.tags,e},resource:function(){return"stories.category."+t.utils.slugify(this.category.get("name_english"))+"."+this.filter},defaultUrl:function(){return"/api/v3/stories?filter="+this.filter+"&category="+this.category.get("id")}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("BrowseTagStories",a.collections.IncrementalFetchNextUrl.extend({tags:null,model:a.models.StoryModel,arrayKey:"stories",fields:[{stories:["id","title","voteCount","readCount","commentCount","tags",{user:["name","username","avatar"]},"description","cover","completed","rating","mature","url","numParts","modifyDate","categories","firstPartId"]},"total","nextUrl"],initialize:function(e,n){if(!(n=n||{}).category&&!n.tags)throw new Error("BrowseTagStories - Need to pass in a tag(s)");this.filter=n.filter||"hot",this.tags=n.tags,this.nextUrl=this.nextUrl||n.nextUrl||null,a.collections.IncrementalFetchNextUrl.prototype.initialize.apply(this,arguments)},resource:function(){return"stories.tag."+this.tags+"."+this.filter},url:function(){return this.nextUrl?"hot"===this.filter?this.nextUrl+"&wp_token="+t.utils.getCookie("token"):this.nextUrl:this.defaultUrl()},defaultUrl:function(){var e=this.tags.split(",").map(function(e){return"%23"+e}).join("+");return"hot"===this.filter?"/v5/hotlist?tags="+this.tags:this.variation?"/v4/stories?filter="+this.filter+"&query="+e+"&variation="+this.variation:"/v4/stories?filter="+this.filter+"&query="+e}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("StoryPartComments",a.collections.IncrementalFetchNextUrl.extend({model:a.models.CommentModel,arrayKey:"comments",cacheLocal:!0,cacheExpire:5,fields:[{comments:["id","body","createDate","isOffensive","parentId","numReplies",{author:["name","avatar"]}]},"total"],partId:null,defaultUrl:function(){return"/v4/parts/"+this.partId+"/comments"},resource:function(){return"part."+this.partId+".comments"},parse:function(e){return e=a.collections.IncrementalFetchNextUrl.prototype.parse.apply(this,arguments),this.initialParse&&this.nextUrl&&(this.initialParse=!1,this.nextUrl=this.nextUrl.replace("limit="+this.limit,"limit="+this.normalLimit),this.limit=this.normalLimit),e},initialize:function(e,n){if(a.collections.IncrementalFetch.prototype.initialize.apply(this,arguments),void 0===(n=n||{}).partId||""===n.partId.toString().trim())throw new Error("A StoryPartComments collection requires a partId to be passed to the options hash on init");this.partId=n.partId,this.storyAuthor=n.storyAuthor||"",this.limit=n.limit,n.initialLimit&&(this.normalLimit=this.limit,this.limit=n.initialLimit,this.initialParse=!0)},_prepareModel:function(e,n){return!e.storyAuthor&&this.storyAuthor&&(e.storyAuthor=this.storyAuthor),a.collections.IncrementalFetch.prototype._prepareModel.apply(this,arguments)},hasMore:function(){return(1!==this.models.length||!this.models[0].isDeepLink)&&a.collections.IncrementalFetchNextUrl.prototype.hasMore.apply(this,arguments)}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("CommentReplies",a.collections.IncrementalFetchNextUrl.extend({model:a.models.CommentModel,arrayKey:"replies",cacheLocal:!0,cacheExpire:5,fields:[{replies:["id","body","partId","createDate","isOffensive","isReply","parentId",{author:["name","avatar"]}]},"total"],parentId:null,defaultUrl:function(){return"/v4/comments/"+this.parentId+"/replies"},resource:function(){return"comments."+this.parentId+".replies"},initialize:function(e,n){if(a.collections.IncrementalFetch.prototype.initialize.apply(this,arguments),void 0===(n=n||{}).parentId||""===n.parentId.toString().trim())throw new Error("A CommentReplies collection requires a parentId to be passed to the options hash on init");this.limit=n.limit||10,this.parentId=n.parentId,this.storyAuthor=n.storyAuthor,this.partId=n.partId,this.isReply=n.isReply||!0,this.paragraphId=n.paragraphId,n.paragraphId&&this.on("sync",function(){a.trigger("app:story:inlinecomment",n.paragraphId)},this)},_prepareModel:function(e,n){return!e.storyAuthor&&this.storyAuthor&&(e.storyAuthor=this.storyAuthor),e.attributes?e.attributes.paragraphId=this.paragraphId:e.paragraphId=this.paragraphId,a.collections.IncrementalFetch.prototype._prepareModel.apply(this,arguments)}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("NodeStorySearch",a.collections.StorySearch.extend({model:a.models.StoryModel,arrayKey:"stories",cacheLocal:!1,fields:[{stories:["id","title","voteCount","readCount","commentCount","description","mature","completed","cover","url","numParts","isPaywalled",{user:["name"]},{lastPublishedPart:["createDate"]},"promoted",{sponsor:["name","avatar"]},"tags",{tracking:["clickUrl","impressionUrl",{thirdParty:["impressionUrls","clickUrls"]}]},{contest:["endDate","ctaLabel","ctaURL"]}]},"total","tags","nextUrl"],initialize:function(e,n){n=n||{},this.searchTerm=n.searchTerm,this.limit=n.limit,this.promotedStories=[]},resource:function(){return"search.stories.results."+this.searchTerm.trim()+"."+(this.complete?"true":"false")+"."+(this.mature?"true":"false")},parse:function(e){var t=this;this.tags=new Monaco.Collection(e.tags),this.tags._app=a,e.stories&&e.stories.length&&"number"!=typeof e.stories[0].parts&&n.each(e.stories,function(e){e.category=null;var a=n.find(e.categories,function(e){return e>0});a&&(a=n.findWhere(t.categories.toJSON(),{id:a}),e.category=a?a.name:null),e.promoted&&t.promotedStories.push(e)}),this.limit=3===this.limit?10:this.limit},getPromotedStories:function(){return this.promotedStories},revertParse:function(e){e.tags=this.tags.toJSON()},defaultUrl:function(){return"/v4/search/stories/?query="+encodeURIComponent(this.searchTerm.trim())+this.addFilter("complete")+this.addFilter("mature")+this.addFilter("hot")+this.addFilter("age")+this.addFilter("length")+this.addFilter("category")+"&limit="+this.limit},toJSON:function(){var e=a.collections.StorySearch.prototype.toJSON.apply(this,arguments),n=a.get("categories").find({id:this.category});return e.filters={complete:this.complete,mature:this.mature,age:this.age,category:n?n.get("name"):void 0},e},addFilter:function(e){switch(e){case"complete":if(this.complete)return"&filter=complete";break;case"mature":if(this.mature)return"&mature=true";break;case"age":if(this.age)return"&updateYoungerThan="+this.age;break;case"length":e="";return this.minParts&&(e="&minParts="+this.minParts),this.maxParts&&(e=e+"&maxParts="+this.maxParts),e;case"hot":if(this.hot)return"&hot=1";break;case"category":if(this.category)return"&category="+this.category}return""},setFilter:function(e,n){if(this[e]=n,"mature"===e){var a=n?1:0;t.utils.setCookie("msf",a,365,!0)}else"age"===e?n>0?this.age=n:delete this.age:"length"===e&&("1-10"===n?(this.minParts=1,this.maxParts=10):"10-20"===n?(this.minParts=10,this.maxParts=20):"20-50"===n?(this.minParts=20,this.maxParts=50):">50"===n?(this.minParts=50,delete this.maxParts):(delete this.maxParts,delete this.minParts))}})),a.mixin(a.collections.NodeStorySearch,"CollectionParsing")}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("NodeUserSearch",a.collections.IncrementalFetchNextUrl.extend({model:a.models.UserModel,expires:5,arrayKey:"users",fields:["username","name","avatar","description","numFollowers","numStoriesPublished","badges"],initialize:function(e,n){n=n||{},this.searchTerm=n.searchTerm,this.limit=n.limit||3,this.offset=0},url:function(){return"/v4/search/users/?query="+encodeURIComponent(this.searchTerm.trim())+"&limit="+this.limit+"&offset="+this.offset},resource:function(){return"search.users.results."+this.searchTerm.trim()},parse:function(e){return this.offset=this.offset+this.limit,e.length<this.limit?this.nextUrl=void 0:this.nextUrl=this.url(),e}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("NodeLibrary",a.collections.IncrementalFetchNextUrl.extend({model:a.models.StoryModel,arrayKey:"stories",fields:[{stories:["id","title","cover","voteCount","readCount","readingPosition","url",{parts:["id","url"]},{user:["name","avatar"]},{lastPublishedPart:["createDate"]}]},"total","nextUrl"],libraryType:"current-reads",initialize:function(e,n){n=n||{},this.user=n.user||t.utils.currentUser(),a.collections.IncrementalFetch.prototype.initialize.apply(this,arguments)},resource:function(){return"user."+this.user.get("username")+".library.new"},defaultUrl:function(){return"/api/v3/users/"+this.user.get("username")+"/library"},addStory:function(e){var t,a=this;return e=n.isArray(e)?e:[e],t=n.map(e,function(e){return e.get("id")}),Promise.resolve($.post(this.defaultUrl()+"/"+t.join(","))).then(function(e){return n.each(e.results.success,a.reportAdd),e.results})},reportAdd:function(n){e.te.push("event","app","library","story","add",{storyid:n,page:e.te.getPage()})},removeStory:function(e,t){var a;return e=n.isArray(e)?e:[e],a=n.map(e,function(e){return e.get("id")}),Promise.resolve($.ajax({url:this.defaultUrl()+"/"+a.join(),type:"DELETE",data:t?{unarchive:1}:null})).then(function(e){return!e||!e.results||e.results}).catch(function(e){return!(!e||!e.results)&&e.results})},reportRemove:function(n){e.te.push("event","wattpad","story","library","remove",{storyid:n})}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("Archive",a.collections.NodeLibrary.extend({resource:function(){return"user."+this.user.get("username")+".archive.new"},defaultUrl:function(){return"/api/v3/users/"+this.user.get("username")+"/archive"},libraryType:"archive",reportAdd:function(n){e.te.push("event","wattpad","story","archive","add",{storyid:n})},reportRemove:function(n){e.te.push("event","wattpad","story","archive","remove",{storyid:n})}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("DiscoverCollection",a.collections.IncrementalFetch.extend({model:a.models.StoryModel,arrayKey:"stories",fields:[{stories:["id","title","description","cover","voteCount","readCount","readingPosition","numParts","tags","categories","modifyDate","url","firstPartId",{user:["name","avatar"]}]},"total","nexturl"],initialize:function(e,n){n=n||{},this.user=n.user||t.utils.currentUser(),this.url=n.url||this.url,this.layout=n.layout||t.utils.PanelBuilder.Layouts.Default,this.cacheKey=n.cache,a.collections.IncrementalFetch.prototype.initialize.apply(this,arguments)},resource:function(){if(!this.cacheKey)throw new Error("Discover :: Collection :: Please set the Resource");return"user."+(this.user.get("username")||"anonymous")+".discover."+this.cacheKey},url:function(){throw new Error("Discover :: Collection :: Please set the URL")},getPanelGroup:function(){return new t.utils.PanelBuilder(this.toJSON(),this.layout).panelGroup}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("DiscoverListsCollection",a.collections.IncrementalFetch.extend({model:a.models.ReadingList,arrayKey:"lists",fields:[{lists:["id","name","sample_covers",{user:["name","avatar"]}]},"total","nexturl"],initialize:function(e,n){n=n||{},this.user=n.user||t.utils.currentUser(),this.url=n.url||this.url,this.layout=n.layout||t.utils.PanelBuilder.Layouts.Default,this.cacheKey=n.cache,a.collections.IncrementalFetch.prototype.initialize.apply(this,arguments)},resource:function(){if(!this.cacheKey)throw new Error("Discover :: Lists :: Collection :: Please set the Resource");return"user."+(this.user.get("username")||"anonymous")+".discover."+this.cacheKey},url:function(){throw new Error("Discover :: Lists :: Collection :: Please set the URL")}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("FacebookFriends",a.collections.BaseCollection.extend({arrayKey:"users",model:a.models.User,fields:["total",{users:["name","avatar","username","following","isPrivate","numFollowers","numFollowing","backgroundUrl","highlight_colour","numStoriesPublished"]}],initialize:function(){this.username=t.utils.currentUser().get("username"),a.collections.BaseCollection.prototype.initialize.apply(this,arguments)},url:function(){return"/v4/users/"+this.username+"/facebook_friends"},resource:function(){return"v4."+this.username+".fbfriends"},cacheLocal:!0}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("Base",Monaco.View.extend({constructor:function(e){this.events=this.events||{};var n={};n["tap .on-navigate"]="onNavigate",n["click .on-navigate"]="stopEvent",_.each(this.events,function(e,t){t.match(/tap(\s)+\.on-navigate/)&&delete n["tap .on-navigate"],t.match(/click(\s)+\.on-navigate/)&&delete n["click .on-navigate"]}),this.events=_.defaults(this.events,n),Monaco.View.prototype.constructor.apply(this,arguments)},initialize:function(){_.bindAll(this,"render","afterRender"),this.render=_.wrap(this.render,function(e){return e(),this.afterRender(),this})},render:function(){return this},afterRender:function(){if(a.get("transition_timer")&&!a.get("transition_after_render")){var e=this;a.set("transition_after_render",$(document).ajaxStop(function(){$(this).unbind("ajaxStop"),e.endTransitionTimer()}))}},endTransitionTimer:function(){a.get("transition_timer").loaded(),a.set("transition_after_render",null),a.set("transition_timer",null)},onNavigate:function(e){var s=$(e.currentTarget).attr("href").replace(/[^\/]*\/\/[^\/]*/,""),l=!(!e||!e.gesture)&&(e.gesture.srcEvent.metaKey||e.gesture.srcEvent.ctrlKey),i=$(e.currentTarget)[0].className.match(/(navtest-create-.+)/);n.utils.currentUser().authenticated()&&i&&t.pushEvent({category:"myworks-nav",action:"click",label:i[0]}),l||(a.router.navigate(s,{trigger:!0}),$(".modal-backdrop").hide())},stopEvent:function(e){n.utils.stopEvent(e)},getDeepLinkPage:function(){return"homepage"},getDeepLink:function(){return t.getAppLink(this.getDeepLinkPage(),this.model||{})}})),a.mixin(a.views.Base,"ErrorHandler")}(window,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("RecommendedSearches",Monaco.Collection.extend({resource:"recommendedSearchTerms",url:"/api/v3/search/recommended",initialize:function(e,n){this.currentPosition=0,this.fetch()},parse:function(e){return e.search_terms},getNextTerm:function(){var e="";return this.length>0&&(e=this.at(this.currentPosition++).keys().toString(),this.currentPosition>=this.length&&(this.currentPosition=0)),e},getListOfSearchTerms:function(){return n.map(this.toJSON(),function(e){return Object.keys(e)[0]})}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("DefaultTransition",a.transitions.BaseTransition.extend({start:function(n,s,l){if((l=l||{hasHeader:!0,hasFooter:!0}).hideAnnouncements=l.hideAnnouncements||!1,n?this._pageView():(l.hasHeader&&this.setupHeader(),this.setupFooter(),this.setupAnnouncements()),n&&l.pageTitle&&l.pageTitle.length>0&&t.utils.setTitle(l.pageTitle),n&&l.noIndex&&0===$("meta[content=noindex]").length&&$("head").append("<meta name=robots content=noindex />"),n&&!l.noIndex&&$("meta[content=noindex]").remove(),void 0===l.emptyContainer||l.emptyContainer||$("#app-container").empty(),$("body").hasClass("modal-open")){var i=this;$(".modal.in").one("hidden.bs.modal",function(){i.changeViews(n,s,l)}),$(".modal.in").modal("hide")}else this.changeViews(n,s,l);0===$("#header").length&&l.hasHeader&&this.setupHeader(),l.hasHeader?this.showHeader(s):void 0!==l.hasHeader&&this.hideHeader(),l.hasFooter?this.showFooter():void 0!==l.hasFooter&&this.hideFooter();var r=$("#announcements-container .writers-portal-announcement").length&&"/myworks"!==e.location.pathname;$("#header").find("#search-query").val(""),l.hideAnnouncements||r||$("#announcements-container .wattcon").length&&"/myworks"!==e.location.pathname?$("#announcements-container").addClass("hide"):$("#announcements-container").removeClass("hide"),t.utils.hideAddressBar(),this.scrollTo(e,n);var o=s instanceof a.views.Authentication||s instanceof a.views.Landing,c=parseInt(t.utils.getCookie("fs__exp"));!t.user&&c>4&&c<10&&!o&&this.showForcedSignupModal();var u=t.utils.currentUser();return!1!==u.get("has_accepted_latest_tos")||u.get("has_seen_latest_tos_notice")||this.showUpdatedPolicyNoticeModal(),s},changeViews:function(e,n,t){e&&n.el===e.el?(e.remove(),n.render(t)):e?(n.render(t),e.remove()):(t.isSSR=!0,n.render(t)),this.injectDOM(e,n,"#app-container"),void 0!==t.viewChangedCallback&&t.viewChangedCallback()},setupHeader:function(){0===$("#header-container").length&&$("#app-container").parent().prepend('<div id="header-container"></div>');var e=$("#header-container"),n=$("#header"),t=new a.views.Header;if(0===n.length){var s=t.render().$el;e.html(s),_.delay(function(){s.hammer&&_.isFunction(s.hammer)&&s.hammer({behavior:{userSelect:!0}})})}else t.setElement(e);a.set("header-obj",t)},showHeader:function(e){var n=$("#header"),t=$("#header-container");n.removeClass("hidden").css("display","table"),t.removeClass("hidden").css("display","table"),a.trigger("navbar:search:enable")},hideHeader:function(){var e=$("#header"),n=$("#header-container");e.addClass("hidden"),n.addClass("hidden")},setupFooter:function(){var e=$("#footer-container");0===$("#footer").length?e.append((new a.views.Footer).render().$el):(new a.views.Footer).setElement(e.children()[0])},showFooter:function(){$("#footer").show()},hideFooter:function(){$("#footer").hide()},setupAnnouncements:function(){$("#announcements").children().length>0&&_.each($("#announcements").children(),function(e){var n,t=$(e);t.hasClass("announcement")&&((n=t.hasClass("verify-email")?new a.views.VerifyEmail:t.hasClass("email-verified-success")?new a.views.EmailVerifiedSuccess:t.hasClass("survey")?new a.views.Survey:t.hasClass("beta")?new a.views.BetaProgram:t.hasClass("transition-group")?new a.views.TransitionGroup:t.hasClass("spielbergo")?new a.views.SpielbergoAnnouncment:new a.views.Announcement).setElement(e),a.set("announcement",n))})},scrollTo:function(e,n){n&&(n.shouldNotScrollToTop?n.shouldNotScrollToTop=void 0:e.scrollTo(0,0))},showForcedSignupModal:function(){var e=new a.views.SignUpPrompt({model:new a.models.Authsignup,title:t.utils.trans("Join Wattpad"),formType:"navbar_modal",form:"signup",forcedSignup:!0});$("#generic-modal .modal-body").html(e.render().$el),$("#generic-modal").find(".modal-dialog").addClass("signup-modal-wrapper"),$("#generic-modal").find(".modal-body").addClass("forced-signup-modal"),$("#generic-modal").modal({backdrop:"static",keyboard:!1}),$("#generic-modal").one("shown.bs.modal",function(){$(this).find("[autofocus]").focus()})},showUpdatedPolicyNoticeModal:function(){new a.views.UpdatedPolicyNotice({model:t.utils.currentUser(),title:"Updating our Terms",body:"We’re updating our Terms of Service and Privacy Policy, effective May 25th, 2018. By continuing to use Wattpad after May 25th, you’re agreeing to these new <a href='/terms' target='_blank'>Terms</a> and <a href='/privacy' target='_blank'>Privacy Policy</a>."}).showModal()}}))}(window,Monaco,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("ModalTransition",a.transitions.DefaultTransition.extend({start:function(n,a,s){return s=s||{hasHeader:!0,hasFooter:!0},n&&s.pageTitle&&s.pageTitle.length>0&&t.utils.setTitle(s.pageTitle),void 0===s.emptyContainer||s.emptyContainer||$("#app-container").empty(),this.changeViews(n,a,s),n?this._pageView():(s.hasHeader&&this.setupHeader(),this.setupFooter(),this.setupAnnouncements()),s.hasHeader?this.showHeader():void 0!==s.hasHeader&&this.hideHeader(),s.hasFooter?this.showFooter():void 0!==s.hasFooter&&this.hideFooter(),$("#header").find("#search-query").val(""),t.utils.hideAddressBar(),this.scrollTo(e,n),a}}))}(window,Monaco,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("FadeTransition",a.transitions.DefaultTransition.extend({start:function(n,a,s){var l=!1,i=this;return void 0===(s=s||{hasHeader:!0}).emptyContainer||s.emptyContainer||$("#app-container").empty(),n&&a.el===n.el?(n.remove(),a.render(s)):n?(a.render(s),l=!0):a.render(s),this.injectDOM(n,a,"#app-container"),n||(a.$el.addClass("fade-transition-done"),s.hasHeader&&this.setupHeader(),this.setupFooter()),t.utils.supportsTransition()||(l=!1),l?a.delayedRender?this.listenTo(a,"render",function(){i.doTransition(n,a)}):this.doTransition(n,a):(n&&n.remove(),a.$el.addClass("fade-transition-done"),a.$el.children().first().css("height","auto")),t.utils.hideAddressBar(),this.scrollTo(e,n),a},doTransition:function(e,n){var t=n.$el.children().first().height(),a=e.$el.height();a>t?n.$el.children().first().height(a):e.$el.height(t),n.$el.addClass("fade-transition").children().first().on("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){e.remove(),n.$el.addClass("fade-transition-done"),n.$el.children().first().css("height","auto")})}}))}(window,Monaco,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("OverlayTransition",a.transitions.BaseTransition.extend({start:function(e,n,t){if($("body").hasClass("modal-open")){var a=this;$(".modal.in").one("hidden.bs.modal",function(){a.changeViews(e,n,t)}),$(".modal.in").modal("hide")}else this.changeViews(e,n,t);return n},changeViews:function(e,n,t){e.from?e.from&&e.from===n&&(e.remove(),n.$el.show()):(n.render(t),n.from=e,e.$el.hide(),this.injectDOM(e,n,"#app-container"))}}))}(window,Monaco,wattpad,window.app)},function(e,n){!function(e,n){"use strict";n.router.add({"user/:username(/)(:section)(/)":["userProfile",{regexp:{username:/[\w\-]+/,section:/about|following|followers|conversations|quests/}}]}),n.router.add({"user/:username/admin":["userProfile",{regexp:{username:/[\w\-]+/}}]})}(window,window.app)},function(e,n){!function(e,n){"use strict";n.router.add({":page(/)":["authentication",{regexp:{page:/(login|signup|reset|forgot)?/}}]}),n.router.add({"fb-auth(/)":["oauth-auth",{}],"oauth-auth(/)":["oauth-auth",{}]})}(window,window.app)},function(e,n){!function(e,n){"use strict";n.router.add({"start/writerjourney(/)*path":["onboardingWriterJourney",{}]}),n.router.add({"start(/)":["onboardingStep1",{}]}),n.router.add({"start/genres(/)*path":["onboardingGenres",{}]}),n.router.add({"start/success(/)*path":["onboardingSuccess",{}]})}(window,window.app)},function(e,n){!function(e,n){"use strict";n.router.add({"story/:storyid(-:slug)(/)(:section)(/)":["storyLanding",{regexp:{storyid:/[^\/\?#-]+/,slug:/[^\/\?#]*/,section:/parts/}}]}),n.router.add({"story/:storyid(-:slug)/rankings(/)":["storyRanking",{regexp:{storyid:/[^\/\?#-]+/,slug:/[^\/\?#]*/}}]})}(window,window.app)},function(e,n){!function(e,n){"use strict";n.router.add({notifications:["notifications",{}]})}(window,window.app)},function(e,n){!function(e,n,t){"use strict";t.router.add({newsfeed:["home_landing",{}]})}(window,window.wattpad,window.app)},function(e,n){!function(e,n){"use strict";n.router.add({"search(/:terms)":["search",{regexp:{terms:/[^\?]+/}}]})}(window,window.app)},function(e,n){!function(e,n){"use strict";n.router.add({"stories/:tag(/:filter)":["browse-tag",{regexp:{tag:/[^\s\?\/]+/,filter:/explore|featured|hot|rising|new|writers|lists/}}]})}(window,window.app)},function(e,n){!function(e,n){"use strict";n.router.add({library:["library-current-reads"]}),n.router.add({archive:["library-archive"]}),n.router.add({"list(/:list)":["library-reading-lists",{regexp:{list:/[0-9]*/}}]}),n.router.add({"list/:list(-:slug)":["library-reading-lists",{regexp:{list:/[0-9]*/,slug:/[^\/\?#]*/}}]})}(window,window.app)},function(e,n){!function(e,n){"use strict";n.router.add({stories:["discover",{}]})}(window,window.app)},function(e,n){!function(e,n){"use strict";n.router.add({getmobile:["getmobile"]})}(window,window.app)},function(e,n){!function(e,n){"use strict";n.router.add({":partid(-:slug)(/page/:pagenum)(/comment/:commentid)(/replies/:replyid)":["storyReading",{regexp:{partid:/[0-9]+/,slug:/[^\/\?#]*/,pagenum:/[0-9]+/,commentid:/[0-9a-f_]+/i,replyid:/[0-9a-f_]+/i}}]})}(window,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("AutocompleteDedication",Monaco.Collection.extend({initialize:function(e){e=e||{},this.userType=e.userType||"users"},resource:function(){return"autocomplete:"+this.userType+(this.searchTerm?":"+this.searchTerm:"")},url:function(){return"/apiv2/dedicate?type="+this.userType+"&term="+this.searchTerm},parse:function(e){return n.map(e,function(e){return{label:e}})},cacheLocal:!1}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("AutocompleteFollowing",Monaco.Collection.extend({resource:function(){return"autocomplete:following:"+(this.searchTerm?":"+this.searchTerm:"")},url:function(){return"/api/v3/autocomplete/following?term="+this.searchTerm},parse:function(e){return n.map(e,function(e){return{label:e.label}})},cacheLocal:!1}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("AutocompleteTag",Monaco.Collection.extend({resource:function(){return"autocomplete:tag"+(this.searchTerm?":"+this.searchTerm:"")},url:function(){return"/api/v3/autocomplete/tag?term="+this.searchTerm},parse:function(e){return n.map(e,function(e){return{label:e}})},cacheLocal:!1}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("Home",a.collections.IncrementalFetchNextUrl.extend({model:a.models.DiscoverModule,arrayKey:"modules",fields:[{modules:["type","data"]},"nextUrl"],defaultUrl:function(){return"/v4/home?wp_token="+t.utils.getCookie("token")},resource:function(){return"v4.home"}}))}(window,_,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(42),s=t.n(a);!function(e,n,t,a){a.add("AutocompleteResults",Monaco.View.extend({className:"autocomplete-results",template:s.a,enabled:!0,events:function(){var e={"tap li":"onTapOption","click li":"stopEvent","mouseover li":"onHoverOption"};return e},initialize:function(e){e=e||{},this.boundField=e.boundField,this.targetSelector=e.boundField.selector,this.searchType=e.searchType||"mixed",this.title=e.title||null,this.selectedItem=null,this.anchoredResults=this.collection.length?this.collection.toJSON():[],this.searchResults=this.anchoredResults.length?this.collection.toJSON():null,n.bindAll(this,"onSearchKeyDown","onSearchInput"),$("body").on("keydown",this.targetSelector,this.onSearchKeyDown),$("body").on("input",this.targetSelector,this.onSearchInput)},render:function(){if(this.collection.length){var e={items:this.collection.toJSON(),title:this.title};this.$el.html(this.template(e)),this.showResults()}else this.hideResults();return this},callSearchAPI:n.debounce(function(e){var t=this;this.collection.searchTerm=e,Promise.resolve(this.collection.fetch()).then(function(){t.cleanup(),n.each(t.anchoredResults,function(e){t.collection.add(e,{at:0})}),t.collection.length&&(t.searchResults=t.collection.toJSON(),t.searchResults&&""!==$(t.targetSelector).val()&&(t.render(),t.showResults()))})},200),showResults:function(){this.$el.show()},hideResults:function(){this.$el.empty(),this.cleanup()},cleanup:function(){this.selectedItem=null,this.searchResults=this.anchoredResults.length?this.anchoredResults:null},selectPrev:function(){if(null===this.selectedItem)return this.selectedIndex=this.collection.length-1,this.selectedItem=this.collection.at(this.selectedIndex),void this.highlightSelected();this.selectedIndex--,this.selectedIndex<0&&(this.selectedIndex=this.collection.length-1),this.selectedItem=this.collection.at(this.selectedIndex),this.highlightSelected()},selectNext:function(){if(null===this.selectedItem)return this.selectedIndex=0,this.selectedItem=this.collection.at(this.selectedIndex),void this.highlightSelected();this.selectedIndex++,this.selectedIndex>=this.collection.length&&(this.selectedIndex=0),this.selectedItem=this.collection.at(this.selectedIndex),this.highlightSelected()},highlightSelected:function(){this.selectedItem&&(this.$("li").removeClass("selected"),this.$("li:not(.title)").eq(this.selectedIndex).addClass("selected"),this.boundField.val(this.selectedItem.toJSON().label))},loadSelection:function(){this.selectedItem&&(this.boundField.val(this.selectedItem.toJSON().label),this.hideResults())},onHoverOption:function(e){this.selectedItem=this.collection.findWhere({label:$(e.currentTarget).text()}),this.selectedIndex=this.collection.indexOf(this.selectedItem),this.highlightSelected()},onTapOption:function(e){this.selectedItem=this.collection.findWhere({label:$(e.currentTarget).text()}),this.selectedIndex=this.collection.indexOf(this.selectedItem),this.loadSelection()},onSearchKeyDown:function(e){if((13===e.which&&this.selectedItem||38===e.which||40===e.which)&&t.utils.stopEvent(e),27!==e.which){if(this.searchResults&&!(this.searchResults.length<1))switch(e.which){case 38:this.selectPrev();break;case 40:this.selectNext();break;case 13:case 9:this.loadSelection()}}else this.hideResults()},remove:function(){return $("body").off("keydown",this.targetSelector,this.onSearchKeyDown),$("body").off("input",this.targetSelector,this.onSearchInput),this.hideResults(),Monaco.View.prototype.remove.apply(this,arguments)},onSearchInput:function(e){var n=$(this.targetSelector).val().trim();this.hideResults(),n.length>=2&&this.callSearchAPI(n)}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";a.add("AutocompleteField",s.Mixin.create({initAutocomplete:function(e,n){this.boundFields=this.boundFields||[],this.selector=t(e.element),this.autocompleteCollection=e.collection,this.title=e.title||null,this.autocompleteResults=new a.views.AutocompleteResults({collection:this.autocompleteCollection,boundField:this.selector,title:this.title}),this.selector.parent().find(".autocomplete-results").remove(),this.selector.before(this.autocompleteResults.render().$el),n()},remove:function(e){this.autocompleteResults&&this.autocompleteResults.remove(),e()}}))}(window,_,jQuery,window.app,window.Monaco)},function(e,n){!function(e,n,t,a,s,l,i){"use strict";l.add("FileUpload",i.Mixin.create({events:{"tap .file-select":"onFileSelect","change .file-upload":"onFileSelected","dragenter .file-drop":"onFileDragEnter","dragleave .file-drop":"onFileDragLeave","dragover .file-drop":"onFileDragOver","dragend .file-drop":"onFileDragEnd","drop .file-drop":"onFileDrop"},FileUpload:{},setElement:function(e,n){this.attachWindow(),n(e),this.connectMixin()},render:function(e){var n=e();return this.connectMixin(),n},connectMixin:function(e){var n=this.$("[data-file-upload]");n.addClass("file-upload"),this.$(".file-select").length<1&&n.find("button").addClass("file-select"),"drop"===n.data("file-upload")&&this.$(".file-drop").length<1&&n.addClass("file-drop"),this.FileUpload.$domRegion=n,this.FileUpload.$domDrop=this.$(".file-drop"),e()},attachWindow:function(n){var t=e.document,a=this;e.$(t).unbind("dragover.fileUpload").bind("dragover.fileUpload",function(e){a.onWindowDragEnter(e)}),e.$("body").unbind("dragleave.fileUpload").bind("dragleave.fileUpload",function(e){a.onWindowDragLeave(e)}),n()},onFileSelect:function(e){this.FileUpload.file=null,this.$(".file-upload input").trigger("click"),e()},onFileSelected:function(e){this.FileUpload.file=this.$(".file-upload > input")[0].files[0],this.FileUpload.$domDrop.addClass("drop-done"),this.showFile(),e()},onFileDragEnter:function(e,n){s.stopEvent(e),this.FileUpload.$domDrop.addClass("drag-over"),n()},onFileDragLeave:function(e,n){s.stopEvent(e),n()},onFileDragOver:function(e,n){s.stopEvent(e),this.FileUpload.$domDrop.addClass("drag-over"),n()},onFileDragEnd:function(e,n){s.stopEvent(e),this.FileUpload.$domDrop.removeClass("drag-window").removeClass("drag-over"),n()},onWindowDragEnter:function(e,n){s.stopEvent(e),this.FileUpload.$domDrop.addClass("drag-window"),n()},onWindowDragLeave:function(e,n){var t=e.relatedTarget||e.toElement;s.stopEvent(e),t&&"HTML"!=t.nodeName||this.FileUpload.$domDrop.removeClass("drag-window"),n()},onFileDrop:function(e,n){s.stopEvent(e),this.FileUpload.file=e.originalEvent.dataTransfer.files[0],this.showFile(),this.onFileDragEnd(e),this.FileUpload.$domDrop.addClass("drop-done"),n()},showFile:function(e){var n=this;this.getFile().then(function(e){n.$(".file-upload > img").attr("src","data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==").css("background-image","url("+e.data+")"),n.fileReceivedCallback&&n.fileReceivedCallback(e)}),e&&e()},base64ToArrayBuffer:function(n,t){for(var a=e.atob(n),s=a.length,l=new Uint8Array(s),i=0;i<s;i++)l[i]=a.charCodeAt(i);return t(),l.buffer},getOrientation:function(e,n){var t=null,a=new DataView(this.base64ToArrayBuffer(e));if(65496==a.getUint16(0,!1))for(var s=a.byteLength,l=2;l<s;){var i=a.getUint16(l,!1);if(l+=2,65505==i){if(1165519206==a.getUint32(l+=2,!1)){var r=18761==a.getUint16(l+=6,!1);l+=a.getUint32(l+4,r);var o=a.getUint16(l,r);l+=2;for(var c=0;c<o;c++)274==a.getUint16(l+12*c,r)&&(t=a.getUint16(l+12*c+8,r))}}else{if(65280!=(65280&i))break;l+=a.getUint16(l,!1)}}return n(),t},getFile:function(n){var t=this,a=new e.FileReader,l=this.FileUpload.file,i=new Promise(function(e,n){l?(a.onload=function(n){var a=n.target.result.match(/;base64,(.+)$/)[1],s=t.getOrientation(a);e({metadata:l,data:n.target.result,parsed:n.target.result.match(/;base64,(.+)$/)[1],orientation:s}),t.$(".file-upload > input").replaceWith(t.$(".file-upload > input").clone())},a.onerror=function(){n({code:1,message:s.trans("Error reading file")})},a.readAsDataURL(l)):n({code:0,message:s.trans("Please select a file to upload")})});return n(),i}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(43),s=t.n(a);!function(e,n,t,a,l){a.add("SocialSharing",l.Mixin.create({events:{"tap .social-share":"onSocialShareSelected","click .social-share":"stopEvent"},templates:{row:s.a},getSocialShareTemplateHTML:function(e,n,t){return this.templates[e]({links:n})},onSocialShareSelected:function(a,s){if(a.isPropagationStopped&&a.isPropagationStopped())s(a);else{var l=$(a.currentTarget),i=l.data("share-channel"),r=this.createPopup("",i,l.data("width")||600,l.data("height")||320);if(t.stopEvent(a),l.data("share-url")){var o=t.urlDecode(l.data("share-content")),c=t.urlDecode(l.data("share-text")),u=t.urlDecode(l.data("share-url")),d=t.urlDecode(l.data("url"));Promise.resolve($.get("/v4/link",{source:"web",fields:"url",content:o,medium:i,uuid:t.getCookie("wp_id"),url:d,shorten:1})).then(function(t){c=e.sprintf(c,t.url),r.location=n.utils.sprintf(u,[encodeURIComponent(c),encodeURIComponent(t.url)])})}else r.location=l.attr("href");s(a)}},createPopup:function(e,n,a,s,l){return l(),t.openPopup(e,n+" "+t.trans("Share"),a,s)},_buildSocialShareLinks:function(n,a,s){s();var l,i,r=e.vsprintf,o=t.trans,c=t.slugify,u=t.simpleShorten,d=t.urlEncode,h=t.urlEncodeWithSpace,p=_.bind(this._getContent,this),m=_.bind(this._getSourceUrl,this),f=_.bind(this._escapeSpecifiers,this),g=" #wattpad #"+c(n.group.category),v=_.reduce(n.group.tags,function(e,n){return e+=c(n.name)+","},"")+"books,wattpad";v+="story_landing"===a||"story_reading"===a?",amreading":",amwriting";var w=n.group.title;n.part?(l=n.part.url,n.group.title!=n.part.title&&(w=o("%1$s - %2$s",n.group.title,n.part.title))):l=n.group.url;var y=w;return void 0!==n.user&&"string"==typeof n.user.twitter&&n.user.twitter.length>0&&(y=o("%1$s by @%2$s",w,n.user.twitter)),i={share:w,combined:g+" "+u(n.group.description,300),twitter:y+" #wattpad",tumblr:o("<b>%1$s</b> (on Wattpad) %%s\n\n%2$s",f(w),f(u(n.group.description)))},[{name:"facebook",icon:"fa-facebook",label:o("Share via Facebook"),href:r("https://www.facebook.com/sharer.php?u=%s",[d(m("facebook",l,a))])},{name:"twitter",icon:"fa-twitter",label:o("Share via Twitter"),content:p(a),text:i.twitter,urlTemplate:"https://twitter.com/intent/tweet?text=%s&url=%s",url:l,href:r("https://twitter.com/intent/tweet?text=%s&url=%s",[d(i.twitter),d(m("twitter",l,a))])},{name:"pinterest",icon:"fa-pinterest",label:o("Share via Pinterest"),href:r("https://www.pinterest.com/pin/create/button/?media=%s&description=%s&url=%s",[d(n.group.cover),d(i.combined),d(m("pinterest",l,a))])},{name:"tumblr",icon:"fa-tumblr",label:o("Share via Tumblr"),text:i.tumblr,urlTemplate:r("https://tumblr.com/widgets/share/tool?posttype=photo&content=%s&caption=%%s&tags=%s&canonicalUrl=%s&clickthroughUrl=%%s",[d(n.group.cover),d(v),d(l)]),content:p(a),url:l,href:r("https://tumblr.com/widgets/share/tool?posttype=photo&content=%s&caption=%s&tags=%s&canonicalUrl=%s&clickthroughUrl=%s",[d(e.wattpad.siteRoot+"/banner?id="+n.group.id),d(r(i.tumblr,[m("tumblr",l,a)])),d(v),d(l),d(m("tumblr",l,a))])},{name:"email",icon:"fa-inbox",nopopup:!0,label:o("Share via Email"),href:r("mailto:?subject=%s&body=%s%%0A%s",[h(i.share),h(i.share),d(m("email",l,a))])}]},buildSocialShareLinksForStory:function(e,n,t){n=n||"story_landing";var a,s=e.attributes||e;s.categoryObject&&(a=s.categoryLabels&&s.categoryLabels.length>0?s.categoryLabels[0].name:s.categoryObject.name);var l=_.map(s.tags,function(e){return{name:e}});a&&l.concat(a);var i={group:{id:s.id,title:s.title,cover:s.cover,category:a,url:s.url,description:s.description,tags:l},user:{twitter:s.user.twitter}},r=this._buildSocialShareLinks(i,n),o=t(e)||[];return _.union(r,o)},buildSocialShareLinksForPart:function(e,n){var t=this._buildSocialShareLinks(e,"story_reading"),a=n(e)||[];return _.union(t,a)},buildSocialShareLinksForProfile:function(a,s){var l=e.vsprintf,i=t.trans,r=t.simpleShorten,o=t.urlEncode,c=t.urlEncodeWithSpace,u=_.bind(this._getContent,this),d=_.bind(this._getSourceUrl,this),h=(_.bind(this._escapeSpecifiers,this),n.siteRoot+"/"+a.username),p={default:i("Check out %s's profile on Wattpad",a.name),twitter:i("Check out %s's profile on #Wattpad",a.name)};t.currentUser().get("username")===a.username&&(p={default:i("Check out my profile on Wattpad, I'm %s",a.name),twitter:i("Check out my profile on #Wattpad, I'm %s",a.name)});var m=p.default+" "+d("tumblr",h,"profile")+" "+r(a.description,300);return[{name:"facebook",icon:"fa-facebook",label:i("Share via Facebook"),href:l("https://www.facebook.com/sharer.php?u=%s",[o(d("facebook",h,"profile"))])},{name:"twitter",icon:"fa-twitter",label:i("Share via Twitter"),content:u("profile"),text:p.twitter,urlTemplate:"https://twitter.com/intent/tweet?text=%s&url=%s",url:h,href:l("https://twitter.com/intent/tweet?text=%s&url=%s",[o(p.twitter),o(d("twitter",h,"profile"))])},{name:"pinterest",icon:"fa-pinterest",label:i("Share via Pinterest"),href:l("https://www.pinterest.com/pin/create/button/?media=%s&description=%s&url=%s",[o(a.avatarUrl),o(p.default+" "+r(a.description,300)),o(d("pinterest",h,"profile"))])},{name:"tumblr",icon:"fa-tumblr",label:i("Share via Tumblr"),text:m,urlTemplate:l("https://tumblr.com/widgets/share/tool?posttype=photo&content=%s&caption=%%s&tags=%s&canonicalUrl=%s&clickthroughUrl=%%s",[o(a.avatarUrl),o("books,wattpad,amreading"),o(h)]),content:u("profile"),url:h,href:l("https://tumblr.com/widgets/share/tool?posttype=photo&content=%s&caption=%s&tags=%s&canonicalUrl=%s&clickthroughUrl=%s",[o(a.avatarUrl),o(m),o("books,wattpad,amreading"),o(h),o(d("tumblr",h,"profile"))])},{name:"email",icon:"fa-inbox",nopopup:!0,label:i("Share via Email"),href:l("mailto:?subject=%s&body=%s%%0A%s%%0A%s",[c(p.default),c(p.default),o(d("email",h,"profile")),c(a.description)])}]},buildSocialShareLinksForReadingList:function(n,a){var s=e.vsprintf,l=t.trans,i=t.slugify,r=t.urlEncode,o=t.urlEncodeWithSpace,c=_.bind(this._getContent,this),u=_.bind(this._getSourceUrl,this),d=_.bind(this._escapeSpecifiers,this),h=e.wattpad.siteRoot+"/list/"+n.id+"-"+i(n.name),p={share:l("%s - A reading list by %s",n.name,n.author),tumblr:l("Check out this reading list <b>%s</b> on Wattpad %%s",d(n.name))},m=r(p.share),f=r(p.share+" #wattpad"),g=[{name:"facebook",icon:"fa-facebook",label:l("Share via Facebook"),href:s("https://www.facebook.com/sharer.php?u=%s",[r(u("facebook",h,"list"))])},{name:"twitter",icon:"fa-twitter",label:l("Share via Twitter"),href:s("https://twitter.com/intent/tweet?text=%s&url=%s",[f,r(u("twitter",h,"list"))])},{name:"pinterest",icon:"fa-pinterest",label:l("Share via Pinterest"),href:s("https://www.pinterest.com/pin/create/button/?media=%s&description=%s&url=%s",[r(n.cover),m,r(u("pinterest",h,"list"))])},{name:"tumblr",icon:"fa-tumblr",label:l("Share via Tumblr"),text:r(p.tumblr),urlTemplate:r(s("https://tumblr.com/widgets/share/tool?posttype=photo&content=%s&caption=%%s&tags=%s&canonicalUrl=%s&clickthroughUrl=%%s",[r(n.cover),r("books,amreading,wattpad"),r(h)])),content:r(c("list")),url:r(h),href:s("https://tumblr.com/widgets/share/tool?posttype=photo&content=%s&caption=%s&tags=%s&canonicalUrl=%s&clickthroughUrl=%s",[r(n.cover),r(s(p.tumblr,[u("tumblr",h,"list")])),r("books,amreading,wattpad"),r(h),r(u("tumblr",h,"list"))])},{name:"email",icon:"fa-inbox",nopopup:!0,label:l("Share via Email"),href:s("mailto:?subject=%s&body=%s%%0A%s",[o(p.share),o(p.share),r(u("email",h,c("list")))])}],v=a(n)||[];return _.union(g,v)},buildSocialShareLinksForTag:function(n,a){var s=e.vsprintf,l=t.trans,i=(t.slugify,t.urlEncode),r=_.bind(this._getContent,this),o=_.bind(this._getSourceUrl,this),c=e.wattpad.siteRoot+"/stories/"+n.tag,u=l("Find %s stories you'll love.",n.tag)+" "+l("Read free books and stories about %s on Wattpad.",n.tag),d=l("You should read #%s stories on Wattpad",n.tag),h="tag";n.isHot?(c+="/hot",u=l("Find the hottest %s stories you'll love. Read hot and popular stories about %s on Wattpad.",n.tag,n.tag),d=l("You should read hot #%s stories on #Wattpad",n.tag),h="tag_hot"):n.isNew?(c+="/new",u=l("Find the latest %s stories you'll love. Read new stories about %s on Wattpad.",n.tag,n.tag),d=l("You should read new #%s stories on #Wattpad",n.tag),h="tag_new"):n.isList&&(c+="/lists",u=l("Find good reading lists of %s stories you'll love. Browse collections of favorite stories about %s on Wattpad.",n.tag,n.tag),d=l("You should read collections of #%s stories on #Wattpad",n.tag),h="tag_list");var p={share:u,tumblr:u},m="books,amreading,wattpad,"+n.tag,f=i(p.share),g=[{name:"facebook",icon:"fa-facebook",label:l("Share via Facebook"),href:s("https://www.facebook.com/sharer.php?u=%s",[i(o("facebook",c,h))])},{name:"twitter",icon:"fa-twitter",label:l("Share via Twitter"),href:s("https://twitter.com/intent/tweet?text=%s&url=%s",[i(d),i(o("twitter",c,h))])},{name:"pinterest",icon:"fa-pinterest",label:l("Share via Pinterest"),href:s("https://www.pinterest.com/pin/create/button/?media=%s&description=%s&url=%s",[i(n.pinterestImage),f,i(o("pinterest",c,h))])},{name:"tumblr",icon:"fa-tumblr",label:l("Share via Tumblr"),text:p.tumblr,urlTemplate:s("https://tumblr.com/widgets/share/tool?posttype=photo&content=%s&caption=%%s&tags=%s&canonicalUrl=%s&clickthroughUrl=%%s",[i(n.tumblrImage),i(m),i(c)]),content:r(h),url:c,href:s("https://tumblr.com/widgets/share/tool?posttype=photo&content=%s&caption=%s&tags=%s&canonicalUrl=%s&clickthroughUrl=%s",[i(n.tag),i(s(p.tumblr,[o("tumblr",c,h)])),i(m),i(c),i(o("tumblr",c,h))])}],v=a(n)||[];return _.union(g,v)},_getContent:function(e,n){var t="share_info";switch(e){case"list":t="share_readinglist";break;case"story_landing":t="share_info";break;case"story_reading":t="share_reading";break;case"myworks":t="share_myworks";break;case"myworks_details":t="share_myworks_details";break;case"profile":t="share_profile";break;case"tag":t="share_tag";break;case"tag_hot":t="share_tag_hot";break;case"tag_new":t="share_tag_new";break;case"tag_list":t="share_tag_list"}return n(),t},_getSourceUrl:function(e,t,a,s){var l=this._getContent(a);return s(),n.utils.addSource(t,"web",e,l)},_escapeSpecifiers:function(e,n){return n(),e.replace(/%/g,"%%")},stopEvent:function(e,n){t.stopEvent(e),n()}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n){!function(e,n,t,a,s){"use strict";a.add("MediaSharing",s.Mixin.create({events:{"tap #media-share .share-facebook":"onShareFacebook","click #media-share .share-facebook":"stopEvent","tap #media-share .share-pinterest":"onSharePinterest","click #media-share .share-pinterest":"stopEvent"},onShareFacebook:function(a,s){t.stopEvent(a),n.utils.pushEvent({category:"reading",action:"shareinlinemedia:facebook"});var l=$(a.currentTarget).parent().parent().parent().find("img").attr("src"),i=e.decodeURIComponent($(a.currentTarget).attr("href").slice(38)),r=this.model.get("group").title+" - "+this.model.get("title"),o=this.model.get("group").description;l=l.replace(/w=\d+&h=\d+/,"w=1200&h=600"),n.facebook_share_dialog(i,r,o,l),s(a)},preparePinterestUrl:function(e,n,t){return e=e.replace(/w=\d+&h=\d+/,"w=735&h=1102"),n=n.replace(/media=.*&description/g,"media="+e+"&description"),t(),n},onSharePinterest:function(e,t){n.utils.pushEvent({category:"reading",action:"shareinlinemedia:pinterest"}),t(e)}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n){!function(e,n,t,a,s){"use strict";a.add("StoryAdminManager",s.Mixin.create({events:{"tap    .on-admin-dropdown":"onAdminDropdown","click  .on-admin-dropdown":"stopEvent"},initAdminPanel:function(e,t,s){if(n.utils.currentUser().get("isSysAdmin")||n.utils.currentUser().get("ambassador")){var l=e instanceof a.models.StoryPartModel,i=l?e.get("group").user.username:e.get("user").username,r=new a.models.User({username:i}),o={fresh:!0,data:{fields:r._recursiveFields(r.fields.concat("age","country"))}},c=l?e:null,u=l?new a.models.StoryModel({id:e.get("group").id,categories:e.get("group").categories,firstPartId:e.get("id"),language:e.get("group").language.id,deleted:e.get("group").deleted}):e,d=this;Promise.all([r.loaded(o),$.get("/api/v3/users/"+i+"/stories?fields=stories(readCount)&limit=200")]).then(function(e){var n=0;e[1].stories&&e[1].stories.length&&_.each(e[1].stories,function(e){n+=e.readCount}),r.set("totalReads",n),d.adminView=new a.views.StoryAdmin({author:r,story:u,part:c}),d.$(t).append(d.adminView.render().$el)})}s()},onAdminDropdown:function(e,n){var t=$(e.currentTarget).parent(".button-group");t.hasClass("open")?t.removeClass("open"):t.addClass("open"),n()}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n){!function(e,n,t,a,s,l,i,r){"use strict";l.add("DragAndSort",i.Mixin.create({events:{"touchstart .drag-handle":"onMouseDown","mousedown .drag-handle":"onMouseDown"},DragAndSort:{clicked:!1,drop:"Before",dragging:!1,element:null,elementUnder:null,elementPlaceHolder:null,minimumDelta:10,scrollRate:0,intervalPointer:null,windowThird:0,maxScroll:0,mouseEvents:{move:"mousemove",end:"mouseup"},touchEvents:{move:"touchmove",end:"touchend"}},setElement:function(e,n){n(e),this.setupDOM()},render:function(e){var n=e();return this.setupDOM(),n},setupDOM:function(e){var n=this.DragAndSort;this.$("[data-drag]").children().addClass("drag-item"),n.elementPlaceHolder=n.elementPlaceHolder||t('<div class="drag-item-placeholder drag-item">'),e()},resolveDrag:function(e){var n=this.DragAndSort;n.element.css("top",n.offsetY+n.scrollOffset+n.startoffset),e()},movePlaceholder:function(e){var n=this.DragAndSort,t=n.elementPlaceHolder.next(),a=n.elementPlaceHolder.prev(),s=n.offsetY+n.scrollOffset+n.startoffset;t[0]===n.element[0]&&(t=t.next()),t.length&&s>t.position().top?(n.elementPlaceHolder.detach(),t.after(n.elementPlaceHolder)):a.length&&s<n.elementPlaceHolder.position().top&&(n.elementPlaceHolder.detach(),a.before(n.elementPlaceHolder)),e()},onMouseDown:function(n,a){var l,i,r=this,o=this.DragAndSort,c=n.touches||n.originalEvent.touches;i=c&&c.length?c[0]:n,1!==n.which&&"mousedown"===n.type||(s.stopEvent(n),o.clicked=!0,o.startY=i.clientY,o.scrollOffset=0,o.scrollRate=0,o.scrollY=0,o.windowThird=t(e).height()/3,o.maxScroll=t(e.document).height()-t(e).height()-50,o.element=l=t(n.currentTarget).parents(".drag-item"),o.elementPlaceHolder.css("height",l.outerHeight()).css("width",l.width()),l.width(l.width()),t(e.document).on(this.DragAndSort.mouseEvents.move,function(e){r.onDrag(e)}).on(this.DragAndSort.mouseEvents.end,function(e){r.onDragEnd(e)}).on(this.DragAndSort.touchEvents.move,function(e){r.onDrag(e)}).on(this.DragAndSort.touchEvents.end,function(e){r.onDragEnd(e)}),a())},onDrag:function(t,a){var l=this.DragAndSort,i=t&&(t.touches||t.originalEvent.touches);if(n.isEmpty(i))r=t;else var r=i[0];s.stopEvent(t),l.clientY=r?r.clientY:l.clientY,l.offsetY=l.clientY-l.startY+l.scrollY,l.clicked&&!l.dragging&&(l.offsetY>l.minimumDelta||l.offsetY<-l.minimumDelta)&&(l.startoffset=l.element.position().top,l.scrollStart=e.pageYOffset||e.document.documentElement.scrollTop,l.element.before(l.elementPlaceHolder),l.element.addClass("active-drag"),l.dragging=!0),l.clientY<l.windowThird?l.scrollRate=-Math.round((l.windowThird-l.clientY)/l.windowThird*20):l.clientY>2*l.windowThird?l.scrollRate=Math.round((l.clientY-2*l.windowThird)/l.windowThird*20):(l.scrollRate=0,l.intervalPointer&&(e.clearInterval(l.intervalPointer),l.intervalPointer=null)),0===l.scrollRate||l.intervalPointer||(l.intervalPointer=this.onScroll()),l.dragging&&(this.resolveDrag(),this.movePlaceholder()),a()},onScroll:function(){var n=this,t=this.DragAndSort;return e.setInterval(function(){(e.scrollY>100&&t.scrollRate<0||e.scrollY<t.maxScroll&&t.scrollRate>0)&&(e.scrollBy(0,t.scrollRate),t.scrollY+=t.scrollRate,n.onDrag())},20)},onDragEnd:function(n,a){var l=this.DragAndSort;s.stopEvent(n),t(e.document).off(this.DragAndSort.mouseEvents.move).off(this.DragAndSort.mouseEvents.end).off(this.DragAndSort.touchEvents.move).off(this.DragAndSort.touchEvents.end),l.intervalPointer&&(e.clearInterval(l.intervalPointer),l.intervalPointer=null),l.clicked=!1,!0===l.dragging&&(l.dragging=!1,l.element.removeAttr("style"),l.element.removeClass("active-drag"),l.elementPlaceHolder.replaceWith(l.element),a())}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco,window.Promise)},function(e,n){!function(e,n,t,a,s){"use strict";a.add("AffixElement",s.Mixin.create({initialize:function(e,n){this.afxElements=[],n(e)},initAffix:function(e,n,a,s){e="string"==typeof e?t(e):e,n="string"==typeof n?t(n):n,this.afxElements.push({element:e,wrap:n,offset:a,height:e.height()}),"static"===n.css("position")&&n.css("position","relative"),s()},affixOnScroll:function(a){n.forEach(this.afxElements,function(n){if(n.element.is(":visible")){var a=t(e).scrollTop(),s=n.wrap.offset().top,l=s+n.wrap.height();s>a+n.offset?(n.element.css({position:"",top:""}),n.element.removeClass("affixed bottomed")):s<=a+n.offset&&l>a+n.height+n.offset?(n.element.css({position:"fixed",top:n.offset+"px"}),n.element.addClass("affixed").removeClass("bottomed")):(n.element.css({position:"absolute",top:l-s-n.height+"px"}),n.element.addClass("bottomed").removeClass("affixed"))}}),a()}}))}(window,_,jQuery,window.app,window.Monaco)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("ValidationView",Monaco.Mixin.create({events:{"keyup    .has-feedback input":"clearValidation","blur     .has-feedback input":"validateInput","change   .has-feedback input":"clearAndValidateInput","change   .has-feedback select.validate":"clearAndValidateInput"},initialize:function(e,n){this.bindValidationEvents(),n(e)},bindValidationEvents:function(e){this.listenTo(this.model,"attr:valid",this.setInputValid),this.listenTo(this.model,"attr:invalid",this.setInputInvalid),e()},setInputValid:function(e,n){var t=this.$('.has-feedback[data-attr="'+e+'"]').addClass("valid");this.$(".on-invalid").each(function(){t.children(".on-invalid")[0]===this?$(this).tooltip("destroy"):$(this).tooltip("hide")}),n()},setInputInvalid:function(e,n,t){var a=this.$('.has-feedback[data-attr="'+e+'"]').addClass("invalid").find(".on-invalid");this.$el.find(".on-invalid").each(function(){a[0]===this?$(this).tooltip("destroy"):$(this).tooltip("hide")}),a.tooltip({trigger:"click hover manual",title:n,html:!0}).tooltip("show"),t()},validateInput:function(n,t){var a=$(n.currentTarget),s=a.parents(".has-feedback"),l=s.data("attr"),i=this;this.activateTooltips(),s.hasClass("valid")||s.hasClass("invalid")||s.hasClass("warning")||(this.model.set(l,a.val()),this.timeout=e.setTimeout(function(){i.model.validate(l,{})},120)),t()},clearValidation:function(e,n){var t=$(e.currentTarget).parents(".has-feedback");(t.hasClass("valid")||t.hasClass("invalid")||t.hasClass("warning"))&&t.removeClass("valid invalid warning").children(".on-invalid").tooltip("destroy"),n()},clearAndValidateInput:function(e,n){this.clearValidation(e),this.validateInput(e),n()},activateTooltips:function(e){var n=this.$el.find(".on-invalid");n.off("show.bs.tooltip").on("show.bs.tooltip",function(e){var t=$(e.currentTarget);n.each(function(){t[0]!==this&&$(this).tooltip("hide")})}),e()}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("FacebookConnect",Monaco.Mixin.create({events:{"tap .btn-facebook":"onFacebookConnect","click .btn-facebook":"stopEvent","tap .btn-facebook-link":"onFacebookLink","click .btn-facebook-link":"stopEvent"},initialize:function(t,a){if(t=t||{},this.nextUrlFirstPart=t.nextUrlFirstPart,n.bindAll(this,"onFacebookConnect","onFacebookLink","getPermissions","facebookSend"),0===$("#fb-root").length){var s=e.document.createElement("script");s.async=1,s.src="https://connect.facebook.net/en_US/sdk.js",s.id="facebook-jssdk",$("body").append("<div id='fb-root'></div>").append(s)}a(t)},tries:0,onFacebookConnect:function(n,a){var s=this.nextUrlFirstPart||e.location.href,l=t.utils.getNextUrl(s);this.getPermissions(function(){e.location.href="/fb-auth?nextUrl="+l+"&access_token="+e.FBStatus.accessToken}),a()},onFacebookLink:function(n,s){this.getPermissions(function(){Promise.resolve($.ajax({type:"PUT",url:"/api/v3/users/"+a.currentUser().get("username"),data:{fb_access_token:e.FBStatus.accessToken}})).then(function(){e.location.reload()}).catch(function(e){$(".errorMessage").html(t.utils.trans(e.responseJSON.message)),$(".alert-danger").removeClass("hidden")})}),s()},getPermissions:function(n,s){var l=this,i=a.currentUser().get("facebook")?e.wp.facebook_reprompt_permission:e.wp.facebook_prompt_permission;i?i("email,user_birthday,user_friends",function(){l.facebookConnected&&a.currentUser().get("facebook")?l.facebookConnected():"function"==typeof n&&n()}):this.tries>4?e.alert(t.utils.trans("Error logging in through Facebook. Please refresh and try again.")):(this.tries++,e.setTimeout(l.getPermissions,500)),s()},facebookSend:function(e,n){FB.ui({method:"send",link:e})}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("TwitterConnect",Monaco.Mixin.create({twitterShare:function(e,n){e=e||{},a.openPopup("https://twitter.com/intent/tweet?"+$.param(e),a.trans("Share Wattpad With Twitter"),575,400)}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("AuthPromptManagement",Monaco.Mixin.create({title:function(){return t.utils.trans("Join Wattpad")},subtitle:function(){return t.utils.trans("Add stories to your library and read them offline.")},onAuthPrompt:function(a,l){if(t.utils.currentUser().authenticated()){var i=this.options&&this.options.nextUrl||"";t.utils.redirectToServer(decodeURIComponent(i))}else if(0===$("#generic-modal").length)s.router.navigate("/login?nexturl="+t.utils.getNextUrl(e.location.href),{trigger:!0,replace:!0});else{var r=new s.views.SignUpPrompt({model:new s.models.Authsignup,title:n.result(this,"title"),subtitle:n.result(this,"subtitle"),formType:"modal",form:a.currentTarget.getAttribute("data-form")});$("#generic-modal .modal-content").addClass("auth-modal"),$("#generic-modal .modal-body").html(r.render().$el),$("#generic-modal").modal("show"),$("#generic-modal").one("shown.bs.modal",function(){$(this).find("[autofocus]").focus()})}l(a)}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("VoteManagement",s.mixins.AuthPromptManagement.extend({events:{"tap .on-vote":"onVote","click .on-vote":"stopEvent"},voteButton:".on-vote",title:function(){return t.utils.trans("Sign up to Vote")},subtitle:function(){return t.utils.trans("Sign up for Wattpad and start commenting, saving stories, reading them offline, or writing your own.")},onVote:function(e,n){var a=this,l=this.$("#vote-tool-tip");if(this.stopEvent(e),t.utils.currentUser().authenticated()){if(!t.utils.currentUser().get("verified_email")){var i=new s.views.PleaseVerifyModal;return $("#generic-modal .modal-body").html(i.render().$el),void $("#generic-modal").modal({})}this.$(this.$voteTooltip).tooltip({trigger:"manual",selector:"#vote-tool-tip"}),this.$(this.voteButton).prop("disabled",!0);var r=!this.model.get("voted"),o=r?this.model.get("voteCount")+1:this.model.get("voteCount")-1;s.trigger("app:story:vote",{voted:r,voteCount:o,storyId:a.model.get("id")}),this.model.vote().then(function(){var t=a.$(".vote-text"),s=a.$(".footer-vote .fa-vote");a.$(a.voteButton).prop("disabled",!1),a.model.get("voted")?(t.html("Voted"),s.removeClass("fa-wp-neutral-2"),s.addClass("fa-wp-base-1")):(t.html("Vote"),s.removeClass("fa-wp-base-1"),s.addClass("fa-wp-neutral-2")),n(e)}).catch(function(i){s.trigger("app:story:vote",{voted:a.model.get("voted"),voteCount:a.model.get("voteCount"),storyId:a.model.get("id")}),i.message&&l.attr("data-original-title",t.utils.trans(i.message)),l.tooltip("show"),setTimeout(function(){l.tooltip("hide")},3e3),a.$(a.voteButton).prop("disabled",!1),n(e)})}else this.onAuthPrompt(e)},stopEvent:function(e,n){t.utils.stopEvent(e),n()}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";var l,i;s.add("LibraryManagement",s.mixins.AuthPromptManagement.extend({events:{"tap .on-add-story":"onAddToLibrary","click .on-add-story":"stopEvent","tap .on-remove-story":"onRemoveFromLibrary","click .on-remove-story":"stopEvent","tap .on-library-login":"onAuthPrompt","click .on-library-login":"stopEvent"},libraryButton:".btn-library",initialize:function(e,n){n(e),t.utils.currentUser().library().on("added",function(e){this.onAddedToLibrary(e.get("id"))},this),t.utils.currentUser().library().on("removed",function(e){this.onRemovedFromLibrary(e)},this)},setElement:function(e,t){var a=$(e).find(this.libraryButton);n.each(a,function(e){var n=$(e).data("story-id"),t=this.$(this.libraryButton+"[data-story-id='"+n+"']");t&&$(e).replaceWith(t[0])},this),t(e)},render:function(e){var n=e();return this.setupDOM(),n},setupDOM:function(e){var n=t.utils.currentUser(),a=this.$(this.libraryButton),s=a.data("storyId");a.prop("disabled",!0),n.authenticated()?s&&i.addToStoryQueue(s,this):(a.prop("disabled",!1),this.setLibraryLoginState()),e()},setLibraryLoginState:function(e){this.$(this.libraryButton).addClass("on-library-login"),e()},onAddToLibrary:function(e,n){var l=a.currentUser(),r=$(e.currentTarget).data("story-id"),o=new s.models.StoryModel({id:r});s.local.clear(l.library().resource()),l.library().saveItem(o),i.inLib[r]=!0,t.utils.stopEvent(e),n(e)},onRemoveFromLibrary:function(e,n){var l=a.currentUser(),r=$(e.currentTarget).data("story-id"),o=new s.models.StoryModel({id:r});s.local.clear(l.library().resource()),l.library().deleteItem(o),i.inLib[r]=!1,t.utils.stopEvent(e),n(e)},onAddedToLibrary:function(e,n){$(this.libraryButton+"[data-story-id='"+e+"']").removeClass("on-add-story").addClass("on-remove-story"),n(e)},onRemovedFromLibrary:function(e,n){$(this.libraryButton+"[data-story-id='"+e+"']").removeClass("on-remove-story").addClass("on-add-story"),n(e)},stopEvent:function(e,n){t.utils.stopEvent(e),n()}})),(l=function(){this.storyQueue=[],this.inLib={}}).prototype.addToStoryQueue=function(e,t){var a={storyId:e,ctx:t};if(void 0!==this.inLib[e]){var s=this.inLib[e]?"onAddedToLibrary":"onRemovedFromLibrary";n.defer(function(){t[s](e),t.$(t.libraryButton).prop("disabled",!1)})}else this.storyQueue=n.compact(this.storyQueue),n.find(this.storyQueue,a)||(this.storyQueue.push(a),this.batchFetch())},l.prototype.batchFetch=n.debounce(function(){if(this.storyQueue=n.compact(this.storyQueue),this.storyQueue.length>0){var e=n.pluck(n.unique(this.storyQueue,"storyId"),"storyId");this.fetchStoryCollections(e.join("%2C"))}},100,{maxWait:200}),l.prototype.fetchStoryCollections=function(e){var t=new s.models.StoryInLists({storyId:e}),a=this;Promise.resolve(t.fetch()).then(function(e){var t=e.collections;n.each(a.storyQueue,function(e,n){if(e&&t[e.storyId]){var s=t[e.storyId].library,l=s?"onAddedToLibrary":"onRemovedFromLibrary";a.inLib[e.storyId]=s,e.ctx[l](e.storyId),e.ctx.$(e.ctx.libraryButton).prop("disabled",!1),delete a.storyQueue[n]}})}).catch(function(e){n.each(a.storyQueue,function(n,t){n.ctx.handlePromiseExpected(e)})})},i=new l,e.wattpad.StoryInLibService=i}(window,_,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(8),s=t.n(a);!function(e,n,t,a,l){l.add("StoryInListsManagement",l.mixins.AuthPromptManagement.extend({events:{"tap .on-library-login":"doAuthPrompt","click .on-library-login":"stopEvent","tap .on-modify-list":"onModifyList","click .on-modify-list":"stopEvent","tap .on-lists-add-clicked":"onAddClicked","click .on-lists-add-clicked":"stopEvent","tap .on-create-list":"onCreateList","click .on-create-list":"stopEvent","focus .list-name":"clearError"},templates:{list:s.a},readingLists:null,storyInLists:null,listsContainer:"ul.lists-menu",addButton:".btn-story-lists",setElement:function(e,n){n(e),this.$(this.addButton).length>0&&this.setupDOM()},render:function(e){var n=e();return this.setupDOM(),n},setupDOM:function(e){var n=t.utils.currentUser();this.$(this.addButton).prop("disabled",!0),n.authenticated()?this.renderAddButtons():(this.$(this.addButton).prop("disabled",!1),this.setLoginState()),e()},setLoginState:function(e){this.$(this.addButton).addClass("on-library-login"),e()},renderAddButtons:function(e){this.$(this.addButton).addClass("on-lists-add-clicked").prop("disabled",!1),e()},onAddClicked:function(e,n){n(e);var t=$(e.currentTarget).data("story-id"),a=$(e.currentTarget);this.fetchListsData(a,t,this.onAddToListsReady)},fetchListsData:function(e,a,s,i){var r,o=t.utils.currentUser(),c=this.$(this.listsContainer+"[data-story-id='"+a+"']"),u=this;this.readingLists=new l.collections.ReadingLists(null,{username:o.get("username"),limit:200}),this.storyInLists=new l.models.StoryInLists({storyId:a}),Promise.all([this.readingLists.fetchNextSet(),this.storyInLists.fetch()]).then(function(){c.empty(),r={id:0,name:t.utils.trans("My Library (Private)"),inList:u.storyInLists.get(a).library||!1,"user-device":l.get("device"),icon:"fa-library"},c.append(u.templates.list(r)),u.listenTo(o.library(),"added",function(e){u.onListModified(!0,0,e.get("id"))}),u.listenTo(o.library(),"removed",function(e){u.onListModified(!1,0,e)}),n.each(u.readingLists.models,function(e){r={id:e.get("id"),name:e.get("name"),inList:u.storyInLists.get(a)[e.get("id")]||!1,"user-device":l.get("device"),icon:"fa-reading-list"},c.append(this.templates.list(r)),this.listenTo(e,"list:added",function(e,n){u.onListModified(!0,e,n)}),this.listenTo(e,"list:removed",function(e,n){u.onListModified(!1,e,n)})},u),u.checkListScrollable(c),s&&s.call(u,e,a)}),i(e,a,s)},onModifyList:function(e,n){var t,s=a.currentUser(),i=$(e.currentTarget).data("list-id"),r=$(e.currentTarget).parent().parent().data("story-id"),o=new l.models.StoryModel({id:r}),c=this.storyInLists.get(r);0===i?c.library?(s.library().deleteItem(o),c.library=!1,this.storyInLists.set(r,c)):(s.library().saveItem(o),c.library=!0,this.storyInLists.set(r,c)):(t=this.readingLists.get(i),c[i]?(t.stories().remove(o),c[i]=!1,this.storyInLists.set(r,c)):(t.stories().add(o),c[i]=!0,this.storyInLists.set(r,c))),$(e.currentTarget).prop("disabled",!0);var u=$(e.currentTarget).children(".status");u.children(".in-list").addClass("hidden"),u.children(".spinner").removeClass("hidden"),n(e)},onListModified:function(e,n,a,s){var i=this.$(this.listsContainer+"[data-story-id='"+a+"']").children("li").children("a[data-list-id= "+n+"]");i.find(".status .spinner").addClass("hidden"),e?(i.find(".status .in-list").removeClass("hidden"),i.addClass("in-list")):(i.find(".status .in-list").addClass("hidden"),i.removeClass("in-list")),i.prop("disabled",!1),0===n?l.local.clear(t.utils.currentUser().library().resource()):(l.local.clear(this.readingLists.resource()),l.local.clear(this.readingLists.get(n).stories().resource())),s()},onCreateList:function(n,s){var i=this.$("input.list-name").val().trim(),r=$(n.currentTarget).data("story-id"),o=this;if(i.length>0){var c=new l.models.ReadingList;this.clearError(),this.listenToOnce(c,"sync",function(e){o.onListCreated(e,r)}),l.local.clear(this.readingLists.resource()),c.save({name:i,stories:r.toString()},{error:function(n,t){var a=JSON.parse(t.responseText);e.alert(a.message)}}).done(function(){a.cacheBust("ReadingLists",{username:a.currentUser().get("username")})})}else this.$(".inputs").addClass("has-error"),this.$("input.list-error-placeholder").attr("placeholder",t.utils.trans("Reading list name required")),t.utils.stopEvent(n);s()},onListCreated:function(e,n,t){var a,s,i=this,r=this.storyInLists.get(n);r[e.get("id")]=!0,this.storyInLists.set(n,r),this.readingLists.add(e),this.listenTo(e,"list:added",function(e,n){i.onListModified(!0,e,n)}),this.listenTo(e,"list:removed",function(e,n){i.onListModified(!1,e,n)}),a=this.$(this.listsContainer+"[data-story-id='"+n+"']"),s={id:e.get("id"),name:e.get("name"),inList:!0,"user-device":l.get("device"),icon:"fa-reading-list"},a.append(this.templates.list(s)),a.scrollTop(a[0].scrollHeight),this.checkListScrollable(a),this.$("input.list-name").val(""),t()},stopEvent:function(e,n){t.utils.stopEvent(e),n()},clearError:function(e){this.$(".inputs").removeClass("has-error"),this.$("input.list-error-placeholder").attr("placeholder",t.utils.trans("Add new reading list...")),e()},checkListScrollable:function(e,n){0!==e.length&&(e[0].scrollHeight>200?e.addClass("scrollable"):e.removeClass("scrollable"),n())},doAuthPrompt:function(e,n){var t=this;$("body").hasClass("modal-open")?($(".modal.in").one("hidden.bs.modal",function(){t.onAuthPrompt(e)}),$(".modal.in").modal("hide")):t.onAuthPrompt(e),n()}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("FollowManager",Monaco.Mixin.create({events:{"tap .on-follow":"onFollow","click .on-follow":"stopEvent","tap .on-unfollow":"onUnfollow","click .on-unfollow":"stopEvent","tap .on-follow-login":"onFollowLogin","click .on-follow-login":"stopEvent"},followButton:".btn-fan",initialize:function(e,n){s.get("followStatus")||s.set("followStatus",{}),n(e)},setElement:function(e,t){var a=$(e).find(this.followButton);n.each(a,function(e){var n=$(e).data("target"),t=this.$(this.followButton+"[ data-target="+n+"]");t&&$(e).replaceWith(t[0])},this),t(e)},render:function(e){var n=e();return this.setupDOM(),n},setupDOM:function(e){var n=t.utils.currentUser();this.$(this.followButton).prop("disabled",!0),n.authenticated()?this.fetchFollowingStatus():(this.$(this.followButton).prop("disabled",!1),this.setFollowLoginState()),e()},fetchFollowingStatus:function(e){var t=this.$(this.followButton),a=this,l=null,i=null;n.each(t,function(e){if(l=$(e),i=$(e).data("target"))if(i in s.get("followStatus"))this.updateFollowButtons(i,s.get("followStatus")[i]);else{var n=!1;if(void 0!==l.data("following"))n=l.data("following"),this.updateFollowButtons(i,n);else{var t=new s.models.User({username:i});Promise.resolve(t.determineFollowStatus()).then(function(){a.updateFollowHash(t.get("username"),t.get("following")),a.updateFollowButtons(t.get("username"),t.get("following"))})}this.updateFollowHash(i,n)}},this),e()},setFollowLoginState:function(e){this.$(this.followButton).addClass("on-follow-login"),e()},onFollowLogin:function(n,a){if(0===$("#generic-modal").length)e.location.href="/login?nexturl="+e.location.href;else{var l=new s.views.SignUpPrompt({model:new s.models.Authsignup,title:t.utils.trans("Join Wattpad"),subtitle:t.utils.trans("Follow others to receive story updates!")});$("#generic-modal .modal-content").addClass("auth-modal"),$("#generic-modal .modal-body").html(l.render().$el),$("#generic-modal").modal("show")}a(n)},updateFollowHash:function(e,n,t){var a=s.get("followStatus");a[e]=n,s.set("followStatus",a),t()},updateFollowButtons:function(e,n,t){var a=this.$(this.followButton+"[data-target="+e+"]");n?(a.removeClass("on-follow").addClass("on-unfollow"),s.trigger("app:user:follow",e)):(a.removeClass("on-unfollow").addClass("on-follow"),s.trigger("app:user:unfollow",e)),a.prop("disabled",!1),t()},onFollow:function(e,n){var a=this,s=$(e.currentTarget).data("target"),l=this.$(this.followButton+"[data-target="+s+"]");t.utils.stopEvent(e),l.prop("disabled",!0),Promise.resolve($.when(t.utils.currentUser().following().follow(s))).then(function(){a.updateFollowHash(s,!0),a.updateFollowButtons(s,!0),a.clearCache()}),n(e)},onUnfollow:function(e,n){var a=this,s=$(e.currentTarget).data("target"),l=this.$(this.followButton+"[data-target="+s+"]");t.utils.stopEvent(e),l.prop("disabled",!0),Promise.resolve($.when(t.utils.currentUser().following().unfollow(s))).then(function(){a.updateFollowHash(s,!1),a.updateFollowButtons(s,!1),a.clearCache()}),n(e)},clearCache:function(e,n){var a=t.utils.currentUser().get("username");s.local.clear("user."+a),s.local.clear("user."+a+".following"),s.local.clear("user."+a+".profile.following"),s.local.clear("user."+e),s.local.clear("user."+e+".following"),s.local.clear("user."+e+".profile.following"),n(e)},stopEvent:function(e,n){t.utils.stopEvent(e),n(e)}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("InputCounterManagement",Monaco.Mixin.create({events:{"keyup .count-input":"onCount"},onCount:function(e,n){var t,a,s,l;t=$(e.currentTarget),a=parseInt(t.data("limit"),10),s=this.setCount(t),"function"==typeof this["on"+(l=t.data("name"))+"Update"]&&this["on"+l+"Update"](s&&s<=a),n()},setCount:function(e,n){var t,a;if(e&&void 0!==e.val())return t=this.$("."+e.data("counter")),a=e.val().length,t.children("span").html(a),a>0?t.removeClass("hidden"):t.addClass("hidden"),n(),a},resetCount:function(e){this.setCount(this.$(".count-input")),e()}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("ReportManagement",Monaco.Mixin.create({events:{"tap   .on-report":"onReport","click .on-report":"stopEvent"},render:function(e){var n=e();return this.renderReportModal(),n},setElement:function(e,n){n(e)},renderReportModal:function(e){e()},onReport:function(e,a){var l,i;t.utils.stopEvent(e),this.reportMoreInfo&&(l=n.result(this,"reportMoreInfo")),i=this.reportUserName?n.result(this,"reportUserName"):$(e.target).attr("data-username"),this.reportModal=this.reportModal?this.reportModal:new s.views.ReportModal({model:new s.models.SupportTicket,requestType:this.requestType,reportForm:this.reportForm,mainModal:!!this.isMainReportModal,moreInfo:l,modalTitle:this.modalTitle,reportUserName:i}),0===this.$(this.reportModalContainer+" > .report-modal").length&&this.$(this.reportModalContainer).append(this.reportModal.render().$el),this.$(this.reportModalContainer+" > .report-modal").modal("show"),a()}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(44),s=t.n(a);!function(e,n,t,a,l){l.add("ReadingList",l.mixins.StoryInListsManagement.extend({templates:n.extend({},l.mixins.StoryInListsManagement.mixinFunctions.templates,{container:s.a}),events:function(e){return n.extend({},e(),l.mixins.StoryInListsManagement.mixinFunctions.events)},onAddToListsReady:function(n,t,a){this.$(".reading-list-dropdown").addClass("open"),$(e.document).one("click.bs.dropdown.data-api",{context:this},this.closeReadingListSelector),a(n,t)},closeReadingListSelector:function(e){this.$(".reading-list-dropdown").removeClass("open"),e()},fetchListsData:function(e,n,t,a){this.$(".reading-list-dropdown").remove(),e.after(this.templates.container({id:n})),l.mixins.StoryInListsManagement.mixinFunctions.fetchListsData.apply(this,arguments),a(e,n,t)}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("ReportConduct",Monaco.Mixin.create({reportForm:{id:48854,offenses:[{name:t.utils.trans("Explicit Content"),tag:"explicit_content",moreDetail:!0,intext:t.utils.trans("Please explain the violation of our policies and where it is located on the account with as much detail as possible. If the violation occurs in a story, please provide a link to the story part(s). For example: This user is promoting sexual conduct in their about section.")},{name:t.utils.trans("Hate & Harassment"),tag:"hate_or_harassment_conduct",moreDetail:!0,intext:t.utils.trans("Please explain the violation of our Code of Conduct and where it is located on the account. If the violation occurs within a story, please include a link to the story part(s). Please provide as much information as possible. For example: The user is sending me hateful private messages.")},{name:t.utils.trans("Violence"),tag:"violence_or_self_harm_conduct",moreDetail:!0,intext:t.utils.trans("Please explain the violation of our Code of Conduct and where it takes place on this account with as much information as possible. If the violation occurs within a story, please include a link to the story part(s). For example: The profile image is depicting an act of graphic violence.")},{name:t.utils.trans("Release of Personal Info"),tag:"release_of_personal_information_conduct",moreDetail:!0,intext:t.utils.trans("If a photo of you or your personal identifying information is being released, please tell us what the information is and where it is located on the account. If the violation occurs within a story, please include a link to the story part(s). For example: An image of my face is being used as the background photo.")},{name:t.utils.trans("Self-Harm"),tag:"violence_or_self_harm_conduct",moreDetail:!0,intext:t.utils.trans("Please explain the violation of our policies and where it is located on the account. If the violation occurs within a story, please include a link to the story part(s). For example: There is a self-harm image in the avatar. Or: The user is talking about self-harming on their conversation board or comments.")},{name:t.utils.trans("Underage User"),tag:"underage_user",moreDetail:!0,intext:""},{name:t.utils.trans("Spam"),tag:"spam_conduct",moreDetail:!0,intext:t.utils.trans("Please explain what type of spam you’ve encountered and where we can find it on the account. If the violation occurs within a story, please include a link to the story part(s). For example: This user is sharing malicious download links on their conversation board. Or: This is a publisher trying to recruit writers.")}]}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(1),s=t.n(a),l=t(45),i=t.n(l),r=t(46),o=t.n(r),c=t(47),u=t.n(c),d=t(27),h=t.n(d),p=t(48),m=t.n(p),f=t(28),g=t.n(f);!function(e,n,t,a,l){a.add("WorksItemDetails",a.views.Base.extend({events:{"tap .on-edit-save":"onEditSaveSelected","tap .on-publish":"onPublish","tap .on-edit-cancel":"onEditCancelSelected","mouseenter .on-cover-edit-icon":"onCoverEditIconEnter","mouseleave .image-placeholder":"onCoverEditLeave","keyup .story-title":"onStoryTitleKeyUp","focus .story-title":"onStoryTitleFocus","blur .story-title":"onStoryTitleBlur","blur .story-description":"onStoryDescriptionBlur","paste [contenteditable]":"pastePlainText","change #categoryselect":"onCategorySelected","keyup .character-input":"onCharacterInputKeyUp","tap .on-add-character":"onAddCharacter","click .on-add-character":"stopEvent","tap .on-remove-character":"onRemoveCharacter","click .on-remove-character":"stopEvent","tap .on-add-tag":"onAddTagSelected","blur .on-tag-input":"onTagInputBlurred","keydown .on-tag-input":"onTagInputKeydown","change #mature-switch":"ratingChange","tap .on-new-part":"onNewPartClicked","tap .on-stats":"onStatsClicked","tap .on-delete-story":"onDeleteStoryClicked","tap .on-delete-published-story":"onDeletePublishedStoryClicked","tap .on-select":"onSelectAll","tap .on-embed":"onEmbedClicked","tap .on-delete-part":"onDeletePartClicked","tap .on-do-delete-part":"onDoDeletePart","tap .on-delete-published-part":"onDeletePublishedPartClicked","submit #delete-story-form":"onDoDeleteStory","tap .on-unpublish-part":"onUnpublishPartClicked","tap .on-unpublish-story":"onUnpublishStoryClicked","tap .on-do-unpublish-part":"onDoUnpublishPart","tap .on-do-unpublish-story":"onDoUnpublishStory","click .on-okay":"stopEvent","tap .on-okay":"onPopoverOk","click .popover-icon":"stopEvent","tap .popover-icon":"onPopover","mousedown .on-trigger-tooltip":"onTriggerTooltip","click .on-trigger-tooltip":"stopEvent","tap .on-trigger-tooltip":"stopEvent","click  .on-contest-popover":"onContestFormPopover","tap  .on-contest-popover":"onContestFormPopover","tap .on-edit-close":"onEditClose","click .on-view-as-reader":"stopEvent","tap .on-view-as-reader":"viewAsReader","click #acknowledge-checkbox":"onAcknowledge"},templates:{worksItemDetails:u.a,character:h.a,tag:o.a,status:i.a,contestBanner:g.a},initialize:function(e){e=e||{},_.bindAll(this,"onCloseTooltip"),this.defaultStoryTitle=t.trans("Untitled Story"),this.isNew=e.isNew||!1,this.showTips=e.showTips||!1,this.isPublish=e.isPublish||!1,this.isPreview=e.isPreview||!1,this.partModel=e.partModel||null,this.model=e.model,this.storyLabelsModel=e.storyLabelsModel,this.didEditCharacters=!1,this.charactersLimit=20,this.maxNumParts=n.utils.currentUser().getMaxNumParts(),this.prefilledTag=e.prefilledTag||null,this.isStoryPlannerTestGroup=e.isStoryPlannerTestGroup||n.testGroups.STORY_PLANNER,this.isWattysEligible=e.isWattysEligible,this.SUGGESTED_WRITER_TAGS=this.isWattysEligible?["wattys2020"]:[],this.isNew&&this.model.set("title",this.defaultStoryTitle),Handlebars.registerPartial("desktop.create.works_item_editable_tag",this.templates.tag),Handlebars.registerPartial("desktop.components.modal.share_embed",s.a),Handlebars.registerPartial("desktop.create.works_table_of_contents",m.a),Handlebars.registerPartial("desktop.create.works_contests",g.a.bind(this,{storyId:this.model.id})),Handlebars.registerPartial("desktop.create.works_character_item",h.a)},render:function(){var t,s,l,i,r,o=this.model.toJSON();o.published=!1,_.each(o.parts,function(e){e.stats=!!(e.readCount||e.VoteCount||e.commentCount),o.published=o.published||!e.draft&&!e.deleted}),o.descriptionRemaining=2e3-o.description.length,o.languages=n.supportedLangs,o.categories=_.reduce(a.get("categories").toJSON(),function(e,n){return _.contains(n.roles,"writing")&&e.push(n),e},[]),o.language={id:o.language||n.utils.currentUser().get("language"),name:_.result(_.find(o.languages,function(e){return e.id==o.language}),"name")},o.everyone=!o.mature&&!o.ratingLocked,o.writerMature=o.mature&&!o.ratingLocked,o.maturePrivate=o.private&&o.mature,o.communityMature=o.mature&&o.ratingLocked,o.bcover=o.cover.replace("/cover/","/bcover/"),o.tooManyTagsInTheKitchen=_.size(o.tags)>20,this.isPublish&&(""===o.cover&&(t=!0),""!==o.title.trim()&&o.title.trim()!==this.defaultStoryTitle||(s=!0),""===o.description&&(l=!0),o.categoryObject||(i=!0),0===o.tags.length&&(r=!0),o.published);var c=this.partModel?this.partModel.get("title"):"",u=this.model.get("hasBannedCover"),d=this.formatTags(o.tags,this.prefilledTag),h=n.utils.currentUser().get("locale").slice(0,2);e.store.dispatch(e.app.components.actions.setStoryTags({tags:d,withIcon:!0})),this.model.set({hasBannedImages:_.some(this.model.get("parts"),function(e){if(!0!==e.deleted&&e.hasBannedImages)return!0})||u}),e.store.dispatch(e.app.components.actions.updateActiveTab("toc"));var p=this.isPublish&&!o.published;this.$el.html(this.templates.worksItemDetails({story:o,showNewStats:!0,isNew:this.isNew,showTips:this.showTips,isPublish:this.isPublish,needCover:t,needTitle:s,needDescription:l,isWattysEligible:this.isWattysEligible,canvaApiKey:n.canvaApiKey,createCanvaCover:this.createCanvaCover.bind(this),needCategory:i,needTag:r,partTitle:c,testGroups:n.testGroups,lang:h,targetAudience:this.storyLabelsModel.get("target_audience"),characters:this.storyLabelsModel.get("characters"),charactersLimit:this.charactersLimit,prefilledTag:this.prefilledTag,hasBannedImages:this.model.get("hasBannedImages")||!1,isStoryPlannerTestGroup:n.testGroups.STORY_PLANNER,hasBannedCover:u,onSwitchTabs:this.onSwitchTabs.bind(this),showAcknowledgeOriginalWorks:p,handleUpdateCopyright:this.handleUpdateCopyright.bind(this)}));var m=0;return _.each(this.model.get("parts"),function(e){!0!==e.deleted&&m++}),m>=this.maxNumParts&&this.$(".on-newpart").parent().addClass("too-many-parts"),this.postRender(),this},renderContestBanner:function(){var e=null;this.isWattysEligible&&(e=this.templates.contestBanner({storyId:this.model.id})),this.$("#contest-banner-container").html(e)},onDragEnd:function(){var e=_.map(this.$(".story-part"),function(e){return $(e).data("id")});e.length===this.model.get("parts").length&&(e=e.join(","),this.model.set({textids:e}),this.model.save())},onEditClicked:function(){a.router.trigger("route:createWorksEdit",this.model.get("id"))},onSelectAll:function(){var n=e.document.createRange();n.selectNode(e.document.getElementById("embed-url")),e.getSelection().addRange(n)},resetModal:function(){this.$("#embed-modal,#stats-modal,.delete-story-modal,.delete-published-story-modal,.unpublish-story-modal,.delete-part-modal,.delete-published-part-modal,.unpublish-part-modal").addClass("hidden"),this.$("#details-modal .modal-dialog").removeClass("embed").removeClass("stats")},onEmbedClicked:function(){var e=this.$("#embed-modal iframe");this.resetModal(),this.$("#details-modal .modal-dialog").addClass("embed"),e.attr("src",e.data("href")),this.$("#embed-modal").removeClass("hidden")},onStatsClicked:function(e){e.preventDefault(),a.router.navigate("/myworks/"+this.model.get("id")+"/analytics",{trigger:!0})},onDeletePartClicked:function(e){this.resetModal(),this.model.get("parts").length<2?this.onDeleteStoryClicked():(this.deleteId=$(e.currentTarget).data("id"),this.$(".delete-part-modal").removeClass("hidden"))},onDeletePublishedPartClicked:function(e){this.resetModal(),this.model.get("parts").length<2?this.onDeletePublishedStoryClicked():(this.deleteId=$(e.currentTarget).data("id"),this.unpublishId=$(e.currentTarget).data("id"),this.$(".on-delete-part").data("id",this.deleteId),this.$(".delete-published-part-modal").removeClass("hidden"))},onUnpublishPartClicked:function(e){this.resetModal(),this.unpublishId=$(e.currentTarget).data("id"),this.$(".unpublish-part-modal").removeClass("hidden")},onUnpublishStoryClicked:function(e){this.resetModal(),this.unpublishId=$(e.currentTarget).data("id"),this.$(".unpublish-story-modal").removeClass("hidden")},onDeleteStoryClicked:function(){this.resetModal(),this.$(".delete-story-modal .alert").addClass("hidden"),this.$(".delete-story-modal").removeClass("hidden")},onDeletePublishedStoryClicked:function(){this.resetModal(),this.$(".delete-published-story-modal").removeClass("hidden")},validateUsernameFields:function(e,a){var s=[];return e===a&&0!==e.length&&0!==a.length||s.push(n.utils.trans("Username fields should match")),e!==t.currentUser().get("username").trim().toLowerCase()&&s.push(n.utils.trans("Username is incorrect")),s},onDoDeleteStory:function(e){t.stopEvent(e);var n=$(e.currentTarget),s=n.find("#username").val().trim().toLowerCase(),l=n.find("#confirm-username").val().trim().toLowerCase(),i=this.validateUsernameFields(s,l);if(i.length>0){var r=n.find(".alert ul.messages");r.empty();for(var o=0;o<i.length;o++)r.append("<li>"+i[o]+"</li>");n.find(".alert").removeClass("hidden")}else{n.find("button, input").attr("disabled",!0);var c=this;this.model.set("transaction_key",t.currentUser().get("username")),Promise.resolve(this.model.destroy()).then(function(){return c.model.set("transaction_key",null),t.cacheBust("Works",{username:t.currentUser().get("username")},c.model.get("id"))}).then(function(){a.router.navigate("/myworks/",{trigger:!0,replace:!0})}).catch(function(e){c.displayErrors(e.responseJSON?e.responseJSON.message:e.message||e.errors||e)})}},onDoDeletePart:function(){var e=this,n=new a.models.StoryPartCreateModel({id:this.deleteId,authorid:t.currentUser().get("id")});Promise.resolve(n.destroy()).then(this.handlePromiseUnexpected).catch(this.handlePromiseExpected).then(function(){return Promise.resolve(e.model.fetch({fresh:!0,data:{drafts:1}}))}).then(function(){t.cacheBust(["Works","Works"],[{username:t.currentUser().get("username")},{username:t.currentUser().get("username"),published:!0}],e.model.storyId),e.$("#details-modal").on("hidden.bs.modal",function(){$(this).off("hidden.bs.modal"),e.$("[data-id='"+e.deleteId+"']").addClass("fade hide"),e.render()}).modal("hide");var n=0;_.each(e.model.get("parts"),function(e){!0!==e.deleted&&n++}),n<e.maxNumParts&&e.$(".on-newpart").parent().removeClass("too-many-parts")})},onDoUnpublishStory:function(e){var n=this,s=_.reject(this.model.get("parts"),function(e){return e.draft||e.deleted}),l=t.currentUser().get("id"),i=0;t.stopEvent(e),this.$("#unpublish-modal .progress-bar").attr("aria-value",0).width("0%").removeClass("progress-bar-success").addClass("progress-bar-info"),this.$("#unpublish-modal .cta").attr("disabled",!0),this.$("#working-wrapper").removeClass("hidden"),0!==s.length?_.each(s,function(e){var t=new a.models.StoryPartCreateModel({id:e.id,authorid:l});Promise.resolve(t.unpublish()).then(function(){i++,n.updateUnpublishStatus(s.length,i)})}):this.updateUnpublishStatus(1,1)},onDoUnpublishPart:function(){var e=this,n=new a.models.StoryPartCreateModel({id:this.unpublishId,authorid:t.currentUser().get("id")});Promise.resolve(n.unpublish()).then(function(){return Promise.resolve(e.model.fetch({fresh:!0,data:{drafts:1}}))}).then(function(){e.$("#details-modal").on("hidden.bs.modal",function(){$(this).off("hidden.bs.modal"),e.render()}).modal("hide")})},updateUnpublishStatus:function(n,a){var s=this,l=100*Math.floor(a/n);this.$(".unpublish-story-modal .progress-bar").attr("aria-valuenow",l).width(l+"%"),n===a&&(this.$("#unpublish-working").text(t.trans("Done")),this.$(".unpublish-story-modal .progress-bar").removeClass("progress-bar-info").addClass("progress-bar-success"),t.cacheBust(["Works","Works"],[{username:t.currentUser().get("username")},{username:t.currentUser().get("username"),published:!0}],this.selectedStoryId),this.model.fetch({fresh:!0}).then(function(){e.setTimeout(function(){s.$("#details-modal").on("hidden.bs.modal",function(){$(this).off("hidden.bs.modal"),s.render()}).modal("hide")},500)}))},onNewPartClicked:function(e){var n=0;if(_.each(this.model.get("parts"),function(e){!0!==e.deleted&&n++}),n>=this.maxNumParts)t.stopEvent(e);else{for(var s=this,l=!1,i=!1,r=1,o=new a.models.StoryPartCreateModel({groupid:this.model.get("id"),title:t.trans("Untitled Part ")+(this.model.get("parts").length+1),language:this.model.get("language"),copyright:this.model.get("copyright"),category1:this.model.get("categories")[0],draft:1,tags:this.model.get("tags").join(" ")});!1===i;)_.findWhere(this.model.get("parts"),{title:o.get("title")})?(o.set("title",t.trans("Untitled Part ")+(this.model.get("parts").length+1)+" ("+r+")"),r++):i=!0;t.stopEvent(e),Promise.resolve(o.save()).then(function(e){s.handlePromiseUnexpected(e)}).catch(function(e){l=!0,s.handlePromiseExpected(e)}).then(function(){if(!l)return Promise.resolve(s.model.fetch({fresh:!0,data:{drafts:1}}))}).then(function(){l||a.router.navigate("/myworks/"+s.model.get("id")+"/write/"+o.get("id"),{trigger:!0})})}},onCharacterInputKeyUp:_.throttle(function(e){var n=$(e.currentTarget),t=n.parent(".character").find(".btn"),a=t.find(".fa");n.val().trim().length>0?(t.removeClass("btn-grey").addClass("btn-orange"),a.removeClass("fa-wp-neutral-1").addClass("fa-wp-neutral-5")):(t.removeClass("btn-orange").addClass("btn-grey"),a.removeClass("fa-wp-neutral-5").addClass("fa-wp-neutral-1"))},200),onAddCharacter:function(e){var n=$(e.currentTarget),t=n.parent(".character").find("input").val().trim();t.length>0&&(this.didEditCharacters=!0,n.parent(".character").remove(),this.$(".characters").append(this.templates.character({name:t,readonly:!0})),this.$(".character").length<this.charactersLimit&&this.$(".characters").append(this.templates.character()))},onRemoveCharacter:function(e){var n=$(e.currentTarget).parent(".character");this.didEditCharacters=!0,this.$(".character [readonly]").length==this.charactersLimit&&this.$(".characters").append(this.templates.character()),n.remove(),0==this.$(".character").length&&this.$(".characters").empty().append(this.templates.character())},saveCharacters:function(){var e=[],n=this;_.each(this.$(".characters .character input"),function(n){var t=$(n).val().trim();t.length>0&&e.push({name:t})}),this.storyLabelsModel.clear({silent:!0}),Promise.resolve(this.storyLabelsModel.save({id:parseInt(this.model.get("id")),characters:e})).catch(function(){n.handlePromiseExpected("")})},onTagInputKeydown:function(e){var a=e.keyCode||e.which;13!==a&&32!==a||(t.stopEvent(e),this.onTagInputBlurred()<n.tagCountLimit&&this.onAddTagSelected());8===a&&0===this.getCurrentInput().length&&(t.stopEvent(e),this.$("#editable-tags .tag-item").last().remove(),this.onAddTagSelected())},getCurrentInput:function(){return this.$("#tag-input").val().trim()},onAddTagSelected:function(e){t.stopEvent(e),this.$("#add-tag").addClass("hidden"),this.$("#tag-input").val("").removeClass("hidden").focus();var s=_.difference(this.SUGGESTED_WRITER_TAGS,this.getTags()).map(function(e){return{label:e}});this.initAutocomplete({element:"#tag-input-wrapper #tag-input",collection:new a.collections.AutocompleteTag(s),title:n.utils.trans("Suggested Tags")})},onTagInputBlurred:function(){var t=this.$("#tag-input"),a=this.cleanHTMLToText(t).trim(),s=this.getTags(),l=s.length,i=[];return this.autocompleteResults&&this.autocompleteResults.remove(),t.addClass("hidden"),l<n.tagCountLimit&&a&&-1===s.indexOf(a)&&("wattys2020"===a&&this.isWattysEligible&&e.store.dispatch(e.app.components.actions.openContestForm(this.model.id)),l++,i=this.formatTags(s.concat([a]),this.prefilledTag),e.store.dispatch(e.app.components.actions.setStoryTags({tags:i,withIcon:!0}))),l<n.tagCountLimit&&(this.$("#add-tag").removeClass("hidden"),l>0&&(this.$("#add-tag").removeClass("empty-border"),this.$("#tag-empty-warning").removeClass("red-warning"))),l},getTags:function(){return e.store.getState().storyTags.tags.map(function(e){return e.name})},formatTags:function(e,n){return e.map(function(e){var t=e.trim();return{id:t,name:t,active:!0,className:"wattys2020"===t?"wattys-tag":n&&t===n?"prefilled-tag":null}})},pastePlainText:function(e){t.pastePlainText(e)},cleanHTMLToText:function(e){return(e.is("input")||e.is("textarea")?t.sanitizeHTMLExceptQuotes(e.val().trim()):t.sanitizeHTMLExceptQuotes(e.text().trim())).replace(/<(br|p|div)(\s*)>/gi,"\n").replace(/(<([^>]+)>)/gi,"")},sendViewAsReaderEvent:function(n){var t=$(n.currentTarget).data(),s=this.model.get("id"),l=t.id;a.currentView instanceof a.views.WorksWriter?e.te.push("event","writer",null,null,"reader_view",{storyid:s,source:"prepublish"}):"wid-btn"===t.attr?e.te.push("event","writer",null,null,"reader_view",{storyid:s,source:"story_details"}):"wid-toc"===t.attr&&e.te.push("event","writer",null,null,"reader_view",{storyid:s,partid:l,source:"table_of_contents"})},viewAsReader:function(a){var s=this,l=$(a.target).data("url");if(this.sendViewAsReaderEvent(a),t.stopEvent(a),this.isMissingRequiredFields())return this.$(".on-switch-type").removeClass("active"),this.$(".main-edit-form").removeClass("hidden"),void this.$(".table-of-contents").addClass("hidden");this.isPublish=!1;var i=e.open("","_blank");Promise.resolve(this.onEditSaveSelected()).then(function(e){i.location.href=l}).catch(function(e){i.close();var t=e.responseJSON?e.responseJSON.message:e.message||e.errors||n.utils.trans("We seem to have had some issues saving your story. Please try again.");return s.displayErrors(t)})},isMissingRequiredFields:function(){var e=this.cleanHTMLToText(this.$(".story-title")),n=this.cleanHTMLToText(this.$(".story-description")),a=this.$("#categoryselect").val(),s=this.$("#editable-tags .tag-item"),l=this.$("#acknowledge-checkbox").hasClass("checked"),i=!1;return this.$("#publish-status-banner").empty(),this.isPublish&&!l&&(this.$("#acknowledge-empty-warning").removeClass("hidden").addClass("red-warning"),t.scrollIntoView(this.$("#acknowledge-checkbox")),i=!0),e===this.defaultStoryTitle&&(this.$(".story-title").addClass("empty-border"),this.$("#title-warning").removeClass("hidden").addClass("red-warning"),i=!0),""===n&&(this.$(".story-description").addClass("empty-border"),this.$("#description-warning").removeClass("hidden").addClass("red-warning"),i=!0),"-1"===a&&(this.$("#categoryselect").addClass("empty-border"),this.$("#category-empty-warning").removeClass("hidden").addClass("red-warning"),i=!0),0===s.length&&this.isPublish&&(this.$("#add-tag").addClass("empty-border"),this.$("#tag-empty-warning").removeClass("hidden").addClass("red-warning"),i=!0),i},onAcknowledge:function(e){this.$("#acknowledge-empty-warning").addClass("hidden").removeClass("red-warning")},onPublish:function(e){this.isPublish=!0,this.onEditSaveSelected()},onEditSaveSelected:function(){var n=this;if(this.isStoryPlannerTestGroup){var t=e.store.getState().storyNotes,a=e.app.components.actions.postStoryNotes(this.model.get("id"),t.data);e.store.dispatch(a)}if(!this.showTips){if(this.$("button").attr("disabled",!0),this.$(".save-working").removeClass("hidden"),this.isPublish||this.model.get("published"))if(this.isMissingRequiredFields())return this.$("button").removeAttr("disabled"),void this.$(".save-working").addClass("hidden");var s=this.$("#complete-switch").prop("checked")?1:0,l=this.$("#mature-switch").prop("checked")?4:1,i=this.cleanHTMLToText(this.$(".story-title")),r=this.cleanHTMLToText(this.$(".story-description")),o=this.$("#categoryselect").val(),c=this.$("#languageselect").val();this.model.set({title:i,description:r,category1:o,language:c,complete:s,human_rating:l}),this.partModel&&this.partModel.set({category1:o});var u=this.model.validate(void 0,{ignore:{title:this.isPublish?[]:["isRequired","isNotEq"]}});if(u)throw this.displayErrors(_.values(u)),new Error(_.first(_.values(u)));return this.isNew?Promise.resolve(this.create(!0,!0)):Promise.resolve(this.save().then(function(){n.renderContestBanner()}))}this.$("#finish-tooltip").popover("show")},onEditCancelSelected:function(){this.model.get("id")?a.router.navigate("/myworks",{trigger:!0}):t.goBackInHistory()},displayErrors:function(e){var n=a.currentView instanceof a.views.WorksWriter?".modal-content":"html, body";this.$("#publish-status-banner").html(this.templates.status({errors:[].concat(e)})),$(n).animate({scrollTop:"0px"}),this.$("button").removeAttr("disabled"),this.$(".save-working").addClass("hidden")},create:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=this,i=new a.models.StoryPartCreateModel({title:this.model.get("title"),description:this.model.get("description"),part_title:t.trans("Untitled Part 1"),language:this.model.get("language"),draft:1});return i.set("skip_title",1),Promise.resolve(i.save(void 0,{validation:{ignore:{title:["isRequired","isNotEq","maxLength"]}}})).then(function(e){return l.model.set({id:e.groupid,textids:e.id.toString(),parts:[e]}),l.model.set("skip_title",1),e.groupid,Promise.resolve(l.model.save())}).then(function(){return"-1"==l.$("#target-audience").val()||(l.storyLabelsModel.clear({silent:!0}),Promise.resolve(l.storyLabelsModel.save({id:parseInt(l.model.get("id")),target_audience:l.$("#target-audience").val()})).catch(l.handlePromiseExpected))}).then(function(){return!l.didEditCharacters||(l.didEditCharacters=!1,l.saveCharacters())}).then(function(){return l.saveTags()}).then(function(){return s?l.saveCover():Promise.resolve()}).then(function(){var n=t.currentUser().get("username");if(a.local.clear(i.resource()),a.local.clear(l.model.resource()),t.cacheBust(["Works"],[{username:n}]),e){var s="/myworks/"+l.model.get("id")+"/write/"+l.model.get("parts")[0].id;a.router.navigate(s,{trigger:!0,replace:!1})}}).catch(function(e){l.displayErrors(e.responseJSON?e.responseJSON.message:e.message||e.errors||n.utils.trans("We seem to have had some issues saving your story. Please try again."))})},bustWorksCache:function(){var e=t.cacheBust("Works",{username:n.utils.currentUser().get("username"),published:!0}),a=t.cacheBust("Works",{username:n.utils.currentUser().get("username")}),s=t.cacheBust("StoryCreateModel",{id:this.model.get("id")},null,!0);return Promise.all([e,a,s])},save:function(){var e=this;return this.model.set({language:this.model.get("language")}),Promise.resolve(this.model.save(void 0,{validation:{ignore:{title:["isRequired","isNotEq","maxLength"]}}})).then(function(){return"-1"==e.$("#target-audience").val()||(e.storyLabelsModel.clear({silent:!0}),Promise.resolve(e.storyLabelsModel.save({id:parseInt(e.model.get("id")),target_audience:e.$("#target-audience").val()})).catch(e.handlePromiseExpected))}).then(function(){return!e.didEditCharacters||(e.didEditCharacters=!1,e.saveCharacters())}).then(function(){return e.saveTags()}).then(function(){return!e.isPublish||Promise.resolve(e.partModel.publish())}).then(function(){return e.bustWorksCache()}).then(function(){if(e.isPublish)e.isPreview?($("#generic-modal").modal("hide"),$(".draft-tag").addClass("hidden"),$(".on-publish").addClass("hidden"),$(".on-write").addClass("hidden"),$(".preview-alert").addClass("hidden")):e.partModel&&a.router.navigate(n.utils.formatStoryUrl(e.partModel.get("url")),{trigger:!0});else{var t=n.utils.trans("Saved."),s=a.currentView instanceof a.views.WorksWriter?".modal-content":"html, body";e.$("#publish-status-banner").html(e.templates.status({successMessage:t})),$(s).animate({scrollTop:"0px"}),e.$("button").attr("disabled",!1),e.$(".save-working").addClass("hidden")}}).catch(function(t){var a=t.responseJSON?t.responseJSON.message:t.message||t.errors||n.utils.trans("We seem to have had some issues saving your story. Please try again.");throw e.displayErrors(a),new Error(a)})},saveTags:function(){var e=this.getTags();return Promise.resolve($.ajax({type:"POST",url:"/apiv2/editstorytags",data:{request_type:"add",tag_value:e.join(" "),story_id:this.model.get("parts")[0].id,remove_old_tags:!0}}))},requestSaveCover:function(e,n,t){var a={id:e,image:n};return t&&(a.cover_source_id=t,a.cover_partner="canva"),Promise.resolve($.ajax({type:"POST",url:"/apiv2/updatestorycover",data:a}))},saveCover:function(){var n=this;return!this.FileUpload.file||n.getFile().then(function(a){if(a)return t.cacheBust(["Works","Works"],[{username:t.currentUser().get("username")},{username:t.currentUser().get("username"),published:!0}],n.model.get("id")),n.bustWorksCache(),n.$(".banned-overlay").addClass("hidden"),n.requestSaveCover(n.model.get("id"),a.parsed,a.metadata&&a.metadata.designId).then(function(t){n.model.set("cover",t.cover),n.model.set("cover_source_id",t.cover_source_id),n.model.set("cover_partner",t.cover_partner),e.te.push("event","writer","cover",null,"add",{storyid:n.model.get("id")})})})},onCoverEditIconEnter:function(){this.$("#cover-uploader").addClass("active"),this.$(".on-cover-edit").removeClass("hidden")},onCoverEditLeave:function(){this.$("#cover-uploader").removeClass("active"),this.$(".on-cover-edit").addClass("hidden")},onFileDragEnter:function(){this.onCoverEditIconEnter()},onPopoverOk:function(e){t.stopEvent(e),$(e.currentTarget).parent().parent().parent().popover("hide")},onCloseTooltip:function(e){var n=$(e.currentTarget),t=n.data("bs.popover");if(t&&t.tip().hasClass("in")){var a=n.attr("id");"image-tooltip"===a?this.$(".add-cover-text").click():"description-tooltip"===a?this.$(".story-description").focus():"tags-tooltip"===a?this.onAddTagSelected():"finish-tooltip"===a&&(this.showTips=!1,this.onEditSaveSelected())}},onTriggerTooltip:function(e){t.stopEvent(e);var n=$(e.currentTarget);n.parent().find('[data-toggle="popover"]').popover("show"),n.removeClass("on-trigger-tooltip"),_.delay(function(){n.hasClass("new-cover-upload")&&n.find(".dropdown-holder").attr("data-toggle","dropdown")})},onContestFormPopover:function(e){var t=n.utils.trans;this.initPopover("#content-tooltip",t("What is Sexual Content?"),t("These ratings help us understand if your story has sexual content, and if it does, to what magnitude. Stories with any level of sexual content are eligible to win,<strong> as long as they abide by our content guidelines</strong>."),{1:"https://www.wattpad.com/837462526-the-2020-watty-awards-how-to-submit",2:"https://www.wattpad.com/845099347-wattys-2020-comment-s%27inscrire",3:"https://www.wattpad.com/843502821-wattys-2020-come-iscriversi",4:"https://www.wattpad.com/845109783-wattys-2020-wie-kann-eingereicht-werden",5:"https://www.wattpad.com/843486204-wattys-2020-%C2%BFc%C3%B3mo-presentar-mi-historia",6:"https://www.wattpad.com/843551600-wattys-2020-como-enviar",13:" https://www.wattpad.com/843913230-wattys-2020-hoe-moet-ik-inzenden",18:"https://www.wattpad.com/845086455-wattys-2020-paano-ang-pagsali",20:"https://www.wattpad.com/845019680-wattys-2020-cara-mendaftarkan",22:"https://www.wattpad.com/846001583-wattys-2020-bagaimana-nak-hantar",23:"https://www.wattpad.com/845105800-2020-watty-%C3%B6d%C3%BClleri-nasil-ba%C5%9Fvurulur"}[a.get("language")])},postRender:function(){var e=n.utils.trans;this.isPreview&&this.model.get("title")===this.defaultStoryTitle&&this.$(".story-title").removeClass("has-title"),this.initPopover("#image-tooltip",e("Stories with a cover image get 23x more reads than ones without"),e("Must be in PNG, GIF, or JPG format, smaller than 2MB. Recommended cover dimensions: 512x800 pixels"),"https://www.wattpad.com/253535287-secrets-to-getting-more-reads-add-a-story-cover"),this.initPopover("#description-tooltip",e("Stories with descriptions get 100x more reads than ones without"),e("Write a short description that will excite your readers and hook them in"),"https://www.wattpad.com/253611251-secrets-to-getting-more-reads-write-a-story"),this.initPopover("#category-tooltip",e("This information helps us understand more about your story"),null,"https://support.wattpad.com/hc/en-us/articles/200774334-Content-Guidelines#categories"),this.initPopover("#characters-tooltip",e("Add up to 20 Main Characters. This information will not be shown to your readers. Instead, this information will be used to help Wattpad more easily discover your story."),null,"https://support.wattpad.com/hc/en-us/articles/360027382932-Add-Main-Characters-to-a-Story"),this.initPopover("#tags-tooltip",e("Adding 10 or more tags can help increase discoverability"),e("Tags should be a word or concept, reflective of your story’s themes and subgenres"),"https://www.wattpad.com/253614397-secrets-to-getting-more-reads-tags-tags-tags"),this.initPopover("#target-audience-tooltip",e("This information will not be shown to your readers. Instead, this information will be used to help Wattpad more easily discover your story."),null,"https://support.wattpad.com/hc/en-us/articles/360027383472-Add-a-Target-Audience-to-a-Story"),this.initPopover("#language-tooltip",e("Wattpad has a global audience; make sure your story reaches the right readers")),this.initPopover("#rating-tooltip",e("Rate your story appropriately to ensure a positive reading experience for your readers with no unwanted surprises"),null,"https://support.wattpad.com/hc/en-us/articles/200774334-Content-Guidelines#ratings");var t="";1===parseInt(a.get("language"),10)&&(t='<a href="https://www.wattpad.com/256413083-secrets-to-getting-more-reads-mark-your-story" target="_blank">Learn more</a>'),this.initPopover("#story-tooltip",e("If your story is complete, please let your readers know. ")+t),this.initPopover("#finish-tooltip",e("Don’t worry, you can finish adding your story information later"),null,"https://www.wattpad.com/story/71065441-secrets-to-getting-more-reads","finish-tooltip-ok"),this.prefilledTag&&(this.initPopover("#prefilled-tag-tooltip","<p>We've automatically added <span class='bold'>#"+this.prefilledTag+"</span> to your submission. This ensures we've received your entry.</p>",null,null,null,!0),this.$("#prefilled-tag-tooltip").popover("show"))},initPopover:function(e,t,a,s,l,i){var r="";t&&(r+="<div class='main-content'>"+t,a&&(r+="<div class='secondary-content'>"+a+"</div>"),r+="</div>"),r+="<div class='tooltip-footer'>",s&&(r+="<a target='_blank' href="+s+">"+n.utils.trans("Learn More")+"</a>"),r+="<button class='btn on-okay "+(i?"btn-link ":"btn-orange "),l&&(r+=l),r+="'>"+(i?"Got It":n.utils.trans("OK"))+"</button></div>";var o=this;this.$(e).popover({template:'<div class="popover writer-tooltip" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',html:!0,placement:"auto",content:function(){return r}}).on("shown.bs.popover",function(e){var n=$(e.target);$(document).on("click.closePopover",function(e){0===$(e.target).parents(".popover").length&&n.popover("hide")})}).on("hide.bs.popover",function(e){$(document).off("click.closePopover"),o.onCloseTooltip(e)})},ratingChange:function(e){$(e.currentTarget).prop("checked")?(this.$(".everyone").addClass("hidden"),this.$(".writerMature").removeClass("hidden")):(this.$(".everyone").removeClass("hidden"),this.$(".writerMature").addClass("hidden"))},onStoryTitleKeyUp:function(){"-1"!==this.$("#categoryselect").val()&&this.isNew&&this.$(".on-edit-save .text").text(n.utils.trans("Next"))},onStoryTitleFocus:function(){var e=this.$(".story-title");e.text().trim()===this.defaultStoryTitle&&(e.text(""),e.addClass("has-title"))},onStoryTitleBlur:function(){var e=this.$(".story-title");""===e.text().trim()?(e.text(this.defaultStoryTitle),e.removeClass("has-title")):e.hasClass("empty-border")&&""!==e.text()&&(e.removeClass("empty-border"),this.$("#title-warning").removeClass("red-warning"))},onCategorySelected:function(e){""!==this.$(".story-title").text()&&this.isNew&&this.$(".on-edit-save .text").text(n.utils.trans("Next"));var t=$(e.currentTarget);t.hasClass("empty-border")&&"-1"!==t.val()&&(t.removeClass("empty-border"),this.$("#category-empty-warning").removeClass("red-warning"))},onEditClose:function(){$(".publish-modal").modal("hide")},remove:function(){$(document).off("click.closePopover"),a.views.Base.prototype.remove.apply(this,arguments)},showFile:function(){this.isNew&&(this.$(".new-cover-upload").addClass("hidden"),this.$("#cover-uploader").removeClass("hidden"),this.$("#image-tooltip").addClass("hidden"))},onStoryDescriptionBlur:function(e){var n=$(e.currentTarget);n.hasClass("empty-border")&&""!==n.val()&&(n.removeClass("empty-border"),this.$("#description-warning").removeClass("red-warning"))},onSwitchTabs:function(e){"toc"===e&&this.$(".table-of-contents").hasClass("hidden")?(this.$(".table-of-contents").removeClass("hidden"),this.$(".main-edit-form").addClass("hidden")):"story-detail"===e&&this.$(".main-edit-form").hasClass("hidden")?(this.$(".main-edit-form").removeClass("hidden"),this.$(".table-of-contents").addClass("hidden")):"story-planner"===e&&(this.$(".table-of-contents").addClass("hidden"),this.$(".main-edit-form").addClass("hidden"))},fileReceivedCallback:function(){var n=this;this.model.id&&this.saveCover().then(function(){e.dispatchEvent(new CustomEvent("myworks:cover:saved",{detail:n.model.toJSON()}))})},createCanvaCover:function(n){var t=this,a=new XMLHttpRequest;a.open("GET",n.exportUrl,!0),a.responseType="blob",a.onload=function(a){if(200==this.status){var s=this.response;t.FileUpload.file=s,t.FileUpload.file.designId=n.designId,t.showFile(),t.FileUpload.$domDrop.addClass("drop-done"),e.te.push("event","writer","cover",null,"create",{target:"canva"})}},a.send()},handleUpdateCopyright:function(e){this.model.set({copyright:e})}})),a.mixin(a.views.WorksItemDetails,"FileUpload","DragAndSort","SocialSharing","AutocompleteField")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(49),s=t.n(a);!function(e,n,t,a,l){a.add("PostPublishModal",a.views.Base.extend({template:s.a,className:"post-publish-modal modal fade",events:{"tap .share-embed":"hideModal","click .share-embed":"stopEvent","tap .on-post-message":"onPostMessage","click .on-post-message":"stopEvent"},showModal:function(){this.$el.modal("show")},hideModal:function(){this.$el.modal("hide")},render:function(){return this.$el.html(this.template(n.extend(this.model.toJSON(),{links:this.options.links,showBroadcastMessaging:this.options.showBroadcastMessaging,username:l.currentUser().get("username"),testGroups:t.testGroups}))),this},sendPrometheusEventFromBroadcast:function(){var n=this.model.get("group").id;e.te.push("event","modal","story_publish","broadcast_message","click",{storyid:n})},onPostMessage:function(e){l.stopEvent(e);var n=this.$(".broadcast-message").val().trim(),s=this.model.get("group").id,i=t.siteRoot+"/story/"+s;if(""!==n){var r={broadcast:!0,body:n+" "+i};new a.models.Message({ownername:l.currentUser().get("username")}).save(r,{success:this.onBroadcastMessageSuccess.bind(this),error:this.onBroadcastMessageError.bind(this)})}},onBroadcastMessageSuccess:function(e,n,t){this.sendPrometheusEventFromBroadcast(),this.trigger("message:new",e),this.$(".broadcast-message").val("").blur();var a=l.iconify("fa-check",16,"wp-base-2")+l.trans("Your message has been posted!");this.$(".message-info").html(a),this.$(".message-wrapper").addClass("hidden"),this.$(".profile-link").removeClass("hidden")},onBroadcastMessageError:function(e,n,t){var a=l.iconify("fa-warning",16,"wp-lighterror")+l.trans("There was a problem posting your message, please try again later.");this.$(".message-info").html(a)}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,n,t){"use strict";t.r(n);var a=t(50),s=t.n(a);!function(e,n,t,a){a.add("DummyReactView",a.views.Base.extend({template:s.a,initialize:function(e){if(!(e=e||{}).component)throw new Error("Must pass in a React component");if(!e.componentId)throw new Error("Must pass in a React componentId");this.component=e.component,this.componentId=e.componentId,this.componentData=e.componentData||{}},render:function(){return this.$el.html(this.template(_.extend(this.componentData,{component:this.component,componentId:this.componentId}))),this}}))}(window,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(9),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("PromotedStoryItem",i.views.Base.extend({className:"promoted-story-section",events:{"tap .on-story-preview":"onStoryPreview","click .on-story-preview":"stopEvent"},initialize:function(e){Handlebars.registerPartial("core.item_views.story_item",s.a),e=e||{},this.fromPage=e.fromPage||"",this.template=e.template||n.noop,this.storyId=e.storyId||null,this.promotedEl=e.promotedEl||"",this.viewed=!1,this.model=new i.models.PromotedStoryModel(e),n.bindAll(this,"trackViews")},remove:function(){this.recommendedStories&&this.recommendedStories.remove(),t(e).off("scroll",this.trackViews),i.views.Base.prototype.remove.apply(this,arguments)},render:function(){var a=this;return a.model.fetch().then(function(s){if(s)if("stories-similar"==a.templateName){var l={hasStories:!0,stories:[s]};a.$el.empty().append(a.template(l)),t(e).on("scroll",a.trackViews),t(a.promotedEl).removeClass("hidden"),n.defer(function(){a.trackViews()})}else{s.user.fullname=s.user.fullname||s.user.name,s.user.name=s.user.username;var o={items:{stories:[s]},tracking:{impressionUrl:a.model.impressionUrls,clickUrl:a.model.clickUrls}},c=new r.Model;c.set("data",o),c.set("type","promotedStoriesRecommended"),a.recommendedStories=new i.views.DiscoverModule({model:c,experience:"story_reading"}),a.recommendedStories.setElement(t(".promoted-recommended-stories-view")),a.recommendedStories.render(),t(".colWrap").removeClass("no-promoted-section"),t(".colWrap").addClass("has-promoted-section"),t(a.promotedEl).removeClass("hidden")}}),this},trackViews:n.throttle(function(){l.isOnScreen(this.$el,.67)&&!this.viewed&&(this.viewed=!0,n.each(this.model.impressionUrls,function(e){t.ajax({type:"GET",url:e})}))},200),onStoryPreview:function(a){var s=t(a.currentTarget),l=this.model.storyModel;"storyReading"==this.fromPage&&e.te.push("event","reading","similar_stories","promoted_story","click",{current_storyid:this.storyId,storyid:l.get("id"),campaignid:s.data("author-name")}),n.each(this.model.clickUrls,function(e){t.ajax({type:"GET",url:e})});var r=new i.views.BrowseStoryPreview({isHome:!1,model:l});this.$("#preview-modal").empty().append(r.render().$el),r.openModal()}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(51),s=t.n(a);!function(e,n,t,a){a.add("SearchFieldBase",a.views.Base.extend({autocompleteTemplate:s.a,events:{"tap    .on-autocomplete-item":"onAutocompleteItem","click  .on-autocomplete-item":"stopEvent"},initialize:function(e){this.listenTo(a,"navbar:search:save",this.saveSearchTerm)},getSearchUrl:function(e){return"/search/"},saveSearchTerm:function(e){try{if(e=e.trim(),!n.isEmpty(e)){this.sendSearchTracking(e);var t=JSON.parse(localStorage.getItem("recentSearches"))||[];t.unshift(e),t=n.uniq(t),localStorage.setItem("recentSearches",JSON.stringify(t.slice(0,3)))}}catch(e){}},sendSearchTracking:function(n){e.te.push("event","search","story",null,"search",{search:n.trim(),tags:n.match(/#[\w]+(?=\s|$)/g)})},onAutocompleteItem:function(e){var n=$(e.currentTarget).attr("href");t.utils.pushEvent({autocomplete:{click:!0,category:"Nav",action:"Autocomplete",label:n.split("/").slice(1).join(":")}}),this.$(this.targetSelector).blur(),a.router.navigate(n,{trigger:!0})}}))}(window,_,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(2),s=t.n(a);!function(e,n,t,a){a.add("SearchField",a.views.SearchFieldBase.extend({className:"dropdown",template:s.a,enabled:!0,events:n.extend({"input    #search-query":"onSearchInput","blur     #search-query":"onSearchBlur","keydown  #search-query":"onSearchKeyDown","submit form":"onSubmit","focus  form":"focusGained"},a.views.SearchFieldBase.prototype.events),initialize:function(e){this.selectedItem=null,this.searchResults=null,this.targetSelector="#search-query",this.loadingIcon=t.utils.iconifySpin("fa-loading",16,a.get("device"),{hash:{color:"wp-neutral-5"}}),this.listenTo(a,"navbar:search:enable",this.enable),this.listenTo(a,"navbar:search:disable",this.disable),this.listenTo(a,"navbar:search:set",this.set),a.views.SearchFieldBase.prototype.initialize.apply(this,arguments)},render:function(){return this.$el.html(this.template()),this},renderAutocomplete:function(e){this.$("ul.autocomplete-item-container").append(this.autocompleteTemplate({results:e}))},showAutocompleteSuggestions:n.debounce(function(e){var n=new a.collections.Autocomplete([],{searchTerm:e}),t=this;Promise.resolve(n.fetch()).then(function(){t.cleanup(),n.length&&(t.searchResults=n.toJSON(),t.renderAutocomplete(t.searchResults),t.showResults())})},500),showResults:function(){var e=this.$el.children("form");e.hasClass("open")||e.addClass("open")},hideResults:function(){var e=this.$el.children("form");e.hasClass("open")&&(e.removeClass("open"),this.cleanup())},cleanup:function(){this.$("ul, .loading-icon").empty(),this.selectedItem=null,this.searchResults=null},selectPrev:function(){if(null===this.selectedItem)return this.selectedItem=this.searchResults.length-1,void this.highlightSelected();var e=this.selectedItem-1;e<0&&(e=this.searchResults.length-1),this.selectedItem=e,this.highlightSelected()},selectNext:function(){if(null===this.selectedItem)return this.selectedItem=0,void this.highlightSelected();var e=this.selectedItem+1;e>=this.searchResults.length&&(e=0),this.selectedItem=e,this.highlightSelected()},highlightSelected:function(){var e=this.searchResults[this.selectedItem].itemId;this.$(".autocomplete-item").removeClass("selected"),this.$(".autocomplete-item#"+e).addClass("selected")},loadSelection:function(){if(null!==this.selectedItem){var e=this.searchResults[this.selectedItem].itemId;this.$(".autocomplete-item#"+e).children("a").trigger("tap")}},onSearchKeyDown:function(e){if((13===e.which&&this.selectedItem||38===e.which||40===e.which)&&t.utils.stopEvent(e),27!==e.which){if(this.searchResults&&!(this.searchResults.length<1))switch(e.which){case 38:this.selectPrev();break;case 40:this.selectNext();break;case 13:this.loadSelection()}}else this.hideResults()},onSearchInput:function(e){var n=this.$(this.targetSelector).val();this.enabled?n.trim().length>=2&&(this.hideResults(),this.$(".loading-icon").html(this.loadingIcon),this.showAutocompleteSuggestions(n.trim())):a.trigger("navbar:search:query",n)},onSearchBlur:function(n){this.saveSearchTerm($(n.currentTarget).val());var t=this;e.setTimeout(function(){t.hideResults()},500)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},set:function(e,n){this.$(this.targetSelector).val(e),!1!==n&&this.onSearchInput()},onSubmit:function(e){if(this.enabled)this.searchXHR&&(e.stopPropagation(),this.searchXHR.abort(),this.hideResults(),this.$(".loading-icon").html(this.loadingIcon));else{t.utils.stopEvent(e);var n=this.$("#search-query").val();this.saveSearchTerm(n),a.trigger("navbar:search:query",n)}},focusGained:function(){a.trigger("navbar:search:focus")}}))}(window,_,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(52),s=t.n(a),l=t(2),i=t.n(l),r=t(53),o=t.n(r),c=t(10),u=t.n(c),d=t(11),h=t.n(d),p=t(12),m=t.n(p),f=t(54),g=t.n(f);!function(e,n,t,a){a.add("Header",a.views.Base.extend({template:null,partials:{"core.header.community_menu":m.a,"desktop.browse.browse_topics":h.a,"core.header.discover_menu":u.a,"desktop.components.header.partials.profile_menu":o.a,"core.header.search_field":i.a,"desktop.components.header.partials.create_menu":g.a},events:{"tap    .on-language":"onLanguageSelected","click  .on-language":"stopEvent","tap    #header-item-login":"onAuthModal","click  #header-item-login":"stopEvent","tap    #header-item-signup":"onAuthModal","click  #header-item-signup":"stopEvent","tap .on-logout":"onLogout","click .on-logout":"stopEvent","tap .on-premium":"onPremium","click  .on-navigate":"onNavigate","mouseleave .show-related-tags":"onUnhoverCategory","mouseenter .show-related-tags":"onCategoryHovered","tap .show-related-tags":"onCategoryHovered","click .show-related-tags":"stopEvent","tap .on-topic":"onTopicClick","click .on-topic":"onTopicClick"},title:function(){t.utils.trans("Join Wattpad")},subtitle:function(){t.utils.trans("Be part of a global community of readers and writers, all connected through the power of story.")},initialize:function(e){e=e||{},this.template=s.a,n.each(this.partials,function(e,n,t){Handlebars.registerPartial(n,e)}),this.searchFieldView=new a.views.SearchField;var t=a.get("device");this.showCurationPanel=t.is.desktop;var l=a.get("supported-languages").get(a.get("language"));this.language=l.get("code")},render:function(){var s,l={},i=null,r=null,o=[],c=this;return l.currentUrl=t.utils.getNextUrl(e.location.href),t.utils.currentUser().authenticated()&&(l["current-user"]=t.utils.currentUser().toJSON(),l["current-user"].recommendedTags=e.wattpad.userRecommendedTags),n.each(JSON.parse(t.newCurationProfiles),function(e){e.code===c.language&&(r=e.username)}),r&&(i=new a.collections.ReadingLists([],{username:r}),o.push(i.fetchNextSet())),s=new a.collections.BrowseTopics,o.push(s.fetch()),Promise.all(o).then(function(){l.browseTopics=t.utils.sortByColumns(s.toJSON(),3),l.newCurationLists=r&&c.showCurationPanel?i.toJSON():null,l.testGroups=t.testGroups,c.renderAllViews(l)}).catch(function(){c.renderAllViews(l)}),this},renderAllViews:function(e){this.$el.html(this.template(e)),this.searchFieldView&&this.$("#header-item-search").html(this.searchFieldView.render().$el)},setElement:function(e){Monaco.View.prototype.setElement.apply(this,arguments),this.searchFieldView&&this.searchFieldView.setElement(this.$("#header-item-search > div"))},onLanguageSelected:function(n){var t=$("#languageModal iframe");t.attr("src","/settings/language?jq=true"),t[0].onload=function(){t[0].contentWindow.callbackFn=function(n){$("#languageModal").modal("hide"),n&&e.location.reload()}},$("#languageModal").modal({show:!0}).removeClass("hide")},onAuthModal:function(n){var s=n.currentTarget.getAttribute("data-form"),l="signup"===s?t.utils.trans("Join Wattpad"):t.utils.trans("Log in to Wattpad"),i=new a.views.SignUpPrompt({model:new a.models.Authsignup,title:l,subtitle:t.utils.trans("Be part of a global community of readers and writers, all connected through the power of story."),formType:"navbar_modal",form:s,nextUrl:e.location.href}),r=s.concat("-modal-wrapper");$("#generic-modal .modal-body").html(i.render().$el);var o=$("#generic-modal").find(".modal-dialog");o.hasClass("signup-modal-wrapper")&&o.removeClass("signup-modal-wrapper"),o.hasClass("login-modal-wrapper")&&o.removeClass("login-modal-wrapper"),o.addClass(r),$("#generic-modal").modal("show")},onPremium:function(n){e.te.push("event","subscriptions","cta",null,"view",{cta_type:"header_button"})},onNavigate:function(e){e.preventDefault(),a.views.Base.prototype.onNavigate.apply(this,arguments)},onLogout:function(n){t.utils.setCookie("hc",0),e.localStorage.clear(),t.utils.redirectToServer("/logout")},currentTimer:null,onCategoryHovered:function(e){this.currentTimer=setTimeout(function(){var n=this.$("#main-browse-navigate .active");$(n.data("id")).addClass("hide"),n.removeClass("active");var t=$(e.target);$(t.data("id")).removeClass("hide"),t.addClass("active")},50)},onUnhoverCategory:function(e){clearTimeout(this.currentTimer)},onTopicClick:function(n){e.te.push("event","browse","topic",null,"click",{topic:$(n.target).text()})}}))}(window,_,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(55),s=t.n(a);!function(e,n,t,a,l){l.add("Announcement",Monaco.View.extend({template:s.a,className:"announcement",events:{"click  .on-dismiss":"stopEvent","tap    .on-dismiss":"onDismiss"},initialize:function(e){this.options=e},render:function(){return this.$el.html(this.template(this.getData())),this},getData:function(){return this.options||{}},onDismiss:function(e){$("#announcements-container").remove(),this.remove(),a.setCookie("anDi",1,30)},stopEvent:function(e){t.utils.stopEvent(e)}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(56),s=t.n(a);!function(e,n,t,a){a.add("VerifyEmail",a.views.Announcement.extend({template:s.a,state:"default",className:a.views.Announcement.prototype.className+" verify-email",events:n.extend({"click  .on-verify":"stopEvent","tap    .on-verify":"onVerify","click  .on-changeemail":"stopEvent","tap    .on-changeemail":"onChangeEmail","click  .learn-more":"stopEvent","tap    .learn-more":"onLearnMore","tap    .on-close":"onClose","click  .on-close":"stopEvent"},a.views.Announcement.prototype.events),initialize:function(e){Handlebars.registerPartial("core.signup_prompt",function(){return""})},getData:function(){var e={};return e[this.state]=!0,e},onVerify:function(e){t.utils.stopEvent(e);var n=this;Promise.resolve($.ajax({type:"POST",url:"/api/v3/users/validate",data:{activation_email:"true"}})).then(function(e){n.onEmailSent({success:!0,title:"sent"})}).catch(function(e){n.onEmailSent({success:!1})})},onEmailSent:function(e){var n=new a.views.SentEmailModal(e);$("#generic-modal .modal-body").html(n.render().$el),$("#generic-modal").modal({})},onChangeEmail:function(e){t.utils.stopEvent(e);var n={model:new a.models.ChangeEmailModal},s=new a.views.ChangeEmailModal(n);$("#generic-modal .modal-body").html(s.render().$el),$("#generic-modal").modal({})},onLearnMore:function(e){t.utils.stopEvent(e);var n=new a.views.PleaseVerifyModal;$("#generic-modal .modal-body").html(n.render().$el),$("#generic-modal").modal({})},onClose:function(e){$("#generic-modal").modal("hide")}}))}(window,_,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(57),s=t.n(a);!function(e,n,t,a){a.add("EmailVerifiedSuccess",a.views.Announcement.extend({template:s.a,state:"default",className:a.views.Announcement.prototype.className+" email-verified-success",events:n.extend({"tap    .on-close":"onClose","click  .on-close":"stopEvent"},a.views.Announcement.prototype.events),onClose:function(e){this.remove()}}))}(window,_,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(58),s=t.n(a);!function(e,n,t,a){a.add("SentEmailModal",a.views.Base.extend({template:s.a,events:{"click  .on-verify":"stopEvent","tap    .on-verify":"onVerify","click  .on-changeemail":"stopEvent","tap    .on-changeemail":"onChangeEmail","tap    .on-close":"onClose","click  .on-close":"stopEvent"},initialize:function(e){e=e||{},this.success=e.success,"changed"===e.title?this.title=t.utils.trans("Email Changed"):this.title=t.utils.trans("Email Sent");var n=e.emailNew?e.emailNew:t.utils.currentUser().attributes.email;this.sentence=t.utils.trans("Please check your email <strong>%s</strong> to complete sign-up.",t.utils.sanitizeHTML(n))},render:function(){return this.$el.html(this.template({success:this.success,title:this.title,sentence:this.sentence})),this},onVerify:function(e){t.utils.stopEvent(e);var n=this;Promise.resolve($.ajax({type:"POST",url:"/api/v3/users/validate",data:{activation_email:"true"}})).then(function(e){n.onEmailSent({success:!0,title:"sent"})}).catch(function(e){n.onEmailSent({success:!1})})},onEmailSent:function(e){var n=new a.views.SentEmailModal(e);$("#generic-modal .modal-body").html(n.render().$el),$("#generic-modal").modal({})},onChangeEmail:function(e){t.utils.stopEvent(e);var n={model:new a.models.ChangeEmailModal},s=new a.views.ChangeEmailModal(n);$("#generic-modal .modal-body").html(s.render().$el),$("#generic-modal").modal({})},onClose:function(e){$("#generic-modal").modal("hide")}}))}(window,_,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(59),s=t.n(a);!function(e,n,t,a){a.add("ChangeEmailModal",a.views.Base.extend({template:s.a,events:{"click  .on-submit":"stopEvent","tap    .on-submit":"onSubmit","tap    .on-close":"onClose","click  .on-close":"stopEvent"},initialize:function(e){e=e||{};var n=t.utils.currentUser().attributes.email;this.sentence=t.utils.trans("You registered your account with <strong>%s</strong>.",t.utils.sanitizeHTML(n))},render:function(){return this.$el.html(this.template({sentence:this.sentence})),this},onSubmit:function(){var e=t.utils.currentUser().attributes.username,n=$("#new-email").val(),s=$("#confirm-email").val();if(0!==$(".valid").length){if(n!==s)return $("#errorMessage").html(t.utils.trans("Please ensure the email fields match.")),void $(".alert-danger").removeClass("hidden");Promise.resolve($.ajax({type:"POST",url:"/apiv2/updateuseremail",dataType:"text",data:{username:e,email:n,confirm_email:s}})).then(function(e){var t={success:!0,title:"changed",emailNew:n},s=new a.views.SentEmailModal(t);$("#generic-modal .modal-body").html(s.render().$el),$("#generic-modal").modal({})}).catch(function(e){$("#errorMessage").html(t.utils.trans("Oops, looks like we can't reach that email address. You may want to try a different one.")),$(".alert-danger").removeClass("hidden")})}},onClose:function(e){$("#generic-modal").modal("hide")}})),a.mixin(a.views.ChangeEmailModal,"ValidationView")}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("ChangeEmailModal",Monaco.Model.extend({defaults:{email:null},validationRules:{email:[{func:"isRequired",msg:a.trans("Email is required.")},{func:"isEmail",msg:a.trans("That is not a valid email address.")},{func:"uniqueEmail",async:!0}]},uniqueEmail:function(e,n){return Promise.resolve($.ajax("/api/v3/users/validate",{data:{email:e}}))},uniqueUsername:function(e,n){return Promise.resolve($.ajax("/api/v3/users/validate",{data:{username:e}}))}})),s.mixin(s.models.ChangeEmailModal,"ValidationModel")}(window,_,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(60),s=t.n(a);!function(e,n,t,a){a.add("PleaseVerifyModal",a.views.Base.extend({template:s.a,events:{"click  .on-verify":"stopEvent","tap    .on-verify":"onVerify","click  .on-changeemail":"stopEvent","tap    .on-changeemail":"onChangeEmail","tap    .on-close":"onClose","click  .on-close":"stopEvent"},initialize:function(e){e=e||{};var n=t.utils.currentUser().attributes.email;this.sentence=t.utils.trans("Please check your email <strong>%s</strong> to complete sign-up.",t.utils.sanitizeHTML(n))},render:function(){return this.$el.html(this.template({sentence:this.sentence})),this},onVerify:function(e){t.utils.stopEvent(e);var n=this;$.ajax({type:"POST",url:"/api/v3/users/validate",data:{activation_email:"true"},success:function(e){n.onEmailSent({success:!0})},error:function(e){n.onEmailSent({success:!1})}})},onEmailSent:function(e){var n=new a.views.SentEmailModal(e);$("#generic-modal .modal-body").html(n.render().$el),$("#generic-modal").modal({})},onChangeEmail:function(e){t.utils.stopEvent(e);var n={model:new a.models.ChangeEmailModal},s=new a.views.ChangeEmailModal(n);$("#generic-modal .modal-body").html(s.render().$el),$("#generic-modal").modal({})},onClose:function(e){$("#generic-modal").modal("hide")}}))}(window,_,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(61),s=t.n(a);!function(e,n,t,a,l){l.add("SpielbergoAnnouncment",l.views.Announcement.extend({template:s.a,className:l.views.Announcement.prototype.className+" spielbergo",events:n.extend({"click  .on-navigate":"stopEvent","tap    .on-navigate":"onNavigate"},l.views.Announcement.prototype.events),render:function(){return l.views.Announcement.prototype.render.apply(this,arguments),this.$el.html(this.template({isMobile:l.get("device").is.mobile})),this},onDismiss:function(e){a.setCookie("noSbg",1),l.views.Announcement.prototype.onDismiss.apply(this,arguments)},onNavigate:function(n){this.onDismiss(n),e.location.href=$(n.currentTarget).attr("href")}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(62),s=t.n(a);!function(e,n,t,a){a.add("BetaProgram",a.views.Announcement.extend({template:s.a,state:"default",className:a.views.Announcement.prototype.className+" beta",events:n.extend({"click  .on-joinbeta":"stopEvent","tap    .on-joinbeta":"onJoinBeta"},a.views.Announcement.prototype.events),getData:function(){var e={};return e[this.state]=!0,e},onDismiss:function(e){this.remove(),t.utils.setCookie("nobb","1")},onJoinBeta:function(e){t.utils.stopEvent(e);var n=this,a=t.utils.currentUser();a&&$.ajax({type:"PUT",url:"/api/v3/users/"+a.get("username"),data:{beta_enabled:!0},success:function(e){n.state=e&&e.beta_enabled?"success":"fail",n.render()},error:function(e){n.state="fail",n.render()}})}}))}(window,_,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(63),s=t.n(a);!function(e,n,t,a){a.add("Survey",a.views.Announcement.extend({template:s.a,state:"default",className:a.views.Announcement.prototype.className+" survey",events:n.extend({"tap    .on-click":"onClick","click  .on-click":"stopEvent"},a.views.Announcement.prototype.events),onClick:function(n){var a=this.$("div.survey-banner");t.utils.stopEvent(n),e.document.cookie=a.data("survey-cookie")+"=1;path=/;domain="+e.location.hostname.replace("www",""),this.remove(),e.open(a.data("target"),"_blank")},onDismiss:function(n){var a=this.$("div.survey-banner");t.utils.stopEvent(n),e.document.cookie=a.data("survey-cookie")+"=1;path=/;domain="+e.location.hostname.replace("www",""),this.remove()}}))}(window,_,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(64),s=t.n(a);!function(e,n,t,a){a.add("TransitionGroup",a.views.Announcement.extend({template:s.a,state:"default",className:a.views.Announcement.prototype.className+" transition-group",events:n.extend({"click  .on-learnmore":"stopEvent","tap    .on-learnmore":"onLearnMore"},a.views.Announcement.prototype.events),getData:function(){var e={};return e[this.state]=!0,e},onDismiss:function(e){this.remove(),t.utils.setCookie("noRe","1")},onLearnMore:function(n){switch(t.utils.stopEvent(n),this.remove(),t.utils.setCookie("noRe","1"),t.utils.getCookie("locale")||"en_US"){case"en_US":e.location="https://support.wattpad.com/hc/en-us/articles/204991780";break;case"fr_FR":e.location="https://support.wattpad.com/hc/en-us/articles/204775074";break;case"es_ES":e.location="https://support.wattpad.com/hc/es/articles/204991780";break;case"pt_PT":e.location="https://support.wattpad.com/hc/en-us/articles/204776024";break;case"ru_RU":e.location="https://support.wattpad.com/hc/en-us/articles/204777014";break;case"de_DE":e.location="https://support.wattpad.com/hc/en-us/articles/204991230";break;case"tr_TR":e.location="https://support.wattpad.com/hc/tr/articles/204991780";break;default:e.location="https://support.wattpad.com/hc/en-us/articles/204991780"}}}))}(window,_,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(65),s=t.n(a);!function(e,n,t,a){a.add("Footer",Monaco.View.extend({template:s.a,events:{"click .on-language":"stopEvent","tap .on-language":"onLanguageSelected","click .on-premium":"stopEvent","tap .on-premium":"onPremium","click .on-back-to-mobile":"stopEvent","tap .on-back-to-mobile":"onBackToMobile"},render:function(){var e={isCookieSet:!!t.utils.getCookie("mw-no")};return this.$el.html(this.template(e)),this},onLanguageSelected:function(e){var n=$("#languageModal iframe");n.attr("src","/settings/language?jq=true"),n[0].onload=function(){n[0].contentWindow.callbackFn=function(e){var n=t.utils.getWindowSearch()||"?";$("#languageModal").modal("hide"),e&&(n.indexOf("language")>-1?n=n.replace(/language=[^\&]*/,"language="+e):n+="&language="+e,t.utils.reloadWithQuery(n.replace(/\?\&/,"?")))}},$("#languageModal").modal({show:!0}).removeClass("hide")},onPremium:function(n){e.te.push("event","subscriptions","cta",null,"view",{cta_type:"footer_button"}),t.utils.redirectToServer(n.currentTarget.href)},onBackToMobile:function(n){e.backToMobileWeb()},stopEvent:function(e){t.utils.stopEvent(e)}}))}(window,_,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(66),s=t.n(a);!function(e,n,t,a){a.add("ReportModal",a.views.Base.extend({className:"report-modal modal fade",attributes:{role:"dialog"},template:s.a,events:{"tap   .on-option-selected":"onOptionSelected","click .on-option-selected":"onOptionSelected","keyup .details-input":"onInputDetails","tap   .on-prev":"onPrev","click .on-prev":"stopEvent","tap   .on-next":"onNext","click .on-next":"stopEvent"},buttonStates:{SUBMITTED:1,SUBMIT:2,NEXT:3},zendeskCustomFieldIds:{REQUEST_TYPE:21523158,CONDUCT_REPORT:22875340,PLATFORM:21519886,UI_LANGUAGE:22708584},initialize:function(e){if(!(e=e||{}).requestType)throw new Error("ReportModal Mixin | support ticket request type not specified");if(!e.reportForm)throw new Error("ReportModal Mixin | report form specifications not given");this.requestType=e.requestType,this.moreInfo=e.moreInfo,this.reportForm=e.reportForm,this.mainModal=e.mainModal,this.modalTitle=e.modalTitle,this.reportUserName=e.reportUserName,this.step=1,this.requireDetail=!1},render:function(){var e=this;return this.$el.html(this.template(this.reportForm)),this.$el.on("hidden.bs.modal",function(){e.resetModal()}),this.$el.addClass("main-report-modal"),this.$(".modal-title").text(this.modalTitle),this},onOptionSelected:function(e){var n=this.$(e.currentTarget),t=n.data("require-detail"),a=n.data("intext"),s=n.data("tag");t?(this.setButtonState(!1,this.buttonStates.NEXT),this.$(".reason-selected").html(n.val()),this.$(".details-input").attr("placeholder",a),this.$(".checkbox").addClass("hide"),this.$("."+s).removeClass("hide"),this.requireDetail=!0):(this.setButtonState(!1,this.buttonStates.SUBMIT),this.requireDetail=!1)},onInputDetails:function(e){this.setButtonState(!this.$(e.currentTarget).val().length,this.buttonStates.SUBMIT)},onNext:function(e){1===this.step&&this.requireDetail?this.toStep2():this.toStep3()},onPrev:function(e){3===this.step&&this.requireDetail?this.toStep2():(this.toStep1(),this.$(":checkbox").prop("checked",!1),this.$(".details-input").val(""))},toStep1:function(){this.step=1,this.$(".btn-prev").addClass("hidden"),this.$(".modal-body-content").removeClass("step-2 step-3").addClass("step-1"),this.setButtonState(!1,this.requireDetail?this.buttonStates.NEXT:this.buttonStates.SUBMIT)},toStep2:function(){this.step=2,this.$(".btn-prev").removeClass("hidden"),this.$(".modal-body-content").removeClass("step-1 step-3").addClass("step-2"),this.setButtonState(!this.$(".details-input").val().length,this.buttonStates.SUBMIT)},toStep3:function(){var e=this.$(".btn-prev"),n=this.$(".requester-contact-info");this.step=3,this.$(".modal-body-content").removeClass("step-1 step-2").addClass("step-3"),this.isRequesterValid()?(e.addClass("hidden"),n.addClass("hidden"),this.submitReport(),this.$(".report-success").removeClass("faded"),this.setButtonState(!0,this.buttonStates.SUBMITTED)):(e.removeClass("hidden"),n.removeClass("hidden"),this.setButtonState(!1,this.buttonStates.SUBMIT))},isRequesterValid:function(){return this.$("#requester-name").hasClass("valid")&&this.$("#requester-email").hasClass("valid")||t.utils.currentUser().authenticated()},setButtonState:function(e,n){var a=this.$(".modal-footer > button");switch(a.prop("disabled",e),n){case this.buttonStates.SUBMITTED:a.html(t.utils.trans("Report submitted"));break;case this.buttonStates.NEXT:a.html(t.utils.trans("Next"));break;case this.buttonStates.SUBMIT:default:a.html(t.utils.trans("Submit report"))}},submitReport:function(){var e,s="",l=this.$("input[name=report-reason-option]:checked").data("tag"),i=this.$("."+l+" input").toArray(),r=this;i.forEach(function(e){if(e.checked){var n=r.$(e).data("id");r.model.setCustomField(n,r.$(e).data("checktag"))}else{n=r.$(e).data("id");r.model.setCustomField(n,r.$(e).data("nochecktag"))}}),this.moreInfo&&(s=n.reduce(this.moreInfo,function(e,t){return e+"\n"+t.key+": "+n.result(t,"val")},"\n")),e=this.$(".details-input").val()+s,this.model.set("comment",e),this.model.set("ticket_form_id",parseInt(this.$("form[data-ticket-form-id]").data("ticket-form-id"),10)),this.reportUserName&&this.model.set("username",this.reportUserName),this.model.setCustomField(this.zendeskCustomFieldIds.REQUEST_TYPE,this.requestType),this.model.setCustomField(this.zendeskCustomFieldIds.UI_LANGUAGE,t.utils.getCookie("locale")||"en_US"),this.model.setCustomField(this.zendeskCustomFieldIds.PLATFORM,a._settings.device.is.mobile?"mobile_web":"web"),this.model.setCustomField(this.zendeskCustomFieldIds.CONDUCT_REPORT,this.$("input[name=report-reason-option]:checked").data("tag")),this.model.setRequester(),this.model.save(),i.forEach(function(e){var n=r.$(e).data("id");r.model.setCustomField(n,null)})},resetModal:function(){this.step=1,this.$(".btn-prev").addClass("hidden"),this.$(".modal-body-content").removeClass("step-2 step-3").addClass("step-1"),this.setButtonState(!0,this.buttonStates.SUBMIT),this.$("input[name=report-reason-option]").attr("checked",!1),this.$(":checkbox").prop("checked",!1),this.$(".details-input").val(""),this.$("#requester-name > input").val(""),this.$("#requester-email > input").val(""),this.$("#requester-name").removeClass("valid invalid warning"),this.$("#requester-email").removeClass("valid invalid warning")}})),a.mixin(a.views.ReportModal,"ValidationView")}(window,_,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(67),s=t.n(a);!function(e,n,t,a,l){a.add("SubscriptionModal",a.views.Base.extend({template:s.a,className:"subscription-modal modal fade",events:{"tap .on-track-event":"sendTrackingEvent","hidden.bs.modal":"sendTrackingEvent","shown.bs.modal":"sendTrackingEvent"},initialize:function(e){this.model.set("mode","go_premium"),a.views.Base.prototype.initialize.apply(this,arguments)},showModal:function(){this.$el.modal("show")},sendTrackingEvent:function(a){var s,l=$(a.currentTarget),i=this.model.get("mode");s="shown"===a.type?"prompt":"hidden"===a.type?"dismiss":l.data("action-type");var r={country:n.get(t.utils.currentUser().toJSON(),"country"),partid:this.model.get("id"),modal_type:i,cta_type:null};e.te.push("event","subscriptions","modal",null,s,r)},render:function(){return this.$el.html(this.template(n.assign(this.model.toJSON(),{appUrl:l.getAppUrl("homepage")}))),this}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,n){!function(e,n,t,a,s,l,i){"use strict";l.add("RegionManager",l.views.Base.extend({regionMethod:"append",constructor:function(){this.regions={},l.views.Base.apply(this,arguments)},clearRegion:function(e){void 0!==this.regions[e]&&(this.regions[e].view.remove(),delete this.regions[e].view,delete this.regions[e])},setRegion:function(e,n){var t;for(var a in this.regions)if(this.regions.hasOwnProperty(a)&&this.regions[a].view===n){t=!0;break}if(t)throw new Error("RegionManager: The subview (in element "+e+") is already bound to another region on this view.");void 0===this.regions[e]?this.regions[e]={view:null}:void 0!==this.regions[e].view&&(this.regions[e].view.remove(),delete this.regions[e].view),this.regions[e].view=n,this.$el.find(e)[this.regionMethod](n.$el)},attachRegions:function(){var e=this;n.forOwn(this.regions,function(n,t){n.view&&n.view.setElement(e.$(t))})},remove:function(){n.forOwn(this.regions,function(e,n){e.view&&this.clearRegion(n)},this),l.views.Base.prototype.remove.apply(this,arguments)}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n){!function(e,n,t,a,s){"use strict";a.add("CollectionView",a.views.Base.extend({directions:{up:"prepend",down:"append"},constructor:function(e){if(e=e||{},void 0===this.itemView)throw new Error("CollectionView: this.itemView does not exist (required).");if(this.viewPointers={},this.direction=this.directions[e.direction||"down"],null===this.direction)throw new Error("CollectionView: this.direction is not valid.");this.containerId=e.containerId||this.containerId||null,this.containerClass=e.containerClass||this.containerClass||null,this.$container=null,this.collectionFilter=null,n.bindAll(this,"renderCollection","renderItem"),a.views.Base.prototype.constructor.apply(this,arguments)},bindEvents:function(){this.stopListening(this.collection,"reset sort add remove"),this.listenTo(this.collection,"reset sort",this.renderCollection,this),this.listenTo(this.collection,"add",function(e){this.renderItem(e)},this),this.listenTo(this.collection,"remove",function(e){this.removeItem(e)},this)},setDirection:function(e){"string"==typeof e?(this.direction=this.directions[e],void 0!==this.direction&&null!==this.direction||(this.direction=this.directions.down)):this.direction=this.directions.down},setElement:function(e){var t=this;if(a.views.Base.prototype.setElement.call(this,e),this.$container=this.getContainer(),this.collection&&0!==this.$container.length){var s=0;n.each(this.collection.models,function(e){var n=t.viewPointers[e.cid];n&&(n.setElement(t.$container.children()[s]),s++)})}},getContainer:function(){return this.containerId?this.$el.find(this.containerId):this.containerClass?this.$el.children(this.containerClass):this.$el},renderItem:function(e,t,a,s){if(t=t||this.getContainer(),null===this.collectionFilter||!0===this.collectionFilter.apply(e)){var l={model:e,cvIndex:a};s?n.extend(l,s):n.extend(l,this.getItemViewOptions()),this.viewPointers[e.cid]=new this.itemView(l),this.viewPointers[e.cid].render(),t[this.direction](this.viewPointers[e.cid].$el)}},getItemViewOptions:function(){return{}},renderCollection:function(e){var n=this.getContainer();return this.removeAll(),this.collection.each(function(t,a){this.renderItem(t,n,a,e)},this),this},setCollectionfilter:function(e){this.collectionFilter=e},removeItem:function(e){n.has(this.viewPointers,e.cid)&&(this.viewPointers[e.cid].remove(),delete this.viewPointers[e.cid])},removeAll:function(){n.each(this.viewPointers,function(e){this.removeItem(e.model)},this)},remove:function(){this.removeAll(),a.views.Base.prototype.remove.apply(this,arguments)}}))}(window,_,wattpad,window.app,Monaco)},function(e,n){!function(e,n,t,a,s,l){"use strict";s.add("IncrementalList",s.views.CollectionView.extend({containerClass:".collection",events:{"tap        .on-showmore":"onShowMore","touchstart .on-showmore":"setTouchState","touchend   .on-showmore":"removeTouchState"},constructor:function(e){s.views.CollectionView.prototype.constructor.apply(this,arguments),this.listenTo(this.collection,"fetchNext:done",this.setButtonState)},render:function(){return this.$el.empty().append(this.template(this.getTemplateData())),this.renderCollection(this.getItemViewOptions()),this.setButtonState(),this.bindEvents(),this},getItemViewOptions:function(){return null},getTemplateData:function(){return this.model?this.model.toJSON():{}},setButtonState:function(){"function"==typeof this.collection.hasMore&&this.collection.hasMore()?this.$(".show-more").removeClass("hidden"):this.$(".show-more").addClass("hidden")},onShowMore:function(e){var n=this;e&&a.stopEvent(e),this.$(".show-more-message").addClass("hidden"),this.$(".loading-message").removeClass("hidden"),Promise.resolve(this.collection.fetchNextSet()).then(function(){n.$(".show-more-message").removeClass("hidden"),n.$(".loading-message").addClass("hidden")})},setTouchState:function(e){this.$(".on-showmore").addClass("touched")},removeTouchState:function(e){this.$(".on-showmore").removeClass("touched")}}))}(window,_,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(68),s=t.n(a);!function(e,n,t,a){a.add("Error404",a.views.RegionManager.extend({id:"error-404",template:s.a,initialize:function(e){e=e||{},this.type=e.type,this.modelId=e.modelId,this.browseTopics=e.browseTopics,Handlebars.registerPartial("core.header.search_field",function(){return""}),this.searchFieldView=new a.views.SearchField},setElement:function(e){Monaco.View.prototype.setElement.apply(this,arguments);var n="#error-404-stories";this.regions[n]&&this.regions[n].view&&this.$(n).length>0&&this.regions[n].view.setElement($(this.$(n+" > div")))},render:function(){var e,t={},a=JSON.parse(n.tagBgColours),s=JSON.parse(n.tagTextColours);switch(e=n.utils.trans("Page not found"),console.log("type:"+this.type),t.heading=n.utils.trans("This page seems to be missing..."),this.type){case"story":e=n.utils.trans("Story not found"),t.subHeading=n.utils.trans("The story has either been deleted or removed.");break;case"user":e=n.utils.trans("User not found"),t.subHeading=n.utils.trans("We couldn't find the profile you were looking for.");break;default:e=n.utils.trans("Page not found"),t.subHeading=n.utils.trans("We couldn't find what you were looking for.")}t.subHeading=t.subHeading+" "+n.utils.trans("You could try searching for something else you love!"),t.browseTopics=_.map(this.browseTopics.toJSON(),function(e,n){var t=n%s.length;return{name:e.name,topic:e.topic,background:a[t],color:s[t]}}),n.utils.setTitle(e),this.$el.html(this.template(t)),this.searchFieldView&&this.$("#header-item-search").html(this.searchFieldView.render().$el)},getCategories:function(){var e=a.get("categories")?a.get("categories").toJSON():[];return _.sortBy(e,"name")}}))}(window,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(69),s=t.n(a),l=t(70),i=t.n(l),r=t(71),o=t.n(r),c=t(13),u=t.n(c),d=t(72),h=t.n(d),p=t(73),m=t.n(p),f=t(74),g=t.n(f),v=t(75),w=t.n(v),y=t(14),b=t.n(y),x=t(76),C=t.n(x),k=t(77),S=t.n(k),M=t(78),T=t.n(M),P=t(79),E=t.n(P);!function(e,n,t,a,l,r,c){r.add("UserEvent",r.views.Base.extend({tagName:"article",className:"user-event",template:null,userEventConvoBtn:s.a,templates:{comment:E.a,inline_comment:T.a,follow:S.a,library:C.a,message:b.a,upload:w.a,vote:g.a,placeholder:m.a,dedicate:h.a},partials:{regions:{"core.events.partials.user_event_footer":u.a,"core.events.partials.user_event_story_meta":o.a,"core.events.partials.user_event_user_meta":i.a}},events:{"tap    .on-user":"onUser","click  .on-user":"stopEvent","tap    .on-user-mention":"onNavigate","click  .on-user-mention":"stopEvent","tap    .on-add-to-library":"onAddToLibrary","tap    .on-remove-from-library":"onRemoveFromLibrary","tap    .on-hide":"onHideUserEvent"},initialize:function(){this.template=this.templates[this.model.get("type")],n.each(this.partials.regions,function(e,n,t){Handlebars.registerPartial(n,e)})},render:function(){var e,n=this.model.get("type"),t=this.model.get("data");switch((e=this.model.toJSON()).isValidMessage=!1,n){case"comment":case"inline_comment":e.data.comment.body=l.sanitizeHTML(t.comment.body),e.leftButton=this.userEventConvoBtn(e);break;case"upload":e.data.story.isNew=1===t.story.numParts;break;case"dedicate":e.outgoing=t.dedicator.name===this.model.get("username"),e.data.dedicatee.hasWorks=t.dedicatee.numWorks>0,e.meta=e.meta||{},e.meta.user=e.data.dedicatee}return t.story&&t.story.part&&(e.data.story.inLibrary=!!l.currentUser().library().get(t.story.id),"upload"!==t.type&&t.story.title===t.story.part.title&&(e.data.story.part.title=""),e.data.story.url=a.utils.formatStoryUrl(t.story.url),e.data.story.part.url=a.utils.formatStoryUrl(t.story.part.url)),e.hideMenu=this.model.get("username")!==a.utils.currentUser().get("username")&&!e.isValidMessage||!(this.model instanceof r.models.PublicMessage),this.$el.html(this.template(e)),"placeholder"!==n&&("dedicate"!==n?t.user.name===this.model.get("username")&&this.$el.addClass("self"):e.outgoing&&this.$el.addClass("self")),this},onUser:function(e){var n=t(e.currentTarget),a=new RegExp("user/"+n.data("username")+"($|/)");null===Backbone.history.fragment.match(a)&&r.router.navigate("/user/"+n.data("username"),{trigger:!0})},onHideUserEvent:function(e){l.stopEvent(e),this.model.destroy()},onAddToLibrary:function(e){var n=l.currentUser(),t=new r.models.StoryGroup({id:this.model.get("data").story.id});n.library().add(t),this.deactivateLibraryButton()},onRemoveFromLibrary:function(e){var n=l.currentUser(),t=new r.models.StoryGroup({id:this.model.get("data").story.id});n.library().remove(t),this.activateLibraryButton()},activateLibraryButton:function(){var e=a.utils.iconify("fa-plus",14,"wp-base-2-dark")+" "+a.utils.trans("Add to Library");this.$(".on-remove-from-library").html(e),this.$(".on-remove-from-library").addClass("on-add-to-library"),this.$(".on-remove-from-library").addClass("btn-white"),this.$(".on-remove-from-library").removeClass("btn-teal"),this.$(".on-remove-from-library").removeClass("on-remove-from-library")},deactivateLibraryButton:function(){var e=a.utils.iconify("fa-check",14,"wp-neutral-5")+" "+a.utils.trans("Added to Library");this.$(".on-add-to-library").html(e),this.$(".on-add-to-library").addClass("on-remove-from-library"),this.$(".on-add-to-library").addClass("btn-teal"),this.$(".on-add-to-library").removeClass("btn-white"),this.$(".on-add-to-library").removeClass("on-add-to-library")}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(80),s=t.n(a),l=t(81),i=t.n(l),r=t(82),o=t.n(r),c=t(83),u=t.n(c),d=t(84),h=t.n(d),p=t(29),m=t.n(p),f=t(85),g=t.n(f),v=t(86),w=t.n(v),y=t(87),b=t.n(y),x=t(88),C=t.n(x),k=t(30),S=t.n(k),M=t(89),T=t.n(M),P=t(90),E=t.n(P),I=t(91),$=t.n(I),U=t(31),L=t.n(U),R=t(7),D=t.n(R),A=t(92),F=t.n(A),N=t(93),B=t.n(N),z=t(32),O=t.n(z);!function(e,n,t,a,l,r,c){r.add("FeedItem",c.View.extend({tagName:"article",className:"feed-item-new panel",template:null,templates:{comment:O.a,inline_comment:O.a,follow:B.a,library:F.a,upload:D.a,update:D.a,newMessage:L.a,message:L.a,vote:$.a,dedicate:E.a,placeholder:T.a},groupTemplates:{comment:S.a,inline_comment:S.a,follow:C.a,library:b.a,upload:D.a,update:D.a,vote:w.a,dedicate:g.a},itemTemplates:{comment:m.a,inline_comment:m.a,follow:h.a,library:u.a,vote:o.a,dedicate:i.a},events:{"tap    .on-hide":"onHideUserEvent","click    .on-hide":"stopEvent","tap    .send-avatar-event":"sendAvatarClickTrackingEvent","click  .send-avatar-event":"stopEvent"},initialize:function(){this.model.get("group")?this.template=this.groupTemplates[this.model.get("type")]:this.template=this.templates[this.model.get("type")],Handlebars.registerPartial("core.feed_items.aggregates.item_views.feed_comment_item",this.itemTemplates.comment),Handlebars.registerPartial("core.feed_items.aggregates.item_views.feed_follow_item",this.itemTemplates.follow),Handlebars.registerPartial("core.feed_items.aggregates.item_views.feed_library_item",this.itemTemplates.library),Handlebars.registerPartial("core.feed_items.aggregates.item_views.feed_dedicate_item",this.itemTemplates.dedicate),Handlebars.registerPartial("core.feed_items.aggregates.item_views.feed_vote_item",this.itemTemplates.vote),Handlebars.registerPartial("core.feed_items.feed_item_options",s.a),"follow"!==this.model.get("type")&&"dedicate"!==this.model.get("type")||(this.listenTo(r,"app:user:follow",this.onUpdateFollow),this.listenTo(r,"app:user:unfollow",this.onUpdateUnfollow))},render:function(){var e=this.model.toJSON(),t=this;return e.group&&(n.each(e.group,function(n){e.data.story&&(n.data.story.inLibrary=!!l.currentUser().library().get(n.data.story.id))}),e.groupCount=e.children.length+1),"dedicate"===e.type&&(e.outgoing=e.data.dedicatee.name!==a.utils.currentUser().get("username")),e.username&&(e.profile=e.username),this.$el.html(this.template(e)),n.defer(function(){t.$(".panel-body [data-toggle=tooltip]").tooltip()}),this},onUpdateFollow:function(e){var n=this.$(this.followButton+"[data-target="+e+"]");n.children(".fa").removeClass("fa-follow fa-wp-neutral-2").addClass("fa-following fa-wp-neutral-5"),n.children(".toggle-triangle").addClass("active"),n.children(".toggle-shadow").addClass("active"),n.attr("title",a.utils.trans("Following")).tooltip("fixTitle")},onUpdateUnfollow:function(e){var n=this.$(this.followButton+"[data-target="+e+"]");n.children(".fa").removeClass("fa-following fa-wp-neutral-5").addClass("fa-follow fa-wp-neutral-2"),n.children(".toggle-triangle").removeClass("active"),n.children(".toggle-shadow").removeClass("active"),n.attr("title",a.utils.trans("Follow")).tooltip("fixTitle")},onAddedToLibrary:function(e){var n=this.$(this.libraryButton+"[data-story-id='"+e+"']");n.children(".fa").removeClass("fa-wp-neutral-2 fa-plus").addClass("fa-wp-neutral-5 fa-check"),n.children(".toggle-triangle").addClass("active"),n.children(".toggle-shadow").addClass("active"),n.attr("title",a.utils.trans("Added to Library")).tooltip("fixTitle")},onRemovedFromLibrary:function(e){var n=this.$(this.libraryButton+"[data-story-id='"+e+"']");n.children(".fa").addClass("fa-wp-neutral-2 fa-plus").removeClass("fa-wp-neutral-5 fa-check"),n.children(".toggle-triangle").removeClass("active"),n.children(".toggle-shadow").removeClass("active"),n.attr("title",a.utils.trans("Add to Library")).tooltip("fixTitle")},onHideUserEvent:function(e){l.stopEvent(e),this.model.destroy()},sendAvatarClickTrackingEvent:function(n){e.te.push("event","newsfeed","avatar","","click",{feed_item_type:this.model.get("type")})},stopEvent:function(e){l.stopEvent(e)}})),r.mixin(r.views.FeedItem,"LibraryManagement","FollowManager")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(94),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("List",i.views.IncrementalList.extend({itemView:{},template:s.a,className:"list container",containerClass:".collection",initialize:function(e){if(void 0===e.itemView)throw new Error("List View: options.itemView cannot be null");this.itemView=e.itemView,this.className=e.className?e.className:this.className,this.title=e.title?e.title:"",e.pageTitle&&this._setTitle(e.pageTitle)},_setTitle:function(n){e.document.title!==n&&(e.document.title=n)},getTemplateData:function(){return{hasItems:this.collection.length>0,title:this.title}}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n){!function(e,n,t,a){"use strict";a.add("CoreFeed",a.views.IncrementalList.extend({itemView:a.views.UserEvent,getItemView:function(e){switch(e.get("type")){case"message":case"newMessage":return a.views.NewFeedItemMessage;case"comment":case"inline_comment":case"library":case"upload":case"vote":case"placeholder":case"dedicate":case"follow":default:return a.views.FeedItem}},renderItem:function(e,n){this.itemView=this.getItemView(e),a.views.IncrementalList.prototype.renderItem.apply(this,arguments)}}))}(window,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s,l,i){"use strict";l.add("FeedEventFollow",l.views.UserEvent.extend({events:n.extend({"tap    .on-follow-user":"onFollowUser","tap    .on-unfollow-user":"onUnfollowUser"},l.views.UserEvent.prototype.events),render:function(){var e,n=this.model.get("data");(e=this.model.toJSON()).leftButton="",e.data.followed.hasWorks=n.followed.numWorks>0,e.meta=e.meta||{},e.meta.user=e.data.followed,this.$el.html(this.template(e)),n.user.name===this.model.get("username")&&this.$el.addClass("self")},onFollowUser:function(e){var n=this.model.get("data"),a=s.currentUser(),i=a.get("username"),r=n.followed.name,o=this;t.when(a.following().follow(r)).done(function(){o.deactivateFollowButton(),n.followed.following=!0,o.model.set("data",n),l.local.clear("user."+i),l.local.clear("user."+i+".following"),l.local.clear("user."+i+".profile.following"),l.local.clear("user."+r),l.local.clear("user."+r+".following"),l.local.clear("user."+r+".profile.following")})},onUnfollowUser:function(e){var n=this.model.get("data"),a=s.currentUser(),i=a.get("username"),r=n.followed.name,o=this;t.when(a.following().unfollow(r)).done(function(){o.activateFollowButton(),n.followed.following=!1,o.model.set("data",n),l.local.clear("user."+i),l.local.clear("user."+i+".following"),l.local.clear("user."+i+".profile.following"),l.local.clear("user."+r),l.local.clear("user."+r+".following"),l.local.clear("user."+r+".profile.following")})},activateFollowButton:function(){var e=a.utils.iconify("fa-follow",14,"wp-base-2-dark")+" "+a.utils.trans("Follow");this.$(".on-unfollow-user").html(e),this.$(".on-unfollow-user").addClass("on-follow-user"),this.$(".on-unfollow-user").addClass("btn-white"),this.$(".on-unfollow-user").removeClass("btn-teal"),this.$(".on-unfollow-user").removeClass("on-unfollow-user")},deactivateFollowButton:function(){var e=a.utils.iconify("fa-following",14,"wp-neutral-5")+" "+a.utils.trans("Following");this.$(".on-follow-user").html(e),this.$(".on-follow-user").addClass("on-unfollow-user"),this.$(".on-follow-user").addClass("btn-teal"),this.$(".on-follow-user").removeClass("btn-white"),this.$(".on-follow-user").removeClass("on-follow-user")}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(15),s=t.n(a),l=t(16),i=t.n(l);!function(e,n,t,a,l,r,o){r.add("NewFeedItemMessage",r.views.FeedItem.extend({reportModalContainer:".message-report-modal",requestType:"inappropriate_comments",isMainReportModal:!1,modalTitle:a.utils.trans("Report a Message"),events:n.extend({"tap  .on-reply":"onReply","click .on-reply":"stopEvent","tap  .new-reply":"newReply","click .new-reply":"stopEvent","tap  .on-delete":"onDeleteMessage","click .on-delete":"stopEvent","tap  .on-send-event":"sendEventForBeautifyUrl","click .on-send-event":"stopEvent","tap    .send-avatar-event":"sendAvatarClickTrackingEvent","click  .send-avatar-event":"stopEvent"},r.views.FeedItem.prototype.events),initialize:function(e){Handlebars.registerPartial("core.feed_items.feed_item_message_options",i.a),Handlebars.registerPartial("core.shared.beautify_url",s.a),Handlebars.registerPartial("core.feed_items.feed_message_reply",function(){return""}),this.template=this.templates.newMessage,this.pinnedItem=e.pinnedItem||null;var t=this.model.get("username"),l=this.model.get("from").name;this.newMessageView=new r.views.NewMessageNew({to:t,parentId:this.model.get("id"),placeholder:a.utils.trans("Write a reply..."),canBroadcast:!1,autoMention:l}),this.listenTo(this.newMessageView,"message:new",this.expand),this.listenTo(r,"message:scroll",n.debounce(this.scrollToComment))},render:function(){var e=n.cloneDeep(this.model.toJSON()),t=this;if("message"===e.type&&(e.id=e.data.message.id),e.currentUser=a.utils.currentUser().toJSON(),e.canDelete=!1,this.model.get("username")){var s=a.utils.currentUser().get("username")===this.model.get("username"),l=a.utils.currentUser().get("username")===this.model.get("from").name,i=a.utils.currentUser().get("isSysAdmin");e.canDelete=s||l||i}e.numReplies=e.numReplies-e.latestReplies.length,e.showTarget=!1,e.pinnedItem=this.pinnedItem,this.collection=new r.collections.NewMessageReplies(e.latestReplies,{parentId:e.id,messageOwnerName:this.model.get("username"),limit:10}),this.repliesView=new r.views.MessageRepliesList({collection:this.collection,forFeeds:!0});var o=this.model.getBeautifyUrlSettings(e);return o&&!this.model.get("beautifyUrlMetadata")&&t.model.getMetadataForBeautifyUrl(o).then(function(n){e.beautifyUrlMetadata=n,t.$el.html(t.template(e)),t.renderLatestReplies()}),this.$el.html(this.template(e)),this.renderLatestReplies(),r.trigger("message:scroll"),this},scrollToComment:function(){var n=e.location.hash.replace("#","");if(n===this.model.get("id").toString()){var a=t("#comment-"+n);a.length&&(t("html, body").animate({scrollTop:a.offset().top-t("#header").height()},1e3),this.newMessageView._setActiveState(),this.newMessageView.$("textarea").focus())}},sendEventForBeautifyUrl:function(n){var a=t(n.currentTarget).parent(".beautify-url").data(),s=a.storyId,l=a.profileOwner;e.te.push("event","profile","message","story","click",{username:l,storyid:s})},renderLatestReplies:function(){var e=this;this.stopListening(this.newMessageView,"message:new",this.expand),this.autoMention=this.model.get("from").name;var n=this.$(".replies-list");this.collection.listenTo(this.newMessageView,"message:new",this.collection.add),this.newMessageView.listenTo(this.repliesView,"message:mention",this.newMessageView.addMention),0===this.$(".panel-footer").children(".message-new").length&&(this.$(".panel-footer").empty().append(this.newMessageView.render().$el),this.newMessageView.delegateEvents()),n.append(this.repliesView.render().$el),n.collapse("show"),n.one("hidden.bs.collapse",function(){e.repliesView.remove(),e.collection.reset(),e.collection.stopListening(e.newMessageView,"message:new"),r.local.clear(e.collection.resource())}),n.addClass("no-collapse")},onReply:function(e){var n=t(e.target).data("target"),a=this;if(!this.$(n).hasClass("collapsing"))if(this.$(n).hasClass("collapse")&&this.$(n).hasClass("in")&&!this.$(n).hasClass("no-collapse"))this.listenTo(this.newMessageView,"message:new",this.expand),this.$(n).collapse("hide"),t(e.target).blur();else{this.autoMention=this.model.get("from").name;var s=this.$(n),l={};this.collection.models.length&&(l.replyId=this.collection.models[0].get("id")),Promise.resolve(this.collection.fetchNextSet(l)).then(function(e){a.updateReplyCount(e.replies.length),s.one("hidden.bs.collapse",function(){a.repliesView.remove(),a.collection.reset(),a.collection.stopListening(a.newMessageView,"message:new"),r.local.clear(a.collection.resource())})})}},newReply:function(e){this.$(".panel-footer").empty().append(this.newMessageView.render().$el),this.newMessageView.focus()},updateReplyCount:function(e){var n=this.$el.children(".on-reply"),s=n.text().trim(),l=new RegExp(/([0-9]*)([M|K]?)(\s)? more (reply|replies)/gi).exec(s);if(!l[2]){var i=0;l[1].trim().length>0&&(i=parseInt(l[1],10));var r=i-e,o=a.utils.sprintf(a.utils.ngettext("View %s more reply","View %s more replies",r),[a.utils.count(r)]);n.html(o),r>0&&this.$el.children(".on-reply").removeClass("hidden"),r<=0&&(this.$el.children(".on-reply").addClass("hidden"),t(this.$el.children(".on-reply").data("target")).removeClass("no-collapse"))}},expand:function(){this.$('button[data-target="#replies-'+this.model.get("id")+'"]').trigger("tap")},onDeleteMessage:function(n){var t=this.model.toJSON(),s=new r.models.Message({id:t.id,body:t.body,createDate:t.createDate,from:{name:t.from.name,avatar:t.from.avatar,isActive:!0},isReply:!1,parentId:null,ownername:this.model.get("ownername")||this.model.get("username")||a.utils.currentUser().get("username")});e.confirm("Are you sure you want to delete this message?")&&(s.destroy(),this.model.collection.remove(this.model))},reportMoreInfo:function(){var n=this;return[{key:"Message Author",val:this.model.get("from").name},{key:"Message Location",val:e.location.href},{key:"Message Body",val:function(){return l.sanitizeHTML(n.model.get("body"))}}]},sendAvatarClickTrackingEvent:function(n){e.te.push("event","newsfeed","avatar","","click",{feed_item_type:this.model.get("type")})}})),r.mixin(r.views.NewFeedItemMessage,"InputCounterManagement","ReportManagement","ReportConduct")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(95),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("FeedMessageReply",r.View.extend({reportModalContainer:".message-report-modal-reply",requestType:"inappropriate_comments",isMainReportModal:!1,modalTitle:a.utils.trans("Report a Message"),tagName:"li",className:"list-group-item",template:null,events:{"tap    .on-user":"onNavigate","click  .on-user":"stopEvent","tap    .on-user-mention":"onNavigate","click  .on-user-mention":"stopEvent","tap  .on-reply":"onReply","click .on-reply":"stopEvent","tap  .on-delete":"onDelete","click .on-delete":"stopEvent","tap  .on-send-reply-event":"sendEventForBeautifyUrl","click .on-send-reply-event":"stopEvent"},initialize:function(){this.template=s.a},render:function(){var e=this.model.toJSON(),n=l.currentUser().get("username"),t=this;e.body&&(e.body=l.sanitizeHTML(e.body)),e.canDelete=0!==this.model.get("id")&&(this.model.get("ownername")===n||this.model.get("from").name===n||a.utils.currentUser().get("isSysAdmin"));var s=this.model.getBeautifyUrlSettings(e);return s&&!this.model.get("beautifyUrlMetadata")&&t.model.getMetadataForBeautifyUrl(s).then(function(n){e.beautifyUrlMetadata=n,t.$el.html(t.template(e))}),this.$el.html(this.template(e)),this},sendEventForBeautifyUrl:function(n){var a=t(n.currentTarget).parent(".beautify-url").data(),s=a.storyId,l=a.profileOwner;e.te.push("event","profile","message","story","click",{username:l,storyid:s})},onNavigate:function(e){var n=t(e.currentTarget);i.router.navigate(n.attr("href"),{trigger:!0})},onReply:function(e){this.stopEvent(e),this.trigger("message:mention",this.model.get("from").name)},onDelete:function(n){this.stopEvent(n),e.confirm("Are you sure you want to delete this message?")&&this.model.destroy()},stopEvent:function(e){l.stopEvent(e)},reportMoreInfo:function(){var n=this;return[{key:"Message Author",val:this.model.get("username")||this.model.get("from").name},{key:"Message Location",val:e.location.href},{key:"Message Body",val:function(){return l.sanitizeHTML(n.model.get("body"))}}]}})),i.mixin(i.views.FeedMessageReply,"ReportManagement","ReportConduct")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(9),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("StoryItem",i.views.Base.extend({className:"story-item clearfix",template:s.a,render:function(){var e=this.model.toJSON();return e.categories=[],n.each(this.model.get("categories"),function(n){var t=i.get("categories").get(n);t&&e.categories.push(t.get("name"))}),e.description&&(e.description=l.sanitizeHTML(e.description)),this.$el.html(this.template(e)),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(96),s=t.n(a),l=t(13),i=t.n(l),r=t(14),o=t.n(r);!function(e,n,t,a,l,r,c){r.add("MessageReply",r.views.Base.extend({tagName:"article",className:"user-event",template:o.a,events:{"tap    .on-user":"onUser","click  .on-user":"stopEvent","tap    .on-user-mention":"onNavigate","click  .on-user-mention":"stopEvent","tap  footer button.on-reply":"onReply","click footer button.on-reply":"stopEvent","tap  footer li .on-report":"onReport","tap  footer li .on-delete":"onDelete"},initialize:function(){Handlebars.registerPartial("core.events.partials.user_event_footer",i.a)},render:function(){var e={},n=l.currentUser().get("username");e.user={name:this.model.get("from").name,avatar:this.model.get("from").avatar},e.message=this.model.toJSON(),e.message.body&&(e.message.body=l.sanitizeHTML(e.message.body));var t=0!==this.model.get("id")&&(this.model.get("ownername")===n||this.model.get("from").name===n||a.utils.currentUser().get("isSysAdmin")),i=0!==this.model.get("id"),r=!i,o={createDate:this.model.get("createDate"),data:e,canDelete:t,isValidMessage:i,repliesBtnText:a.utils.trans("Reply"),hideMenu:r};return o.leftButton=s()(o),this.$el.html(this.template(o)),this.model.get("from").name===this.model.get("ownername")?this.$el.addClass("self"):this.$el.addClass("external"),this},onUser:function(e){var n=t(e.currentTarget);r.router.navigate("/user/"+n.data("username"),{trigger:!0})},onReply:function(e){this.stopEvent(e),this.trigger("message:mention",this.model.get("from").name)},onReport:function(e){this.stopEvent(e);var n=encodeURIComponent(this.model.get("body")),t=this.model.get("from").name;l.redirectToServer("/help/report?author="+t+"&comment="+n)},onDelete:function(n){this.stopEvent(n),e.confirm(a.utils.trans("Are you sure you want to delete this comment?"))&&this.model.destroy()},stopEvent:function(e){l.stopEvent(e)}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(16),s=t.n(a),l=t(97),i=t.n(l);!function(e,n,t,a,l,r,o){r.add("PinnedItemMessage",r.views.NewFeedItemMessage.extend({className:"feed-item-new panel pinned-item",template:i.a,initialize:function(e){Handlebars.registerPartial("core.feed_items.feed_item_message_options",s.a),Handlebars.registerPartial("core.feed_items.feed_message_reply",function(){return""});var n=this.model.get("username"),t=this.model.get("from").name;this.newMessageView=new r.views.NewMessageNew({to:n,parentId:this.model.get("id"),placeholder:a.utils.trans("Write a reply..."),canBroadcast:!1,autoMention:t}),this.listenTo(this.newMessageView,"message:new",this.expand),this.listenTo(this.newMessageView,"message:new",function(e){this.model.get("latestReplies").push(e.toJSON())})},render:function(){var e=this,t={pinnedItem:n.cloneDeep(this.model.toJSON())};if(t.pinnedItem.currentUser=a.utils.currentUser().toJSON(),t.canDelete=!1,this.model.get("username")){var s=a.utils.currentUser().get("username")===this.model.get("username"),l=a.utils.currentUser().get("username")===this.model.get("from").name,i=a.utils.currentUser().get("isSysAdmin");t.canDelete=s||l||i}t.pinnedItem.numReplies=t.pinnedItem.numReplies-t.pinnedItem.latestReplies.length,t.pinnedItem.showTarget=!1,t.pinnedItem.pinnedItem=this.pinnedItem,this.collection=new r.collections.NewMessageReplies(t.pinnedItem.latestReplies,{parentId:t.pinnedItem.id,messageOwnerName:this.model.get("username"),limit:10}),this.repliesView=new r.views.MessageRepliesList({collection:this.collection,forFeeds:!0});var o=this.model.getBeautifyUrlSettings(t.pinnedItem);return o&&!this.model.get("beautifyUrlMetadata")&&e.model.getMetadataForBeautifyUrl(o).then(function(n){t.pinnedItem.beautifyUrlMetadata=n,e.$el.html(e.template(t)),e.renderLatestReplies()}),this.$el.html(this.template(t)),this.renderLatestReplies(),this},onDeleteMessage:function(n){var t=this.model.toJSON(),s=this,l=new r.models.Message({id:t.id,body:t.body,createDate:t.createDate,from:{name:t.from.name,avatar:t.from.avatar,isActive:!0},isReply:!1,parentId:null,ownername:this.model.get("ownername")||this.model.get("username")||a.utils.currentUser().get("username")});e.confirm("Are you sure you want to delete this message?")&&Promise.resolve(l.destroy()).then(function(){s.trigger("pinnedItem:remove",s.model)})}})),r.mixin(r.views.PinnedItemMessage,"ReportManagement","ReportConduct")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(98),s=t.n(a),l=t(99),i=t.n(l);!function(e,n,t,a,l,r,o){r.add("MessageRepliesList",r.views.IncrementalList.extend({className:"message-replies",template:null,itemView:r.views.MessageReply,initialize:function(e){(e=e||{}).forFeeds?this.template=i.a:this.template=s.a,this.forFeeds=e.forFeeds||!1},renderItem:function(e){var n=this;this.forFeeds&&(this.itemView=r.views.FeedMessageReply),r.views.IncrementalList.prototype.renderItem.apply(this,arguments),this.listenTo(this.viewPointers[e.cid],"message:mention",function(e){n.trigger("message:mention",e)})},getTemplateData:function(){return{hasReplies:0!==this.collection.models.length}}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n){!function(e,n,t,a){"use strict";a.add("DiscoverModuleListItem",a.models.Base.extend({defaults:{id:null,name:null,numStories:null,cover:null}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("DiscoverModuleStoryItem",a.models.StoryModel.extend({defaults:{id:null,title:null,cover:null,voteCount:null,readCount:null,url:null}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("DiscoverModuleUserItem",a.models.Base.extend({defaults:{avatar:null,description:null,name:null,numFollowers:null,numLists:null,numStoriesPublished:null,username:null}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("DiscoverModuleStories",a.collections.BaseCollection.extend({model:a.models.DiscoverModuleStoryItem,arrayKey:"stories"}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("DiscoverModuleLists",a.collections.BaseCollection.extend({model:a.models.DiscoverModuleListItem,arrayKey:"lists"}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("DiscoverModuleUsers",a.collections.BaseCollection.extend({model:a.models.DiscoverModuleUserItem}))}(window,_,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(100),s=t.n(a);!function(e,n,t,a){a.add("DiscoverModuleLists",a.views.Base.extend({className:"discover-module-lists on-discover-module-item",template:s.a,render:function(){var e=this.model?this.model.toJSON():{empty:!0};return e.type="reading_lists",e.isDesktop=a.get("device").isDesktop(),this.$el.html(this.template(e)),this}}))}(window,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(101),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("ContestSwimlane",i.views.StoryItem.extend({className:"contest-swimlane discover-module-stories-large on-discover-module-item",template:s.a,render:function(){var e=this.model?this.model.toJSON():{empty:!0};return e.contest=this.options.contest||{},e.type=this.options.type||"storiesByPromotedUser",e.isDesktop=i.get("device").isDesktop(),e.isMobile=i.get("device").is.mobile,e.descCharLimit=e.isDesktop?170:130,e.descCharLimit=this.options.descCharLimit||e.descCharLimit,e.titleCharLimit=e.isDesktop?35:24,e.titleCharLimit=this.options.titleCharLimit||e.titleCharLimit,e.contestCopyLimit=e.isDesktop?100:55,this.$el.html(this.template(e)),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(102),s=t.n(a),l=t(103),i=t.n(l);!function(e,n,t,a,l,r,o){r.add("DiscoverModuleStoriesLarge",r.views.StoryItem.extend({className:"discover-module-stories-large on-discover-module-item",template:i.a,initialize:function(){Handlebars.registerPartial("core.tag_metadata",s.a)},render:function(){var e=this.model?this.model.toJSON():{empty:!0};return e.isRecentlyRead=this.options.isRecentlyRead,e.type="stories",e.isDesktop=r.get("device").isDesktop(),e.isProfileWorksView=this.options.isProfileWorksView,e.user||(e.user=this.options.user),e.descCharLimit=e.isDesktop?170:130,e.descCharLimit=this.options.descCharLimit||e.descCharLimit,e.titleCharLimit=e.isDesktop?35:24,e.titleCharLimit=this.options.titleCharLimit||e.titleCharLimit,e.tagMeta=n.extend(this.formatTags(e.tags,r.get("device")&&r.get("device").is.mobile?2:3),{storyId:e.id}),e.showTagRankings=e.tagRankings&&e.tagRankings.length&&e.isProfileWorksView,e.isPaywalled&&(e.descCharLimit-=40,e.tagMeta&&(e.tagMeta.numNotShown=0)),e.testGroups=a.testGroups,this.$el.html(this.template(e)),this},formatTags:function(e,t){if(e=e||null,t=t||3,n.isEmpty(e))return null;e=n.clone(e);var a={tags:[],numNotShown:Math.max(e.length-t,0)},s=null;if(e.length<=t)n.each(e,function(e){a.tags.push({name:e})});else for(;a.tags.length<t;)s=e.splice(Math.floor(Math.random()*e.length),1)[0],a.tags.push({name:s});return a}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(17),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("DiscoverModuleStoriesSmall",i.views.StoryItem.extend({className:"discover-module-stories-small on-discover-module-item",template:s.a,render:function(){var e=this.model?this.model.toJSON():{empty:!0};e.isRecentlyRead=this.options.isRecentlyRead,e.isDesktop=this.options.isDesktop;var n=this.model?this.model.get("category"):null;return e.type="stories",e.titleCharLimit=e.isDesktop?35:25,e.titleCharLimit=this.options.titleCharLimit||e.titleCharLimit,n&&(e.category=i.get("categories").get(n).toJSON()),this.$el.html(this.template(e)),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(104),s=t.n(a),l=t(105),i=t.n(l);!function(e,n,t,a,l,r,o){r.add("DiscoverModuleUsers",r.views.Base.extend({className:"on-discover-module-item",render:function(){var e=this.model&&this.options.numUsersInCollection>0?this.model.toJSON():{empty:!0},n=r.get("device").isDesktop(),t=!1;return(n&&this.options.numUsersInCollection<6||!n&&this.options.numUsersInCollection<3)&&(t=!0),t?(this.template=i.a,this.$el.addClass("discover-module-users-large"),e.nameMaxLength=n?35:25,e.descMaxLength=n?170:110):(this.template=s.a,this.$el.addClass("discover-module-users-small"),e.nameMaxLength=n?35:28),this.$el.html(this.template(e)),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(106),s=t.n(a),l=t(107),i=t.n(l);!function(e,n,t,a){a.add("DiscoverModule",a.views.IncrementalList.extend({className:"discover-module",template:s.a,containerClass:".collection",events:_.extend({"tap .module-header":"onModuleHeader","click .module-header":"stopEvent","tap .on-discover-module-item":"onModuleItem","click .on-discover-module-item":"stopEvent","tap a.module-title":"onModuleTitle","click a.module-title":"stopEvent","tap .on-avatar":"onAvatar","click .on-avatar":"stopEvent","tap .on-story-preview":"onStoryPreview","click .on-story-preview":"stopEvent","tap .on-continue-reading":"onContinueReading","click .on-continue-reading":"stopEvent","tap .send-cover-event":"sendCoverClickTrackingEvent","click .send-cover-event":"stopEvent","tap .on-contest-reading":"onContestReading","click .on-contest-reading":"stopEvent"},a.views.IncrementalList.prototype.events),constructor:function(n){var t=n.model;if(this.pageNum=n.pageNum,this.experience=n.experience||"home",this.trackedTypes=["storiesByPromotedUser","listPromoted","promotedStoriesRecommended"],"storiesByPromotedUser"===t.get("type")&&t.get("data").contest)this.itemView=a.views.ContestSwimlane,this.collection=new a.collections.DiscoverModuleStories(t.get("data").items.stories),this.template=i.a;else if(t.get("data").items.stories)this.itemView=a.views.DiscoverModuleStoriesLarge,this.collection=new a.collections.DiscoverModuleStories(t.get("data").items.stories);else if(t.get("data").items.lists){this.itemView=a.views.DiscoverModuleLists;for(var s=_.clone(t.get("data").items.lists),l=t.get("data").user,r=0;r<s.length;r++)void 0==s[r].user&&(s[r].user=_.clone(l));this.collection=new a.collections.DiscoverModuleLists(s)}else t.get("data").items.users&&(this.itemView=a.views.DiscoverModuleUsers,this.collection=new a.collections.DiscoverModuleUsers(t.get("data").items.users));a.views.IncrementalList.prototype.constructor.apply(this,arguments),this.listenTo(a,"app:user:follow",this.onUpdateFollow),this.listenTo(a,"app:user:unfollow",this.onUpdateUnfollow),-1!=_.indexOf(this.trackedTypes,this.model.get("type"))&&(this.trackViewsWrapper=_.throttle(this.trackViews,200),this.sentViewTracking=!1,this.viewTrackingUrls=_.flatten([this.model.get("data").tracking.impressionUrl]),this.clickTrackingUrls=_.flatten([this.model.get("data").tracking.clickUrl]),this.model.get("data").tracking.thirdParty&&(this.viewTrackingUrls=this.viewTrackingUrls.concat(this.model.get("data").tracking.thirdParty.impressionUrls),this.clickTrackingUrls=this.clickTrackingUrls.concat(this.model.get("data").tracking.thirdParty.clickUrls)),_.bindAll(this,"trackViewsWrapper"),$(e).on("scroll",this.trackViewsWrapper))},remove:function(){$(e).off("scroll",this.trackViewsWrapper),a.views.IncrementalList.prototype.remove.apply(this,arguments)},renderCollection:function(e){var n=this.getContainer();if(this.removeAll(),e=e||{},_.extend(e,{isDesktop:a.get("device").isDesktop()}),"storiesRecentlyRead"===this.model.get("type")?_.extend(e,{isRecentlyRead:!0}):this.model.get("data").items.users?_.extend(e,{numUsersInCollection:this.model.get("data").items.users.length}):this.model.get("data").contest&&_.extend(e,{contest:this.model.get("data").contest,type:this.model.get("type")}),this.collection.each(function(t,a){if(this.renderItem(t,n,a,e),"storiesByPromotedUser"===this.model.get("type"))return n.find(".on-discover-module-item").after(n.find(".promoted-blurb")),n.addClass("promoted-story"),!1},this),-1!=_.indexOf(this.trackedTypes,this.model.get("type"))){var t=this;_.defer(function(){t.trackViewsWrapper()})}return this},getTemplateData:function(){var e,s,l,i,r,o,c,u,d,h,p,m=new t.Device;switch(this.model.get("type")){case"listCurated":e=this.model.get("data").list.name,s=n.utils.trans("A reading list by %s, handpicked for you",this.model.get("data").list.user.fullname||this.model.get("data").list.user.name),o="/list/"+this.model.get("data").list.id,c=this.model.get("data").list.id;break;case"storiesRecentlyRead":e=n.utils.trans("Continue Reading"),s=n.utils.trans("Find more in your library"),o="/library";break;case"storiesRecommended":e=n.utils.trans("Recommendations"),s=n.utils.trans("A fresh set of stories, just for you");break;case"storiesRecommendedExplore":e=n.utils.trans("Explore something different"),s=n.utils.trans("The more you explore, the more personalized your stories get");break;case"storiesRecommendedInfluential":e=n.utils.trans("Community Showcase"),s=n.utils.trans("Sample what Wattpad has to offer");break;case"storiesSupported":e=n.utils.trans("Paid Stories"),s=n.utils.trans("Become a supporter and help your favorite writers earn money");break;case"storiesRecommendedRNN":e=n.utils.trans("What to read next"),s=n.utils.trans("Stories based on your recent reads");break;case"storiesReadingRecommended":e=n.utils.trans("Recommendations"),h=!0;break;case"promotedStoriesRecommended":e=n.utils.trans("Promoted stories"),h=!0;break;case"storiesRecentlyUpdated":e=n.utils.trans("Recently Updated"),s=n.utils.trans("Stories from your library and connections");break;case"storiesTop":e=n.utils.trans("Most Shared Stories"),s=n.utils.trans("See what everyone's talking about");break;case"storiesByFollowedHub":e=n.utils.sprintf(n.utils.ngettext("Story by %s","Stories by %s",this.model.get("data").items.stories&&this.model.get("data").items.stories.length||0),[this.model.get("data").user.fullname||this.model.get("data").user.name]),s=n.utils.trans("Stories written by a profile you follow"),o="/user/"+this.model.get("data").user.name,c=this.model.get("data").user.name;break;case"tagTop":e=n.utils.trans("Hottest stories tagged %s","#"+this.model.get("data").tag.name),s=n.utils.trans("A tag that might interest you"),o="/stories/"+this.model.get("data").tag.name,c=this.model.get("data").tag.name;break;case"tagRecommended":e=n.utils.trans("%s stories","#"+this.model.get("data").tag.name),s=n.utils.trans("A tag recommended just for you"),o="/stories/"+this.model.get("data").tag.name,c=this.model.get("data").tag.name;break;case"storiesByRecentVote":e=n.utils.trans("Because you voted on %s",this.model.get("data").story.title),s=n.utils.trans("We think you'll like these stories too"),o=this.model.get("data").story.url,c=this.model.get("data").story.url;break;case"hubTop":e=n.utils.trans("Reading lists by %s",this.model.get("data").user.fullname||this.model.get("data").user.name),s=n.utils.trans("Collections from a top profile"),o="/user/"+this.model.get("data").user.name,c=this.model.get("data").user.name;break;case"listsByFollowedHub":e=n.utils.trans("Reading lists by %s",this.model.get("data").user.fullname||this.model.get("data").user.name),s=n.utils.trans("Handpicked by a profile you follow"),o="/user/"+this.model.get("data").user.name,c=this.model.get("data").user.name;break;case"storiesRecentlyVotedByFollowedHubs":e=n.utils.trans("%s voted on",this.model.get("data").user.fullname||this.model.get("data").user.name),s=n.utils.trans("Stories you might also like"),o="/user/"+this.model.get("data").user.name,c=this.model.get("data").user.name;break;case"hubsFollowedByFollowedHub":e=n.utils.trans("%s follows",this.model.get("data").user.fullname||this.model.get("data").user.name),s=n.utils.trans("Discover new profiles"),o="/user/"+this.model.get("data").user.name,c=this.model.get("data").user.name;break;case"listTrending":e=this.model.get("data").list.name,s=n.utils.trans("A trending reading list"),o="/list/"+this.model.get("data").list.id,c=this.model.get("data").list.id;break;case"hubTrending":e=n.utils.trans("Reading lists by %s",this.model.get("data").user.fullname||this.model.get("data").user.name),s=n.utils.trans("Selected by a trending profile"),o="/user/"+this.model.get("data").user.name,c=this.model.get("data").user.name;break;case"tagTrending":e="#"+this.model.get("data").tag.name,s=n.utils.trans("A trending tag"),o="/stories/"+this.model.get("data").tag.name,c=this.model.get("data").tag.name;break;case"storiesBySearchResults":e=n.utils.trans("Based on recent searches"),s=n.utils.trans("Stories you might also like"),o="/stories/"+this.model.get("data").items.tags[0],c=this.model.get("data").items.tags[0];break;case"emergentStories":e=n.utils.trans("Emerging Stories"),s=n.utils.trans("Stories we think you'll love");break;case"storiesByPromotedUser":this.model.get("data").contest?(e=n.utils.trans("Featured Contest"),p=this.model.get("data").items.stories[0].id):e=n.utils.sprintf(n.utils.ngettext("Story by %s","Stories by %s",1),[this.model.get("data").user.fullname||this.model.get("data").user.name]),s=n.utils.ngettext("Story written by a fellow Wattpad writer","Stories written by a fellow Wattpad writer",1),u=this.model.get("data").sponsor?this.model.get("data").sponsor.name:this.model.get("data").user.fullname||this.model.get("data").user.name,l=!0,r=!0,o="/user/"+this.model.get("data").user.name,c=this.model.get("data").user.name;break;case"listPromoted":e=this.model.get("data").list.name,s=n.utils.trans("A reading list, handpicked for you"),this.model.get("data").sponsor?(u=this.model.get("data").sponsor.name,this.model.get("data").sponsor.avatar&&(d=this.model.get("data").sponsor.avatar)):u=this.model.get("data").list.user.fullname||this.model.get("data").list.user.name,o="/list/"+this.model.get("data").list.id,c=this.model.get("data").list.id,l=!0,i=!0}var f={title:e,subtitle:s,promoted:l,promotedReadingList:i,promotedByUser:r,fromStoryReading:h,sponsorName:u,sponsorAvatar:d,moduleUser:this.model.get("data").user||this.model.get("data").list&&this.model.get("data").list.user,list:this.model.get("data").list,moduleLink:o,moduleTarget:c,type:this.model.get("type"),isDesktop:m.is.desktop,testGroups:n.testGroups,languageId:parseInt(a.get("language"),10),contestStoryId:p};return this.model.get("data").items.lists?f.isLists=!0:this.model.get("data").items.users&&(f.isUsers=!0),(this.model.get("data").items.stories||this.model.get("data").items.lists||this.model.get("data").items.users).length<=2&&(f.turnOffLooping=!0),f.isHome="home"===this.experience,f},onAvatar:function(n){var t=this.model.get("type");e.te.push("event",this.experience,"module","avatar","click",{module_type:t,username:n.currentTarget.getAttribute("data-target")}),-1!=_.indexOf(this.trackedTypes,t)&&e.te.push("event",this.experience,"promoted_module","avatar","click",{module_type:t,username:n.currentTarget.getAttribute("data-target")})},onStoryPreview:function(a){var s=this,l=$(a.currentTarget).data("story-id"),i=this.collection.get(l);t.shouldSeePaidOnboarding(i.get("isPaywalled"))?e.app.components.showPaidOnboardingModal({premium:n.utils.currentUser().get("premium"),onOnboardingFinish:function(){s.showBrowsePreview(l)}}):this.showBrowsePreview(l)},showBrowsePreview:function(e){var n=new a.models.StoryModel({id:e});Promise.resolve(n.fetch({fresh:!0})).then(function(){var e=new a.views.BrowseStoryPreview({isHome:!0,showTagRankings:!0,model:n});$("#preview-modal").empty().append(e.render().$el),e.openModal()}),-1!=_.indexOf(this.trackedTypes,this.model.get("type"))&&this.trackClicks()},onUpdateFollow:function(e){var n=this.$(this.followButton+"[data-target="+e+"]");n.removeClass("btn-white").addClass("btn-teal"),n.children(".fa").removeClass("fa-follow fa-wp-neutral-2").addClass("fa-following fa-wp-neutral-5"),n.children(".follow-text").text(t.trans("Following"))},onUpdateUnfollow:function(e){var n=this.$(this.followButton+"[data-target="+e+"]");n.removeClass("btn-teal").addClass("btn-white"),n.children(".fa").removeClass("fa-following fa-wp-neutral-5").addClass("fa-follow fa-wp-neutral-2"),n.children(".follow-text").text(t.trans("Follow"))},onFollow:function(n){var t=this.model.get("type");e.te.push("event",this.experience,"module","user","follow",{module_type:t,username:n.currentTarget.getAttribute("data-target")}),-1!=_.indexOf(this.trackedTypes,t)&&e.te.push("event",this.experience,"promoted_module","user","follow",{module_type:t,username:n.currentTarget.getAttribute("data-target")})},onUnfollow:function(n){var t=this.model.get("type");e.te.push("event",this.experience,"module","user","unfollow",{module_type:t,username:n.currentTarget.getAttribute("data-target")}),-1!=_.indexOf(this.trackedTypes,t)&&e.te.push("event",this.experience,"promoted_module","user","unfollow",{module_type:t,username:n.currentTarget.getAttribute("data-target")})},onContinueReading:function(e){var t=$(e.currentTarget).data("story-id"),s=this.collection.get(t);Promise.resolve(s.fetch({fresh:!0})).then(function(){Promise.resolve($.get("/apiv2/syncreadingposition",{story_id:s.get("firstPartId"),wp_token:n.utils.getCookie("token")})).then(function(e){var t=_.where(s.get("parts"),{id:parseInt(e.part,10)});t[0]?a.router.navigate(n.utils.formatStoryUrl(t[0].url),{trigger:!0}):a.router.navigate(n.utils.formatStoryUrl(s.get("url")),{trigger:!0})})})},onContestReading:function(e){var t=$(e.currentTarget).data("story-id"),s=this.collection.get(t);e.currentTarget.classList.contains("module-title")||this.trackClicks(),Promise.resolve(s.fetch({fresh:!0})).then(function(){var e="/"+s.get("firstPartId");a.router.navigate(n.utils.formatStoryUrl(e),{trigger:!0})})},onModuleTitle:function(n){var t=this.model.get("type"),a=null,s=$(n.currentTarget).data("target"),l=$(n.currentTarget).attr("href").split("/");"storiesRecentlyRead"===t?s=null:"list"===l[1]?a="reading list":"user"===l[1]&&(a="user"),e.te.push("event",this.experience,"module","title","click",{module_type:t,item_type:a,itemid:s}),-1!=_.indexOf(this.trackedTypes,t)&&(e.te.push("event",this.experience,"promoted_module","title","click",{module_type:t,item_type:a,itemid:s}),this.trackClicks())},onModuleItem:function(n){var t=$(n.currentTarget).find(".content"),a=this.model.get("type"),s=null;switch(a){case"hubsFollowedByFollowedHub":case"listsByFollowedHub":case"storiesByFollowedHub":case"storiesByPromotedUser":case"storiesRecentlyVotedByFollowedHubs":case"hubTrending":s=_.get(this.model.get("data"),"user.name");break;case"listCurated":case"listPromoted":case"listTrending":s=_.get(this.model.get("data"),"list.id");break;case"tagTop":case"tagTrending":case"tagRecommended":s=_.get(this.model.get("data"),"tag.name");break;case"storiesBySearchResults":s=_.get(this.model.get("data"),"tags[0]")}e.te.push("event",this.experience,"module","content","click",{module_type:a,content_type:t.data("type"),contentid:t.data("target"),itemid:s,page_number:this.pageNum}),-1!=_.indexOf(this.trackedTypes,a)&&e.te.push("event",this.experience,"promoted_module","content","click",{module_type:a,content_type:t.data("type"),contentid:t.data("target"),itemid:s})},trackClicks:function(){_.each(this.clickTrackingUrls,function(e){$.ajax({type:"GET",url:e})})},trackViews:function(){t.isOnScreen(this.$el,.67)&&!this.sentViewTracking&&(this.sentViewTracking=!0,_.each(this.viewTrackingUrls,function(e){$.ajax({type:"GET",url:e})}))},sendCoverClickTrackingEvent:function(n){e.te.push("event","discover","list","cover","click",{storyid:$(n.currentTarget).data("story-id"),moduletype:this.model.get("type")})},stopEvent:function(e){n.utils.stopEvent(e)}})),a.mixin(a.views.DiscoverModule,"InfiniteScroll","FollowManager")}(window,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(108),s=t.n(a);!function(e,n,t,a){a.add("DiscoverRows",a.views.IncrementalList.extend({className:"discover-rows",template:s.a,itemView:a.views.DiscoverModule,containerId:"#module-collection",initialize:function(){this.setCollectionfilter(a.models.DiscoverModule.prototype.isValid),_.bindAll(this,"moduleInView"),this.pageNum=1},renderCollection:function(){a.views.IncrementalList.prototype.renderCollection.apply(this,arguments),_.defer(this.afterRender.bind(this))},afterRender:function(){$(e).on("scroll",this.moduleInView),this.initCarousel()},getTemplateData:function(){return{hasRows:this.collection.length>0,testGroups:n.testGroups}},getItemViewOptions:function(){return{pageNum:this.pageNum}},remove:function(){$(e).off("scroll",this.moduleInView)},onShowMore:function(e){e&&t.stopEvent(e),this.pageNum++,this.$(".show-more-message").addClass("hidden"),this.$(".loading-message").removeClass("hidden");var n=this;Promise.resolve(this.collection.fetchNextSet()).then(function(){n.$(".show-more-message").removeClass("hidden"),n.$(".loading-message").addClass("hidden"),n.initCarousel()})},renderItem:function(e,n,t){a.views.IncrementalList.prototype.renderItem.apply(this,arguments)},initCarousel:function(){var e={nav:!0,navText:['<span class="fa fa-left fa-wp-neutral-2 carousel-left"></span>','<span class="fa fa-right fa-wp-neutral-2 carousel-right"></span>']};t.rtlLanguage(parseInt(a.get("language"),10))&&_.extend(e,{rtl:!0}),a.get("device").is.mobile?_.extend(e,{responsive:{0:{items:1},600:{items:2},900:{items:3}}}):_.extend(e,{items:2,autoWidth:!0,margin:30}),this.$(".owl-carousel").one("initialized.owl.carousel",function(){$(this).removeClass("invisible")}),this.$(".owl-carousel.no-loop, .owl-carousel.users").owlCarousel(e),_.extend(e,{loop:!0}),this.$(".owl-carousel:not(.no-loop):not(.users)").owlCarousel(e)},moduleInView:_.throttle(function(){var n=$(".discover-module"),a=this;this.visitedModule=this.visitedModule||{},n.each(function(n,s){if(!a.visitedModule[n]&&t.isOnScreen($(s),.67)){var l,i,r=$(s).children(".collection").data("target"),o=a.collection.findWhere({type:r}),c=o.get("data"),u=c.items.stories||c.items.lists||c.items.users;c.user?(l="user",i=c.user.name):c.list?(l="reading_list",i=c.list.id):c.tag?(l="tag",i=c.tag.name):(l=null,i=null),a.visitedModule[n]=s,e.te.push("event","home","module",null,"view",{module_type:o.get("type"),content_type:c.items.stories?"stories":"reading_lists",contentids:_.pluck(u,"id").join("|"),content_count:u.length,item_type:l,itemid:i});-1!=_.indexOf(["storiesByPromotedUser","listPromoted"],o.get("type"))&&e.te.push("event","home","promoted_module",null,"view",{module_type:o.get("type"),content_type:c.items.stories?"stories":"reading_lists",contentids:_.pluck(u,"id").join("|"),content_count:u.length,item_type:l,itemid:i})}})},500)})),a.mixin(a.views.DiscoverRows,"InfiniteScroll")}(window,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("BrowseTopics",a.collections.BaseCollection.extend({cacheLocal:!0,arrayKey:"topics",fields:{topics:["name","categoryID","browseURL","tagURL"]},initialize:function(e,n){n=n||{},this.topic=n.topic||null,this.discoverURL=n.discoverURL||null,this.image=n.image||null},resource:function(){return"topics"+(this.topic?"."+this.topic:"")},url:function(){var e=t.utils.currentUser().get("language")||a.get("language");return this.discoverURL?this.discoverURL.replace(/^.*\/\/[^\/]+/,"")+"?language="+e:"/v5/browse/topics"+(this.topic?"/"+this.topic:"")+"?language="+e}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("Tags",a.collections.BaseCollection.extend({model:a.models.BaseModel,arrayKey:"tags"}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("CategoryModuleItem",a.models.Base.extend({validTypes:["hotStoriesForCategory","featuredStoriesForCategory","newStoriesForCategory"],isValid:function(){return n.contains(this.validTypes,this.get("type"))}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.add("CategoryModules",s.collections.BaseCollection.extend({model:s.models.CategoryModuleItem,arrayKey:"modules",fields:{modules:["type","data"]},typeByPathName:{hot:"hotStoriesForCategory",new:"newStoriesForCategory",featured:"featuredStoriesForCategory"},initialize:function(e,n){n=n||{},this.categoryId=n.categoryId},resource:function(){return"user."+(a.currentUser().get("username")||"anonymous")+".category.modules."+this.categoryId},url:function(){return"/v5/discover/categories/"+this.categoryId},getTypeByUrlPath:function(e){return this.typeByPathName[e]}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(109),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("TagModuleWriters",i.views.Base.extend({className:"tag-module-writers",template:s.a,render:function(){var e=this.model?this.model.toJSON():{empty:!0};return e.nameMaxLength=i.get("device").isDesktop()?30:28,this.$el.html(this.template(e)),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(110),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("TagModuleLists",i.views.Base.extend({className:"tag-module-lists",template:s.a,render:function(){var e=this.model?this.model.toJSON():{empty:!0};return e.isDesktop=i.get("device").isDesktop(),e.testGroups=a.testGroups,this.$el.html(this.template(e)),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(111),s=t.n(a),l=t(6),i=t.n(l);!function(e,n,t,a,l,r){r.add("BrowseResults",r.views.IncrementalList.extend({className:"browse-results",template:i.a,containerId:"#browse-results-item-view",constructor:function(e){e=e||{},this.events={"tap    .on-story-preview":r.get("device").is.mobile?"navigateToStory":"onStoryPreview","click  .on-story-preview":"stopEvent"},this.model=e.model,this.filter=e.filter,this.tag=e.tag||"",this.topicModel=e.topicModel||null,this.isStories=!1,-1!==n.indexOf(["hot","new"],this.filter)?(this.itemView=r.views.BrowseStoryItem,this.collection=new r.collections.BrowseTagStories(this.model.get("data").items.stories,{tags:this.tag||this.topicModel.get("name"),filter:this.filter,nextUrl:this.model.get("data").items.nextUrl}),this.isStories=!0,this.trackViews):"writers"===this.filter?(this.itemView=r.views.TagModuleWriters,this.collection=new r.collections.DiscoverModuleUsers(this.model.get("data").items.users)):"lists"===this.filter&&(this.itemView=r.views.TagModuleLists,this.collection=new r.collections.DiscoverModuleLists(this.model.get("data").items.lists)),r.views.IncrementalList.prototype.constructor.apply(this,arguments)},initialize:function(){Handlebars.registerPartial("core.item_views.tag_module_stories_large",s.a),this.listenTo(r,"app:component:TagMetaItem:click",this.navigateToTagPage),n.bindAll(this,"trackViews"),this.initializeTracking()},remove:function(){t(e).off("scroll",this.trackViews),r.views.IncrementalList.prototype.remove.apply(this,arguments)},renderItem:function(e,n,t){r.views.IncrementalList.prototype.renderItem.apply(this,arguments),t=t||this.collection.indexOf(e),n=n||this.getContainer()},getTemplateData:function(){return{stories:this.isStories}},getItemViewOptions:function(){var e={};return"hot"===this.filter&&(e.showStoryRank=!0),e},onStoryPreview:function(e){a.utils.stopEvent(e);var n=t(e.currentTarget).data("story-id"),s=this.collection.get(n),l=new r.views.BrowseStoryPreview({model:s});this.$("#preview-modal").empty().append(l.render().$el),l.openModal(),this.sendStoryClickTrackingEvent(s)},navigateToStory:function(e){a.utils.stopEvent(e);var n=t(e.currentTarget).data("story-id"),s=this.collection.get(n);r.router.navigate(a.utils.formatStoryUrl(s.get("url")),{trigger:!0}),this.sendStoryClickTrackingEvent(s)},navigateToTagPage:function(e){var n=t(e.currentTarget).text().trim();r.router.navigate("/stories/"+encodeURIComponent(n),{trigger:!0})},sendStoryClickTrackingEvent:function(n){var t,a=n.id,s=n.sources||"",l=this.collection.indexOf(n),i=this.model.get("type");t=this.tag||this.topicModel?this.tag?this.tag.split(","):[this.topicModel.get("topic")]:[],e.te.push("event","app","story",null,"click",{storyid:a,page:"tag"}),e.te.push("event","story",null,null,"click",{storyid:a,page:"tag",algo_source:s,query:t,position:l,type:i})},initializeTracking:function(){this.collection instanceof r.collections.BrowseTagStories&&(t(e).off("scroll",this.trackViews),this.viewedStories=[],t(e).on("scroll",this.trackViews))},trackViews:n.throttle(function(){var t=this;n.each(this.collection.models,function(a){var s,i=a.id,r=a.sources||"",o=t.collection.indexOf(t.collection.get(i)),c=t.model.get("type");if(s=t.tag||t.topicModel?t.tag?t.tag.split(","):[t.topicModel.get("topic")]:[],-1===n.indexOf(t.viewedStories,i)){var u=t.$("#browse-results-item-view > .browse-story-item").find("[data-story-id='"+i+"']");l.isOnScreen(u,.5)&&(t.viewedStories.push(i),e.te.push("event","story",null,null,"view",{storyid:i,page:"tag",algo_source:r,query:s,position:o,type:c}))}})},350)})),r.mixin(r.views.BrowseResults,"InfiniteScroll")}(window,_,jQuery,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(33),s=t.n(a),l=t(112),i=t.n(l),r=t(6),o=t.n(r),c=t(113),u=t.n(c);!function(e,n,t,a){a.add("Browse",a.views.RegionManager.extend({id:"browse-container",template:u.a,subviews:{results:a.views.BrowseResults,dummyReactView:a.views.DummyReactView},events:{"tap    .tab-control":"onSwitchTabs","click  .tab-control":"stopEvent","tap  .on-topic":"onTopicClick","click  .on-topic":"onTopicClick"},constructor:function(e){this.tagTabs=[{moduleType:"hotStoriesForTag",tabValue:"hot",translatedTabName:t.trans("Hot")},{moduleType:"newStoriesForTag",tabValue:"new",translatedTabName:t.trans("New")},{moduleType:"relatedWritersForTag",tabValue:"writers",translatedTabName:t.trans("Related Writers")},{moduleType:"relatedReadingListsForTag",tabValue:"lists",translatedTabName:t.trans("Related Reading Lists")}],a.views.RegionManager.prototype.constructor.apply(this,arguments)},initialize:function(e){e=e||{},this.tag=e.tag||null,this.topicModel=e.topicModel,this.rootTopicModel=e.rootTopicModel,this.lastTopicModel=e.lastTopicModel,this.errors=[],this.topic=e.topic||null,this.browseTopicsCollection=e.browseTopicsCollection||null,this.isTopicsLevel=!_.isEmpty(this.topic),this.browseLabel=this.getBrowseLabel(),this.section=e.section||"hot",this.collection=e.collection,this.listenTo(a,"app:component:TagCarouselItem:click",this.navigateToTagPage),a.get("device").is.mobile?Handlebars.registerPartial("mobile.browse.browse_results",o.a):(Handlebars.registerPartial("desktop.browse.browse_results",o.a),Handlebars.registerPartial("core.components.browse_tags",i.a),Handlebars.registerPartial("core.components.browse_header",s.a))},render:function(){var e=this,s=[];return _.defer(function(){var l=e.getTabs(),i=_.findWhere(e.collection.toJSON(),{type:"relatedTagsForTag"});i&&(s=i.data.items.tags.map(function(e){return{id:e,name:e}}));var r=e.isTopicsLevel?e.topic:e.tag,o=r.split(",").reverse();if(_.forEach(o,function(e){s.unshift({id:e,name:e,active:!0})}),1===r.split(",").length&&(s[0].noRemoveIcon=!0),_.isEmpty(e.errors)){var c=n.utils.getCookie("locale");c&&0!==c.trim().length||(c="en_US");var u={tabs:l,relatedTags:{tags:s,withIcon:!0},urlBasePath:e.getUrlBasePath(e.tag||e.topic),activeTab:e.section,translatedActiveTab:t.trans(e.section.charAt(0).toUpperCase()+e.section.slice(1)),browseLabel:e.browseLabel,isEnglish:"en_US"===c,testGroups:n.testGroups,rootTopic:e.rootTopicModel};e.numStories&&_.extend(u,{numStories:e.numStories}),e.$el.html(e.template(u)),e.renderBrowseRegion("#browse-content"),e.renderBrowseHeader("#browse-header-container")}else a.router.trigger("route:error-404","browse-tag")}),a.trigger("navbar:browse-label:set",this.browseLabel,this.topic),this},renderBrowseRegion:function(e){var n,a="mobile"===t.getDeviceType();if(this.$(e).empty(),this.isTopicsLevel&&"explore"===this.section){var s=[],l=a?"":"?prev="+encodeURIComponent(this.topic),i="/stories/"+encodeURIComponent(this.topic),r=this.collection.findWhere({type:"relatedTagsForTag"});r&&_.each(_.get(r.get("data"),"items.tags",[]),function(e){s.push({key:e,name:e,url:i+encodeURIComponent(",")+e+l})}),a&&(n=new this.subviews.dummyReactView({component:"MenuOptions",componentId:"exploreTags",componentData:{options:s}}))}else{var o=this.collection.findWhere({type:this.collection.getTypeByUrlPath(this.section)});o&&(n=new this.subviews.results({model:o,filter:this.section,tag:this.tag,topicModel:this.topicModel}))}n&&this.setRegion(e,n.render())},renderBrowseHeader:function(e){if(this.$(e).empty(),!("mobile"===t.getDeviceType())){var n=_.findWhere(this.tagTabs,{tabValue:this.section}).moduleType,a={numStories:this.collection.findWhere({type:n}).get("data").items.total||0,activeTab:this.section,urlBasePath:this.getUrlBasePath(this.tag||this.topic),translatedActiveTab:t.trans(this.section.charAt(0).toUpperCase()+this.section.slice(1)),tabs:this.getTabs()};this.$el.find(e).html(s()(a))}},getTabs:function(){for(var e=[],n=this.collection.pluck("type"),t=0;t<this.tagTabs.length;t++)-1!==_.indexOf(n,this.tagTabs[t].moduleType)&&e.push(this.tagTabs[t]);return e},getUrlBasePath:function(e){return"stories/"+encodeURIComponent(e)},getPrevPageTag:function(){var e,n,t=this.tag?this.tag.split(","):[];if(t.length>1){var a=_.clone(t);a.pop(),e=encodeURIComponent(a.join(","))+this.getPrevRootTopicQuery(),n=t[t.length-2]}else{if(!this.rootTopicModel)return null;e=this.rootTopicModel.get("name"),n=this.rootTopicModel.get("topic")}return{tag:e,label:n}},getPrevRootTopicQuery:function(){return a.get("device").is.mobile?"":this.lastTopicModel?"?prev="+this.lastTopicModel.get("name"):""},getBrowseLabel:function(){var e;if(this.rootTopicModel)e=this.rootTopicModel.get("topic");else if(this.tag){var n=this.tag.split(",")[0];e=n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()}else e=this.topicModel.get("topic");return e=t.trans("%s Stories",t.trans(e))},onSwitchTabs:function(e){var n=$(e.currentTarget);this.section=n.data("section"),this.$(".tab-control").removeClass("active"),n.addClass("active");for(var t=this.el.querySelectorAll(".fa-stack.check"),s=0;s<t.length;s++)t[s].classList.add("hidden");n.find(".fa-stack.check").removeClass("hidden"),this.renderBrowseRegion("#browse-content"),this.renderBrowseHeader("#browse-header-container");var l=(encodeURIComponent(this.tag||this.topic)+"/").toLowerCase();a.router.navigate("/stories/"+l+n.attr("data-section")+this.getPrevRootTopicQuery(),{trigger:!1})},navigateToTagPage:function(e,n){var t=$(n.currentTarget).hasClass("active"),s=(this.tag||this.topic).toLowerCase(),l=t?"/stories/"+encodeURIComponent(this.removeOneTag(s,e)):"/stories/"+encodeURIComponent(s+","+e)+this.getPrevRootTopicQuery();a.router.navigate(l,{trigger:!0})},removeOneTag:function(e,n){var t=e.split(",");return 1!==t.length&&t.splice(t.indexOf(n),1),t.join(",")},onTopicClick:function(n){var t=$(n.target).text();e.te.push("event","browse","topic",null,"click",{topic:t})}}))}(window,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(25),s=t.n(a),l=t(18),i=t.n(l),r=t(114),o=t.n(r),c=t(11),u=t.n(c),d=t(10),h=t.n(d),p=t(2),m=t.n(p),f=t(12),g=t.n(f),v=t(115),w=t.n(v),y=t(116),b=t.n(y);!function(e,n,t,a){a.add("Authentication",a.views.Base.extend({className:"authentication-wrapper",template:w.a,events:{"tap   .on-login":"loginClick","click .on-login":"stopEvent","tap   .on-signup":"onNavigatePage","click .on-signup":"stopEvent","tap   .on-password-forgot":"onPasswordForgot","click .on-password-forgot":"stopEvent","tap   .get-the-app":"onDownloadApp","click .get-the-app":"stopEvent","tap    .on-pw-toggle":"onPasswordToggle","blur     select":"onBlurPicker","shown.bs.dropdown    #auth-header .button-group":"toggleMenu","hidden.bs.dropdown   #auth-header .button-group":"toggleMenu","tap    #language-options li a":"onChangeLanguage","change #language-options":"onChangeLanguage","tap   .scroll-arrow":"onScrollToValues","click .scroll-arrow":"stopEvent","tap   #back-to-top":"onScrollToForm","click #back-to-top":"stopEvent","mouseleave .show-related-tags":"onUnhoverCategory","mouseenter .show-related-tags":"onCategoryHovered","tap .show-related-tags":"onCategoryHovered","click .show-related-tags":"stopEvent"},initialize:function(e){e=e||{page:"signup"},this.options=e,this.options.from=e.from||null,this.timeout=null,this.deviceType=a.get("device")&&a.get("device").is.mobile?"mobile":"desktop","desktop"===this.deviceType&&(this.deviceType=a.get("device")&&a.get("device").is.tablet?"tablet":"desktop",Handlebars.registerPartial("core.header.community_menu",g.a),Handlebars.registerPartial("core.header.search_field",m.a),Handlebars.registerPartial("core.header.discover_menu",h.a),Handlebars.registerPartial("desktop.browse.browse_topics",u.a)),this.options.nextUrl=t.utils.getNextUrl(e.nexturl),this.title=t.utils.trans("Log in to Wattpad"),Handlebars.registerPartial("core.authentication.auth_headline",o.a),Handlebars.registerPartial("core.authentication.auth_form",i.a),Handlebars.registerPartial("mobile.authentication.auth_footer",b.a),"desktop"===this.deviceType?Handlebars.registerPartial("core.components.get_app",s.a):"tablet"===this.deviceType&&Handlebars.registerPartial("core.components.get_app",s.a)},render:function(s){var l,i,r,o={};s=s||{},o[this.options.page]=!0,l=t.utils.getCookie("locale"),i=a.get("supported-languages"),r=t.utils.getCookie("signupFrom"),l&&0!==l.trim().length||(l="en_US");var c=i.where({locale:l})[0].toJSON();if(o.googlePlayImage=this._googlePlayImage(c.code),o.nextUrl=this.options.nextUrl,o.interfaceLang=i.where({locale:l})[0].toJSON(),o.languages=i.toJSON(),o.translatedLangs=t.translatedLangs,o.device=a.get("device"),o.signupFrom=r,o.hybridLayout=this.options.hybridLayout,this.options.hybridLayout&&(o.model=this.options.model),o.notice=t.utils.getParam("notice"),o.model=new a.models.Authsignup({}),o.msg=t.utils.getParam("msg"),s.isSSR||"signup"!==this.options.page)return this.$el.html(this.template(o)),n.defer(this.afterRender.bind(this)),this;t.utils.redirectToServer(e.location.href)},afterRender:function(){this.$(".on-dob-hover").tooltip({trigger:"click hover manual",title:"We ask for your date of birth so you can have the right Wattpad experience for your age."})},onNavigatePage:function(e){var n=$(e.currentTarget);a.router.navigate(n.attr("href"),{trigger:!0})},onDownloadApp:function(a){if("mobile"===this.deviceType)e.location.href=t.utils.getAppUrl();else{var l=$(a.currentTarget),i=l.data("download-link"),r=l.data("download-text");this.$("#get-app-modal-container").empty().html(s()({downloadLink:i,downloadText:r}));var o=this.$("#get-app-modal");o.find("#phonenumber").intlTelInput({utilsScript:t.intlTelInputUtilsScript||"/js/intl-tel-input-utils.js",preferredCountries:[],defaultCountry:"us"});var c=n.bind(this.onSendAppLink,this),u=o.find(".on-send-app-link").on("tap",c);o.modal("toggle").on("hide.bs.modal",function e(){u.off("tap",c),o.off("hide.bs.modal",e)})}},toggleMenu:function(e){$(e.currentTarget).find("> button > span").toggleClass("fa-down fa-up")},onPasswordToggle:function(n){var t=$(n.currentTarget),a=t.siblings("input"),s=a.attr("type");e.clearTimeout(this.timeout),"password"===s&&(a.attr("type","text").focus(),t.addClass("active")),"text"===s&&(a.attr("type","password").focus(),t.removeClass("active"))},onSendAppLink:function(a){var s=$("#get-app-modal #phonenumber"),l=s.intlTelInput("isValidNumber");this.model.validate("getApp"),l?l&&(this.model.trigger("attr:valid","getApp"),Promise.resolve($.ajax({type:"POST",url:"/apiv2/send_download_link",data:{to:s.intlTelInput("getNumber")}})).then(function(){var e=$("#get-app-modal .on-send-app-link");e.addClass("sent"),n.delay(function(){e.removeClass("sent"),$("#get-app-modal").modal("hide")},5e3)}).catch(function(n){e.alert(t.utils.trans(n))})):this.model.trigger("attr:invalid","getApp",t.utils.trans("Please enter a valid SMS number."))},onChangeLanguage:function(n){var a="en_US";a=n.currentTarget.selectedOptions?$(n.currentTarget.selectedOptions[0]).data("code"):$(n.currentTarget).data("code"),t.utils.setCookie("locale",a,3650,!0),e.location.reload()},onScrollToValues:function(e){$("html, body").animate({scrollTop:$("#value-props").offset().top},1e3),t.utils.stopEvent(e)},onScrollToForm:function(e){$("html, body").animate({scrollTop:0},1e3),$("#signup-username").focus(),t.utils.stopEvent(e)},setSubElements:function(e){var t,a="";e&&(t=e.className.trim().split(" "),n.each(t,function(e){a+="."+e}),e.setElement($(a.trim())))},loginClick:function(e){t.utils.pushEvent({category:"login-btn",action:"click",label:e.currentTarget.dataset.label||"under_form"}),this.title=t.utils.trans("Log in to Wattpad"),this.onAuthPrompt(e)},preType:function(){this.changeBg()},currentTimer:null,onCategoryHovered:function(e){this.currentTimer=setTimeout(function(){var n=this.$("#main-browse-navigate .active");$(n.data("id")).addClass("hide"),n.removeClass("active");var t=$(e.target);$(t.data("id")).removeClass("hide"),t.addClass("active")},50)},onUnhoverCategory:function(e){clearTimeout(this.currentTimer)},onPasswordForgot:function(e){var n=$("#login-user").val(),s=e.currentTarget.href.replace(t.siteRoot,"");a.router.navigate(s,!0),$("#forgot-email").prop("value",n)},onBlurPicker:function(e){var n=$(e.currentTarget),t=n.val(),a=n.closest(".form-group").data("attr");null===t&&this.model.validate(a)},_googlePlayImage:function(e){switch(e.toLowerCase()){case"ar":return"homepages/googleplay/ar.png";case"cs":return"homepages/googleplay/cs.png";case"de":return"homepages/googleplay/de.png";case"es":return"homepages/googleplay/es.png";case"fr":return"homepages/googleplay/fr.png";case"id":return"homepages/googleplay/id.png";case"it":return"homepages/googleplay/it.png";case"pl":return"homepages/googleplay/pl.png";case"pt":case"pt_pt":case"pt_br":return"homepages/googleplay/pt.png";case"ro":return"homepages/googleplay/ro.png";case"ru":return"homepages/googleplay/ru.png";case"sk":return"homepages/googleplay/sk.png";case"sv":return"homepages/googleplay/sv.png";case"tr":return"homepages/googleplay/tr.png";case"vi":return"homepages/googleplay/vi.png";case"en":default:return"homepages/googleplay/en.png"}}})),a.mixin(a.views.Authentication,"ValidationView","FacebookConnect","AuthPromptManagement")}(window,_,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(18),s=t.n(a),l=t(117),i=t.n(l);!function(e,n,t,a){a.add("SignUpPrompt",a.views.Base.extend({className:"signup-modal login-modal",template:i.a,events:{"tap    .on-pw-toggle":"onPasswordToggle","tap    .on-close":"onClose","click  .on-close":"stopEvent","tap    .on-password-forgot":"onPasswordForgot","click  .on-password-forgot":"stopEvent","tap    .on-signup":"onSignup","click  .on-signup":"stopEvent","tap    .on-login":"onLogin","click  .on-login":"stopEvent","blur     select":"onBlurPicker"},initialize:function(n){n=n||{},this.nextUrl=t.utils.getNextUrl(n.nextUrl,e.location.href),this.nextUrlFirstPart=n.nextUrlFirstPart,this.title=n.title||null,this.subtitle=n.subtitle||null,this.bulletPoints=n.bulletPoints||null,this.form=n.form||"signup",this.forcedSignup=n.forcedSignup||!1,this.formType=n.formType||"sidebar",this.skipOnboarding=n.skipOnboarding||!1,this.libraryStoryId=n.libraryStoryId||null,Handlebars.registerPartial("core.authentication.auth_form",s.a)},render:function(){this.signupAction="https://"+e.location.hostname+(e.location.port?":"+e.location.port:"")+"/"+this.form;var s={title:this.title,subtitle:this.subtitle,bulletPoints:this.bulletPoints,signup:"signup"===this.form,login:"login"===this.form,forgot:"forgot"===this.form,nextUrl:this.nextUrl,nextUrlFirstPart:this.nextUrlFirstPart,signupFrom:t.utils.getCookie("signupFrom"),signupAction:this.signupAction,formType:this.formType,modal:-1!==this.formType.indexOf("modal"),skipOnboarding:this.skipOnboarding,libraryStoryId:this.libraryStoryId,forcedSignup:this.forcedSignup,model:new a.models.Authsignup({})};return this.$el.html(this.template(s)),this.$el.find("[autofocus]").focus(),n.defer(this.afterRender.bind(this)),this},afterRender:function(){this.$(".on-dob-hover").tooltip({trigger:"click hover manual",title:"We ask for your date of birth so you can have the right Wattpad experience for your age."})},onPasswordToggle:function(n){var t=$(n.currentTarget),a=t.siblings("input"),s=a.attr("type");e.clearTimeout(this.timeout),"password"===s&&(a.attr("type","text").focus(),t.addClass("active")),"text"===s&&(a.attr("type","password").focus(),t.removeClass("active"))},onClose:function(e){t.utils.setCookie("prSu",!0,0,null),$("#generic-modal").modal("hide")},onSignup:function(e){this.title=t.utils.trans("Join Wattpad"),this.form="signup",this.render(),t.utils.stopEvent(e)},onLogin:function(e){this.title=t.utils.trans("Log in to Wattpad"),this.form="login",this.render(),t.utils.stopEvent(e)},onPasswordForgot:function(e){var n=$("#login-user").val();this.title=t.utils.trans("Lost your password?"),this.subtitle=t.utils.trans("Type your username or email below and we'll send you instructions on how to reset it."),this.form="forgot",this.render(),$("#forgot-email").prop("value",n)},onBlurPicker:function(e){var n=$(e.currentTarget),t=n.val(),a=n.closest(".form-group").data("attr");null===t&&this.model.validate(a)}})),a.mixin(a.views.SignUpPrompt,"ValidationView","FacebookConnect")}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("OauthAuthentication",a.views.Base.extend({events:{"tap    .on-pw-toggle":"onPasswordToggle"},initialize:function(e){this.timeout=null},onPasswordToggle:function(n){var t=$(n.currentTarget),a=t.siblings("input"),s=a.attr("type");e.clearTimeout(this.timeout),"password"===s&&(a.attr("type","text").focus(),t.addClass("active")),"text"===s&&(a.attr("type","password").focus(),t.removeClass("active"))}})),a.mixin(a.views.OauthAuthentication,"ValidationView")}(window,_,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(118),s=t.n(a);!function(e,n,t,a){a.add("UpdatedPolicyNotice",a.views.Base.extend({className:"updated-policy-notice",template:s.a,events:{"tap    .on-continue":"onContinue","click  .on-continue":"stopEvent"},initialize:function(e){this.model=e.model,this.title=e.title||"",this.body=e.body||""},render:function(e){var n={title:this.title,body:this.body};return this.$el.html(this.template(n)),this},showModal:function(){var e=$("#generic-modal");e.find(".modal-body").html(this.render().$el),e.find(".modal-dialog").addClass("updated-policy-notice-modal"),e.modal({backdrop:"static",keyboard:!1})},hideModal:function(){var e=$("#generic-modal");e.modal("hide"),setTimeout(function(){e.find(".modal-dialog").removeClass("updated-policy-notice-modal")},500)},onContinue:function(){this.model.acceptLatestTermsOfService().then(function(e){e||new a.views.ErrorToast({message:t.utils.trans("Sorry, something went wrong. Please try again.")}).render()}),this.hideModal()}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";a.add("Landing",a.views.DummyReactView.extend({component:"LandingPage",componentId:"landing-page",constructor:function(e){this.componentData={locale:t.utils.getCookie("locale"),page:e.page,model:e.model,mobile:e.mobile};var n={componentData:this.componentData,component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,n)}})),a.mixin(a.views.Landing,"FacebookConnect")}(window,_,wattpad,window.app,wattpad.utils)},function(e,n,t){"use strict";t.r(n);var a=t(119),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("UserItem",i.views.Base.extend({className:"col-md-3 col-sm-4 col-xs-6 ",template:s.a,events:{"tap  .on-dismiss":"onRemoveFollower"},initialize:function(e){e=e||{},this.showRemove=e.showRemoveFollower,this.listenTo(i,"app:user:follow",this.updateToFollowingButton),this.listenTo(i,"app:user:unfollow",this.updateToFollowButton)},render:function(){var e=n.extend(this.model.toJSON(),{showRemove:this.showRemove}),t=this;return e.disabled=void 0===this.model.get("following"),e.disabled&&Promise.resolve(this.model.determineFollowStatus()).then(function(){e=n.extend(t.model.toJSON(),{showRemove:t.showRemove}),t.$el.html(t.template(e))}),this.$el.html(this.template(e)),this},updateToFollowingButton:function(e){if(this.model.get("username")===e){var n=this.$('.btn-fan[data-target="'+e+'"]');n.removeClass("btn-white").addClass("btn-teal"),n.find(".fa").removeClass("fa-follow fa-wp-base-2-dark").addClass("fa-following fa-wp-neutral-5"),n.find(".truncate").text(l.trans("Following")),this.model.set("following",!0)}},updateToFollowButton:function(e){if(this.model.get("username")===e){var n=this.$('.btn-fan[data-target="'+e+'"]');n.removeClass("btn-teal").addClass("btn-white"),n.find(".fa").removeClass("fa-following fa-wp-neutral-5").addClass("fa-follow fa-wp-base-2-dark"),n.find(".truncate").text(l.trans("Follow")),this.model.set("following",!1)}},onRemoveFollower:function(){var e=this;this.model.deleteFollower().then(function(){e.model.collection&&e.model.collection.remove(e.model)})},onNavigate:function(){i.router.navigate("/user/"+this.model.get("username"),{trigger:!0})},stopEvent:function(e){l.stopEvent(e)}})),i.mixin(i.views.UserItem,"FollowManager")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(120),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("UserRowItem",i.views.Base.extend({className:"col-xs-12",template:s.a,events:{"tap    .on-navigate":"onNavigate","click  .on-navigate":"stopEvent","tap    .on-remove-follower":"onRemoveFollower","click  .on-remove-follower":"stopEvent"},initialize:function(e){e=e||{},this.showRemoveFollowersOption=e.showRemoveFollowersOption},render:function(){var e=this.model.toJSON(),t={},a=[],s=this;return e.numStoriesPublished&&a.push(l.sprintf(l.ngettext("%s Work","%s Works",e.numStoriesPublished),[l.count(e.numStoriesPublished)])),e.numLists&&a.push(l.sprintf(l.ngettext("%s Reading List","%s Reading Lists",e.numLists),[l.count(e.numLists)])),a.length<2&&e.numFollowers&&a.push(l.sprintf(l.ngettext("%s Follower","%s Followers",e.numFollowers),[l.count(e.numFollowers)])),t.metadata=a,t.showRemoveFollowersOption=this.showRemoveFollowersOption,e.disabled=void 0===this.model.get("following"),e.disabled&&Promise.resolve(this.model.determineFollowStatus()).then(function(){s.$el.html(s.template(n.extend(t,s.model.toJSON())))}),this.$el.html(this.template(n.extend(t,e))),this},onRemoveFollower:function(e){var n=this,t=this.model.get("name")||this.model.get("username"),a=l.trans("Are you sure you want to remove your follower %s?",t);confirm(a)&&this.model.deleteFollower().then(function(){n.model.collection&&n.model.collection.remove(n.model)})},onNavigate:function(){i.router.navigate("/user/"+this.model.collection.username,{replace:!0}),i.router.navigate("/user/"+this.model.get("username"),{trigger:!0})}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(17),s=t.n(a),l=t(121),i=t.n(l);!function(e,n,t,a,l,r){r.add("ReadingListItem",r.views.Base.extend({className:"reading-list",template:i.a,events:{"mouseover  .on-story-details":"onStoryDetails","mouseleave .popover":"offStoryDetails","mouseleave .panel-body":"offStoryDetails","tap    .send-list-event":"sendListClickTrackingEvent","click  .send-list-event":"stopEvent","tap    .story-item":"sendStoryClickTrackingEvent","click  .story-item":"stopEvent"},initialize:function(){this.collection=this.model.stories(5);var e=this;Promise.resolve(this.collection.fetchNextSet()).then(function(){e.render()}),Handlebars.registerPartial("core.item_views.discover_module_stories_small",s.a)},render:function(){var e=this;return this.$el.html(this.template(this.formatViewData())),n.defer(function(){e.$('[data-toggle="tooltip"]').tooltip()}),this},formatViewData:function(){var e=this.model.toJSON();return n.extend(e,{storyItems:this.collection.toJSON().splice(0,5)}),e},onStoryDetails:function(n){var a=t(n.currentTarget).siblings(".popover");this.offStoryDetails(),a.css("display","block"),e.setTimeout(function(){a.removeClass("faded")},50)},offStoryDetails:function(){this.$(".popover").removeAttr("style").addClass("faded")},sendListClickTrackingEvent:function(){e.te.push("event","profile","reading_list","list","click",{reading_listid:this.collection.listId,username:this.model.get("user").name})},sendStoryClickTrackingEvent:function(n){e.te.push("event","profile","reading_list","story","click",{reading_listid:this.collection.listId,storyid:t(n.currentTarget).data("story-id"),username:this.model.get("user").name})}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(122),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("StoryGridItem",i.views.Base.extend({className:"col-sm-2 col-xs-4 story-item story text-center",template:s.a,render:function(){var e=this.model.toJSON();return e.url=l.formatStoryUrl(this.model.get("url")),e.description&&(e.description=l.sanitizeHTML(e.description)),this.$el.html(this.template(e)),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(123),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("StoryGrid",i.views.IncrementalList.extend({className:"story-grid",template:s.a,itemView:i.views.StoryGridItem,events:n.extend({"mouseover  .on-story-details":"onStoryDetails","mouseleave .popover":"offStoryDetails","mouseleave .panel-body":"offStoryDetails"},i.views.IncrementalList.prototype.events),getTemplateData:function(){return{stories:this.collection.toJSON()}},onStoryDetails:function(n){var a=t(n.currentTarget).siblings(".popover");this.offStoryDetails(),a.css("display","block"),e.setTimeout(function(){a.removeClass("faded")},50)},offStoryDetails:function(){this.$(".popover").removeAttr("style").addClass("faded")},render:function(){var e=this;return Promise.resolve(this.collection.fetchNextSet()).then(function(){i.views.IncrementalList.prototype.render.apply(e,arguments)}),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(19),s=t.n(a),l=t(124),i=t.n(l),r=t(125),o=t.n(r),c=t(126),u=t.n(c),d=t(20),h=t.n(d),p=t(127),m=t.n(p),f=t(128),g=t.n(f),v=t(129),w=t.n(v),y=t(34),b=t.n(y),x=t(130),C=t.n(x),k=t(131),S=t.n(k),M=t(132),T=t.n(M),P=t(133),E=t.n(P);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,n,t,a){a.add("NotificationEvent",a.views.Base.extend({templates:{follow:E.a,follower_approved:T.a,vote:S.a,message:C.a,comment:b.a,inline_comment:b.a,dedicate:w.a,library:g.a,upload:m.a,base:h.a,error:u.a,forum_post:o.a,friend_join:i.a},trackingEvents:{follow:"new_followers",follower_approved:"follow_approved",vote:"votes",message:{default:"profile_posts",replies:"replies",mentions:"mentions",broadcast:"announcements"},comment:{default:"comments",replies:"replies",mentions:"mentions"},inline_comment:{default:"comments",replies:"replies",mentions:"mentions"},dedicate:"dedications",library:"reading_list_adds",upload:"story_updates",friend_join:"friend_joins"},template:null,events:{"click .show-full":"stopEvent","tap  .show-full":"showFullMessage","click .expanded-text":"stopEvent","tap  .expanded-text":"navigateTo","tap .on-notification-click":"navigateAndSendTracking","click .on-notification-click":"stopEvent","tap  .on-delete":"onDeleteComment","click  .on-delete":"stopEvent","tap  .on-report":"onReportComment","click  .on-report":"stopEvent"},reportModalContainer:".comment-report-modal",modalTitle:n.utils.trans("Report a Comment"),requestType:"inappropriate_comments",isMainReportModal:!1,initialize:function(){Handlebars.registerPartial("core.item_views.comment_item_options",s.a),this.template=this.templates[this.model.get("type")]},render:function(){var e=this.model.get("data"),s=this.model.get("type");if(e.createDate=this.model.get("createDate"),e.isRead=this.model.get("isRead"),e.id=this.model.get("id"),e.isNotification=!1,["comment","inline_comment","message"].includes(s)){var l=e.comment||e.message;this.hasMentions=!_.isEmpty(t.getMentions(l.body)),e.hasMentions=this.hasMentions}"message"===s&&(e.toMe=this.model.collection.username===e.message.to.name,e.theirFeed=e.message.from.name===e.message.to.name),this.model.get("children").length>0&&(e.children=this.model.get("children").length+1,e.groupUrl=this.model.get("group_url"));var i="";if("message"===s&&void 0!==e.message){var r=a.get("device");i=e.message.body,r.is.mobile,e.navigateTo="/user/"+e.message.to.name+"/conversations#"+e.message.id}else if(("inline_comment"===s||"comment"===s)&&void 0!==e.comment&&(i=e.comment.body,e.navigateTo=e.comment.deeplink_url.substring(23),e.isCommentNotification=!0,n.utils.currentUser().authenticated())){var o=n.utils.currentUser().get("ambassador")||n.utils.currentUser().get("isSysAdmin"),c=e.comment.user.name===n.utils.currentUser().get("username");e.canDelete=o||c}return e.maxTextLength=465,e.isTruncated=i.length>e.maxTextLength,this.$el.html(this.template(e)),this},showFullMessage:function(e){var n=this.model.get("type");"message"!==n&&"comment"!==n&&"inline_comment"!==n||this.model.get("data").isTruncated&&(this.$el.find(".shown-message").addClass("hidden"),this.$el.find(".show-full").addClass("hidden"),this.$el.find(".full-message").removeClass("hidden").addClass("expanded-text"));t.stopEvent(e)},navigateTo:function(e){var n=this.model.get("type");if("message"===n||"comment"===n||"inline_comment"===n){var t=this.model.get("data");void 0!==t.navigateTo&&a.router.navigate(t.navigateTo,{trigger:!0})}this.sendTrackingEvent()},navigateAndSendTracking:function(e){this.sendTrackingEvent(),a.views.Base.prototype.onNavigate.apply(this,arguments)},sendTrackingEvent:function(){var n=this.trackingEvents[this.model.get("type")],t=this.model.get("data");n&&"object"===I(n)&&(n=this.hasMentions?n.mentions:t.message&&t.message.wasBroadcast?n.broadcast:t.comment&&t.comment.parentId||t.message&&t.message.parentId?n.replies:n.default),e.te.push("event","notifications_feed","item",null,"click",{notification_type:n,storyid:t.story&&t.story.id?t.story.id:null,username:t.message&&t.message.from?t.message.from.name:null,reading_listid:t.list&&t.list.id?t.list.id:null})},onDeleteComment:function(s){t.stopEvent(s);var l=this.model.get("data").comment;if(e.te.push("event","notifications_feed","comment",null,"delete",{commenter_username:l.user.name,commentid:l.id,partid:this.model.get("data").story.part.id}),e.confirm(n.utils.trans("Are you sure you want to delete this comment?"))){var i=new a.models.CommentModel({id:l.id,parentId:null});return Promise.resolve(i.destroy()).then(function(n){e.location.reload()})}},onReportComment:function(n){var t=this.model.get("data").comment;e.te.push("event","notifications_feed","comment",null,"report",{commenter_username:t.user.name,commentid:t.id,partid:this.model.get("data").story.part.id})}})),a.mixin(a.views.NotificationEvent,"ReportManagement","ReportConduct")}(window,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(134),s=t.n(a);!function(e,n,t,a,l){a.add("NotificationsPage",a.views.RegionManager.extend({id:"notifications",className:"container",template:s.a,events:{"tap .on-expand":"onExpandAggregation","click .on-expand":"stopEvent"},initialize:function(){this.username=n.utils.currentUser().get("username"),this.collection={notifications:new a.collections.Notifications([],{username:this.username}),requests:new a.collections.FollowRequests([],{username:this.username})},Handlebars.registerPartial("core.notifications.notifications",function(){return""}),Handlebars.registerPartial("core.notifications.follow_requests",function(){return""}),Handlebars.registerPartial("core.invite_friends.components.invite_panel",function(){return""})},render:function(){var e,t,s,l=this,i=[],r=n.utils.currentUser().get("isPrivate");return this.$el.html(this.template({hasRequests:!1,testGroups:n.testGroups})),i=[this.collection.notifications.fetchNextSet()],r&&i.push(this.collection.requests.fetchNextSet()),Promise.all(i).then(function(n){e=new a.views.Notifications({collection:l.collection.notifications}),l.$("#notification-feed").empty(),l.setRegion("#notification-feed",e.render()),t=new a.views.InvitePanel({action:"select_from_notifications",content:"invite_notifications"}),l.$(".invite-panel-component").empty(),l.setRegion(".invite-panel-component",t.render()),r&&l.collection.requests.total>0&&(l.$("#follow-requests-col").removeClass("hidden"),s=new a.views.FollowRequests({collection:l.collection.requests}),l.$("#follow-requests").empty(),l.setRegion("#follow-requests",s.render()))}),this},onExpandAggregation:function(e){var t,s=this.$(e.currentTarget).data("id"),l=this,i=this.collection.notifications.get(s),r=i.get("children"),o=new a.collections.Notifications([],{username:this.username,useLocalCache:!1,turnOffPagination:!0});t=o.url()+"?event_ids="+s+",",_.each(r,function(e,n){t+=e,n<r.length-1&&(t+=",")}),o.limit=r.length+1,Promise.resolve(o.fetchNextSet({url:t})).then(function(){o.more=!1;var e=new a.views.Notifications({collection:o}),t="";"follow"===i.get("type")?t=n.utils.trans("You have <strong>%s new followers</strong>",o.limit):"vote"===i.get("type")?t=n.utils.trans("%s people voted on <strong>%s - %s</strong>",o.limit,i.get("data").story.title,i.get("data").story.part.title):"forum_post"===i.get("type")?t=n.utils.trans("There are <strong>%s new comments</strong> on club thread <strong>%s</strong>",o.limit,i.get("data").discussion.discussion):"message"===i.get("type")&&(t=n.utils.sprintf(n.utils.ngettext("You have %s new announcement","You have %s new announcements",o.limit),[o.limit])),l.$("#expand-modal .modal-header > .content > time").html(n.utils.calendar(i.get("createDate"))),l.$("#expand-modal .modal-header > .count").html(o.limit),l.$("#expand-modal .modal-header > .content > .heading").html(t),l.$("#expand-modal .modal-body").html(e.render().$el),l.$("#expand-modal").modal({keyboard:!0}),l.$("#expand-modal").modal("show")})}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(20),s=t.n(a),l=t(135),i=t.n(l);!function(e,n,t,a,l){a.add("Notifications",a.views.IncrementalList.extend({containerClass:".collection",template:i.a,itemView:a.views.NotificationEvent,initialize:function(){Handlebars.registerPartial("core.notifications.items.notification_base",s.a),this.setCollectionfilter(a.models.NotificationEvent.prototype.isValid)},renderCollection:function(e){var n=a.views.CollectionView.prototype.renderCollection.apply(this,arguments);return 0===this.collection.length?this.$(".empty-message").removeClass("hidden"):this.$(".empty-message").addClass("hidden"),n},getTemplateData:function(){return{notifications:{hasMore:this.collection.hasMore(),hasItems:this.collection.length>0},device:a.get("device")}}})),a.mixin(a.views.Notifications,"InfiniteScroll")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(136),s=t.n(a),l=t(137),i=t.n(l);!function(e,n,t,a,l){a.add("FollowRequestItem",a.views.Base.extend({className:"follow-request-item",template:{notification:i.a,profile:s.a},events:{"tap   .on-approve":"onApprove","click .on-approve":"stopEvent","tap   .on-ignore":"onIgnore","click .on-ignore":"stopEvent"},initialize:function(e){e=e||{},this.inProfile=!!e.inProfile,this.ignored=!!e.ignored},render:function(){var e=this.inProfile?this.template.profile:this.template.notification,n=this.inProfile?_.extend(this.model.toJSON(),{followerIgnored:this.ignored}):this.model.toJSON();return this.$el.html(e(n)),this},onApprove:function(e){var n=this;this.model.acceptFollowRequest().then(function(){n.model.collection&&n.model.collection.remove(n.model)})},onIgnore:function(e){var n=this;this.model.ignoreFollowRequest().then(function(){n.model.collection&&n.model.collection.remove(n.model)})}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(138),s=t.n(a);!function(e,n,t,a,l){a.add("FollowRequests",a.views.IncrementalList.extend({containerClass:".collection",template:s.a,itemView:a.views.FollowRequestItem,getTemplateData:function(){return{requests:{hasItems:this.collection.length>0,hasMore:this.collection.hasMore()},device:a.get("device")}}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n){!function(e,n,t,a,s,l){"use strict";s.add("CoreProfileActivity",s.views.CoreFeed.extend({className:"activity-feed",events:n.extend({"tap .on-update-feed":"onUpdateFeed","click .on-update-feed":"onUpdateFeed"},s.views.CoreFeed.prototype.events),initialize:function(e){e=e||{},this.setCollectionfilter(s.models.PublicMessage.prototype.isValid),t.utils.currentUser().authenticated()&&"wattpad"!==this.model.get("username").toLowerCase()&&(this.newMessageView=new s.views.NewMessageNew({to:this.model.get("username"),canBroadcast:t.utils.currentUser().get("username")===this.model.get("username"),placeholder:e.placeholder}),this.listenTo(this.newMessageView,"message:new",this.addNewMessage))},render:function(){var e=this;return Promise.all([Promise.resolve(this.collection.fetchNextSet({data:{newest_id:null}})),Promise.resolve(a.currentUser().library().loaded()),Promise.resolve(!this.pinnedItem||this.pinnedItem.fetch())]).then(function(){e.pinnedItem&&e.pinnedItem.get("id")&&e.collection instanceof s.collections.ActivityMessages&&(e.collection.length>=1&&e.collection.first().get("id")===e.pinnedItem.get("id")&&e.collection.remove(e.pinnedItem.id),e.pinnedItemView=new s.views.PinnedItemMessage({model:e.pinnedItem}),e.listenTo(e.pinnedItemView,"pinnedItem:remove",e.removePinnedItem)),s.views.IncrementalList.prototype.render.apply(e,arguments),e.newMessageView&&e.$el.children(".collection").before(e.newMessageView.render().$el),e.pinnedItem&&e.pinnedItemView&&e.$el.children(".collection").before(e.pinnedItemView.render().$el),e.collection.length>0&&"message"===e.collection.at(0).get("type")&&n.defer(function(){e.viewPointers[e.collection.at(0).cid].expand()}),e.postRender()}),this},postRender:function(){},onUpdateFeed:function(e){s.local.clear(this.collection.resource()),s.router.navigate("/user/"+this.model.get("username"),{trigger:!1}),this.collection.reset(),this.render()},addNewMessage:function(e){this.setDirection("up"),this.collection instanceof s.collections.ActivityMessages?(e.set("type",e.type||"newMessage"),e.set("username",this.model.get("username")),e.get("ownername")===t.utils.currentUser().get("username")?this.pinnedItemView&&this.pinnedItemView.model?(this.collection.add(this.pinnedItemView.model.toJSON(),{at:0}),this.pinnedItem=e,this.stopListening(this.pinnedItemView,"pinnedItem:remove",this.removePinnedItem),this.pinnedItemView.undelegateEvents(),this.pinnedItemView=new s.views.PinnedItemMessage({model:this.pinnedItem}),this.$(".pinned-item").html(this.pinnedItemView.render().$el),this.listenTo(this.pinnedItemView,"pinnedItem:remove",this.removePinnedItem)):(e.set("username",this.model.get("username")),e.get("ownername")===t.utils.currentUser().get("username")?(this.pinnedItem=e,this.pinnedItemView=new s.views.PinnedItemMessage({model:this.pinnedItem}),this.$(".collection").before(this.pinnedItemView.render().$el)):this.collection.fetchNextSet()):this.collection.add(e.toJSON())):this.collection.add(new s.models.PublicMessage({id:e.get("eventId"),type:"message",createDate:e.get("createDate"),data:{user:{name:e.get("from").name,avatar:e.get("from").avatar},message:{id:e.get("id"),createDate:e.get("createDate"),body:e.get("body"),to:{name:this.model.get("username"),avatar:this.model.get("avatar")},broadcast:e.get("isBroadcast"),isOffensive:e.get("isOffensive")},highlight_color:"#00B2B2"},username:this.model.get("username")})),this.setDirection("down"),s.local.clear(this.collection.resource())},removePinnedItem:function(e){var n=this;this.collection.remove(e),this.pinnedItem=new s.models.PinnedMessage({username:this.model.get("username"),type:"newMessage"}),Promise.resolve(this.pinnedItem.fetch({fresh:!0})).then(function(){n.pinnedItem.id?(n.collection.first().get("id")===n.pinnedItem.toJSON().id&&n.collection.remove(n.pinnedItem),n.pinnedItemView.undelegateEvents(),n.pinnedItemView=new s.views.PinnedItemMessage({model:n.pinnedItem}),n.$(".pinned-item").replaceWith(n.pinnedItemView.render().$el),n.listenTo(n.pinnedItemView,"pinnedItem:remove",n.removePinnedItem)):n.$(".pinned-item").empty()})}}))}(window,_,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(139),s=t.n(a),l=t(140),i=t.n(l);!function(e,n,t,a,l,r,o){r.add("ProfileAbout",o.View.extend({className:"about-info panel panel-default2",template:i.a,partials:{link:s.a},events:{"tap   .on-edit":"onEdit","click .on-edit":"stopEvent"},render:function(){var e=this.model.toJSON(),n=this;e.links=this.getLinkValues(e),e.userFollowings=this.options.following.toJSON(0,14);var a=this.options.following.total;return e.numFollowingMobile=a>14?a-14:null,e.numFollowingTablet=a>3?a-3:null,e.numFollowingDesktop=a>4?a-4:null,e.numFollowingDesktopWide=a>6?a-6:null,e.socialShareSection=this.getSocialShareHTML(),this.$el.html(this.template(e)),e.facebook&&t.ajax({url:"https://graph.facebook.com/"+e.facebook,data:{fields:"link"},cache:!1}).done(function(e){n.renderFacebookUrl(e)}),this},getLinkValues:function(e){var n,t,a;if(!(e.facebook||e.website||e.twitter||e.smashwords))return null;if(n={},t=/^[\w]{3,5}:\/\//i,a=e.name?e.name.split(" ")[0]:e.username,e.facebook&&(n.facebook={},n.facebook.name=l.trans("%s's Facebook profile",a),n.facebook.url="https://www.facebook.com/"+e.facebook),e.twitter&&(n.twitter={},n.twitter.name="@"+e.twitter,n.twitter.url="https://www.twitter.com/"+e.twitter),e.website&&(n.website={},n.website.name=e.website.replace(t,""),n.website.url=e.website.match(t)?e.website:"http://"+e.website),e.smashwords){n.smashwords={};var s=e.smashwords.split("/");n.smashwords.name="smashwords.com/"+s[s.length-1],n.smashwords.url=e.smashwords}return n},getSocialShareHTML:function(){try{var e={username:this.model.get("username"),name:this.model.get("name")||this.model.get("username"),avatarUrl:this.model.get("avatar"),description:this.model.get("description")},n=this.buildSocialShareLinksForProfile(e);return this.getSocialShareTemplateHTML("row",n)}catch(e){return""}},onEdit:function(){r.trigger("app:profile:edit")},renderFacebookUrl:function(e){if(e.link){var n=this.$("li.facebook"),t={name:e.link.replace(/^([\w]{3,5}:\/\/)*(w{3}\.)*/i,""),url:e.link};n.children("a").remove(),n.append(this.partials.link(t))}}})),r.mixin(r.views.ProfileAbout,"SocialSharing")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(141),s=t.n(a);!function(e,n,t,a,l,i){i.add("PinnedMessage",i.views.Base.extend({className:"pinned-message",template:s.a,render:function(){return this.$el.html(this.template(n.extend(this.formatViewData(),this.model.toJSON()))),this},formatViewData:function(){return{isDesktop:i.get("device").isDesktop()}}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(142),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("NewPinnedItem",r.View.extend({className:"pinned-item panel panel-default",template:s.a,render:function(){var e=this.model.toJSON();return this.$el.html(this.template({pinnedItem:e})),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(143),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("ProfileRequest",r.View.extend({className:"follower-request",template:s.a,events:{"tap   .on-request-addressed":"onRequestAddressed","click .on-request-addressed":"stopEvent"},initialize:function(){this.requestItemView=null,Handlebars.registerPartial("core.profile.profile_follow_request_item",function(){return""})},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.renderRequestItem(),this},renderRequestItem:function(){this.requestItemView=new i.views.FollowRequestItem({model:this.model,inProfile:!0,ignored:"ign"===this.model.get("followerRequest")}),this.$el.find(".request-item-container").html(this.requestItemView.render().$el)},setElement:function(e){var n=t(e);r.View.prototype.setElement.call(this,e),this.requestItemView&&this.requestItemView.setElement(n.find("."+this.requestItemView.className.trim().replace(/ /g,".")))},onRequestAddressed:function(e){var n=t(e.currentTarget);this.requestItemView.remove(),n.hasClass("on-approve")?this.remove():(this.model.set("followerRequest","ign"),this.renderRequestItem())}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(3),s=t.n(a),l=t(144),i=t.n(l);!function(e,n,t,a,l,r,o){r.add("ProfileInteractions",r.views.CoreProfileActivity.extend({template:i.a,partials:{"incremental-list":s.a},initialize:function(e){e=e||{};var n=a.utils.currentUser();this.pinnedItem=e.pinnedItem||null,n.authenticated()&&n.get("username")===this.model.get("username")?e.placeholder=a.utils.trans("Post a Message"):e.placeholder=a.utils.trans("Write to %s",this.model.get("username")),Handlebars.registerPartial("desktop.components.incremental_list",this.partials["incremental-list"]),r.views.CoreProfileActivity.prototype.initialize.apply(this,arguments)},onShowMore:function(e){e&&!this.registered&&(this.registerForScrolling(),this.registered=!0),r.views.CoreProfileActivity.prototype.onShowMore.apply(this,arguments)},getTemplateData:function(){return{count:this.collection.total,containerId:"content",hasMore:this.collection.hasMore,username:this.model.get("username"),pinnedItem:!!this.pinnedItem&&this.pinnedItem.toJSON()}}})),r.mixin(r.views.ProfileInteractions,"InfiniteScroll")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(3),s=t.n(a),l=t(145),i=t.n(l);!function(e,n,t,a,l,r){r.add("ProfileLists",r.views.IncrementalList.extend({className:"reading-lists",template:i.a,itemView:r.views.ReadingListItem,containerId:"#lists-item-view",events:n.extend({"tap .on-newlist":"onOpenNewListModal","tap .on-create-list":"onOpenNewListModal","tap .on-story-preview":"onStoryPreview","click .on-story-preview":"stopEvent"},r.views.IncrementalList.prototype.events),initialize:function(){Handlebars.registerPartial("desktop.components.incremental_list",s.a)},onStoryPreview:function(e){var n=t(e.currentTarget).data("story-id"),a=new r.models.StoryModel({id:n});Promise.resolve(a.fetch({fresh:!0})).then(function(){var e=new r.views.BrowseStoryPreview({isHome:!0,model:a});self.$("#preview-modal").empty().append(e.render().$el),e.openModal()})},getTemplateData:function(){return{totalLists:this.collection.total,username:this.model.get("username")}},onOpenNewListModal:function(){var e=t("#generic-modal"),n=new r.views.LibraryListCreate;e.find(".modal-body").empty().append(n.render().$el),e.modal("show")}})),r.mixin(r.views.ProfileLists,"InfiniteScroll")}(window,_,jQuery,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(146),s=t.n(a);!function(e,n,t,a,l,i){i.add("ProfileWorks",i.views.IncrementalList.extend({className:"profile-works-content",template:s.a,itemView:i.views.DiscoverModuleStoriesLarge,containerId:"#works-item-view",events:n.extend({"tap    .on-story-preview":"onStoryPreview","click  .on-story-preview":"stopEvent"},i.views.IncrementalList.prototype.events),initialize:function(e){var n=this;Promise.resolve(this.collection.fetchNextSet()).then(function(){n.render(),n.collection.limit=10}).then(this.afterRender.call(this))},afterRender:function(){var e=this;n.defer(function(){e.$('[data-toggle="tooltip"]').tooltip()})},getTemplateData:function(){var e=l.currentUser().get("username")===this.model.get("username");return{name:this.model.get("name")||this.model.get("username"),username:this.model.get("username"),totalWorks:this.collection.total,numPublished:e?this.collection.numPublished:this.collection.total,numDrafts:this.collection.numDrafts}},getItemViewOptions:function(){return{isProfileWorksView:!0,user:{fullname:this.model.get("name")||null,name:this.model.get("username")},descCharLimit:215,titleCharLimit:70}},onStoryPreview:function(n){var a=t(n.currentTarget).data("story-id"),s=new i.views.BrowseStoryPreview({showTagRankings:!0,model:this.collection.get(a)});this.$("#preview-modal").empty().append(s.render().$el),s.openModal(),e.te.push("event","profile","works","story","click",{storyid:a,username:this.collection.username})}})),i.mixin(i.views.ProfileWorks,"InfiniteScroll")}(window,_,jQuery,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(147),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("NewPost",r.View.extend({className:"new-post",template:s.a,events:{"focus  textarea":"onTextInputFocus","blur   textarea":"onTextInputBlur","keyup  textarea":"onTextInput","tap    .on-post":"onPost","click  .on-post":"stopEvent",keyup:"onKeyUp"},initialize:function(e){e=e||{},this.placeholder=e.placeholder||"",this.source=e.source||null,n.bindAll(this,"onKeyUp")},render:function(){var e={};return e.avatar=a.utils.currentUser().get("avatar"),e.placeholder=this.placeholder,e.viewId=this.getViewId(),this.$el.html(this.template(e)),this},onTextInputFocus:function(){if(!l.currentUser().authenticated()){(s=t("#inline-comments-modal .inline-comments-modal"))&&s.modal("hide");var n=new i.views.SignUpPrompt({model:new i.models.Authsignup,title:a.utils.trans("Join Wattpad"),subtitle:a.utils.trans("Be part of a global community of readers and writers, all connected through the power of story."),nextUrl:e.location.href});return t("#generic-modal .modal-content").addClass("auth-modal"),t("#generic-modal .modal-body").html(n.render().$el),void t("#generic-modal").modal("show")}if(!l.currentUser().attributes.verified_email){var s;(s=t("#inline-comments-modal .inline-comments-modal"))&&s.modal("hide");n=new i.views.PleaseVerifyModal;return t("#generic-modal .modal-body").html(n.render().$el),t("#generic-modal").modal({}),void t(".count-input").blur()}var r=this.$("textarea"),o=this;r.hasClass("active")||(this._setActiveState(),e.setTimeout(function(){o.moveCaretToEnd(r[0])},1))},moveCaretToEnd:function(e){if(e)if("number"==typeof e.selectionStart)e.selectionStart=e.selectionEnd=e.value.length;else if(void 0!==e.createTextRange){e.focus();var n=e.createTextRange();n.collapse(!1),n.select()}},onTextInputBlur:function(){var n=this;this.$("textarea").val()||(this.blurTimeout=e.setTimeout(function(){n._setInactiveState()},500))},_setActiveState:function(){this.$("textarea").val(""),this.$("textarea").addClass("active"),this.$(".post-ui").removeClass("hidden").children("button").prop("disabled",!0)},_setInactiveState:function(){this.$("textarea").removeClass("active"),this.$(".post-ui").addClass("hidden")},onTextInput:function(e){var n=this.$("textarea").val().trim(),t=this.$(".post-ui button");""===n?t.prop("disabled",!0):t.prop("disabled",!1)},onPost:function(){},addMention:function(e){var n,a=/^(\@[\w\-]+)\s/i,s="@"+e+" ",l=this.$("textarea").val();n=a.test(l)?l.replace(a.exec(l)[0],s):""!==t.trim(l)&&l!==this.placeholder?s+l:s,this._setActiveState(),this.$("textarea").focus(),this.$("textarea").val(n)},onKeyUp:function(e){27===e.which&&this.$("textarea").blur()},focus:function(){this.$("textarea").trigger("focus")},onPostContentUpdate:function(e){this.$(".on-post").prop("disabled",!e),e?this.$(".post-counter").removeClass("count-error"):this.$(".post-counter").addClass("count-error")},getViewId:function(){return"new-post-"+Date.now()},onError:function(e){this.$(".warning > .text").text(e),this.$(".warning").removeClass("hidden"),this.$(".post-ui button").prop("disabled",!1)}})),i.mixin(i.views.NewPost,"InputCounterManagement")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(148),s=t.n(a);!function(e,n,t,a,l,i){i.add("NewMessageNew",i.views.NewPost.extend({className:"message-new new-message-new",template:s.a,broadcastLimit:3,blurTimeout:null,events:n.extend(i.views.NewPost.prototype.events,{"change .on-broadcast-checkbox":"onCheckboxSelected","tap .broadcast-info":"onBroadcastInfo"}),constructor:function(e){(e=e||{}).canBroadcast&&(this.id="broadcast-container"),i.views.NewPost.prototype.constructor.apply(this,arguments)},initialize:function(e){if(i.views.NewPost.prototype.initialize.apply(this,arguments),"string"!=typeof(e=e||{}).to||""===e.to.trim())throw new Error("NewMessageNew View : options.to cannot be null");this.to=e.to,this.parentId=e.parentId||null,this.placeholder=e.placeholder||"",this.canBroadcast=e.canBroadcast||!1,this.autoMention=e.autoMention||null,this.additionalText=e.additionalText||null;try{this.unsent=JSON.parse(localStorage.getItem("unsent-repsonse")),this.unsent=this.unsent.id===this.parentId?this.unsent.body:void 0}catch(e){}},render:function(){var e={};return e.avatar=a.utils.currentUser().get("avatar"),e.canBroadcast=this.canBroadcast,e.placeholder=this.unsent||this.placeholder,this.$el.html(this.template(e)),this.defaultText=this.$("textarea").val(),l.isOperaMini&&this._setActiveState(),n.defer(this.afterRender.bind(this)),this},afterRender:function(){this.canBroadcast&&t(".on-broadcast-info").tooltip({title:l.trans("By using this feature, this message will be sent to all your followers’ notification feeds instead of their newsfeeds. Please note that you can only post up to %s announcements per day.",this.broadcastLimit)})},onBroadcastInfo:function(e){l.stopEvent(e),this.$(".on-broadcast-info").tooltip("toggle")},isBroadCast:function(){return Boolean(this.$("input[type='checkbox']").prop("checked"))},_setActiveState:function(){var n=this.autoMention===a.utils.currentUser().get("username"),t=this.autoMention&&!n?"@"+this.autoMention+" ":"",s=this;this.$("textarea").val(this.unsent||t).addClass("active"),e.setTimeout(function(){s.$(".post-ui").removeClass("hidden").children("button").prop("disabled",!s.unsent)},250)},onTextInputBlur:function(){var n=this;this.$("textarea").val()&&this.$("textarea").val().trim()!=="@"+this.autoMention||(this.blurTimeout=e.setTimeout(function(){n._setInactiveState()},500))},addMention:function(e){i.views.NewPost.prototype.addMention.apply(this,arguments),this.autoMention=e},onCheckboxSelected:function(n){if(e.clearTimeout(this.blurTimeout),this.isBroadCast()){this.onTextInputFocus(),this.$("#broadcast-submit").text(l.trans("Announce"));try{JSON.parse(localStorage.getItem("shownAnnouncementModal"))||(this.showAnnouncementModal(),localStorage.setItem("shownAnnouncementModal",!0))}catch(e){this.showAnnouncementModal()}}else this.onTextInputBlur(),this.$("#broadcast-submit").text(l.trans("Post"))},showAnnouncementModal:function(){var e=new i.views.DummyReactView({component:"AnnouncementModal",componentId:"announcement-modal"});e.render(),t("#generic-modal .modal-body").html(e.$el),t("#generic-modal").modal("show")},onPost:function(n){l.stopEvent(n),this.$(".warning").addClass("hidden");var s,r,o=t.trim(this.$("textarea").val()),c=this.$(n.currentTarget),u=this;if(""!==o){if(a.utils.currentUser().authenticated())localStorage.removeItem("unsent-repsonse"),this.unsent=void 0;else{try{localStorage.setItem("unsent-repsonse",JSON.stringify({body:o,id:this.parentId}))}catch(e){}i.router.navigate("/login?nexturl="+e.location.href,{trigger:!0})}c.prop("disabled",!0),r=new i.models.Message({ownername:this.to}),s={broadcast:this.isBroadCast(),parent_id:this.parentId,body:this.additionalText?o+this.additionalText:o},r.save(s,{success:function(e,n,t){u.trigger("message:new",e),u.$("textarea").val("").blur(),u.$("input[type='checkbox']").prop("checked",!1),u.$("#broadcast-submit").text(l.trans("Post")),c.prop("disabled",!1)},error:function(e,n,t){var s;throw s=n?n.responseJSON?n.responseJSON.error.message:n.statusText:a.utils.trans("There was a problem posting your message, please try again later."),u.onError(s),new Error("MessageNew View | status: "+(t&&t.xhr&&t.xhr.status?t.xhr.status:"none")+" | response: "+(n?JSON.stringify(n):"none")+" | isBroadcast: "+u.isBroadcast())}})}}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";a.add("CommentNew",a.views.NewPost.extend({title:function(){return n.utils.trans("Join Wattpad")},subtitle:function(){return n.utils.trans("Sign up to vote, comment, and read stories offline.")},onPost:function(e){var t=$.trim(this.$("textarea").val());this.$(".warning").addClass("hidden"),this.$(".post-ui button").prop("disabled",!0),""!==t?n.utils.currentUser().authenticated()?n.utils.currentUser().get("verified_email")?this.createComment(t):this.onError(n.utils.trans("To comment, please verify your account.")):this.onAuthPrompt(e):this.$(".post-ui button").prop("disabled",!1)},createComment:function(e){var t=this,s=new a.models.CommentModel({body:e,paragraphId:this.collection.paragraphId||null,parentId:this.collection.commentId||this.collection.parentId||null,isReply:this.collection.isReply||!1,startPosition:this.collection.startPosition||0,endPosition:this.collection.endPosition||0,partId:this.collection.partId||null}),l={url:this.getUrlFromSource(s),wait:!0,success:this.onSuccess.bind(this),error:function(e,a,s){var l;l=a?a.responseJSON?a.responseJSON.error.message:a.statusText:n.utils.trans("There was a problem posting your message, please try again later."),t.onError(l)}};s.save({},l)},onSuccess:function(e){this.collection.add(e,{at:0}),a.local.clear("part."+this.collection.partId+".comments"),this.collection.trigger("add:new",e),this.$("textarea").val(""),this.$(".post-ui button").prop("disabled",!1),this.onTextInputBlur()},getUrlFromSource:function(e){return this.source&&this.source instanceof a.models.StoryPartModel?"/v4/parts/"+this.source.get("id")+"/comments":e.url()}})),a.mixin(a.views.CommentNew,"AuthPromptManagement")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(149),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("ErrorToast",i.views.Base.extend({className:"error-toast",template:s.a,events:{"tap  .on-dismiss":"onDismiss"},initialize:function(e,n){var t=a.utils.trans("An error has occurred. We're sorry about that!");this.type="default",this.delay=0,this.error=e.message?e:e.error||{message:t},this.dismissAfterDuration=5e3,n&&(n.type&&(this.type=n.type),n.delay&&(this.delay=n.delay),n.dismissAfterDuration&&(this.dismissAfterDuration=n.dismissAfterDuration))},render:function(){var e={};return e.error=this.error,"dismissable"===this.type&&(this.$el.addClass("dismissable"),e.dismissable=!0),t("#toast-container").append(this.$el.html(this.template(e))),this.showToast(),this},showToast:function(){var n=this,t=this.$el.css("height");this.$el.css({bottom:-1*parseInt(t)+"px"}),e.setTimeout(function(){n.$el.css({bottom:"12px",opacity:"1",position:"relative"}),"default"===n.type&&n.autoDismiss()},1e3*n.delay)},onDismiss:function(n){var t=this;this.$el.css("opacity",0),e.setTimeout(function(){t.remove()},500)},autoDismiss:function(){var n=this;e.setTimeout(function(){n.onDismiss()},this.dismissAfterDuration)}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(150),s=t.n(a),l=t(151),i=t.n(l),r=t(152),o=t.n(r),c=t(153),u=t.n(c);!function(e,n,t,a,l,r,c){r.add("ProfileMain",r.views.RegionManager.extend({className:"user-information row",template:{public:u.a,private:o.a},initialize:function(e){e=e||{},this.isPrivateToMe=e.isPrivateToMe,this.listenTo(this,"scroll-to-element",this.scrollToElement),Handlebars.registerPartial("core.profile.private_profile_disclaimer",i.a),Handlebars.registerPartial("core.profile.theme_settings",s.a),Handlebars.registerPartial("core.signup_prompt",function(){return""})},render:function(){var t="req"===this.model.get("followerRequest")||"ign"===this.model.get("followerRequest"),s=n.extend(this.model.toJSON(),{followerRequested:t,showSubscriptionModal:this.showSubscriptionModal.bind(this)}),l=this.isPrivateToMe?this.template.private:this.template.public;if(this.$el.html(l(s)),t){var i=new r.views.ProfileRequest({model:this.model});this.setRegion("#profile-request",i.render())}if(this.isPrivateToMe)return this;var o=new r.models.PinnedMessage({username:this.model.get("username")}),c={lists:new r.collections.ReadingLists([],{username:this.model.get("username"),limit:2,nonEmpty:!0}),following:new r.collections.ProfileFollowing([],{username:this.model.get("username"),limit:14}),works:new r.collections.ProfileWorks([],{username:this.model.get("username"),limit:3})},u={about:new r.views.ProfileAbout({model:this.model,following:c.following}),lists:new r.views.ProfileLists({model:this.model,collection:c.lists,manualRegistration:!0}),works:new r.views.ProfileWorks({model:this.model,collection:c.works,manualRegistration:!0}),quests:new r.views.DummyReactView({component:"Quests",componentId:"quests",componentData:this.model}),pinnedItem:new r.views.PinnedMessage({model:o})};a.utils.setCookie("signupFrom","user_profile",0,e.location.hostname.replace("www","")),a.utils.currentUser().authenticated()||(u.signup=new r.views.SignUpPrompt({model:new r.models.Authsignup,subtitle:a.utils.trans("Sign up to follow <strong>@%s</strong>",s.username)}),this.setRegion("#authentication-panel",u.signup.render())),this.setRegion("#profile-lists",u.lists),this.setRegion("#profile-works",u.works),this.setRegion("#profile-about",u.about.render());var d=this;Promise.resolve(c.lists.fetchNextSet()).then(function(){u.lists.render()}).then(function(){d.scrollToElementId&&n.delay(function(){d.trigger("scroll-to-element")},500)}),Promise.resolve(c.following.fetchNextSet()).then(function(){u.about.render()});d=this;return Promise.resolve(o.fetch()).then(function(){o.get("id")&&(d.$("#profile-pinned-item").empty(),d.setRegion("#profile-pinned-item",u.pinnedItem),u.pinnedItem.render())}),this},showSubscriptionModal:function(){if(t("#subscription-modal").length){var e=new r.views.SubscriptionModal({model:this.model});this.$("#subscription-modal").empty().append(e.render().$el),e.showModal()}},setElement:function(e){var n,a,s=t(e);for(var l in r.views.RegionManager.prototype.setElement.call(this,e),this.regions)this.regions.hasOwnProperty(l)&&(a=(n=this.regions[l].view).className.trim().replace(/ /g,"."),n.setElement(s.find("."+a)))},setScrollToElementId:function(e,n){this.scrollToElementId=e,n&&this.trigger("scroll-to-element")},scrollToElement:function(){this.scrollToElementId&&t("html, body").animate({scrollTop:this.$("#"+this.scrollToElementId).offset().top-t("#header").height()},500)}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(154),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("ProfileConversations",i.views.RegionManager.extend({className:"user-activity row",template:s.a,initialize:function(e){e=e||{};var n=a.utils.currentUser();n.authenticated()&&n.get("username")===this.model.get("username")?e.placeholder=a.utils.trans("Post a Message"):e.placeholder=a.utils.trans("Write to %s",this.model.get("username"))},render:function(){var e=this.model.toJSON(),t=this.template,a=this;this.$el.html(t(e));var s=new i.views.ProfileInteractions({model:this.model,pinnedItem:new i.models.PinnedMessage({username:this.model.get("username"),type:"newMessage"}),collection:new i.collections.ActivityMessages([],{username:this.model.get("username"),limit:10}),isMessage:!0});return this.setRegion("#profile-messages",s.render()),n.defer(function(){a.$("#profile-messages [data-toggle=tooltip]").tooltip()}),this},setElement:function(e){var n,a,s=t(e);for(var l in i.views.RegionManager.prototype.setElement.call(this,e),this.regions)this.regions.hasOwnProperty(l)&&(a=(n=this.regions[l].view).className.trim().replace(/ /g,"."),n.setElement(s.find(l+" ."+a)))}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(35),s=t.n(a),l=t(155),i=t.n(l);!function(e,n,t,a,l,r){r.add("ProfileFollowersFollowingModal",r.views.IncrementalList.extend({className:"profile-followers-following-modal modal fade",template:i.a,itemView:r.views.UserRowItem,containerId:"#user-row-items",initialize:function(e){e=e||{},this.isMobile=r.get("device").is.mobile,this.showRemoveFollowersOption=!1,e.showFollowing?this.title=l.sprintf("%s %s",[l.format(this.collection.total),l.trans("Following")]):(this.model&&this.model.get("isPrivate")&&this.model.get("username")===a.utils.currentUser().get("username")&&(this.showRemoveFollowersOption=!0),this.title=l.sprintf(l.ngettext("%s Follower","%s Followers",this.collection.total),[l.format(this.collection.total)])),this.isMobile?Handlebars.registerPartial("mobile.profile.profile_follow_modal",s.a):Handlebars.registerPartial("desktop.profile.profile_follow_modal",s.a),this.listenTo(r,"app:user:follow",this.updateToFollowingButton),this.listenTo(r,"app:user:unfollow",this.updateToFollowButton)},showModal:function(){this.$el.modal("show")},getTemplateData:function(){return{isMobile:this.isMobile,title:this.title,hasMore:this.collection.offset<this.collection.total}},getItemViewOptions:function(){return{showRemoveFollowersOption:this.showRemoveFollowersOption}},onShowMore:function(e){e&&l.stopEvent(e),this.$(".show-more-message").addClass("hidden"),this.$(".loading-message").removeClass("hidden");var n=this;Promise.resolve(this.collection.fetchNextSet()).then(function(){n.setupDOM(),n.$(".show-more-message").removeClass("hidden"),n.$(".loading-message").addClass("hidden")})},updateToFollowingButton:function(e){var t=this.collection.findWhere({username:e});if(!n.isEmpty(t)){var a=this.$('.btn-fan[data-target="'+e+'"]');a.removeClass("btn-white").addClass("btn-teal"),a.find(".fa").removeClass("fa-follow fa-wp-base-2-dark").addClass("fa-following fa-wp-neutral-5"),a.find(".truncate").text(l.trans("Following")),t.set("following",!0)}},updateToFollowButton:function(e){var t=this.collection.findWhere({username:e});if(!n.isEmpty(t)){var a=this.$('.btn-fan[data-target="'+e+'"]');a.removeClass("btn-teal").addClass("btn-white"),a.find(".fa").removeClass("fa-following fa-wp-neutral-5").addClass("fa-follow fa-wp-base-2-dark"),a.find(".truncate").text(l.trans("Follow")),t.set("following",!1)}}})),r.mixin(r.views.ProfileFollowersFollowingModal,"InfiniteScroll","FollowManager")}(window,_,jQuery,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(3),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("ProfileFollowing",i.views.IncrementalList.extend({className:"user-following row",template:s.a,itemView:i.views.UserItem,getTemplateData:function(){var e={};return e.count=this.collection.total,e.containerId="content",e.emptyMessage=l.trans("This user is not following anyone yet."),e},setElement:function(e){i.views.IncrementalList.prototype.setElement.apply(this,arguments),this.setButtonState()}})),i.mixin(i.views.ProfileFollowing,"InfiniteScroll")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(156),s=t.n(a),l=t(157),i=t.n(l),r=t(158),o=t.n(r),c=t(159),u=t.n(c),d=t(160),h=t.n(d),p=t(21),m=t.n(p);!function(e,n,t,a,l,r,c){r.add("ProfileLayout",r.views.RegionManager.extend({className:"profile-layout",template:h.a,partials:{profile_edit:u.a,profile_mute_modal:o.a,profile_close_modal:i.a,profile_timeout_modal:s.a,user_badges:m.a},events:{"tap   .on-nav-item":"onSectionNavigate","click .on-nav-item":"stopEvent","tap   .on-follow-user":"onFollowUser","click .on-follow-user":"stopEvent","tap   .on-following-request":"onFollowingRequest","tap   .on-follower-request":"onFollowerRequest","touchstart .on-touch":"setTouchState","touchend   .on-touch":"removeTouchState","tap    .on-edit-profile":"onEditProfile","tap    .on-edit-cancel":"onCancelEdit","tap    .on-edit-save":"onSaveEdit","tap    .on-change-invalid-image":"onChangeInvalidImage","tap    .on-mute-user":"onMuteUser","tap    .on-unmute-user":"onUnmuteUser","tap    .on-timeout-user":"onTimeoutUser","tap    .on-close-user-account":"onCloseUserAccount","tap    .on-notice-action":"onNoticeAction","tap    .on-notice-cancel":"onNoticeCancel","tap   .scroll-to-element":"scrollToElement","click .scroll-to-element":"stopEvent","tap   .on-followers":"showFollowersModal","click .on-followers":"stopEvent","tap   .on-view-conversations":"viewAllConversations","click .on-view-conversations":"stopEvent"},sections:{about:{View:r.views.ProfileMain},following:{View:r.views.ProfileFollowing,Collection:r.collections.ProfileFollowing},conversations:{View:r.views.ProfileConversations}},editMode:null,reportModalContainer:".profile-options-modal",requestType:"reported_users",isMainReportModal:!0,modalTitle:a.utils.trans("Report a User"),initialize:function(n){if(n=n||{},this.username=n.username,this.sectionView=null,this.isPrivateToMe=n.isPrivateToMe,this.recentlyUnmuted=n.recentlyUnmuted,this.section=n.section||"about",this.isFollowersSection=!1,this.showEditProfile=n.showEditProfile,this.recentlyUnmuted){var t={className:"unmute",body:a.utils.trans("%s is unmuted. You can mute them at any time from their profile.",n.username)};setTimeout(function(){e.store.dispatch(e.app.components.actions.toggleToast(t))},0)}"followers"===n.section&&(this.section="about",this.isFollowersSection=!0),Handlebars.registerPartial("desktop.profile.profile_mute_modal",this.partials.profile_mute_modal),Handlebars.registerPartial("desktop.profile.profile_close_modal",this.partials.profile_close_modal),Handlebars.registerPartial("desktop.profile.profile_timeout_modal",this.partials.profile_timeout_modal),Handlebars.registerPartial("core.components.user_badges",this.partials.user_badges),this.listenTo(r,"app:profile:edit",this.onEditProfile),this.listenTo(r,"app:user:follow",this.updateToFollowingButton),this.listenTo(r,"app:user:unfollow",this.updateToFollowButton)},render:function(){var e=this.model.toJSON(),t=this,a=this.model.isStaff(),s=this.model.isWattpadStar();return a&&(e.ambassador=!1,e.verified=!1),this.$el.html(this.template(n.extend(e,{recentlyUnmuted:this.recentlyUnmuted,isPrivateToMe:this.isPrivateToMe,staff:a,star:s,followingRequested:"req"===this.model.get("followingRequest"),dataModel:this.model,onWalletClick:function(){return l.showBuyCoinsModal("profile")}}))),this.setSection(this.section),n.defer(function(){t.$("header [data-toggle=tooltip]").tooltip(),t.$("nav [data-toggle=tooltip]").tooltip(),t.isFollowersSection&&t.showFollowersModal()}),t.showEditProfile&&setTimeout(function(){t.onEditProfile()},0),this},reportMoreInfo:function(){return[{key:"Reported User",val:e.location.href}]},reportUserName:function(){return this.model.get("username")},setElement:function(e){var a=t(e);if(r.views.RegionManager.prototype.setElement.call(this,e),this.sectionView&&this.sectionView.className){var s="",l=this.sectionView.className.trim().split(" ");n.each(l,function(e){s+="."+e}),this.sectionView.setElement(a.find(s.trim()))}},setSection:function(e){var n,a,s,i,o=this,c=this.$("#page-navigation"),u=this;c.find("nav li").removeClass("active"),c.find("nav li[data-section="+e+"]").addClass("active"),this.clearRegion("#content"),"about"===e?(this.sectionView=new this.sections[e].View({model:this.model,isPrivateToMe:this.isPrivateToMe}),this.setRegion("#content",this.sectionView.render())):"conversations"===e?(this.sectionView=new this.sections[e].View({model:this.model,isPrivateToMe:this.isPrivateToMe}),this.setRegion("#content",this.sectionView.render())):"quests"===e?setTimeout(function(){o.sectionView=new r.views.DummyReactView({component:"Quests",componentId:"quests",componentData:o.model}),o.setRegion("#content",o.sectionView.render())},0):(n=new this.sections[e].Collection([],{username:this.username,limit:12}),this.sectionView=new this.sections[e].View({model:this.model,collection:n}),this.setRegion("#content",this.sectionView),i=this.sectionView.cid,t.when(n.fetchNextSet()).done(function(){i===u.sectionView.cid&&u.sectionView.render()}),this.model.get("username")===l.currentUser().get("username")&&"following"===e&&(a=this.model.get("numFollowing"),s=c.find('li[data-section="following"] span'),n.on("remove",function(){s.html(l.count(a-1))}))),this.section=e,this._setTitle(e)},_setTitle:function(e){var n;if("about"===e)n=this.model.get("name")?this.model.get("name")+" (@"+this.username+")":this.username;else if("quests"===e){var t=this.username;this.model.get("name")&&(t=this.model.get("name")+" (@"+this.username+")"),n=a.utils.trans("%s's quests",t)}else if("conversations"===e){t=this.username;this.model.get("name")&&(t=this.model.get("name")+" (@"+this.username+")"),n=a.utils.trans("%s's conversations",t)}else"following"===e?n=a.utils.trans("People followed by %s",this.username):"followers"===e&&(n=a.utils.trans("People following %s",this.username));a.utils.setTitle(n)},onSectionNavigate:function(e){var n=t(e.currentTarget),s=n.parent().data("section"),l="about"===s?"/user/"+this.username:"/user/"+this.username+"/"+s;a.utils.currentUser().authenticated()||"conversations"!==s&&"following"!==s?(r.router.navigate(l,{replace:!0}),this.setSection(s),a.utils.pushEvent({},"virtualPageview")):(a.utils.stopEvent(e),this.onAuthPrompt(e),n.hasClass("num-following")&&t(".modal-backdrop").addClass("profile-show"))},viewAllConversations:function(n){l.stopEvent(n),a.utils.currentUser().authenticated()?e.location=t(n.currentTarget).attr("href"):(this.onAuthPrompt(n),t(".modal-backdrop").addClass("profile-show"))},onFollowUser:function(e){if(l.currentUser().authenticated()){var n=this.model.get("numFollowers");n=this.model.get("following")?n-1:n+1,this.$(".followers-count").text(l.count(n)),this.model.set("numFollowers",n)}},updateToFollowingButton:function(e){if(this.model.get("username")===e){var n=this.$('.btn-fan[data-target="'+e+'"]');n.removeClass("btn-white").addClass("btn-teal"),n.find(".fa").removeClass("fa-follow fa-wp-base-2-dark").addClass("fa-following fa-wp-neutral-5"),n.find(".truncate").text(l.trans("Following")),this.model.set("following",!0)}},updateToFollowButton:function(e){if(this.model.get("username")===e){var n=this.$('.btn-fan[data-target="'+e+'"]');n.removeClass("btn-teal").addClass("btn-white"),n.find(".fa").removeClass("fa-following fa-wp-neutral-5").addClass("fa-follow fa-wp-base-2-dark"),n.find(".truncate").text(l.trans("Follow")),this.model.set("following",!1)}},onFollowingRequest:function(e){var n=this,t=this.$(e.currentTarget),s="req"===this.model.get("followingRequest"),i=s?"unfollow":"follow",r=s?"btn-white":"btn-teal",o=s?l.iconify("fa-follow",16,"wp-base-2")+" "+l.trans("Request"):l.iconify("fa-following-request",16,"wp-neutral-5")+" "+l.trans("Requested"),c=s?"":"req";l.currentUser().authenticated()?(t.removeClass("btn-teal btn-white").addClass(r).html(o),Promise.resolve(a.utils.currentUser().following()[i](this.model)).then(function(){n.model.set("followingRequest",c)})):this.onAuthPrompt(e)},setTouchState:function(e){t(e.currentTarget).addClass("touched")},removeTouchState:function(e){t(e.currentTarget).removeClass("touched")},initEditProfile:function(){var a=this,s=this.model.toJSON();s.aboutCount=s.description.length,this.$el.append(this.partials.profile_edit(s)),n.bindAll(this,"onAvatarSubmit","onBackgroundSubmit","onFileUploadComplete","onFileUploadError"),this.uploadBG=new e.ss.SimpleUpload({url:"/api/v3/users/"+this.username+"/image",name:"file",allowedExtensions:["jpg","jpeg","png","gif"],accept:"image/jpeg, image/png, image/gif",data:{type:"background"},button:this.$("#edit-background button"),maxSize:1024,onSubmit:this.onBackgroundSubmit,onComplete:this.onFileUploadComplete,onExtError:this.onExtentionError,onSizeError:this.onSizeError,onError:this.onFileUploadError}),this.uploadAvatar=new e.ss.SimpleUpload({url:"/api/v3/users/"+this.username+"/image",name:"file",allowedExtensions:["jpg","jpeg","png","gif"],accept:"image/jpeg, image/png, image/gif",data:{type:"avatar"},button:this.$("#edit-avatar button"),maxSize:1024,onSubmit:this.onAvatarSubmit,onComplete:this.onFileUploadComplete,onExtError:this.onExtentionError,onSizeError:this.onSizeError,onError:this.onFileUploadError}),this.inputFields={},this.$('.edit-profile input[type="text"], .edit-profile textarea').each(function(){a.inputFields[t(this).data("field")]=t(this)})},onExtensionError:function(){e.alert(l.trans("The type of file you are trying to upload is not supported."))},onSizeError:function(){e.alert(l.trans("The image you are trying to upload is too large, please upload a file smaller than 1MB."))},onEditProfile:function(){if(!a.utils.currentUser().get("verified_email")){var e=new r.views.PleaseVerifyModal;return t("#generic-modal .modal-body").html(e.render().$el),void t("#generic-modal").modal({})}null===this.editMode&&this.initEditProfile(),this.showEditUI(),this.editMode=!0},onDescriptionUpdate:function(e){this.$(".on-edit-save").prop("disabled",!e),e?this.$(".description-counter").removeClass("count-error"):this.$(".description-counter").addClass("count-error")},onSaveEdit:function(){var n,t,a,s={},i={},o=this;for(n in this.inputFields)this.inputFields.hasOwnProperty(n)&&(t=this.inputFields[n].val())!==(a=this.model.get(n))&&(i[n]=a,s[n]=t);r.local.clear("user."+this.username),this.model.set(s),this.model.save(s,{patch:!0,type:"put"}).fail(function(n,t){o.model.set(i),e.alert(l.trans("Something went wrong, your changes were not saved. ")+(n.responseJSON.message||""))}),this.editMode=!1,this.hideEditUI(),this.setSection("about")},onCancelEdit:function(){var e;for(e in this.hideEditUI(),this.inputFields)this.inputFields.hasOwnProperty(e)&&this.inputFields[e].val(this.model.get(e));this.$(".on-edit-save").prop("disabled",!1),this.resetCount(),this.editMode=!1},showEditUI:function(){this.$(".edit-profile").removeClass("hidden faded"),t("#header, .background-lg h3, #content").addClass("hidden")},hideEditUI:function(){var e=this.model.get("name"),n=this.model.get("username"),a=this.$(".profile-name").text();e&&a!==e?this.$(".profile-name").text(e):e||a===n||this.$(".profile-name").text(n),this.$(".edit-profile").addClass("hidden faded"),t("#header, .background-lg h3, #content").removeClass("hidden")},onAvatarSubmit:function(e,n,a){var s,l=t("#edit-avatar");(s={image:this.$(".avatar img"),button:l.find("button"),loading:l.find(".loading, .loading-bg")}).oldSrc=s.image.attr("src"),s.image.attr("src",""),this.uploadValues={type:"avatar",data:s},this.uploadSubmitUI(s)},onBackgroundSubmit:function(e,n,a){var s,l=t("#edit-background");(s={image:t("header.background-lg"),button:t("#edit-background button, #edit-overlay"),loading:l.find(".loading")}).oldSrc=s.image.css("background-image"),s.image.css("background-image",""),this.uploadValues={type:"background",data:s},this.uploadSubmitUI(s)},onFileUploadComplete:function(n,t,a){var s,l,i,o=this.uploadValues.type,c=this.uploadValues.data,u=/\.(\d)+\.(jpe*g|gif|png)/;this.uploadCompleteUI(c),"avatar"===o?(s=c.oldSrc.replace(u,"."+Date.now()+".$2"),c.image.attr("src",s),r.local.clear("user."+this.username),this.model.set("avatar",s)):"background"===o&&("none"===c.oldSrc?(s='url("'+(i=e.location.origin+"/userbgs/"+this.model.get("username")+".1920."+Date.now()+".jpg")+'")',l=i):(s=c.oldSrc.replace(u,"."+Date.now()+".$2"),l=this.model.get("backgroundUrl").replace(u,"."+Date.now()+".$2")),c.image.css("background-image",s),r.local.clear("user."+this.username),this.model.set("backgroundUrl",l))},onFileUploadError:function(n,t,a,s,l,i){e.alert("Error during upload - "+a+":"+s+" - "+l.msg)},uploadSubmitUI:function(e){l.supportsTransition()?e.button.on(l.transitionEndStrings,function(){t(this).off(l.transitionEndStrings).addClass("longfade")}).addClass("faded"):e.button.addClass("faded"),e.loading.each(function(){t(this).removeClass("faded")})},uploadCompleteUI:function(n){l.supportsTransition()?e.setTimeout(function(){n.button.each(function(){t(this).on(l.transitionEndStrings,function(){t(this).off(l.transitionEndStrings).removeClass("longfade")}).removeClass("faded")})},3600):e.setTimeout(function(){n.button.removeClass("faded")},4e3),n.loading.each(function(){t(this).addClass("faded")})},onChangeInvalidImage:function(n){var a=t(n.currentTarget).data("imagetype"),s=this.model.get("username"),l=e.prompt("Why is this being banned? Options: 'copyright' or 'banned content'","copyright OR banned content");l?(this.deleteImage(s,a,l),r.local.clear("user."+s)):e.alert("Banning was cancelled.")},deleteImage:function(n,a,s){Promise.resolve(t.ajax({type:"POST",data:{reason:s},url:"/api/v3/internal/users/"+n+"/"+a})).then(function(n){e.alert("Successfully deleted "+a+"!"),e.location.reload()}).catch(function(n){console.error(n),e.alert("Failed to delete "+a+"."),e.location.reload()})},onMuteUser:function(){var n=this.model.get("username"),a=this;e.store.dispatch(e.app.components.actions.setMutedUsersFromBackBone(n,"mute")),t.ajax({type:"POST",url:"/apiv2/ignoreuser?id="+n+"&action=ignore_user",success:function(){r.local.clear("user."+n);var e=new r.views.MutedProfile({model:a.model,recentlyMuted:!0});r.transitionTo(e,{username:n,hasHeader:!0,hasFooter:!0})}})},onUnmuteUser:function(){var n=this.model.get("username"),a=this;e.store.dispatch(e.app.components.actions.setMutedUsersFromBackBone(n,"unmute")),t.ajax({type:"POST",url:"/apiv2/ignoreuser?id="+n+"&action=unignore_user",success:function(){a.$("#profile-more-options .mute").removeClass("hide"),a.$("#profile-more-options .unmute").addClass("hide")}})},onCloseUserAccount:function(n,a){a=a||e;var s=t("#close-reason").val(),l=t("#close-reason option:selected").text();s?a.confirm("You are blocking this user because of "+l+". Are you sure?")?t.ajax({type:"POST",url:"/api/v3/users/"+this.model.get("username")+"/close",data:{reason:s},success:function(e){a.alert("successfully closed user account"),a.location.reload()},error:function(e){a.alert(t.parseJSON(e.responseText).message)}}):a.alert("User has not been blocked"):a.alert("You must select an option")},onTimeoutUser:function(n,a){a=a||e;var s=t("#timeout-duration").val(),l=t("#timeout-reason").val();""===l?a.alert("You must specify a reason"):t.ajax({type:"POST",url:"/v4/users/"+this.model.get("username")+"/timeout",data:{duration:s,reason:l},success:function(e){a.alert("successfully timed-out user"),a.location.reload()},error:function(e){a.alert(t.parseJSON(e.responseText).message)}})},onNoticeAction:function(){e.open("//support.wattpad.com/hc/articles/203154850-The-New-Profile-is-Here-","_blank")},onNoticeCancel:function(){t("body").removeClass("show-notice"),a.utils.setCookie("x-newpro-note",1,60)},scrollToElement:function(e){var n=!0;"about"!==this.section&&(this.setSection("about"),r.router.navigate("/user/"+this.username,{replace:!0}),n=!1),this.sectionView.setScrollToElementId(t(e.currentTarget).data("id"),n)},showFollowersModal:function(e){var n=this,t=new r.collections.ProfileFollowers([],{username:this.username,limit:10});a.utils.currentUser().authenticated()?Promise.resolve(t.fetchNextSet()).then(function(){var e=new r.views.ProfileFollowersFollowingModal({model:n.model,collection:t});n._setTitle("followers"),n.$("#follower-modal").empty().append(e.render().$el),e.showModal(),n.$("#follower-modal").on("hidden.bs.modal",function(){if(n.isFollowersSection){n.isFollowersSection=!1;var t="about"===n.section?"":"/"+n.section;r.router.navigate("/user/"+n.username+t,{replace:!0})}n._setTitle(n.section),e.remove()})}):this.onAuthPrompt(e)}})),r.mixin(r.views.ProfileLayout,"InputCounterManagement","ReportManagement","ReportConduct","AuthPromptManagement","FollowManager")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n){!function(e,n,t,a,s){"use strict";a.add("MutedProfile",a.views.DummyReactView.extend({component:"MutedProfile",componentId:"muted-profile",constructor:function(e){this.model=e.model,this.recentlyMuted=e.recentlyMuted||!1;var n={componentData:this.getComponentData(),component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,n)},getComponentData:function(){return{username:this.model.get("username"),avatar:this.model.get("avatar"),name:this.model.get("name"),backgroundUrl:this.model.get("backgroundUrl"),numLists:this.model.get("numLists"),numStoriesPublished:this.model.get("numStoriesPublished"),numFollowers:this.model.get("numFollowers"),onUnmute:this.onUnmuteUser.bind(this),recentlyMuted:this.recentlyMuted}},onUnmuteUser:function(n){var s=this;e.store.dispatch(e.app.components.actions.setMutedUsersFromBackBone(n,"unmute")),$.ajax({type:"POST",url:"/apiv2/ignoreuser?id="+n+"&action=unignore_user",success:function(){var e=s.getComponentData();s.model.set("isMuted",!1);var t,l=s.model.get("isPrivate");t=a.get("device").is.mobile?new a.views.UserProfile({model:s.model,section:"about",isPrivateToMe:l}):new a.views.ProfileLayout({model:s.model,section:"about",username:e.username,recentlyUnmuted:!0,isPrivateToMe:l}),a.local.clear("user."+n),a.transitionTo(t,{username:e.username,hasHeader:!0,hasFooter:!0})},error:function(){new a.views.ErrorToast({message:t.utils.trans("There was an error unmuting this user. Please try again.")},{type:"dismissable"}).render()}})}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,n,t){"use strict";t.r(n);var a=t(161),s=t.n(a);!function(e,n,t,a,l,i,r,o){i.add("OnboardingStep1",r.View.extend({events:{"click .on-continue":"onContinue","click .opt":"onSelectOpt"},template:s.a,className:"onboarding-wrapper",render:function(){var e={username:a.utils.currentUser().get("username")};return this.$el.html(this.template(e)),this},onSelectOpt:function(e){e.stopPropagation();var a,s=e.target;-1!==s.classList.contains("gender-card")?a=t(s).siblings(".gender-text"):-1!==s.classList.contains("gender-text")?a=t(s):-1!==s.classList.contains("opt")&&(a=t(s).children(".gender-text"));var l=this.$el.find(".gender-text");n.forEach(l,function(e){e.classList.remove("selected")}),a&&a.get(0).classList.add("selected"),this.$(".continue-button").removeClass("disabled")},onSkipStep:function(n){l.stopEvent(n);var t=a.utils.getCookie("nextUrl");t&&"/home"!==t&&"/"===t[0]?(e.te.push("event","onboarding",null,null,"complete"),i.router.navigate(t)):i.router.navigate("/start/genres")},onContinue:function(n){l.stopEvent(n);var s,r=a.utils.currentUser(),c=this.$el.find(".selected").attr("value");c&&(c=c.slice(0,1)),s={gender:c},o.resolve(t.ajax({url:"/api/v3/users/"+r.get("username"),type:"PUT",data:s})).then(function(n){a.utils.currentUser().set(n);var t=a.utils.getCookie("nextUrl");t&&"/home"!==t&&"/"===t[0]?(e.te.push("event","onboarding",null,null,"complete"),i.router.navigate(t,{trigger:!0})):i.router.navigate("/start/genres",{trigger:!0})})}})),i.mixin(i.views.OnboardingStep1)}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco,window.Promise)},function(e,n){!function(e,n,t,a,s){"use strict";a.add("OnboardingWriterJourney",a.views.DummyReactView.extend({component:"OnboardingWriterJourney",componentId:"onboarding-writer-journey",constructor:function(e){this.componentData={locale:t.utils.getCookie("locale"),username:e.user?e.user.get("username"):""};var n={componentData:this.componentData,component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,n)}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,n){!function(e,n,t,a,s){"use strict";a.add("OnboardingGenres",a.views.DummyReactView.extend({component:"OnboardingGenres",componentId:"onboarding-genres",constructor:function(e){this.componentData={locale:t.utils.getCookie("locale"),username:e.user?e.user.get("username"):"",genres:e.genres};var n={componentData:this.componentData,component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,n)}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,n){!function(e,n,t,a,s){"use strict";a.add("OnboardingSuccess",a.views.DummyReactView.extend({component:"OnboardingSuccess",componentId:"onboarding-success",constructor:function(e){var n={component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,n)}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,n,t){"use strict";t.r(n);var a=t(162),s=t.n(a);!function(e,n,t,a){a.add("StoryDetails",a.views.Base.extend({template:s.a,className:"story-details",events:{"tap .on-ranking-navigate":"onRankingNavigate","click .on-ranking-navigate":"stopEvent"},render:function(){var n={story:this.model.toJSON()};return n.reportUrl="/help/content?message="+t.utils.urlEncode("I am reporting the following content:\n")+"&story_link="+t.utils.urlEncode(e.location.href),n.story.sourceLink&&(n.story.sourceLink.url&&!n.story.sourceLink.url.match(/^[\w]{4,5}:\/\//i)&&(n.story.sourceLink.url="https://"+n.story.sourceLink.url),n.story.sourceLink.icon=n.story.sourceLink.label.indexOf("Amazon")>-1?"fa-buy":"fa-website"),this.$el.html(this.template(n)),this},stopEvent:function(e){t.utils.stopEvent(e)},onRankingNavigate:function(n){e.te.push("event","story_details","tag_ranking",null,"click",{storyid:this.model.get("id"),tag:this.model.get("tagRankings")[0].name}),this.onNavigate(n)}}))}(window,_,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(4),s=t.n(a);!function(e,n,t,a){a.add("StoriesSimilar",a.views.IncrementalList.extend({template:s.a,events:{"tap .on-story-preview":"onStoryPreview","click .on-story-preview":"stopEvent"},filter:null,className:"stories",itemView:a.views.StoryItem,initialize:function(e){(e=e||{}).is404&&(this.itemView=a.views.RecommendedStoryItemCover),this.fromStoryReading=e.fromStoryReading||!1,this.baseStory=e.currentStory||{},this.alwaysFetch=e.alwaysFetch||!1,this.collection=e.collection||new a.collections.SimilarStories([],{storyId:e.storyId,limit:e.limit||4,baseStory:this.baseStory,showDescription:e.showDescription||!1})},getTemplateData:function(){return{hasStories:this.collection.length>0}},render:function(){var e=this;return Promise.resolve(this.collection.fetch({fresh:this.alwaysFetch})).then(function(){a.views.IncrementalList.prototype.render.apply(e,arguments),e.trigger("postRender")}),this},onStoryPreview:function(t){var s=$(t.currentTarget).data("story-id"),l=this.collection.get(s),i=n.isEmpty(this.baseStory)?null:this.baseStory.get("group").id,r=this;this.fromStoryReading&&e.te.push("event","reading","similar_stories","story","click",{current_storyid:i,storyid:s}),l&&Promise.resolve(l.fetch({fresh:!0})).then(function(){var e=new a.views.BrowseStoryPreview({isHome:!1,model:l});r.$("#preview-modal").empty().append(e.render().$el),e.openModal()})}}))}(window,_,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(163),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("FeaturedStoryItem",i.views.Base.extend({className:"featured-story-item story-item",template:s.a,render:function(){return this.$el.html(this.template(this.model.toJSON())),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(164),s=t.n(a);!function(e,n,t,a,l,i){i.add("BrowseStoryItem",i.views.StoryItem.extend({template:s.a,className:"browse-story-item",initialize:function(e){e=e||{},this.showStoryRank=e.showStoryRank||!1},render:function(){var n=this.model.toJSON();return n.rank=this.showStoryRank?this.model.collection.indexOf(this.model)+1:null,n.app={deviceType:a.utils.getDeviceType(),devicePixelRatio:e.devicePixelRatio,matchMedia:e.matchMedia,msMatchMedia:e.msMatchMedia},this.$el.html(this.template(n)),this.model.get("completed")&&this.$el.addClass("completed"),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(5),s=t.n(a),l=t(165),i=t.n(l),r=t(166),o=t.n(r);!function(e,n,t,a){a.add("BrowseStoryPreview",a.views.Base.extend({template:o.a,className:"browse-preview",events:{"tap .on-cover":"onCover","tap .on-start-reading":"onStartReading","tap .on-story-details":"onStoryDetails","click .on-story-details":"stopEvent",keyup:"onKeyUp"},initialize:function(e){e=e||{},this.isHome=e&&e.isHome,this.showTagRankings=e&&e.showTagRankings,n.bindAll(this,"clearLists"),this.listenTo(a,"app:component:TagMetaItem:click",this.navigateToTagPage),this.listenTo(a,"app:component:TagMetaNumNotShown:click",this.onStoryDetails),this.adjustReadButtonCopy(),a.get("device").is.mobile?(Handlebars.registerPartial("core.components.add_to_library_dropdown",function(){return""}),Handlebars.registerPartial("core.components.add_to_library_modal",i.a)):(Handlebars.registerPartial("core.components.add_to_library_dropdown",s.a),Handlebars.registerPartial("core.components.add_to_library_modal",function(){return""}))},render:function(){var e=this.model.toJSON();return e.tagMeta={tags:e.tags},e.showTagRankings=e.tagRankings&&e.tagRankings.length&&this.showTagRankings,this.$el.html(this.template(e)),this},adjustReadButtonCopy:function(){var a=this,s=n.get(e,"wattpad.testGroups.PAID_CONTENT")||!1,l=this.model.get("isPaywalled");if(s&&!1!==l){var i=this.model.get("id"),r=this.model.get("parts")||[],o=n.pluck(r,"id");e.store.dispatch(e.app.components.actions.fetchPaidContentMetadata(i,o)).then(function(){var n=e.store.getState().paidMetadata,s=t.utils.markBlockedParts(n,r);t.utils.isPaidPreview(s)&&a.$(".on-start-reading").text(t.utils.trans("Free Preview"))})}},onAddedToLibrary:function(n){this.isHome&&e.te.push("event","modal","story_details","library","add",{page:this.getPage(),story_id:this.model.get("id")});var a=this.$(this.libraryButton+"[data-story-id='"+n+"']");a.addClass("btn-teal").removeClass("btn-orange"),a.children(".fa").removeClass("fa-plus").addClass("fa-check"),a.children(".text").text(t.utils.trans("In Library"))},onRemovedFromLibrary:function(e){var n=this.$(this.libraryButton+"[data-story-id='"+e+"']");n.addClass("btn-orange").removeClass("btn-teal"),n.children(".fa").addClass("fa-plus").removeClass("fa-check"),n.children(".text").text(t.utils.trans("Add to Library"))},onStoryDetails:function(n){this.isHome&&e.te.push("event","modal","story_details","details","click",{page:this.getPage(),story_id:this.model.get("id")}),a.router.navigate(t.utils.formatStoryUrl(this.model.get("url")),{trigger:!0})},onStartReading:function(s){$(document.body).addClass("modal-open"),this.isHome&&e.te.push("event","modal","story_details","read",{page:this.getPage(),story_id:this.model.get("id")});var l=this.model.get("firstPartId"),i=this.model.get("parts");null!==l||n.isEmpty(i)?Promise.resolve($.get("/apiv2/syncreadingposition",{story_id:l,wp_token:t.utils.getCookie("token")})).then(function(e){var s=n.where(i,{id:parseInt(e.part,10)});s[0]?a.router.navigate(t.utils.formatStoryUrl(s[0].url),{trigger:!0}):a.router.navigate("/"+l,{trigger:!0})}):a.router.navigate(t.utils.formatStoryUrl(i[0].url),{trigger:!0})},onAuthPrompt:function(){$("#preview-modal").modal("hide")},onKeyUp:function(e){27===e.which&&$("#preview-modal").modal("hide")},onCover:function(n){this.isHome&&e.te.push("event","modal","story_details","cover","click",{page:this.getPage(),story_id:this.model.get("id")})},getPage:function(){var e=document.baseURI;return void 0===e&&(e=document.URL),e.indexOf("tags/")>-1?"tag page":e.indexOf("home")>-1?"home":"browse page"},onAddToListsReady:function(n,t){a.get("device").is.mobile?this.$(".addToLibraryModal[data-story-id='"+t+"']").modal({show:!0}):(this.clearLists(),n.parent(".button-group").addClass("open"),n.removeClass("on-lists-add-clicked"),n.addClass("on-dismiss-lists"),$(e.document).one("click.bs.dropdown.data-api",this.clearLists))},clearLists:function(t){var a=!1;if(t&&3===t.which)return!1;var s=null;t&&(s=$(t.target));var l=$(".btn-story-lists");return n.each(l,function(e){var n=$(e);s&&0!==n.parent(".button-group").find(s).length?s&&(a=!0):(n.parent(".button-group").removeClass("open"),n.removeClass("on-dismiss-lists"),n.addClass("on-lists-add-clicked"))}),a&&$(e.document).one("click.bs.dropdown.data-api",this.clearLists),!0},onDismissLists:function(e){var n=$(e.currentTarget).data("story-id"),t=this.$(this.addButton+"[data-story-id='"+n+"']");t.parent(".button-group").removeClass("open"),t.removeClass("on-dismiss-lists"),t.addClass("on-lists-add-clicked")},openModal:n.debounce(function(){this.$(".browse-preview[data-story-id="+this.model.get("id")+"]").modal({show:!0})},50),navigateToTagPage:function(e){var n=$(e.currentTarget).text().trim();a.router.navigate("/stories/"+encodeURIComponent(n),{trigger:!0})}})),a.mixin(a.views.BrowseStoryPreview,"StoryInListsManagement")}(window,_,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(167),s=t.n(a);!function(e,n,t,a){a.add("BrowseStories",a.views.IncrementalList.extend({template:s.a,filter:null,className:"stories",containerClass:".collection",itemView:a.views.BrowseStoryItem,events:n.extend({"tap .on-story-preview":"onStoryPreview","click .on-story-preview":"stopEvent","tap .on-story-details":"sendEventTracking","tap .on-start-reading":"sendEventTracking"},a.views.IncrementalList.prototype.events),initialize:function(e){var n=this;switch((e=e||{}).filter){case"hot":if(e.category){switch(this.showHotListHeader=!0,this.category=e.category.toJSON(),this.categoryNameForHotListHeader=this.category.name,this.category.id){case 2:this.appendStoriesSuffix=!1;break;case 17:this.categoryNameForHotListHeader=t.utils.trans("Short Stories"),this.appendStoriesSuffix=!1;break;default:this.appendStoriesSuffix=!0}this.collection=new a.collections.BrowseStories([],{category:e.category,filter:"hot",limit:18})}else e.tag&&(this.collection=new a.collections.BrowseTagStories([],{tags:e.tag,filter:"hot",limit:18}));break;case"featured":e.category&&(this.collection=new a.collections.BrowseStories([],{category:e.category,filter:"featured",limit:18}));break;case"new":e.category?this.collection=new a.collections.BrowseStories([],{category:e.category,filter:"new",limit:18}):e.tag&&(this.collection=new a.collections.BrowseTagStories([],{tags:e.tag,filter:"new",limit:18}));break;case"recommended":this.collection=new a.collections.RecommendedStories([],{username:t.utils.currentUser().get("username")});break;case"featured404":this.collection=new a.collections.FeaturedStories([],{})}this.device=a.get("device"),Handlebars.registerPartial("core.item_views.browse_story_item",function(){return""}),this.collection.once("sync",function(){n.render()}),this.collection.fetchNextSet()},getTemplateData:function(){return{hasStories:this.collection.length>0,showHotListHeader:this.showHotListHeader||!1,appendStoriesSuffix:this.appendStoriesSuffix||!1,categoryNameForHotListHeader:this.categoryNameForHotListHeader||"",category:this.category||"","user-device":this.device,tags:this.collection.tags,isMobile:this.device.is.mobile}},renderItem:function(e,n,s){a.views.IncrementalList.prototype.renderItem.apply(this,arguments),s=s||this.collection.indexOf(e),n=n||this.$el.children(".collection");var l=t.utils.advertisementAtEveryIndex({hash:{unit:"mobile"===t.utils.getDeviceType()?"leaderboard_mobile":"leaderboard",experience:"browse",parentClass:"ad-wrapper ad-unit"},data:{index:s}});l&&n.append(l)},render:function(){return this.render=function(){return a.views.IncrementalList.prototype.render.apply(this,arguments),this}.bind(this),this},onStoryPreview:function(e){var n=$(e.currentTarget).data("story-id"),t=this.collection.get(n),s=new a.views.BrowseStoryPreview({model:t});this.$("#preview-modal").empty().append(s.render().$el),s.openModal()},sendEventTracking:function(){e.te.push("event","app","story",null,"click",{storyid:this.$("#preview-modal .browse-preview.modal").data("story-id"),page:"category"})},onShowMore:function(e){this.collection.limit=20,a.views.IncrementalList.prototype.onShowMore.apply(this,arguments)}})),a.mixin(a.views.BrowseStories,"InfiniteScroll")}(window,_,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(168),s=t.n(a);!function(e,n,t,a){a.add("FeaturedStories",a.views.IncrementalList.extend({template:s.a,filter:null,className:"stories",containerClass:".collection",itemView:a.views.FeaturedStoryItem,initialize:function(e){e=e||{},this.collection=new a.collections.FeaturedStories([],{limit:e.limit||3}),Handlebars.registerPartial("core.item_views.featured_story_item",function(){return""})},getTemplateData:function(){return{hasStories:this.collection.length>0,"user-device":a.get("device")}},render:function(){var e=this;return Promise.resolve(this.collection.fetchNextSet()).then(function(){a.views.IncrementalList.prototype.render.apply(e,arguments)}),this}}))}(window,_,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(19),s=t.n(a),l=t(169),i=t.n(l);!function(e,n,t,a,l,r,o){r.add("CommentItem",r.views.Base.extend({template:i.a,className:"comment",events:{"tap  .on-delete":"onDelete","click  .on-delete":"stopEvent","tap  .on-reply":"onReply","click  .on-reply":"stopEvent","tap  .on-report":"onReport","click  .on-report":"stopEvent"},reportModalContainer:".comment-report-modal",modalTitle:a.utils.trans("Report a Comment"),requestType:"inappropriate_comments",isMainReportModal:!1,initialize:function(e){Handlebars.registerPartial("core.item_views.comment_item_options",s.a),this.isDeeplinkedReply=e.isDeeplinkedReply,this.$el.attr("id","comment-"+this.model.get("id"))},render:function(){var e=this.model.toJSON();if(e.body=l.sanitizeHTML(e.body),a.utils.currentUser().authenticated()){var n=a.utils.currentUser().get("ambassador")||a.utils.currentUser().get("isSysAdmin"),t=!!e.storyAuthor&&e.storyAuthor===a.utils.currentUser().get("username"),s=e.author.name===a.utils.currentUser().get("username");e.canDelete=n||t||s}return e.isCommentNotification=!1,this.$el.html(this.template(e)),this},onDelete:function(n){n.stopPropagation();var t=this.model.get("paragraphId");e.confirm(a.utils.trans("Are you sure you want to delete this comment?"))&&(t?this.model.destroyAndUpdateMarker():this.model.destroy())},reportMoreInfo:function(){var n=this;return[{key:"Comment Author",val:this.model.get("author").name},{key:"Comment Location",val:e.location.href},{key:"Comment Body",val:function(){return l.sanitizeHTML(n.model.get("body"))}},{key:"Comment DeepLink",val:this.model.get("deeplink")}]},onReply:function(n){var s,i,o=this.$(n.currentTarget);if(n.stopPropagation(),!l.currentUser().authenticated()){(u=t("#inline-comments-modal .inline-comments-modal"))&&u.modal("hide");var c=new r.views.SignUpPrompt({model:new r.models.Authsignup,title:a.utils.trans("Join Wattpad"),subtitle:a.utils.trans("Be part of a global community of readers and writers, all connected through the power of story."),nextUrl:e.location.href});return t("#generic-modal .modal-content").addClass("auth-modal"),t("#generic-modal .modal-body").html(c.render().$el),void t("#generic-modal").modal("show")}if(!l.currentUser().get("verified_email")){var u;(u=t("#inline-comments-modal .inline-comments-modal"))&&u.modal("hide");c=new r.views.PleaseVerifyModal;return t("#generic-modal .modal-body").html(c.render().$el),void t("#generic-modal").modal({})}if(!this.model.get("isReply")){if(s=o.data("target"),(i=this.$(s)).hasClass("collapsing"))return;if(i.hasClass("collapse")&&i.hasClass("in"))i.collapse("hide"),o.blur();else{o.attr("disabled",!0);var d=this.model.replies(),h=new r.views.Comments({collection:d,chronological:!0,enablePosts:a.utils.currentUser().authenticated(),placeholder:a.utils.trans("Reply to this conversation"),commentIdToHighlight:this.model.commentIdToHighlight,model:this.model});this.listenToOnce(h,"render:done",function(){i.collapse("show"),0===d.length&&i.find("textarea").focus(),i.one("hidden.bs.collapse",function(){h.remove(),d.reset(),r.local.clear(d.resource())}),this.listenTo(d,"add:new",function(){this.updateReplyCount(1)}),this.listenTo(d,"remove",function(){this.updateReplyCount(-1)}),o.attr("disabled",!1)}),i.append(h.render().$el)}}},updateReplyCount:function(e){var n=this.$el.children(".component-wrapper").children("footer").children(".on-reply"),t=n.text().trim(),s=new RegExp(/([0-9]*)([M|K]?)(\s)?(Reply|Replies)/g).exec(t);if(!s[2]){var i=0;s[1].trim().length>0&&(i=parseInt(s[1],10));var r=i+e===0?a.utils.trans("Reply"):a.utils.sprintf(a.utils.ngettext("%s Reply","%s Replies",i+e),[a.utils.count(i+e)]);l.cacheBust(["StoryPartComments"],[{partId:this.model.collection.partId}],this.model.get("id")),n.html(r)}},expand:function(){this.$el.children(".component-wrapper").children("footer").children(".on-reply").trigger("tap")},onReport:function(){var e=this;this.$el.on("shown.bs.modal",function(){e.$(".report-modal.fade.in .modal-title")[0].scrollIntoView(!1)})}})),r.mixin(r.views.CommentItem,"InputCounterManagement","ReportManagement","ReportConduct")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(170),s=t.n(a),l=t(171),i=t.n(l);!function(e,n,t,a){a.add("Comments",a.views.IncrementalList.extend({template:null,className:"comments",itemView:a.views.CommentItem,events:n.extend(a.views.IncrementalList.prototype.events,{"tap .on-add-mention":"onAddMention","click .on-add-mention":"stopEvent","tap .on-return-all-comments":"onReturnToAllComments","click .on-return-all-comments":"stopEvent"}),initialize:function(e){e=e||{},this.chronological=e.chronological||!1,this.commentIdToHighlight=e.commentIdToHighlight,this.enablePosts=e.enablePosts||!1,this.chronological?this.template=i.a:this.template=s.a,this.resetDirection(),this.enablePosts&&(this.newReplyView=new a.views.CommentNew({collection:this.collection,placeholder:e.placeholder||t.utils.trans("Leave a comment"),source:e.source}))},getTemplateData:function(){return{hasComments:this.collection.length>0||this.enablePosts,device:a.get("device"),isDeepLinkView:this.collection.length>0&&this.collection.first().isDeepLink}},render:function(){var e=this;return Promise.resolve(this.collection.fetchNextSet()).then(function(){if(e.renderView(),e.options.source&&e.collection.length>=2){var n=e.options.source.attributes.isMicroPart||!1,a=e.options.source.attributes.anonymousUser||!1?n?"readingshort_comments_loggedout":"readinglong_comments_loggedout":n?"readingshort_comments":"readinglong_comments";$(".comments.right-rail .reading-widget").html(t.utils.advertisement({data:{root:e.options.source.toJSON()},hash:{unit:a,experience:"reading",lazy:!0,storyGroup:e.options.source.toJSON().group,adzerk:!0,tryHb:!0}}))}}).catch(function(){e.renderView()}),this},renderView:function(){return a.views.IncrementalList.prototype.render.apply(this,arguments),this.enablePosts&&this.$(".post-comment").empty().append(this.newReplyView.render().$el),this.trigger("render:done"),this},renderItem:function(e,n){if(0===this.collection.indexOf(e)&&(this.direction=this.chronological?this.directions.down:this.directions.up),a.views.IncrementalList.prototype.renderItem.apply(this,arguments),this.resetDirection(),e.get("id")===this.commentIdToHighlight&&this.model.isDeepLink){var t=this.$el.find("#comment-"+this.commentIdToHighlight);t&&t.addClass("highlight")}},resetDirection:function(){this.direction=this.chronological?this.directions.up:this.directions.down},onAddMention:function(e){t.utils.stopEvent(e);var n=this.$(e.currentTarget).data("id"),a=this.collection.get(n).get("author").name;this.newReplyView&&this.newReplyView.addMention(a)},onReturnToAllComments:function(){this.collection.reset(),this.$(".single-comment-warning").remove(),this.collection.fetchNextSet()}}))}(window,_,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(172),s=t.n(a),l=t(173),i=t.n(l);!function(e,n,t,a,l,r){r.add("InlineCommentsModal",r.views.IncrementalList.extend({className:"inline-comments-modal modal fade",template:i.a,events:n.extend(r.views.IncrementalList.prototype.events,{"tap .on-return-all-comments":"onReturnToAllComments","click .on-return-all-comments":"stopEvent"}),itemView:r.views.CommentItem,containerId:"#inline-comments",initialize:function(e){e=e||{},this.partRating=e.source.get("rating")||null,this.chronological=!1,this.commentIdToHighlight=e.commentIdToHighlight,this.isDeepLinkedComment=n.get(e.collection.models,"[0].isDeepLink"),Handlebars.registerPartial("core.mixins.show_more",s.a)},showModal:function(){this.$el.modal("show")},onReturnToAllComments:function(){this.collection.reset(),this.$(".single-comment-warning").remove(),this.collection.fetchNextSet()},getTemplateData:function(){return{paragraphText:this.options.collection.paragraphText,storyGroup:this.options.source.get("group"),storyPart:this.options.source.toJSON(),isDeepLinkView:this.isDeepLinkedComment}},render:function(){var e=this;return r.views.IncrementalList.prototype.render.apply(this,arguments),this.isDeepLinkedComment||n.defer(function(){var n=new r.views.CommentNew({collection:e.collection,placeholder:a.utils.trans("Leave a comment"),source:e.source});e.$(".post-comment").empty().append(n.render().$el)}),this},renderItem:function(e,n){if(0===this.collection.indexOf(e)&&(this.direction=this.chronological?this.directions.down:this.directions.up),r.views.IncrementalList.prototype.renderItem.apply(this,arguments),this.resetDirection(),e.get("id")===this.commentIdToHighlight&&this.model.isDeepLink){var t=this.$el.find("#comment-"+this.commentIdToHighlight);t&&t.addClass("highlight")}},resetDirection:function(){this.direction=this.chronological?this.directions.up:this.directions.down}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(174),s=t.n(a);!function(e,n,t,a,l){a.add("StoryParts",a.views.Base.extend({template:s.a,className:"story-parts",events:{"tap .on-navigate-part":"onNavigatePart","click .on-navigate-part":"stopEvent"},initialize:function(e){this.listenTo(this.model,"reading-position-available",this.onPositionAvailable)},onPositionAvailable:function(e){if(e&&e.part!==this.model.get("firstPartId")||e.position>0){var n=this.$el.find("li[data-part-id='"+e.part+"']"),a=$(n).children("a"),s=t.utils.trans("%s%% Read",(100*e.position).toFixed(2));n.addClass("active"),a.children().remove(),a.append('<small class="pull-right">'+s+"</small>")}},render:function(){var a={};if(a.story=this.model.toJSON(),a.story.parts=this.model.get("parts"),(n.get(e,"wattpad.testGroups.PAID_CONTENT")||!1)&&a.story.isPaywalled){var s=e.store.getState().paidMetadata;a.story.parts=l.markBlockedParts(s,a.story.parts)}return a.story.numParts=this.model.get("numParts"),this.$el.html(this.template(a)),t.utils.currentUser().authenticated()&&this.model.syncPosition(),this},onNavigatePart:function(e){this.onNavigate(e)}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,n,t){"use strict";t.r(n);var a=t(175),s=t.n(a);!function(e,n,t,a,l){a.add("StoryAdmin",l.View.extend({className:"dropdown-menu story-admin-dropdown",template:s.a,events:{"tap    .on-options-hot-list-review":"onHotListReview","click  .on-options-hot-list-review":"stopEvent","tap    .on-options-edit-details":"onOptionsEditDetails","click  .on-options-edit-details":"stopEvent","tap    .on-options-edit-part":"onOptionsEditPart","click  .on-options-edit-part":"stopEvent","tap    .on-cover-remove":"onCoverRemove","click  .on-cover-remove":"stopEvent","change #story-language-select":"onLanguageChanged","change #story-category-select":"onCategoryChanged"},initialize:function(e){if(e=e||{},this.reported=!1,!(e.author&&e.author instanceof a.models.User))throw new Error("StoryAdmin View : `options.author` must be defined (`UserModel` reference)");if(this.author=e.author,!(e.story&&e.story instanceof a.models.StoryModel))throw new Error("StoryAdmin View : `options.story` must be defined (`StoryModel` reference)");if(this.story=e.story,e.part&&!(e.part instanceof a.models.StoryPartModel))throw new Error("StoryAdmin View : `options.part` should be a `StoryPartModel` reference");this.part=e.part||null,this.langs=this.getLangs()},render:function(){var t={isAdmin:n.utils.currentUser().get("isSysAdmin"),isStaff:n.utils.currentUser().get("is_staff"),author:this.author.toJSON(),story:this.story.toJSON(),part:this.part?this.part.toJSON():null,languages:this.langs,reportLink:"/help/content?message="+n.utils.urlEncode("I am reporting the following content:\n")+"&story_link="+n.utils.urlEncode(e.location.href),translateLink:"https://translate.google.com/translate?u="+n.utils.urlEncode(e.location.href)+"&tl=en&hl=en&ie=UTF-8",categories:a.get("categories").toJSON()};return this.$el.html(this.template(t)),this.connectMixin(),this},getLangs:function(){var e=[];return _.each(n.supportedLangs,function(n){e.push({id:n.id,name:1!==n.id&&11!==n.id?n.name+" ("+n.nameEnglish+")":n.name})}),e.push({id:11,name:"Other"}),e},onHotListReview:function(n){var t=this.part?this.part.get("id"):this.story.get("firstPartId"),a=this;!1===this.reported&&e.confirm("Are you sure?")&&$.post("/api/v3/story_parts/"+t+"/report").done(function(e){a.successFeedback(".options-row"),a.reported=!0}).fail(function(e){a.failureFeedback(".options-row",a.getErrorMessage(e))})},onOptionsEditDetails:function(e){t.stopEvent(e),a.router.navigate("/myworks/"+this.story.get("id"),{trigger:!0})},onOptionsEditPart:function(e){t.stopEvent(e),a.router.navigate("/mystories?compose=true&id="+this.part.get("id"),{trigger:!0})},onLanguageChanged:function(n){var t=this.$("#story-language-select").val(),a=this.story.get("language"),s="Set the language to "+_.find(this.langs,function(e){return e.id==t}).name+"?",l=this;t!==a&&e.confirm(s)?(this.story.set("language",t),this.saveStory().done(function(e){l.successFeedback(".language-row")}).fail(function(e){l.failureFeedback(".language-row",l.getErrorMessage(e)),l.story.set("language",a),l.$("#story-language-select").val(a)})):this.$("#story-language-select").val(a)},onCategoryChanged:function(n){var t=this.$("#story-category-select").val(),s=this.story.get("categories"),l="Set the category to "+a.get("categories").get(t).get("name")+"?",i=this;t!==s[0]&&e.confirm(l)?(this.story.set("categories",[parseInt(t),s[1]]),this.saveStory().done(function(e){i.successFeedback(".category-row")}).fail(function(e){i.failureFeedback(".category-row",i.getErrorMessage(e)),i.story.set("categories",s),i.$("#story-category-select").val(s[0])})):this.$("#story-category-select").val(s[0])},onCoverRemove:function(){var n=this,t=e.prompt("Why is this cover being removed? Options: 'copyright', 'banned content', 'self harm'");if(t){var a={id:this.story.get("id"),ownerid:this.author.id,req_type:"upload",cover:"",coverDeleteReason:t};$.post("/apiv2/uploadstorygroup",a).done(function(t){n.successFeedback(".cover-row"),e.location.reload()}).fail(function(e){n.failureFeedback(".cover-row",n.getErrorMessage(e))})}else e.alert("Banning was cancelled.")},onFileSelected:function(){var e=this;e.getFile().then(function(n){n&&Promise.resolve($.ajax({type:"POST",url:"/apiv2/updatestorycover",data:{id:e.story.get("id"),image:n.parsed}})).then(function(){e.successFeedback(".cover-row")}).catch(function(){e.failureFeedback(".cover-row")})})},saveStory:function(){var e=this.story.get("categories");return $.post("/api/v3/story_parts/"+this.story.get("firstPartId")+"/moderate",{language:this.story.get("language"),category1:e[0],category2:e[1]?e[1]:0})},getErrorMessage:function(e){return e&&e.responseJSON?e.responseJSON.message:"Error saving changes. Please try again."},successFeedback:function(t){var a=this,s=t+" > .response-status";a.clearFeedback(),this.$(s).html(n.utils.iconify("fa-check",24,"wp-success")),e.setTimeout(function(){a.clearFeedback()},3e3)},failureFeedback:function(t,a){var s=this,l=t+" > .response-status";s.clearFeedback(),this.$(l).html(n.utils.iconify("fa-warning",24,"wp-error-1")),this.$(".error-row > .alert").html(a),this.$(".error-row").removeClass("hidden"),e.setTimeout(function(){s.clearFeedback()},3e3)},clearFeedback:function(){this.$(".error-row").addClass("hidden"),this.$(".response-status").empty()},stopEvent:function(e){n.utils.stopEvent(e)}})),a.mixin(a.views.StoryAdmin,"FileUpload")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(4),s=t.n(a),l=t(5),i=t.n(l),r=t(1),o=t.n(r),c=t(176),u=t.n(c);!function(e,n,t,a,l){a.add("StoryLanding",a.views.RegionManager.extend({template:u.a,partials:{"core.story_landing.story_details":function(){return""},"core.story_landing.story_parts":function(){return""},"core.collection_views.stories_similar":function(){return""},"core.signup_prompt":function(){return""},"desktop.components.item_views.user_item":function(){return""},"desktop.components.modal.share_embed":o.a,"core.components.add_to_library_dropdown":i.a},events:{"tap   .on-tab-nav":"onSectionNavigate","click .on-tab-nav":"stopEvent","tap .on-story-navigate":"onStoryNavigate","click .on-story-navigate":"stopEvent","tap    .on-dismiss-lists":"onDismissLists","click  .on-dismiss-lists":"stopEvent","tap .share-embed":"onShareEmbed","click .share-embed":"stopEvent","tap .on-sponsor-navigate":"onSponsorNavigate","click .on-sponsor-navigate":"stopEvent","tap .send-author-event":"sendAuthorClickTrackingEvent","click .send-author-event":"stopEvent","tap .send-story-cover-event":"sendSimilarStoryCoverTrackingEvent","click .send-story-cover-event":"stopEvent"},regionTags:{details:"#story-details",content:"#tab-content",similar:".similar-stories",promoted:".promoted-stories",signup:"#authentication-panel"},id:"story-landing",subviews:{details:{view:a.views.StoryDetails},similar:{view:a.views.StoriesSimilar},signup:{view:a.views.SignUpPrompt},promoted:{view:a.views.PromotedStoryItem},parts:{view:a.views.StoryParts}},initialize:function(n){var t=e.matchMedia||e.msMatchMedia;n=n||{};this.section=n.section||"parts",_.bindAll(this,"clearLists"),_.each(this.partials,function(e,n,t){Handlebars.registerPartial(n,e)}),this.model.set("categories",[_.find(this.model.get("categories"),function(e){return e>0})]),this.model.set("categoryLabels",_.reduce(this.model.get("categories"),function(e,n){var t=a.get("categories").get(n);return t&&e.push({name:t.get("name"),name_english:t.get("name_english")}),e},[])),t&&(_.bindAll(this,"onWidthChange"),t("( min-width: 992px )").addListener(this.onWidthChange)),this.listenTo(this.model,"reading-position-available",this.onPositionAvailable),this.listenTo(a,"app:component:TagGridItem:click",this.navigateToTagPage)},onPositionAvailable:function(e){if(e&&e.part!==this.model.get("firstPartId")||e.position>0){var t=_.find(this.model.get("parts"),function(n){return n.id===e.part});t&&this.$(".story-controls > .on-story-navigate").text(n.utils.trans("Continue")).attr("href",n.utils.formatStoryUrl(t.url))}},navigateToTagPage:function(n){var t=$(n.currentTarget).text().trim();e.te.push("event","story_details","tag",null,"click",{storyid:this.model.get("id"),tags:t}),a.router.navigate("/stories/"+encodeURIComponent(t),{trigger:!0})},setElement:function(e){l.View.prototype.setElement.apply(this,arguments),_.each(this.regionTags,function(e){this.regions[e]&&this.regions[e].view&&this.$(e).length>0&&this.regions[e].view.setElement($(this.$(e+" > div")))},this)},writerPreviewHasBannedCover:function(){return n.utils.currentUser()&&this.model.get("hasBannedCover")&&this.model.get("user").username===n.utils.currentUser().get("username")},render:function(){var s={},l=this,i=a.get("device");this.descCharLimit=i.is.desktop?170:130,s.story=this.model.toJSON(),s.story.firstPart=_.find(s.story.parts,function(e){return e.id===s.story.firstPartId}),s.tagGridTags={tags:[]},_.each(this.model.get("tags"),function(e){s.tagGridTags.tags.push({id:e,name:e})}),s.story.promoted&&(s.story.sponsorName=s.story.sponsorName||s.story.user.username);var r=this.buildSocialShareLinksForStory(this.model);if(s.socialShareHidden=r.splice(3,3),s.socialShareVisible=r,s.active={},s.active[this.section]=!0,s.isLogged=n.utils.currentUser().authenticated(),s.descCharLimit=this.descCharLimit,s.showAdminPanel=n.utils.currentUser().get("isSysAdmin")||n.utils.currentUser().get("ambassador"),s.isAdmin=n.utils.currentUser().get("isSysAdmin"),s.writerPreviewHasBannedCover=this.writerPreviewHasBannedCover(),n.utils.setCookie("signupFrom","story_landing",0,e.location.hostname.replace("www","")),(_.get(e,"wattpad.testGroups.PAID_CONTENT")||!1)&&s.story.isPaywalled){var o=e.store.getState().paidMetadata;s.story.parts=t.markBlockedParts(o,s.story.parts),s.story.isPaidPreview=t.isPaidPreview(s.story.parts)}return this.$el.html(this.template(s)),this.setMain(),this.setSection(this.section),n.utils.currentUser().authenticated()&&"parts"!==this.section&&this.model.syncPosition(),_.defer(function(){l.$(".author-info").children("small").tooltip(),l.$(".meta").children("span").tooltip(),l.$(".story-details [data-toggle=tooltip]").tooltip(),l.initAdminPanel(l.model,"#admin-panel")}),this},setMain:function(){this.$(this.regionTags.details).empty();var e=new this.subviews.details.view({model:this.model});if(this.setRegion(this.regionTags.details,e.render()),!this.model.get("deleted")){this.$(this.regionTags.promoted).empty(),this.promotedStoryView=new this.subviews.promoted.view({storyId:this.model.get("id"),baseStoryCategory:this.model.get("categories")[0],zoneIds:[170406],template:s.a,fromPage:"storyLanding",descCharLimit:this.descCharLimit,promotedEl:".promoted-story-panel"});var t=this;_.defer(function(){t.setRegion(t.regionTags.promoted,t.promotedStoryView.render())}),this.$(this.regionTags.similar).empty(),e=new this.subviews.similar.view({filter:"similar",storyId:this.model.get("id"),limit:10,showDescription:!0}),this.setRegion(this.regionTags.similar,e.render())}if(this.$(this.regionTags.signup).empty(),!n.utils.currentUser().authenticated()){var l=this.model.get("firstPartId"),i=_.find(this.model.get("parts"),function(e){return e.id===l});e=new this.subviews.signup.view({model:new a.models.Authsignup,subtitle:n.utils.trans("Get notified when %s is updated","<strong>"+n.utils.sanitizeHTML(this.model.get("title"))+"</strong>"),nextUrlFirstPart:i&&i.url||null,libraryStoryId:this.model.get("id")}),this.setRegion(this.regionTags.signup,e.render())}},setSection:function(n){var t,s,l=this.$("#story-tabs");if(l.find("nav li").removeClass("active"),l.find("nav li[data-section="+n+"]").addClass("active"),this.section!==n&&(this.clearRegion(this.regionTags.content),s=e.location.pathname,s="parts"===n?s+"/parts":s.replace("/parts",""),a.router.navigate(s,{trigger:!1,replace:!0})),this.section!==n||!this.regions[this.regionTags.content]){switch(n){case"parts":t=new this.subviews.parts.view({model:this.model});break;case"details":t=new this.subviews.details.view({model:this.model})}this.setRegion(this.regionTags.content,t.render()),this.section=n}},onSectionNavigate:function(e){var n=$(e.currentTarget).parent().data("section");this.setSection(n)},onStoryNavigate:function(n){e.te.push("event","story_details","story",null,"read",{storyid:this.model.get("id")}),this.onNavigate(n)},onWidthChange:function(e){e.matches&&"details"===this.section&&this.setSection("parts")},onSponsorNavigate:function(e){var n=$(e.target).data("clickUrl");$.ajax({type:"GET",url:n}),this.onNavigate(e)},buildSocialShareLinksForStory:function(e){return[{name:"embed",icon:"fa-code",nopopup:!0,label:n.utils.trans("Embed Story"),href:n.utils.sprintf("https://embed.wattpad.com/story/%s",[e.get("id")])}]},onAddToListsReady:function(n,t){this.clearLists(),n.parents(".button-group").addClass("open"),n.removeClass("on-lists-add-clicked"),n.addClass("on-dismiss-lists"),$(e.document).one("click.bs.dropdown.data-api",this.clearLists)},clearLists:function(n){var t=!1;if(n&&3===n.which)return!1;var a=null;n&&(a=$(n.target));var s=$(".btn-story-lists");return _.each(s,function(e){var n=$(e);a&&0!==n.parents(".button-group").find(a).length?a&&(t=!0):(n.parents(".button-group").removeClass("open"),n.removeClass("on-dismiss-lists"),n.addClass("on-lists-add-clicked"))}),t&&$(e.document).one("click.bs.dropdown.data-api",this.clearLists),!0},onDismissLists:function(e){var n=$(e.currentTarget);n.parents(".button-group").removeClass("open"),n.removeClass("on-dismiss-lists"),n.addClass("on-lists-add-clicked")},onShareEmbed:function(e){var n=$("#generic-modal"),a=this;t.stopEvent(e),n.find(".modal-dialog").addClass("embed").find(".modal-body").html(this.partials["desktop.components.modal.share_embed"]({id:this.model.get("id"),close:!0}));var s=n.find(".on-select").on("tap",this.onSelectEmbedUrl),l=n.find("iframe");l.attr("src",l.data("href"));n.modal("show").on("hide.bs.modal",function e(){s.off("tap",a.onSelectEmbedUrl),n.off("hide.bs.modal",e)})},onSelectEmbedUrl:function(){var n=e.document.createRange();n.selectNode(e.document.getElementById("embed-url")),e.getSelection().addRange(n)},onSocialShareSelected:function(n){e.te.push("event","story_details","story",null,"share",{storyid:this.model.get("id"),channel:$(n.currentTarget).data("share-channel")})},sendAuthorClickTrackingEvent:function(){e.te.push("event","story_details","author","","click",{storyid:this.model.get("id"),username:this.model.get("user").username})},sendSimilarStoryCoverTrackingEvent:function(n){e.te.push("event","story_details","similar_stories","cover","click",{storyid:$(n.currentTarget).data("story-id"),current_storyid:this.model.get("id")})}})),a.mixin(a.views.StoryLanding,"StoryInListsManagement","SocialSharing","StoryAdminManager","LazyAds")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(177),s=t.n(a);!function(e,n,t,a,l){l.add("StoryRanking",l.views.Base.extend({id:"story-ranking",template:s.a,events:{"tap .on-rank-navigate":"onRankNavigate","click .on-rank-navigate":"stopEvent"},className:function(){var e="container";return l.get("device").is.mobile&&(e+=" mobile"),e},initialize:function(){var e=this.model.get("tagRankings").map(function(e){return e.name+"|"+e.rank}).join("|");window.te.push("event","tag_ranking",null,null,"view",{storyid:this.model.get("id"),tags:e})},render:function(){var n=e.cloneDeep(this.model.get("tagRankings")),a=n[0];n.shift();var s=n,i={storyTitle:this.model.get("title"),storyUrl:this.model.get("url"),topRank:a,otherRankings:s,isDesktop:l.get("device").isDesktop(),testGroups:t.testGroups};return this.$el.html(this.template(i)),this},onRankNavigate:function(e){var t=n(e.currentTarget);window.te.push("event","tag_ranking","ranking",null,"click",{storyid:this.model.get("id"),tag:t.data("name"),rank:t.data("rank")}),this.onNavigate(e)}}))}(_,jQuery,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(178),s=t.n(a);!function(e,n,t,a,l){a.add("BaseStoryReadingFunbar",a.views.Base.extend({template:s.a,id:"funbar",className:"clearfix",initialize:function(){this.listenTo(a,"app:story:vote",this.onUpdateVote)},render:function(){return this},onUpdateVote:function(e){e&&e.storyId===this.model.get("id")&&(e.voted?this.voteSelected():this.voteDeselected())},voteSelected:function(){var e=n.utils.iconify("fa-vote",16,"wp-base-1"),t=n.utils.trans("Voted");this.$("#funbar-controls .on-vote .fa-vote").replaceWith(e),this.$("#funbar-controls .on-vote .story-vote").text(t)},voteDeselected:function(){var e=n.utils.iconify("fa-vote",16,"wp-neutral-3"),t=n.utils.trans("Vote");this.$("#funbar-controls .on-vote .fa-vote").replaceWith(e),this.$("#funbar-controls .on-vote .story-vote").text(t)}})),a.mixin(a.views.BaseStoryReadingFunbar,"VoteManagement")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(15),s=t.n(a),l=t(179),i=t.n(l);!function(e,n,t,a,l){a.add("PostToProfileModal",a.views.Base.extend({template:i.a,className:"post-to-profile-modal",initialize:function(e){Handlebars.registerPartial("core.shared.beautify_url",s.a),this.groupUrl=t.siteRoot+"/story/"+this.model.toJSON().group.id,this.newMessageView=new a.views.NewMessageNew({to:e.target,placeholder:t.utils.trans("Write a message..."),canBroadcast:!0,autoMention:e.target,additionalText:"\n\n"+this.groupUrl}),this.listenTo(this.newMessageView,"message:new",this.onSuccess)},render:function(){var e=n.extend(this.model.toJSON().group,{username:this.options.target,isMobile:a.get("device").is.mobile,url:this.groupUrl});return this.$el.html(this.template(e)),this.$(".post-comment").empty().append(this.newMessageView.render().$el),this},onSuccess:function(){this.$(".post-comment").remove(),this.$(".success-message").removeClass("hidden"),t.utils.pushEvent({category:"reading",action:"share:post-to-profile",label:this.model.get("id")})}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,n,t){"use strict";t.r(n);var a=t(180),s=t.n(a);!function(e,n,t,a,l){a.add("BottomBanner",l.View.extend({template:s.a,className:"bottom-banner-container",events:{"tap .bottom-login":"onAuthModal","click .bottom-login":"stopEvent","tap .bottom-signup":"onAuthModal","click .bottom-signup":"stopEvent","tap .dismiss":"onDismiss","click .dismiss":"stopEvent","tap .on-add-story":"onAddToLibrary","click .on-add-story":"stopEvent"},initialize:function(t){t=t||{},this.image=t.image,this.title=t.bannerTitle,this.showBottomBanner=t.showBottomBanner,this.dismissibleBanner=!n.utils.getCookie("dB"),this.fatBanner=t.fatBanner,this.listenTo(a,"app:story:vote",this.onUpdateVote),this.view=t.view||{},this.openAuthModalOnLoad="#signin-popup"===e.location.hash},render:function(){var t={},s={},l=a.get("device").is.tablet;if(t.showBottomBanner=this.showBottomBanner,t.bottomBannerImage=this.image,t.bottomBannerTitle=this.bannerTitle,t.dismissibleBanner=this.dismissibleBanner,t.fatBanner=this.fatBanner,t.isiOS=a.get("device").is.ios,t.isAndroid=a.get("device").is.android,"/presents"===e.location.pathname&&(t.showBottomBanner=!1),this.$el.html(this.template(t)),this.deepLink){s.source=l?"tabletweb":"mobileweb",s.page=this.deepLinkPage,s.content="mobileweb",s.medium=l?"stickybar_tablet":"stickybar_mobile";var i=n.utils.generateBranchLink(n.utils.getDesktopUrl(),this.deepLink,s),r=this;Promise.resolve(i).then(function(e){var n=e;r.$(".open-app a").attr("href",n.url),r.$(".dismissible a").attr("href",n.url),r.$(".dismissible").addClass("show"),r.$(".nondismissible").addClass("show"),r.$(".bottom-banner a").attr("href",n.url),r.dismissibleBanner&&r.$(".branding").addClass("hidden")})}return _.defer(this.afterRender.bind(this)),this},afterRender:function(){this.openAuthModalOnLoad&&this.onAuthModal()},onAuthModal:function(e){var t=void 0!==e?e.currentTarget.getAttribute("data-form"):"login",s="signup"===t?n.utils.trans("Join Wattpad"):n.utils.trans("Log in to Wattpad"),l=new a.views.SignUpPrompt({model:new a.models.Authsignup,title:s,subtitle:n.utils.trans("Be part of a global community of readers and writers, all connected through the power of story."),formType:"navbar_modal",form:t,skipOnboarding:!0});$("#generic-modal .modal-content").addClass("auth-modal"),$("#generic-modal .modal-body").html(l.render().$el),$("#generic-modal").modal("show")},onAddToLibrary:function(e){n.utils.currentUser().authenticated()||this.onAuthModal(e)},onDismiss:function(e){t.stopEvent(e),this.$(".dismissible").slideUp("50"),this.$(".dismissible").removeClass("show"),this.$(".branding").removeClass("hidden"),n.utils.setCookie("dB",1,0)},setDeepLink:function(e,n){this.deepLink=e.replace("wattpad://",""),this.deepLinkPage=n,this.render()},onUpdateVote:function(e){e&&e.storyId===this.model.get("id")&&(e.voted?this.voteSelected():this.voteDeselected())},voteSelected:function(){var e=n.utils.iconify("fa-vote",16,"wp-base-1"),t=n.utils.trans("Voted");this.$("#funbar-controls .on-vote .fa-vote").replaceWith(e),this.$("#funbar-controls .on-vote .story-vote").text(t)},voteDeselected:function(){var e=n.utils.iconify("fa-vote",16,"wp-neutral-3"),t=n.utils.trans("Vote");this.$("#funbar-controls .on-vote .fa-vote").replaceWith(e),this.$("#funbar-controls .on-vote .story-vote").text(t)},getSharingItems:function(e){var n;e.group.category&&(n=a.get("categories").get(e.group.category).get("name"));var t={group:{id:e.group.id,title:e.group.title,cover:e.group.cover,category:n,description:e.group.description,tags:_.map(e.group.tags,function(e){return{name:e}}).concat([{name:n}]),completed:e.group.completed},part:{id:e.id,title:e.title,url:e.url},user:{twitter:e.group.user.twitter}};return this.buildSocialShareLinksForPart(t)}})),a.mixin(a.views.BottomBanner,"VoteManagement","LibraryManagement","SocialSharing")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(22),s=t.n(a);!function(e,n,t,a,l){a.add("PictureViewer",a.views.Base.extend({events:{"tap .on-report-image":"onReportImage","tap .on-dismiss":"onDismiss","click .on-dismiss":"stopEvent","click .on-report-image":"stopEvent","tap .vertical-align-helper":"onTapPicture","click .vertical-align-helper":"stopEvent"},template:s.a,id:"picture-viewer",initialize:function(n){var a;if(n=n||{},this.contents="",this.mediaLink="",this.reportLink="#",n.contents&&(this.contents=n.contents,this.mediaLink=$(this.contents).attr("src"),a=$(n.contents).attr("src")),n.paragraph&&(this.reportLink=t.sprintf("http://www.wattpad.com/help/content/1?story_link=%s&media_link=%s",[e.encodeURIComponent(e.location.href),this.mediaLink])),this.mediaShare=n.mediaShare||[],this.mediaShare[1]){var s=this.mediaShare[1].href;s=this.preparePinterestUrl(a,s),this.mediaShare[1].href=s}this.model=n.partModel||{}},render:function(){var e=a.get("device").isTouchDevice();return this.$el.html(this.template({contents:this.contents,reportLink:this.reportLink,mediaShare:this.mediaShare,isTouchDevice:e})),this},onReportImage:function(e){return t.openPopup($(e.currentTarget).attr("href"),t.trans("Report Story"),700,400)},onDismiss:function(){$("#picture-viewer").one("hidden.bs.modal",function(){$(".modal-backdrop").removeClass("black")}),$("#picture-viewer").modal("hide")},onSharePinterest:function(n){var t=$(n.currentTarget).attr("href");e.open(t)},onTapPicture:function(e){t.stopEvent(e),a.get("device").isTouchDevice()&&$(".icon-wrapper").toggleClass("hidden")}})),a.mixin(a.views.PictureViewer,"MediaSharing")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(181),s=t.n(a);!function(e,n,t,a,l){a.add("StoryReadingFunbar",a.views.BaseStoryReadingFunbar.extend({isDesktop:!0,events:{"mouseenter #funbar-reading-progress":"openProgressTooltip","mouseleave #funbar-reading-progress":"closeProgressTooltip","tap .on-publish":"onPublish","click .on-publish":"stopEvent"},initialize:function(){Handlebars.registerPartial("desktop.story_reading.table_of_contents",s.a),a.views.BaseStoryReadingFunbar.prototype.initialize.apply(this,arguments)},render:function(){var e=this.model.toJSON(),a=this;this.listenTo(this.model,"reading-progress",this.updateProgress),this.listenTo(this.model,"change:pageNumber",this.pageChanged),e.showAdminPanel=!1,e.isAdmin=!1,e.isDesktop=this.isDesktop,n.utils.currentUser().get("isSysAdmin")&&(e.showAdminPanel=!0,e.isAdmin=!0),n.utils.currentUser().get("ambassador")&&(e.showAdminPanel=!0),n.utils.currentUser().get("username")===e.group.user.username&&(e.isAuthor=!0,e.group.url="/myworks/"+e.group.id+"-"+t.slugify(e.group.title)),e.isPreview=!!this.options&&this.options.isPreview;var s=e.blockedPart||{};return this.model.get("group").isPaywalled&&(e.onWalletClick=t.showBuyCoinsModal.bind(t,"reading",e.group.id,s.id)),this.$el.html(this.template(e)),this.initAdminPanel(this.model,"#admin-panel"),_.defer(function(){a.$("[data-toggle=tooltip]").tooltip()}),this},stopEvent:function(e){t.stopEvent(e)},onAddToListsReady:function(e,n){e.parent(".button-group").addClass("open"),e.removeClass("on-lists-add-clicked"),e.addClass("on-dismiss-lists")},onDismissLists:function(e){var n=$(e.currentTarget).data("story-id"),t=this.$(this.addButton+"[data-story-id='"+n+"']");t.parent(".button-group").removeClass("open"),t.removeClass("on-dismiss-lists"),t.addClass("on-lists-add-clicked")},openProgressTooltip:function(e){this.$("#progresstooltip").tooltip("show")},closeProgressTooltip:function(e){this.$("#progresstooltip").tooltip("hide")},_timeToComplete:function(e,n){var t=e*(1-n)/250;return moment.duration(t,"minutes").humanize()},updateProgress:function(e){100*e>.5?this.$("#progressbar").width(100*e+"%"):this.$("#progressbar").removeAttr("style");var t=this.model.get("wordCount");if(t&&1!==e){var a=n.utils.trans("%s left",this._timeToComplete(t,e));this.$("#progresstooltip").attr("data-original-title",a)}else this.$("#progresstooltip").removeAttr("data-original-title")},pageChanged:function(){this.openProgressTooltip(),_.delay(_.bind(this.closeProgressTooltip,this),1e3)},showPostPublishModal:function(){var e=new a.views.PostPublishModal({model:this.model,links:this.model.get("socialShareVisible")||a.currentView.socialLinks});$("#post-publish-modal").empty().append(e.render().$el),e.showModal()},onPublish:function(){var e=this,n=[],s=this.model.get("group");s.textids=_.pluck(this.model.get("group").parts,"id").join(","),this.publishModel=new a.models.StoryPartCreateModel({id:this.model.get("id"),authorid:t.currentUser().get("id"),title:this.model.get("title"),groupid:this.model.get("group").id,language:this.model.get("language"),copyright:this.model.get("copyright"),category1:this.model.get("group").categories[0],textUrl:this.model.get("text_url"),url:this.model.get("url")});var l;this.storyLabelsModel=new a.models.StoryLabelsModel({storyId:parseInt(s.id)}),l=Promise.resolve(this.storyLabelsModel.fetch()).catch(function(){}),Promise.all([$.get("/apiv2/storytext?id="+this.model.get("id")+"&output=json"),l]).then(function(l){if(e.publishModel.set("text",l.text),s.category&&""!==s.title&&s.title!==t.trans("Untitled Story")&&""!==s.description&&0!==s.tags.length)Promise.resolve(e.publishModel.publish()).then(function(s){var l=t.currentUser().get("username");void 0===s&&0===n.length||(a.local.clear(e.model.resource()),t.cacheBust(["Works"],[{username:l}]),t.cacheBust(["Works"],[{username:l,published:!0}]),$(".draft-tag").addClass("hidden"),$(".on-publish").addClass("hidden"),$(".on-write").addClass("hidden"),$(".preview-alert").addClass("hidden"),e.showPostPublishModal())});else{var i=new a.views.WorksItemDetails({model:new a.models.StoryCreateModel(s),storyLabelsModel:e.storyLabelsModel||null,isPublish:!0,partModel:e.publishModel,isPreview:!0});$("#generic-modal").find(".modal-content .modal-body").html(i.render().$el),$("#generic-modal").addClass("publish-modal").modal("show")}})}})),a.mixin(a.views.StoryReadingFunbar,"StoryAdminManager")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(182),s=t.n(a),l=t(23),i=t.n(l);!function(e,n,t,a,l){a.add("MediaBanner",l.View.extend({events:{"tap .on-video":"onVideoSelected","click .on-video":"stopEvent","tap .on-prev-media":"onPrevMedia","click .on-next-media":"stopEvent","tap .on-next-media":"onNextMedia","click .on-prev-media":"stopEvent","tap .on-carousel-clicked":"onCarouselClicked","click .on-carousel-clicked":"stopEvent","tap .on-show-media-menu":"onShowMediaMenu","click .on-show-media-menu":"stopEvent","mouseleave .background":"onHideMediaMenu","tap .on-remove-video":"onRemoveVideo","click .on-remove-video":"stopEvent","tap .on-remove-image":"onRemovePhoto","click .on-remove-image":"stopEvent","tap .on-replace-image":"onReplacePhoto","click .on-replace-image":"stopEvent","tap .on-replace-video":"onReplaceVideo","click .on-replace-video":"stopEvent","tap .on-cancel":"onCancel","click .on-cancel":"stopEvent","tap .on-add-image":"onAddPhoto","click .on-add-image":"stopEvent","tap .on-add-video":"onAddVideo","click .on-add-video":"stopEvent","keyup .photo-url-field":"onSubmitPhoto","tap .on-submit-photo":"onSubmitPhoto","click .on-submit-photo":"stopEvent","keyup .video-url-field":"onSubmitVideo","tap .on-submit-video":"onSubmitVideo","click .on-submit-video":"stopEvent","tap .media-fields-underlay":"hideMediaFields","click .media-fields-underlay":"stopEvent","paste .video-url-field":"onSubmitVideo","click .on-okay":"stopEvent","tap .on-okay":"onCloseTooltip"},template:s.a,className:"media-container",bannedImageMessaging:i.a,initialize:function(e){e=e||{},this.media=e.media,this.bgCover=e.bgCover,this.model=e.model||new l.Model,this.isEditable=e.isEditable||!1,this.showTips=e.showTips||!1,this.socialLinks=e.socialLinks||!1,this.hasBannedImage=!1,this.isWriterPreview=e.isWriterPreview,this.coverTimestamp=e.coverTimestamp||"",this.fileUploadLimits=[{type:"image/jpeg",fileSize:1e7,friendlyName:"JPG",friendlySize:"10mb"},{type:"image/png",fileSize:1e7,friendlyName:"PNG",friendlySize:"10mb"},{type:"image/gif",fileSize:3e6,friendlyName:"GIF",friendlySize:"3mb"}]},render:function(){var s={};s.media=this.media,s.bgCover=this.bgCover,s.isEditable=this.isEditable,s.isWriterPreview=this.isWriterPreview,s.showTips=this.showTips,s.isDesktop=a.get("device").isDesktop(),s.showCover=!s.isEditable||0!==s.media.length,s.showCarousel=s.media.length>1,_.each(s.media,function(e){s.hasVideo=s.hasVideo||e.video||!1,s.hasPhoto=s.hasPhoto||e.photo||!1}),s.media.length>0&&this.socialLinks&&(s.media.facebook=this.socialLinks[0].href,s.media[0].video?s.media.pinterest=t.qsReplace(this.socialLinks[2].href,"media",encodeURIComponent("http://img.youtube.com/vi/"+s.media[0].ref+"/0.jpg")):s.media.pinterest=t.qsReplace(this.socialLinks[2].href,"media",encodeURIComponent(s.media[0].ref))),s.testGroups=n.testGroups,this.$el.html(this.template(s)),this.media.length>1&&this.showNextArrow();var l=this.$('[data-toggle="popover"]');if(l.popover){l.popover({template:'<div class="popover writer-tooltip" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',html:!0})}if((this.isEditable||this.isWriterPreview)&&this.media.length){var i=this;e.setTimeout(function(){i.setHeaderImageModerationNotice()},50)}return this},showNextArrow:function(){this.$(".media > .on-next-media").removeClass("invisible")},onPrevMedia:function(e){var n=$(".media > .media-item").index($(".media-item:not(.hidden)"));this.showMedia(n,n-1)},onNextMedia:function(e){var n=$(".media > .media-item").index($(".media-item:not(.hidden)"));this.showMedia(n,n+1)},onCarouselClicked:function(e){var n=$("li.on-carousel-clicked").index($(e.currentTarget)),t=$("li.on-carousel-clicked").index($(e.currentTarget).siblings(".active"));this.showMedia(t,n)},showMedia:function(e,n){var a=e-1==0,s=e+1===this.media.length-1;a&&(this.$(".media > .on-prev-media").addClass("invisible"),this.$(".media > .on-next-media").removeClass("invisible")),s&&(this.$(".media > .on-next-media").addClass("invisible"),this.$(".media > .on-prev-media").removeClass("invisible")),this.$(".media > .media-item:nth-of-type("+(e+1)+")").addClass("hidden"),this.$(".carousel-indicators > li.on-carousel-clicked:nth-of-type("+(e+2)+")").removeClass("active"),this.$(".media > .media-item:nth-of-type("+(n+1)+")").removeClass("hidden"),this.$(".carousel-indicators > li.on-carousel-clicked:nth-of-type("+(n+2)+")").addClass("active"),this.media.length>0&&this.socialLinks&&(this.$("#share-header-media-facebook").attr("href",this.socialLinks[0].href),this.media[n].video?this.$("#share-header-media-pinterest").attr("href",t.qsReplace(this.$("#share-header-media-pinterest").attr("href"),"media",encodeURIComponent("http://img.youtube.com/vi/"+this.media[n].ref+"/0.jpg"))):this.$("#share-header-media-pinterest").attr("href",t.qsReplace(this.$("#share-header-media-pinterest").attr("href"),"media",encodeURIComponent(this.media[n].ref)))),(this.isWriterPreview||this.isEditable)&&this.media.length>1&&this.hasBannedImage&&this.updateBannedImageMessaging()},updateBannedImageMessaging:function(){var e=$("#header-banned-image-warning");e.hasClass("hidden")?e.removeClass("hidden"):e.addClass("hidden")},onVideoSelected:function(e){var n=$(e.currentTarget),t=$('<iframe width="'+16*n.height()/9+'" height="'+n.height()+'" src="//www.youtube-nocookie.com/embed/'+n.data("youtube")+'?rel=0&amp;showinfo=0&amp;autoplay=1" frameborder="0" allowfullscreen></iframe>');n.html(t)},onShowMediaMenu:function(e){$(e.currentTarget).siblings(".popover").popover().removeClass("faded").show()},onHideMediaMenu:function(e){this.$(".media-menu").removeAttr("style").addClass("faded")},onAddPhoto:function(e){this.onFileSelect()},onAddVideo:function(e){$(".media-fields-underlay").show(),this.$(".media-item").addClass("hide"),this.$(".media-buttons").addClass("hide"),this.$(".video-url").removeClass("hide"),a.get("device").is.ie||this.$(".video-url-field").focus(),this.hideBannedHeaderImageWarning()},hideBannedHeaderImageWarning:function(){this.hasBannedImage&&$("#header-banned-image-warning").addClass("hidden")},onRemoveVideo:function(e){a.trigger("works:editor:remove-video")},onRemovePhoto:function(e){this.hideBannedHeaderImageWarning(),this.hasBannedImage&&a.trigger("works:editor:remove-banned-indicator"),a.trigger("works:editor:remove-image")},onReplacePhoto:function(e){this.onFileSelect()},onReplaceVideo:function(e){this.onAddVideo(),this.$(".media > .on-next-media").addClass("invisible"),this.$(".media > .on-prev-media").addClass("invisible"),this.$(".video-url").addClass("align")},onCancel:function(e){this.media.length>1&&(0===$(".media > .media-item").index($(".media-item:not(.hidden)"))?this.$(".media > .on-next-media").removeClass("invisible"):this.$(".media > .on-prev-media").removeClass("invisible"))},onSubmitPhoto:function(e){var n=this.$(".photo-url-field").val();("keyup"==e.type&&13===e.keyCode&&""!==n||"tap"==e.type&&""!==n)&&(a.trigger("works:editor:add-image",n),$(".media-fields-underlay").hide())},onSubmitVideo:function(n){var t=this.$(".video-url-field").val();"paste"==n.type&&(void 0===n.originalEvent.clipboardData&&e.clipboardData&&(n.originalEvent.clipboardData=e.clipboardData),t=n.originalEvent.clipboardData.getData("Text"),this.isYouTubeUrl(t)?(a.trigger("works:editor:add-video",this.extractYouTubeId(t)),$(".media-fields-underlay").hide()):$(".save-indicator").text("Please enter a valid YouTube video link.").addClass("warning")),("keyup"==n.type&&13===n.keyCode||"tap"==n.type)&&(this.isYouTubeUrl(t)?(a.trigger("works:editor:add-video",this.extractYouTubeId(t)),$(".media-fields-underlay").hide()):$(".save-indicator").text("Please enter a valid YouTube video link.").addClass("warning"))},hideMediaFields:function(e){this.$(".media-item").removeClass("hide"),this.$(".media-buttons").removeClass("hide"),this.$(".photo-url").addClass("hide"),this.$(".video-url").addClass("hide"),$(".media-fields-underlay").hide()},stopEvent:function(e){n.utils.stopEvent(e)},isYouTubeUrl:function(e){return-1!==e.indexOf("http://youtu.be/")||-1!==e.indexOf("https://youtu.be/")||-1!==e.indexOf("http://www.youtube.com/watch?v=")||-1!==e.indexOf("https://www.youtube.com/watch?v=")},extractYouTubeId:function(e){var n=e.match(/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/);return n&&11==n[1].length?n[1]:""},onCloseTooltip:function(e){t.stopEvent(e),$(e.currentTarget).parent().parent().parent().addClass("hidden")},onSocialShareSelected:function(n){e.dataLayer.push({event:"ga-event",category:"reading",action:$(n.currentTarget).data("gtm-action"),label:this.model.get("id")}),e.te.push("event","reading","header-media",null,"share",{storyid:this.model.get("group").id,partid:this.model.get("id"),channel:$(n.currentTarget).data("share-channel")})},onAddImage:function(e){this.onFileSelect()},onFileSelected:function(){var e=this;e.getFile().catch(function(e){return a.trigger("works:editor:image-upload-failed",e.message),n.utils.pushEvent({category:"works-writer",action:"image-failed-read"}),Promise.reject()}).then(function(n){if(e.validateImageData(n)){e.$(".story-media-picker").addClass("hidden");var a="image_"+(new Date).getTime(),s=e.fileUploadTarget,l=[5,6,7,8];$('<img id="'+a+'" />').one("load",function(){var i=e.adjustSizes(s,this),r=this.width,o=this.height;n.orientation&&l.indexOf(n.orientation)>-1&&(r=this.height,o=this.width),$(this).attr("data-original-width",r).attr("data-original-height",o);var c=this.src;if(e.isCanvasSupported){var u=$('<img src="'+c+'">')[0],d=document.createElement("canvas"),h=d.getContext("2d");d.width=i.width/4,d.height=i.height/4,h.drawImage(u,0,0,d.width,d.height),c=d.toDataURL()}$(".btn-writer-media.on-add-image").children().replaceWith(t.iconifySpin("fa-loading",25,new t.Device,{hash:{className:"fa-wp-base-1 spinner"}})),$("#"+a).attr("data-media-type","image").attr("data-image-layout","one-horizontal"),e.uploadImage(a,n)})[0].src=n.data}})},validateImageData:function(e){var s=_.findWhere(this.fileUploadLimits,{type:e.metadata.type});if(!s){var l=_.pluck(this.fileUploadLimits,"friendlyName").join(", ");return a.trigger("works:editor:image-invalid-type",t.trans("Your uploaded image is not a valid image type. Allowed types are: %s.",l)),n.utils.pushEvent({category:"works-writer",action:"image-invalid-type"}),!1}return!(e.metadata.size>s.fileSize)||(a.trigger("works:editor:image-too-large",t.trans("Your uploaded %s file is too large. The maximum size for %ss is %s.",s.friendlyName,s.friendlyName,s.friendlySize)),n.utils.pushEvent({category:"works-writer",action:"image-too-large"}),!1)},adjustSizes:function(e,n){var t=_.result(e,"width");if(t<n.width){var a=t/n.width;return{width:t,height:n.height*a}}return{width:n.width,height:n.height}},uploadImage:function(e,s){var l=this;this.imageUploads=this.imageUploads||[],this.imageUploads.push({key:e,progress:0}),Promise.resolve($.ajax({type:"POST",url:n.mediaService+"/story_parts/"+l.model.get("id")+"/images",data:{data:s.parsed}})).then(function(n){_.findWhere(l.imageUploads,{key:e}).progress=1,_.delay(_.bind(l.createImageElement,l),3e3,e,JSON.parse(n))}).catch(function(e){var n;e&&(n=e?JSON.parse(e.responseText).Message:""),a.trigger("works:editor:image-upload-failed",t.trans("There was a problem uploading your image. %s",n))})},createImageElement:function(e,n){this.model.set("photos",n.Urls[0]),this.model.set("photoUrl",n.Urls[0]);var t={photo:!0,ref:this.model.get("photoUrl")},a=_.findIndex(this.media,{photo:!0});-1===a?this.media.push(t):this.media[a]=t,this.render()},setHeaderImageModerationNotice:function(){var e=this;_.each(this.media,function(n,t){if(n.photo){var a=n.ref;if(!0===e.model.get("hasBannedHeader")){e.hasBannedImage||(e.hasBannedImage=!0);var s=e.$(".media > .image.media-item:nth-of-type("+(t+1)+")");s.find("img").addClass("banned"),s.find(".banned-overlay").removeClass("hidden"),$("#header-banned-image-warning").find(".placeholder").replaceWith(e.bannedImageMessaging({id:"header-writer",src:a,groupId:e.model.get("groupid"),partId:e.model.get("id")})),s.hasClass("hidden")||$("#header-banned-image-warning").removeClass("hidden")}}})}})),a.mixin(a.views.MediaBanner,"SocialSharing","FileUpload")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(183),s=t.n(a),l=t(22),i=t.n(l),r=t(184),o=t.n(r),c=t(185),u=t.n(c),d=t(186),h=t.n(d),p=t(187),m=t.n(p),f=t(188),g=t.n(f),v=t(189),w=t.n(v),y=t(190),b=t.n(y),x=t(191),C=t.n(x),k=t(192),S=t.n(k),M=t(193),T=t.n(M),P=t(23),E=t.n(P);!function(e,n,t,a,l){a.add("CoreStoryReading",a.views.RegionManager.extend({template:function(){return""},partials:{"core.story_reading.comment-marker":T.a,"core.story_reading.funbar":function(){return""},"core.story_reading.media_banner":function(){return""},"core.story_reading.part_actions":S.a,"core.story_reading.part_comments":C.a,"core.story_reading.part_container_new":b.a,"core.story_reading.part_footer_new":w.a,"core.story_reading.part_header_new":g.a,"core.story_reading.part_navigation":m.a,"core.story_reading.part_recommendations":h.a,"core.story_reading.part_restart":u.a,"core.story_reading.part_similar":o.a,"core.story_reading.picture_viewer":i.a,"core.story_reading.part_text_container":s.a,"core.banned_image_messaging":E.a},regions:{},bannerSignup:!0,isDesktop:null,id:"story-reading",voteButton:".actions > .btn-vote",subviews:{funbar:a.views.StoryReadingFunbar,media:a.views.MediaBanner,comments:a.views.Comments,bottomBanner:a.views.BottomBanner},regionTags:{funbar:"#funbar-container",media:"#media-container",comments:"#comments",bottomBanner:"#bottom-banner-container"},events:{"tap   .share-embed":"onShareEmbed","click .share-embed":"stopEvent","tap    .on-dismiss-lists":"onDismissLists","click  .on-dismiss-lists":"stopEvent","tap   .on-send":"onSendToFriend","click .on-send":"stopEvent","tap   .on-inline-comments-modal":"showInlineCommentsModal","click .on-inline-comments-modal":"stopEvent","keyup .send-input":"onValidateSend","tap    .on-load-more-page":"onLoadNextPage","click  .on-load-more-page":"stopEvent","tap .share-post-to-profile":"showPostToProfileModal","click .share-post-to-profile":"stopEvent"},initialize:function(e){var t=this;_.each(this.partials,function(e,n){Handlebars.registerPartial(n,e)}),_.bindAll(this,"buyPaidContent","showStoryPaywallModal","onBuyCoins"),this.scrollState={part:{}},this.sync={enabled:!0,last:0,part:0},n.utils.currentUser().authenticated()?(this.listenTo(this.model,"reading-position-available",function(e){t.sync={enabled:!0,last:e}}),this.listenTo(a,"app:story:vote",this.onUpdateVote),this.listenTo(a,"app:story:inlinecomment",this.fetchCommentCounts),this.model.syncPosition()):this.sync.enabled=!1,e.deepLinkModel&&(this.deepLinkModel=e.deepLinkModel,this.listenTo(a,"app:comment:deepLink",this.deepLinkToComment))},showPostToProfileModal:function(e){var s=$("#generic-modal");if(t.stopEvent(e),n.utils.currentUser().authenticated()){if(!n.utils.currentUser().get("verified_email")){var l=new a.views.PleaseVerifyModal;return s.find(".modal-body").html(l.render().$el),void s.modal({})}var i=new a.views.PostToProfileModal({model:this.model,target:t.currentUser().get("username")});s.empty().append(i.render().$el),s.modal("show")}else this.onAuthPrompt(e)},render:function(){var s=this;return this.model.set("isDeepLinkView",!!this.options.deepLinkModel),n.utils.isOperaMini||$(e).on("scroll.screen_"+this.cid,function(e){s.delegateScrollEvent(e)}),_.defer(function(){s.deepLinkModel&&a.trigger("app:comment:deepLink"),s.model.getCommentCountByParagraph().then(function(){s.renderCommentCounts(s.$(".panel.panel-reading > pre p[data-p-id]"))}),t.resizeImages(s.$(".panel-reading pre [data-image-layout=one-horizontal]"),s.$(".panel-reading pre").width()),s.initializeVideoTracking(),s.isWriterPreview()&&s.setImageModerationNotices()}),this.addCopyListener(),this},deepLinkToComment:function(){var e=this.deepLinkModel.get("paragraphId"),t=0!==this.getParagraphById(e).length,s=e&&!t&&this.model.get("pageNumber")+1>=this.model.get("pages");if(e&&!s)try{var l=new a.collections.InlineComments([this.deepLinkModel],{paragraphId:e,partId:this.model.get("id"),storyPart:this.model,limit:10,commentId:this.deepLinkModel.get("id")}),i=new a.views.InlineCommentsModal({source:this.model,collection:l,model:this.deepLinkModel,commentIdToHighlight:this.deepLinkModel.commentIdToHighlight});this.$("#inline-comments-modal").empty().append(i.render().$el),i.showModal(),this.deepLinkModel.isDeeplinkedReply&&_.toArray(i.viewPointers)[0].expand(),this.stopListening(a,"app:comment:deepLink",this.deepLinkToComment)}catch(e){this.$("footer")[0].scrollIntoView(!0),this.$el.find(".on-load-more-page").trigger("tap")}else{l=new a.collections.StoryPartComments([this.deepLinkModel],{storyAuthor:this.model.get("group")?this.model.get("group").user.username:"",partId:this.model.get("id"),limit:10});var r=new a.views.Comments({collection:l,enablePosts:n.utils.currentUser().authenticated(),source:this.model,model:this.deepLinkModel,commentIdToHighlight:this.deepLinkModel.commentIdToHighlight});this.$(this.regionTags.comments).empty(),this.setRegion(this.regionTags.comments,r.renderView()),this.$(r.$el[0]).find(".collection")[0].scrollIntoView(!0),this.deepLinkModel.isDeeplinkedReply&&_.toArray(r.viewPointers)[0].expand(),this.lockScrollUpdate(),this.stopListening(a,"app:comment:deepLink",this.deepLinkToComment)}},getParagraphById:function(e){return this.$(".panel.panel-reading > pre > p[data-p-id="+e+"]")},addCopyListener:function(){$(e).on("copy.screen_"+this.cid,function(){var n=[$(".part-content")[0],$(".inline-comments-modal .paragraph-text")[0]];if(!!_.some(n,function(n){return n&&e.getSelection().containsNode(n,!0)}))return!1})},fetchCommentCounts:function(e){var n=this,t=e?this.getParagraphById(e):this.$(".panel.panel-reading > pre p[data-p-id]");t.length&&this.model.getCommentCountByParagraph().then(function(){n.renderCommentCounts(t)})},renderCommentCounts:function(e){var n=this,t=n.model.get("paragraphs");t&&_.each(e,function(e){var a=$(e),s=a.data("p-id"),l=_.find(t,function(e){return e.id===s});n.renderCommentMarker(a,l?l.commentCount:0)})},renderCommentMarker:function(e,n){var t=$(e),a=this.partials["core.story_reading.comment-marker"];t.children(".comment-marker").remove(),t.append(a({commentCount:n}))},showInlineCommentsModal:_.debounce(function(n){var t=this,s=$(n.target).closest(".on-inline-comments-modal").parent().data("p-id"),l=new a.collections.InlineComments([],{paragraphId:s,storyPart:t.model,limit:10});Promise.resolve(l.fetchNextSet()).then(function(){var e=new a.views.InlineCommentsModal({source:t.model,collection:l});t.$("#inline-comments-modal").empty().append(e.render().$el),e.showModal()}),e.te.push("event","reading","comment","inline","click",{storyid:this.model.get("group").id,partid:this.model.get("id"),paragraphid:s})},800),initializeVideoTracking:function(){var n=this;if(e.onYouTubeIframeAPIReady=function(){n.initializeEmbeddedIframes()},!e.YT){e.YTConfig={host:"https://www.youtube-nocookie.com"};var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a)}},initializeEmbeddedIframes:function(){var n=this;e.YT&&$("[data-media-type=video] iframe").not(".initialized").each(function(e,t){new YT.Player(t,{events:{onStateChange:function(e){n.trackVideoState(t,e)}}});$(t).addClass("initialized")})},trackVideoState:function(n,t){var a=$(n);t.data!==YT.PlayerState.PLAYING||a.data("playTracked")?t.data===YT.PlayerState.ENDED&&(e.te.push("event","reading","media","video","finished",{partid:this.model.get("id"),videoid:a.data("videoId")}),a.data("playTracked",0)):(e.te.push("event","reading","media","video","play",{partid:this.model.get("id"),videoid:a.data("videoId")}),a.data("playTracked",1))},remove:function(){this.ignoreEvents=!0,$(e).off("scroll.screen_"+this.cid),$(e).off("copy.screen_"+this.cid),$(".panel-reading p img").off("error"),$(".shadow-verify").remove(),a.views.RegionManager.prototype.remove.apply(this,arguments),$("body").removeAttr("ondragstart onselectstart unselectable")},setRegions:function(){var e=!!this.options&&this.options.isPreview;this.$(this.regionTags.funbar).empty();var t=new this.subviews.funbar({model:this.model,isPreview:e});this.setRegion(this.regionTags.funbar,t.render());var s=this.model.get("media");s||(s=[],this.model.get("videoId")&&s.push({video:!0,ref:this.model.get("videoId")}),this.model.get("photoUrl")&&s.push({photo:!0,ref:this.model.get("photoUrl")})),this.model.set("media",null),this.$(this.regionTags.media).empty();var l=this.isWriterPreview();if(t=new this.subviews.media({model:this.model,media:s,bgCover:this.model.get("group").cover,socialLinks:this.socialLinks,isWriterPreview:l}),this.setRegion(this.regionTags.media,t.render()),a.get("device").is.desktop&&!n.utils.currentUser().authenticated()&&!this.model.get("group").isAdExempt&&!n.utils.getCookie("dB")){this.$(this.regionTags.bottomBanner).empty();t=new this.subviews.bottomBanner({image:this.model.get("group").cover,title:this.model.get("group").title,showBottomBanner:!0,dismissibleBanner:!0});this.setRegion(this.regionTags.bottomBanner,t.render())}if(this.bannerSignup||n.utils.currentUser().authenticated()||this.model.get("group").isAdExempt){if(this.deepLinkModel)return;var i=new a.collections.StoryPartComments([],{storyAuthor:this.model.get("group")?this.model.get("group").user.username:"",partId:this.model.get("id"),limit:10,initialLimit:2});this.$(this.regionTags.comments).empty(),t=new a.views.Comments({collection:i,enablePosts:n.utils.currentUser().authenticated(),source:this.model}),this.setRegion(this.regionTags.comments,t.render())}},onUpdateVote:function(e){e&&e.storyId===this.model.get("id")&&(e.voted?this.voteSelected():this.voteDeselected(),this.updateMeta(e.voteCount))},voteSelected:function(){var e=n.utils.iconify("fa-vote",16,"wp-base-1"),t=n.utils.trans("Voted");this.$(".actions > .on-vote").html(e+" "+t)},voteDeselected:function(){var e=n.utils.iconify("fa-vote",16,"wp-neutral-2"),t=n.utils.trans("Vote");this.$(".actions > .on-vote").html(e+" "+t)},updateMeta:function(e){this.$(".meta > .reads").html(n.utils.iconify("fa-view",14,"wp-neutral-2")+" "+this.model.get("readCount")),this.$(".meta > .votes").html(n.utils.iconify("fa-vote",14,"wp-neutral-2")+" "+(e||this.model.get("voteCount"))),this.$(".meta > .comments").html(n.utils.iconify("fa-comment",14,"wp-neutral-2")+" "+this.model.get("commentCount"))},getIsBigPart:function(){return this.model.get("pages")>=12},onLoadNextPage:function(e){this.unlockScrollUpdate();var n=parseInt($(e.currentTarget).attr("href").match(/page\/([0-9]+)$/)[1],10);this.loadNextPage(n)},loadNextPage:function(e){if(e>this.model.get("pages"))return this.$(".load-more-page").addClass("hidden"),void this.$(".next-part").removeClass("hidden");var n=this,t=this.scrollState.part[this.scrollState.part.active.id],s=t.page.last.$el,l=(a.get("device"),n.partials["core.story_reading.part_text_container"]);this.model.getPage(e).then(function(a){if(a.get("text")||a.get("paragraphs")&&!_.isEmpty(a.get("paragraphs"))){var i={id:n.model.get("id"),pages:n.model.get("pages"),group:n.model.get("group"),text:a.get("text"),pageNumber:e,firstPage:1===e,lastPage:e>=n.model.get("pages"),isMicroPart:n.model.get("pages")<2,isSmallPart:n.model.get("pages")>=2&&n.model.get("pages")<5,isMediumPart:n.model.get("pages")>=5&&n.model.get("pages")<12,isBigPart:n.getIsBigPart(),isHeightZero:!0},r=$(l(_.extend({},n.model.toJSON(),i)));n.$(".on-load-more-page").attr("href",t.url+"/page/"+(e+1)),s.next(".mobile-cta").length&&(s=s.next(".mobile-cta")),s.after(r.removeClass("height-zero")),n.renderCommentCounts(r.find(".panel.panel-reading > pre p[data-p-id]"));var o=n.$("#inline-comments-modal").is(":empty");n.deepLinkModel&&o&&n.deepLinkToComment(),n.initializeEmbeddedIframes(),$(".panel-reading p img").on("error",_.bind(n.onImageLoadError,n))}else e<=n.model.get("pages")&&(n.$(".load-more-page").removeClass("hidden"),n.$(".next-part").addClass("hidden"))})},setElement:function(){l.View.prototype.setElement.apply(this,arguments),_.each(this.regionTags,function(e){this.regions[e]&&this.regions[e].view&&this.$(e).length>0&&(this.regions[e].view.setElement($(this.$(e+" > div"))),e===this.regionTags.media&&this.regions[e].view.media.length>1&&this.regions[e].view.showNextArrow())},this)},getImageModerationStatus:function(e){return Promise.resolve($.ajax({type:"GET",url:"/v5/image_moderation/result?image_url="+e})).then(function(e){return e.result}).catch(function(e){return"Error fetching image moderation result:"+e.responseText})},isWriterPreview:function(){return n.utils.currentUser()&&this.model.get("group").user.username===n.utils.currentUser().get("username")},setImageModerationNotices:function(){var e=this;$("[data-image-layout=one-horizontal]").each(function(n,t){var a=$(t),s=$(t).find("img").attr("src").split("?")[0];e.getImageModerationStatus(s).then(function(n){if("banned"===n){var t=e.model.storyId,l=e.model.partId;a.addClass("banned").find(".banned-overlay").removeClass("hidden"),a.find(".banned-messaging").removeClass("hide").append(e.partials["core.banned_image_messaging"]({id:a.data("p-id"),src:s,groupId:t,partId:l}))}}).catch(function(e){console.error(e)})})},onPageScroll:function(){this.ignoreEvents||this.updateScrollState()},delegateScrollEvent:_.throttle(function(){this.onPageScroll()},200),stopScrollUpdate:function(){this.ignoreEvents=!0,$(e).off("scroll.screen_"+this.cid)},lockScrollUpdate:function(){this.ignoreEvents=!0,$(e).off("scroll.screen_"+this.cid),this.scrollState.part[this.scrollState.part.active.id].page.last.number<this.model.get("pages")&&this.$(".load-more-page").removeClass("hidden")},unlockScrollUpdate:function(n){var t=this;this.ignoreEvents=!1,$(e).on("scroll.screen_"+this.cid,function(e){t.delegateScrollEvent(e)}),this.onPageScroll()},_calculatePercentageRead:function(n){var t=n.data("page-number"),a=this.model.get("pages"),s=n.find(".panel-reading"),l=(t-1)/this.model.get("pages")||0,i=s.offset();if(!s.offset())return 0;var r=e.scrollY-i.top;return l+=(s.height()?r/s.height():0)/a||0,Math.min(1,Math.max(0,l))},updateScrollState:function(e){var t,a,s,l;e=e||!1,s=this.$(".story-part"),l=(t=this.findViewable(s)).find(".page"),a=this.findViewable(l),(_.isEmpty(this.scrollState.part)||this.scrollState.part.active.id!==t.data("part-id"))&&(this.scrollState.part={count:s.length,active:{id:t.data("part-id")}}),this.model.trigger("reading-progress",this._calculatePercentageRead(a)),this.scrollState.part[t.data("part-id")]&&this.scrollState.part[t.data("part-id")].page.active===a.data("page-number")||(this.scrollState.part[t.data("part-id")]={url:t.data("part-url"),page:{count:l.length,active:a.data("page-number"),first:l.first().data("page-number"),last:{number:l.last().data("page-number"),$el:l.last()}}},this.model.set("pageNumber",this.scrollState.part[t.data("part-id")].page.active),this.updateUrl(),this.updateTitle(),e||n.utils.pushEvent({},"virtualPageview"),this.updateSyncPosition(),this.updatePageContent(),1!==a.data("page-number")&&this.sendReadingEvent())},updateUrl:function(){if(n.utils.supportPushState()){var t="",s=this.scrollState.part[this.scrollState.part.active.id],l=s.page.active,i=e.location.href.indexOf("/comment");if(t+=n.utils.formatStoryUrl(s.url),t+=l>1?"/page/"+l:"",t+=-1!==i?e.location.href.slice(i):"",t+=e.location.search,e.wattpad.testGroups.STICKY_AD_ROLLOUT){var r=this.model.toJSON();a.trigger("checkRefreshingAds",r)}a.router.navigate(t,{trigger:!1,replace:!0})}},updateTitle:function(){var e,t=this.model.get("group").title,s=this.model.get("title"),l=this.scrollState.part[this.scrollState.part.active.id].page.active,i=t;i+=t!==s?" - "+s:"",l>1&&(i+=" - "+n.utils.trans("Page")+" "+l),e=19===parseInt(a.get("language"),10)?"Đọc Truyện "+i+" - "+this.model.get("group").user.name+" - Wattpad":i,n.utils.setTitle(e)},updatePageContent:function(){var e=this.scrollState.part[this.scrollState.part.active.id],n=e.page.active;n<=this.model.get("pages")&&e.page.last.number===n&&this.loadNextPage(parseInt(n,10)+1)},_calculateSyncPosition:function(){var e=this.scrollState.part[this.scrollState.part.active.id].page.active/this.model.get("pages")||0;return Number(Math.round(e+"e3")+"e-3")},updateSyncPosition:function(){var e=0;this.sync.enabled&&(e=this._calculateSyncPosition())>this.sync.last&&(this.sync.last=e,this.model.syncPosition(e),1===e&&(this.sync.enabled=!1))},sendReadingEvent:function(){var n=this.model.get("group"),a=t.publishedPartsInStory(n);e.te.push("event","reading","progress",null,"next_page",{storyid:n.id,partid:this.model.get("id"),read_percent:this._calculateSyncPosition(),published_parts:a.length})},findViewable:function(n){var t=$(n[0]),a=e.innerHeight/2+e.scrollY;return n.length<2||0===e.scrollY?t:(n.each(function(e){var s=$(this),l=n[e+1]?$(n[e+1]):null;return!(0===(t=s).height()&&l&&l.find(".panel-reading").offset().top>a)&&(!(l&&l.offset().top>a)&&void 0)}),t)},onAddedToLibrary:function(e){var t=this.$(this.libraryButton+"[data-story-id='"+e+"']");t.children(".fa").addClass("fa-check").removeClass("fa-plus"),t.children(".btn-library-text").html(n.utils.trans("In Library"))},onRemovedFromLibrary:function(e){var t=this.$(this.libraryButton+"[data-story-id='"+e+"']");t.children(".fa").removeClass("fa-check").addClass("fa-plus"),t.children(".btn-library-text").html(n.utils.trans("Add to Library"))},onSocialShareSelected:function(t){n.utils.pushEvent({category:"reading",action:$(t.currentTarget).data("gtm-action"),label:this.model.get("id")}),e.te.push("event","reading","story",null,"share",{storyid:this.model.get("group").id,partid:this.model.get("id"),channel:$(t.currentTarget).data("share-channel")})},getDeepLinkPage:function(){return"story-reading"},onSendToFriend:function(a){var s=this.$(".send-input").val().trim(),l=$(".on-send").attr("disabled","disabled");l.text(t.trans("Sending")),Promise.resolve($.ajax({type:"POST",url:"/v4/stories/"+this.model.get("group").id+"/parts/"+this.model.get("id")+"/share",data:{target:s}})).then(function(){$(".on-send").removeAttr("disabled"),l.text(t.trans("Sent")),_.delay(function(){l.text(t.trans("Send to Friend"))},5e3)}).catch(function(t){$(".on-send").removeAttr("disabled"),e.alert(n.utils.trans(t))})},onValidateSend:function(e){var n=$(e.currentTarget).val();n.match(/[0-9-\(\)+]{10,}/)||n.match(/[^<>"']+@[^<>"']+\.[^<>"']{2,}/)?$(".on-send").removeAttr("disabled"):$(".on-send").attr("disabled","disabled")},onImageLoadError:function(t){e.te.push("event","reading","media",null,"empty",{storyid:this.model.get("group").id,partid:this.model.get("id"),image_url:t.currentTarget.getAttribute("src"),user_agent:n.utils.getUserAgent(100)})},onShowFullSizeImage:function(n){if(!$(n.currentTarget).parent().parent().hasClass("author")){var t=$(n.currentTarget).removeAttr("width height").addClass("zoomed-image")[0].outerHTML,s=new a.views.PictureViewer({contents:t,paragraph:$(n.currentTarget).closest("p"),mediaShare:this.mediaShare,partModel:this.model}),l=s.render().$el.html();0===$("#picture-viewer").length?$("#modals").append(l):$("#picture-viewer").replaceWith(l),s.setElement($("#picture-viewer")),e.te.push("event","reading","media",null,"expand",{partid:this.model.get("id")}),$("#picture-viewer").modal(),$(".modal-backdrop").addClass("black")}},onFullSizeBanner:function(n){var t=$(n.currentTarget).html().trim(),s="h="+$(e).height()+"&amp;w="+$(e).width()+"&amp;";t=t.replace(/h=\d+&amp;w=\d+&amp;/,s);var l=new a.views.PictureViewer({contents:t,paragraph:$(n.currentTarget).closest("p")}),i=l.render().$el.html();0===$("#picture-viewer").length?$("#modals").append(i):$("#picture-viewer").replaceWith(i),l.setElement($("#picture-viewer")),e.te.push("event","reading","media",null,"expand",{partid:this.model.get("id")}),$("#picture-viewer").modal(),$(".modal-backdrop").addClass("black")},trackPurchaseFailed:function(n,t,a,s){var l=e.store.getState().wallet;e.te.push("event","paywall","purchase",null,"failed",{page:"reading",storyid:n,partid:t,cost:a,starting_balance:l.amount,part_index:s})},buyPaidContent:function(a,s,l,i){var r=e.store.getState().wallet,o=r.id,c=r.amount;e.te.push("event","paywall","purchase",null,"start",{page:"reading",storyid:s,partid:l,cost:a,starting_balance:c,part_index:i});var u=this.model.get("group").parts||[],d=_.pluck(u,"id");return t.buyPaidContent(o,s,l).then(function(){return e.te.push("event","paywall","purchase",null,"complete",{page:"reading",storyid:s,partid:l,cost:a,starting_balance:c,part_index:i}),t.cacheBustPaidMetadata(s,d)}.bind(this)).catch(function(r){throw this.trackPurchaseFailed(s,l,a,i),t.showToast(r),e.store.dispatch(e.app.components.actions.fetchWalletBalance(n.user.username,!0)),r}.bind(this))},onBuyCoins:function(e){$("#generic-modal").modal("hide");var a=this.model.get("group");setTimeout(function(){t.showBuyCoinsModal("reading",a.id,e.id,n.utils.getAppLink("story-reading",this.model))}.bind(this),500)},showStoryPaywallModal:function(n){var s=this,l=this.model.get("group");e.te.push("event","paywall","author",null,"view",{page:"reading",storyid:parseInt(l.id,10),partid:n.id,author:l.user.name,part_index:t.getIndexForPartId(n.id,l)});var i=new a.views.DummyReactView({component:"StoryPaywallModal",componentId:l.id,componentData:{group:l,authorMessage:l.user.authorMessage,onBuyCoins:function(){return s.onBuyCoins(n)}}});i.render(),$("#generic-modal .modal-body").html(i.$el),$("#generic-modal").modal("show")},processPaidMetadata:function(e,n){var a=this,s=e.id,l=e.group,i=l.parts,r=l.id;e.group.parts=i.map(function(e){var t=n.parts[e.id];if(!t)return e;e.paywalled=t.paywalled,e.isBlocked=t.paywalled&&!t.has_access,e.blockedMessage=t.author_message;var a=_.first(t.price);return a&&(e.price=a.amount),e});var o=_.first(n.stories[r].price);o&&(e.storyPrice=o.amount),e.remainingBlockedParts=_.filter(i,function(e){return e.isBlocked}).length;var c,u=_.findIndex(i,{id:s}),d=i[u];u<i.length-1&&(c=i[u+1]),e.freePartsUntilPaywall=t.numPartsBetweenCurrentAndPaywall(i,d),e.isPaidPreview=t.isPaidPreview(i),e.currentPartIsBlocked=d.isBlocked,e.blockedPart=e.currentPartIsBlocked?d:c,e.buyPaidContent=this.buyPaidContent,e.showStoryPaywallModal=function(){return a.showStoryPaywallModal(e.blockedPart)}}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(4),s=t.n(a),l=t(194),i=t.n(l),r=t(5),o=t.n(r),c=t(195),u=t.n(c),d=t(1),h=t.n(d),p=t(196),m=t.n(p);!function(e,n,t,a,l){a.add("StoryReading",a.views.CoreStoryReading.extend({template:m.a,isDesktop:!0,partials:_.extend(a.views.CoreStoryReading.prototype.partials,{"core.shared.bottom_banner":function(){return""},"desktop.components.modal.share_embed":h.a,"desktop.story_reading.part_author_info":u.a,"core.components.add_to_library_dropdown":o.a,"core.components.share_tools":i.a,"core.story_reading.cta":function(){return""}}),events:_.extend(a.views.CoreStoryReading.prototype.events,{"mouseenter .on-hover":"onHover","mouseexit  .on-hover":"offHover","tap   .on-comments":"stopEvent","click .on-comments":"onComments","mouseenter .panel-reading [data-media-type=image]":"onImageHoverOn","mouseleave .panel-reading [data-media-type=image]":"onImageHoverOut","tap        .on-report-image":"onReportImage","click      .on-report-image":"stopEvent","tap        .on-report-image-banner":"onReportImageBanner","click      .on-report-image-banner":"stopEvent","tap    .panel-reading .fixed-ratio[data-media-type=image] img":"onShowFullSizeImage","click  .panel-reading .fixed-ratio[data-media-type=image] img":"stopEvent","tap    .panel-reading .fixed-ratio[data-media-type=image] .image":"onShowFullSizeImage","click  .panel-reading .fixed-ratio[data-media-type=image] .image":"stopEvent","tap .on-full-size-banner":"onFullSizeBanner","click .on-full-size-banner":"stopEvent","dragstart .page":"detectTextDrag"}),regions:{},subviews:{funbar:a.views.StoryReadingFunbar,media:a.views.MediaBanner,comments:a.views.Comments,bottomBanner:a.views.BottomBanner},detectTextDrag:function(e){this.stopEvent(e)},initialize:function(e){_.bindAll(this,"trackWidgetStoryVisibility"),a.views.CoreStoryReading.prototype.initialize.apply(this,arguments),this.listenTo(a,"app:user:follow",this.onUpdateFollow),this.listenTo(a,"app:user:unfollow",this.onUpdateUnfollow)},render:function(){var i=this;a.views.CoreStoryReading.prototype.render.apply(this,arguments);var r,o=this,c=this.model.toJSON();if((_.get(e,"wattpad.testGroups.PAID_CONTENT")||!1)&&c.group.isPaywalled){var u=e.store.getState().paidMetadata;this.processPaidMetadata(c,u),c.onBuyCoins=function(){return i.onBuyCoins(c.blockedPart)}}c.text=this.options.storyText,c.firstPage=1===c.pageNumber,c.lastPage=c.pageNumber>=c.pages,c.nextPage=c.pageNumber<c.pages?c.url.replace(/\.(com|io)\/(.*)/,".$1/$2/page/"+(c.pageNumber+1)):"",c.isMicroPart=c.pages<2,c.isSmallPart=c.pages>=2&&c.pages<5,c.isMediumPart=c.pages>=5&&c.pages<12,c.isBigPart=c.pages>=12,c.group.category=_.find(c.group.categories,function(e){return e>0}),c.group.category&&(r=a.get("categories").get(c.group.category).get("name"));var d=a.get("device"),h={group:{id:c.group.id,title:c.group.title,cover:c.group.cover,category:r,description:c.group.description,tags:_.map(c.group.tags,function(e){return{name:e}}).concat([{name:r}]),completed:c.group.completed},part:{id:c.id,title:c.title,url:c.url},user:{twitter:c.group.user.twitter}},p=_.findIndex(c.group.parts,{url:c.url});p<c.group.parts.length-1&&(c.nextPart=c.group.parts[p+1]),c.isTablet=d.is.tablet,c.isDesktop=d.is.desktop;var m=this.socialLinks=this.buildSocialShareLinksForPart(h),f=[];f.push(m[0]),f.push(m[2]),c.socialShareHidden=m.splice(4,2),c.socialShareVisible=m,d.is.mobile&&c.socialShareVisible.pop(),c.mediaShare=f,d.is.mobile||c.socialShareHidden.push({name:"report",icon:"fa-warning",label:t.trans("Report Story"),href:t.sprintf("http://www.wattpad.com/help/content?message=I+am+reporting+the+following+content%3A%0A%s&story_link=%s",[e.encodeURIComponent(h.part.url),e.encodeURIComponent(h.part.url)])}),c.anonymousUser=!n.utils.currentUser().authenticated(),_.defer(function(){if(c.currentPartIsBlocked||(o.initAffix(".left-rail",".part-content",128),$(e).on("scroll",function(){o.affixOnScroll()})),o.$(".author [data-toggle=tooltip]").tooltip(),o.$(".meta [data-toggle=tooltip]").tooltip(),!o.model.get("deleted")){c.descCharLimit=c.isDesktop?170:130;var t=new a.views.PromotedStoryItem({storyId:o.model.get("group").id,baseStoryCategory:o.model.get("group").categories[0],zoneIds:c.isMicroPart?[170121]:[155799],template:s.a,fromPage:"storyReading",descCharLimit:c.descCharLimit,promotedEl:".promoted-stories-container"});if(o.setRegion(".promoted-stories",t.render()),o.$(".similar-stories").length){var i=new a.views.StoriesSimilar({filter:"similar",storyId:o.model.get("group").id,limit:c.pages>1?7:2,currentStory:o.model,fromStoryReading:!0,showDescription:!0,alwaysFetch:!0});o.setRegion(".similar-stories",i.render())}if(o.trackedSimilarStoryIds={},$(e).on("scroll",o.trackWidgetStoryVisibility),o.$(".similar-stories-container").removeClass("hidden"),n.utils.currentUser().authenticated()){t=new a.views.PromotedStoryItem({storyId:o.model.get("group").id,baseStoryCategory:o.model.get("group").categories[0],zoneIds:[170121],fromPage:"storyReading",promotedEl:".promoted-recommended-stories-view"});o.setRegion(".promoted-recommended-stories-view",t.render());var r=new a.collections.RecommendedStories([],{username:n.utils.currentUser().get("username"),limit:8});Promise.resolve(r.fetchNextSet()).then(function(){var e={items:{stories:r.toJSON()}},n=new l.Model;n.set("data",e),n.set("type","storiesReadingRecommended");var t=new a.views.DiscoverModule({model:n,experience:"story_reading"});t.setElement($(".recommended-stories-view")),t.render()})}}}),c.isDesktop=this.isDesktop,n.utils.setCookie("signupFrom","story_reading",0,e.location.hostname.replace("www",""));var g=t.publishedPartsInStory(c.group);return e.te.push("event","reading",null,null,"start",{storyid:c.group.id,partid:c.id,published_parts:g.length}),this.$el.html(this.template(c)),this.setRegions(),this.options.isPostPublishModal&&_.defer(function(){o.showPostPublishModal(o.options.isFirstPublish||!1)}),this},showPostPublishModal:function(n){n&&e.te.push("event","modal","story_publish","broadcast_message","view",{storyid:this.model.get("group").id});var t=new a.views.PostPublishModal({model:this.model,links:this.socialLinks.slice(),showBroadcastMessaging:n});this.$("#post-publish-modal").empty().append(t.render().$el),t.showModal()},onAddToListsReady:function(n,t){this.clearLists(),n.parent(".button-group").addClass("open"),n.removeClass("on-lists-add-clicked"),n.addClass("on-dismiss-lists"),$(e.document).one("click.bs.dropdown.data-api",{context:this},this.clearLists)},clearLists:function(n){var t=!1;if(n&&3===n.which)return!1;var a=null;n&&(a=$(n.target));var s=$(".btn-story-lists");if(_.each(s,function(e){var n=$(e);a&&0!==n.parent(".button-group").find(a).length?a&&(t=!0):(n.parent(".button-group").removeClass("open"),n.removeClass("on-dismiss-lists"),n.addClass("on-lists-add-clicked"))}),t){var l=n.data.context;$(e.document).one("click.bs.dropdown.data-api",{context:l},l.clearLists)}return!0},onDismissLists:function(e){var n=$(e.currentTarget);n.parent(".button-group").removeClass("open"),n.removeClass("on-dismiss-lists"),n.addClass("on-lists-add-clicked")},buildSocialShareLinksForPart:function(e){return[{name:"post-to-profile",icon:"fa-user",nopopup:!0,label:n.utils.trans("Post to Your Profile"),href:"/"},{name:"embed",icon:"fa-code",nopopup:!0,label:n.utils.trans("Embed Story"),href:n.utils.sprintf("https://embed.wattpad.com/story/%s",[e.group.id])}]},onShareEmbed:function(e){var n=$("#generic-modal"),a=this;t.stopEvent(e),n.find(".modal-dialog").addClass("embed").find(".modal-body").html(this.partials["desktop.components.modal.share_embed"]({id:this.model.get("group").id,close:!0}));var s=n.find(".on-select").on("tap",this.onSelectEmbedUrl),l=n.find("iframe");l.attr("src",l.data("href"));n.modal("show").on("hide.bs.modal",function e(){s.off("tap",a.onSelectEmbedUrl),n.off("hide.bs.modal",e)})},onSelectEmbedUrl:function(){var n=e.document.createRange();n.selectNode(e.document.getElementById("embed-url")),e.getSelection().addRange(n)},onComments:function(n){var t,a=this;this.lockScrollUpdate(),_.defer(function(){t=a.$("#comments").offset().top,e.scrollTo(e.scrollX,t-Math.min(.5*e.innerHeight))})},onHover:function(e){$(e.currentTarget).tooltip("show")},offHover:function(e){$(e.currentTarget).tooltip("show")},onImageHoverOn:function(e){var n=$(e.currentTarget),t=n.find("img"),a=t.position(),s=t.width(),l=t.height(),i=$(".image-options-container").clone(),r=i.find(".share-pinterest"),o=r.attr("href"),c=t.attr("src");o=this.preparePinterestUrl(c,o),r.attr("href",o),n.append('<div class="image-options">'+i.html()+"</div>");var u=n.find(".image-options");u.css({top:a.top+l,left:a.left}),u.width(s),u.removeClass("hide")},onImageHoverOut:function(e){this.$(".image-options").remove()},onReportImage:function(n){var a=$(n.currentTarget).parents("p").find("img").attr("src"),s=t.sprintf("http://www.wattpad.com/help/content/1?story_link=%s&media_link=%s",[e.encodeURIComponent(e.location.href),a]);return t.openPopup(s,t.trans("Report Story"),700,400)},onReportImageBanner:function(n){var a=$(".on-report-image-banner").parent().parent().siblings(".media-item").children("img").attr("src"),s=t.sprintf("http://www.wattpad.com/help/content/1?story_link=%s&media_link=%s",[e.encodeURIComponent(e.location.href),a]);return t.openPopup(s,t.trans("Report Story"),700,400)},onUpdateFollow:function(e){var n=this.$(this.followButton+"[data-target="+e+"]");n.removeClass("btn-white").addClass("btn-teal"),n.children(".fa").removeClass("fa-follow fa-wp-neutral-2").addClass("fa-following fa-wp-neutral-5"),n.children(".follow-text").text("Following")},onUpdateUnfollow:function(e){var n=this.$(this.followButton+"[data-target="+e+"]");n.removeClass("btn-teal").addClass("btn-white"),n.children(".fa").removeClass("fa-following fa-wp-neutral-5").addClass("fa-follow fa-wp-neutral-2"),n.children(".follow-text").text("Follow")},trackWidgetStoryVisibility:_.throttle(function(n){var a=$("#similar-stories .on-story-preview"),s=this.model.get("group").id,l=a.filter(":visible").length,i=this;l>0&&l===_.size(i.trackedSimilarStoryIds)?$(e).off("scroll",i.trackWidgetStoryVisibility):_.each(a,function(n){var a=$(n);if(t.isOnScreen(a,1)){var l=a.data("story-id");i.trackedSimilarStoryIds[l]||(e.te.push("event","reading","similar_stories","story","view",{current_storyid:s,storyid:l}),i.trackedSimilarStoryIds[l]=!0)}})},350),remove:function(){$(e).off("scroll",this.trackWidgetStoryVisibility),a.views.CoreStoryReading.prototype.remove.apply(this,arguments)},showFullSizeMedia:function(n,t){var a=$("#picture-viewer");n&&(a.find(".modal-dialog").css({margin:0,width:"100%"}),a.find(".modal-content").css("border","none"),a.find(".modal-body").css("padding",0),a.css({display:"block",width:n.width,height:n.height,left:n.left,top:n.top}),_.delay(function(){if(a.addClass("displayed"),a.find(".modal-dialog").css({margin:"",width:""}),a.find(".modal-content").css("border",""),a.find(".modal-body").css("padding",""),!t){var n=$(e).height(),s=a.find(".zoomed-image");s.data("original-height")>n&&s.css({"max-height":n})}a.css({top:"",left:"",width:"",height:""})}))},onShowFullSizeImage:function(e){a.views.CoreStoryReading.prototype.onShowFullSizeImage.apply(this,arguments);var n=e.currentTarget.getBoundingClientRect();this.showFullSizeMedia(n,!1)},onFullSizeBanner:function(e){a.views.CoreStoryReading.prototype.onFullSizeBanner.apply(this,arguments);var n=e.currentTarget.getBoundingClientRect();this.showFullSizeMedia(n,!0)}})),a.mixin(a.views.StoryReading,"MediaSharing","SocialSharing","AffixElement","VoteManagement","LibraryManagement","StoryInListsManagement","AuthPromptManagement","FacebookConnect","FollowManager","LazyAds","Highlighter","StickyAds","RefreshAds")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(197),s=t.n(a),l=t(198),i=t.n(l);!function(e,n,t,a,l){a.add("HighlightTooltip",a.views.Base.extend({events:{"tap .on-open-embed":"onQuoteEmbed","click .on-open-embed":"stopEvent","tap .on-facebook-share":"onFacebookShareQuote","click .on-facebook-share":"stopEvent"},el:".highlight-tooltip",template:i.a,embedModalTemplate:s.a,initialize:function(e){e=e||{},this.quote=e.quoteString,this.storyId=e.storyId,this.url=e.url},render:function(){return $("#tooltip-container").html(this.template({})),this.setElement(".highlight-tooltip"),this},onFacebookShareQuote:function(){var t=this;this.url=n.utils.addSource(this.url,"web","facebook","share_quote"),FB.ui({method:"share",href:this.url,quote:this.quote},function(){n.utils.pushEvent({category:"reading",action:"share:facebookquote",label:t.storyId}),t.remove(),e.getSelection().removeAllRanges()})},onQuoteEmbed:function(e){t.pushEvent({category:"embed",action:"click",label:"quote"});var n=$("#generic-modal"),a={id:this.storyId,quoteText:this.quote,copyExec:!!document.queryCommandSupported&&document.queryCommandSupported("copy")};t.stopEvent(e),n.find(".modal-dialog").addClass("embed").find(".modal-body").html(this.embedModalTemplate(a));n.find(".on-copy").on("tap",this.onCopyEmbedCode);n.modal("show").on("hide.bs.modal",this.closeEmbed)},onCopyEmbedCode:function(){var n=document.querySelector("#embed-url"),a=document.createRange();a.selectNode(n),e.getSelection().removeAllRanges(),e.getSelection().addRange(a),document.execCommand("copy")?($(".on-copy").text(t.trans("Copied!")),t.pushEvent({category:"embed",action:"copy",label:"quote"})):$(".on-copy").text(t.trans("Sorry, unable to copy"))},closeEmbed:function(e){$(this).find(".modal-dialog").removeClass("embed"),this.tooltip.remove()}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,n,a,s,l){"use strict";s=s||(e.wattpad={}),l.router.on("route:userProfile",l.router.filter(["getTranslations","getCategories"],function(n,a,i){var r=null;"object"===t(i)&&(i.redirectfrom||i.redirectFrom)&&new l.views.ErrorToast({message:s.utils.trans("We're sorry! The page you requested no longer exists.")+" "+s.utils.trans("So we have brought you to a related page.")},{type:"dismissable"}).render();a=a||"about","object"===t(i)&&i.message&&(i=null),r=new l.models.User({username:n}),s.utils.currentUser().get("username")&&e.store&&!e.store.getState().profileData.hasLoadad&&e.store.dispatch(e.app.components.actions.initializeMutedUsers(s.utils.currentUser().get("username"))),Promise.resolve(r.loaded()).then(function(){var t=!r.has("description"),s=r.get("isMuted");if(t&&l.router.navigate("/user/"+n,{trigger:!1,replace:!0}),s){var o=new l.views.MutedProfile({model:r});l.transitionTo(o,{username:n,hasHeader:!0,hasFooter:!0})}else{var c=new l.views.ProfileLayout({model:r,section:t?"about":a,username:n,isPrivateToMe:t,showEditProfile:i&&i.showEditProfile});l.transitionTo(c,{username:n,hasHeader:!0,hasFooter:!0})}e.te.push("event","app","page",null,"view",{page:"profile",username:n})},function(){l.router.trigger("route:error-404","user")})}))}(window,_,jQuery,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.router.on("route:authentication",s.router.filter(["getTranslations"],function(n){var t;(n=n||"signup",a.utils.isHttp())?a.utils.redirectToServer(e.location.href):(t="signup"===n?new s.views.Landing({model:new s.models["Auth"+n]({}),page:n}):new s.views.Authentication({model:new s.models["Auth"+n]({}),page:n}),s.transitionTo(t,{hideAddressBar:!1,hasHeader:!1,hideAnnouncements:!0}))})),s.router.on("route:oauth-auth",s.router.filter(["getTranslations"],function(e){var n=new s.views.OauthAuthentication({model:new s.models.Authsignup({})});s.transitionTo(n,{hideAddressBar:!1,hasHeader:!1,hideAnnouncements:!0})}))}(window,_,jQuery,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.router.on("route:onboardingStep1",s.router.filter(["getTranslations"],function(){var n=new s.views.OnboardingStep1;s.transitionTo(n,{hasHeader:!1,hasFooter:!1}),e.te.push("event","onboarding",null,null,"start",{})})),s.router.on("route:onboardingGenres",s.router.filter(["getTranslations"],function(){var e=a.utils.currentUser(),n=new s.collections.BrowseTopics,t=[];Promise.resolve(n.fetch()).then(function(e){t=e.topics.filter(function(e){return"paidstories"!==e.name})}).catch(function(){t=null}).finally(function(){var n=new s.views.OnboardingGenres({user:e,genres:t});s.transitionTo(n,{hasHeader:!1,hasFooter:!1})})})),s.router.on("route:onboardingWriterJourney",s.router.filter(["getTranslations"],function(){var e=a.utils.currentUser(),n=new s.views.OnboardingWriterJourney({user:e});s.transitionTo(n,{hasHeader:!1,hasFooter:!1})})),s.router.on("route:onboardingSuccess",s.router.filter(["getTranslations"],function(){var e=new s.views.OnboardingSuccess;s.transitionTo(e,{hasHeader:!1,hasFooter:!1})}))}(window,_,jQuery,wattpad,window.app)},function(e,n){!function(e,n,t){"use strict";t.router.on("route:storyReading",t.router.filter(["getTranslations","getCategories"],function(a,s,l,i,r,o){a=parseInt(a,10);var c,u=new t.models.StoryPartModel({id:a}),d=!(!i||!i.toString().match(/[0-9_]+/)),h=!(!r||!r.toString().match(/[0-9_]+/)),p=[u.fetch()];if(isNaN(a))t.router.trigger("route:error-404","story");else{n.utils.appOn()||(l=l?parseInt(l,10)+1:2),d&&(c=new t.models.CommentModel({id:i},{isDeepLink:!0,commentIdToHighlight:r||i,isDeeplinkedReply:h}),p.push(c.fetch()));var m=Promise.all(p);(_.get(e,"wattpad.testGroups.PAID_CONTENT")||!1)&&(m=m.then(function(){var n=u.get("group");if(n.isPaywalled){var t=n.id,a=n.parts.map(function(e){return e.id});return e.store.dispatch(e.app.components.actions.fetchPaidContentMetadata(t,a))}})),m.then(function(){u.getPage(l||1).then(function(a){u.set("pageNumber",l||1),u.set("pageviewId",n.utils.generateUUID());var s,i=a?a.get("text"):"",r=!(!o||"true"!==o.preview),d=19===parseInt(t.get("language"),10),h=!(!o||"true"!==o.firstPublish),p=!!t.views.WorksWriter&&(t.currentView instanceof t.views.WorksWriter&&!r&&!u.get("draft")),m={};if(s=d?["Đọc Truyện"+u.get("title"),u.get("group").title,u.get("group").user.name,"Wattpad"].join(" - "):[u.get("title"),u.get("group").title,"Wattpad"].join(" - "),_.get(e,"wattpad.testGroups.ADS_PROMETHEUS_METRICS",!1)){var f=n.utils.getDeviceType();e.te.push("event","ad","internal",null,"page_view",{id:u.get("pageviewId"),created_at:(new Date).toISOString(),username:n.utils.getCurrentUserAttr("username"),external_id:n.utils.getCurrentUserAttr("externalId"),user_is_premium:!!n.utils.getCurrentUserAttr("isPremium"),country_code:n.userCountryCode,platform:"mobile"===f?"mobile-web":"desktop-web",storyid:parseInt(u.get("group").id,10),partid:u.get("id"),page:"reading",is_brand_safe:!!u.get("group").isBrandSafe,story_tags:u.get("group").tags.join(" "),is_paid_story:u.get("group").isPaywalled,is_mature:n.utils.isMatureStory(u.get("group")),device_type:f})}var g={model:u,storyText:i,fromLanding:t.currentView instanceof t.views.StoryLanding,isPreview:r,deepLinkModel:c,isFirstPublish:h,isPostPublishModal:p},v=new t.views.StoryReading(g);t.get("device").is.mobile&&(m={footerOptions:{appUrl:n.utils.getAppLink("story-reading",u),report:n.utils.trans("Report Story")}});var w=u.get("group").isPaywalled,y=u.get("group").noIndex;if(t.transitionTo(v,_.extend({pageTitle:s,hasHeader:!0,hasFooter:!0,noIndex:y,viewChangedCallback:function(){v.updateScrollState(!0)},branchMetadata:{isPaywalled:w}},m)),n.utils.shouldSeePaidOnboarding(u.get("group").isPaywalled)){var b=u.get("id");n.utils.showPaidOnboardingAfterDelay(b)}})},function(){t.router.trigger("route:error-404","story")})}}))}(window,wattpad,window.app)},function(e,n){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,n,a){"use strict";n=n||(e.wattpad={}),a.router.on("route:storyRanking",a.router.filter(["getTranslations"],function(e,s,l){if(isNaN(parseInt(e)))a.router.trigger("route:error-404","story");else{if("object"===t(l)&&(l.redirectfrom||l.redirectFrom))new a.views.ErrorToast({message:n.utils.trans("We're sorry! The page you requested no longer exists.")+" "+n.utils.trans("So we have brought you to a related page.")},{type:"dismissable"}).render();var i=new a.models.StoryModel({id:e});Promise.resolve(i.fetch()).then(function(){if(_.isEmpty(i.get("tagRankings")))throw"Story does not have tag rankings";var e=new a.views.StoryRanking({model:i}),t=i.get("title")+(i.get("user")?" - "+i.get("user").name:"");19===parseInt(a.get("language"),10)&&(t="Đọc Truyện "+i.get("title")+" - "+i.get("user").name),a.transitionTo(e,{pageTitle:n.utils.unsanitizeHTML(t),hasHeader:!0,hasFooter:!0})}).catch(function(){a.router.trigger("route:error-404")})}}))}(window,wattpad,window.app)},function(e,n){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,n,a){"use strict";n=n||(e.wattpad={}),a.router.on("route:storyLanding",a.router.filter(["getTranslations","getCategories"],function(s,l,i,r){if(isNaN(parseInt(s)))a.router.trigger("route:error-404","story");else{if("object"===t(r)&&(r.redirectfrom||r.redirectFrom))new a.views.ErrorToast({message:n.utils.trans("We're sorry! The page you requested no longer exists.")+" "+n.utils.trans("So we have brought you to a related page.")},{type:"dismissable"}).render();var o=new a.models.StoryModel({id:s,checkPromotionStatus:n.utils.eligibleForDirectSoldAds()&&!n.utils.currentUser().get("premium"),zoneIds:[127423]}),c=Promise.all([Promise.resolve(o.fetch({data:{include_deleted:n.utils.currentUser().get("isSysAdmin")||n.utils.currentUser().get("ambassador")}})),Promise.resolve(n.utils.currentUser().library().loaded())]);n.testGroups.PAID_CONTENT&&(c=c.then(function(){if(o.get("isPaywalled")){var n=o.get("id"),t=o.get("parts").map(function(e){return e.id});return e.store.dispatch(e.app.components.actions.fetchPaidContentMetadata(n,t))}})),c.then(function(){if(o.set("pageviewId",n.utils.generateUUID()),_.get(e,"wattpad.testGroups.ADS_PROMETHEUS_METRICS",!1)){var t=n.utils.getDeviceType();e.te.push("event","ad","internal",null,"page_view",{id:o.get("pageviewId"),created_at:(new Date).toISOString(),username:n.utils.getCurrentUserAttr("username"),external_id:n.utils.getCurrentUserAttr("externalId"),user_is_premium:!!n.utils.getCurrentUserAttr("isPremium"),country_code:n.userCountryCode,platform:"mobile"===t?"mobile-web":"desktop-web",storyid:parseInt(o.get("id"),10),page:"story_details",is_brand_safe:!!o.get("isBrandSafe"),story_tags:o.get("tags").join(" "),is_paid_story:o.get("isPaywalled"),is_mature:n.utils.isMatureStory(o),device_type:t})}var l=new a.views.StoryLanding({model:o,section:i}),r=o.get("title")+(o.get("user")?" - "+o.get("user").name:"");19===parseInt(a.get("language"),10)&&(r="Đọc Truyện "+o.get("title")+" - "+o.get("user").name+" - Wattpad");var c=o.get("noIndex");if(a.transitionTo(l,{pageTitle:n.utils.unsanitizeHTML(r),hasHeader:!0,hasFooter:!0,noIndex:c}),n.utils.shouldSeePaidOnboarding(o.get("isPaywalled"))){var u=o.get("id");n.utils.showPaidOnboardingAfterDelay(u)}e.te.push("event","story_details",null,null,"view",{storyid:s}),e.te.push("event","app","page",null,"view",{page:"story_details",storyid:s})},function(){r=r||{},a.router.trigger("route:error-404","story",s)})}}))}(window,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";a=a||(e.wattpad={}),s.router.on("route:notifications",s.router.filter(["getTranslations","requireLogin"],function(){var n=new s.views.NotificationsPage;s.transitionTo(n,{hasHeader:!0,hasFooter:!0,pageTitle:"Wattpad - Notifications"}),e.te.push("event","app","page",null,"view",{page:"notifications_feed"})}))}(window,_,jQuery,wattpad,window.app)},function(e,n){!function(e,n,t){"use strict";t.router.on("route:search",t.router.filter(["getTranslations","getCategories"],function(n){n=n||"";var a=new t.collections.BrowseTopics;Promise.resolve(a.fetch()).then(function(){!function(){var s=new t.views.SearchLanding({query:n?n.trim():"",limits:{users:20,stories:15},browseTopics:a});t.mixin(t.views.SearchLanding,"StickyAds"),t.transitionTo(s,{hasHeader:!0,hasFooter:!0}),n.length?e.te.push("event","app","page",null,"view",{page:"search_results"}):e.te.push("event","app","page",null,"view",{page:"search"})}()})}))}(window,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(199),s=t.n(a),l=t(200),i=t.n(l),r=t(201),o=t.n(r),c=t(202),u=t.n(c),d=t(203),h=t.n(d),p=t(21),m=t.n(p);!function(e,n,t,a){a.add("SearchLanding",a.views.RegionManager.extend({template:h.a,events:{"tap .on-tab-navigate":"onTabNavigation","click .on-tab-navigate":"stopEvent"},initialize:function(e){e=e||{},Handlebars.registerPartial("core.search.partials.search_header",function(){return""}),Handlebars.registerPartial("core.search.partials.results_people",function(){return""}),Handlebars.registerPartial("core.search.partials.results_stories",function(){return""}),Handlebars.registerPartial("core.signup_prompt",function(){return""}),Handlebars.registerPartial("core.components.user_badges",m.a),this.collections={stories:new a.collections.NodeStorySearch([],{searchTerm:e.query,limit:e.limits.stories}),users:new a.collections.NodeUserSearch([],{searchTerm:e.query,limit:e.limits.users})},(n.utils.currentUser()&&n.utils.currentUser().get("isMature")&&null===n.utils.getCookie("msf")||"1"===n.utils.getCookie("msf"))&&(this.collections.stories.mature=!0),0===e.query.indexOf("user:")&&(this.collections.stories.mature=!0),this.query=e.query,this.limits=e.limits,this.resultType=e.resultType,this.browseTopics=e.browseTopics,this.listenTo(a,"navbar:search:query",this.dispatchQuery),this.listenTo(a,"app:component:TagMetaItem:click",this.navigateToTagPage),this.listenTo(a,"app:component:TagMetaNumNotShown:click",this.onStoryDetails),_.defer(function(){a.trigger("navbar:search:disable")}),_.defer(function(){a.trigger("navbar:search:set",e.query,!1)}),this.searchHeader=new a.views.SearchHeader({storyCollection:this.collections.stories,userCollection:this.collections.users,topicCollection:this.browseTopics,searchTerm:this.query})},navigateToTagPage:function(e){n.utils.stopEvent(e);var t=$(e.currentTarget).text().trim();a.router.navigate("/stories/"+encodeURIComponent(t),{trigger:!0})},onStoryDetails:function(e){n.utils.stopEvent(e);var t=$(e.currentTarget).data("story-id"),s=this.collections.stories.get(t);a.router.navigate(n.utils.formatStoryUrl(s.get("url")),{trigger:!0})},render:function(){return this.userSearchResultsView=new a.views.SearchResults({collection:this.collections.users,itemView:this.itemViewFactory(u.a,"Users"),template:o.a,dataKey:"Users",partial:"core.search.partials.results_person_item",manualRegistration:a.get("device").is.mobile&&"people"!==this.resultType}),this.storySearchResultsView=new a.views.SearchResults({collection:this.collections.stories,itemView:this.itemViewFactory(i.a,"Stories"),template:s.a,dataKey:"Stories",partial:"core.search.partials.results_story_item",manualRegistration:a.get("device").is.mobile&&"stories"!==this.resultType}),n.utils.setCookie("signupFrom","search",0,e.location.hostname.replace("www","")),this.signUpPrompt=new a.views.SignUpPrompt({model:new a.models.Authsignup,nextUrl:e.location.href,subtitle:t.trans("Be part of a global community of readers and writers, all connected through the power of story.")}),this.$el.html(this.template({isLogged:t.currentUser().authenticated(),resultType:this.resultType})),this.$("#results-people-region").empty(),this.$("#results-stories").empty(),t.currentUser().authenticated()||this.setRegion("#authentication-panel",this.signUpPrompt.render()),a.get("device").is.mobile?(this.$("#search-header").empty(),this.setRegion("#search-header",this.searchHeader.render())):this.setRegion("#search-controls",this.searchHeader.render()),this.setRegion("#results-people-region",this.userSearchResultsView),this.setRegion("#results-stories",this.storySearchResultsView),this},setElement:function(e){if(Monaco.View.prototype.setElement.apply(this,arguments),a.get("device").is.mobile?this.checkRegion("#search-header"):this.checkRegion("#search-controls"),this.checkRegion("#authentication-panel"),this.checkRegion("#results-people-region"),this.checkRegion("#results-stories"),this.searchHeader&&this.searchHeader.$el.is(":visible")){var n=this.searchHeader.$("#search-field"),t=2*n.val().length;_.defer(function(){n.focus(),n[0].setSelectionRange(t,t)})}},checkRegion:function(e){this.regions[e]&&this.regions[e].view&&this.regions[e].view.setElement(this.$(e+" > div:first-child"))},showEmptySearchViews:function(){this.$("#tabs").addClass("hidden"),this.$(".results").addClass("hidden")},hideEmptySearchViews:function(){this.$("#tabs").removeClass("hidden"),this.$("#results-"+this.resultType).removeClass("hidden")},dispatchQuery:function(e){this.query=e,this.updateHeader(e),this.updateSearch(e),this.updateTitle(e),t.scrollToTop()},updateTitle:function(e){t.setTitle(e.trim())},updateSearch:_.debounce(function(e){this.xhrs&&(!0!==this.xhrs.user&&"pending"===this.xhrs.user.state()&&this.xhrs.user.abort(),!0!==this.xhrs.story&&"pending"===this.xhrs.story.state()&&this.xhrs.story.abort());var n=a.get("device").is.mobile&&!_.isEmpty(e.trim())?"/"+this.resultType:"";a.router.navigate("/search/"+encodeURIComponent(e.trim())+n,{trigger:!1,replace:!1});var t=this.userSearchResultsView.newSearch(new a.collections.NodeUserSearch([],{searchTerm:e,limit:this.limits.users})),s=this.storySearchResultsView.newSearch(new a.collections.NodeStorySearch([],{searchTerm:e,limit:this.limits.stories}));s.complete=this.collections.stories.complete,s.mature=this.collections.stories.mature,s.hot=this.collections.stories.hot,s.age=this.collections.stories.age,s.minParts=this.collections.stories.minParts,s.maxParts=this.collections.stories.maxParts,this.searchHeader.updateCollection(s),this.collections.users=t,this.collections.stories=s;var l=this.collections.users.fetch(),i=this.collections.stories.fetch();this.xhrs={user:l,story:i};var r=this;Promise.all([l,i]).then(function(e){var n=e[0],t=e[1];_.isEmpty(n)&&0===t.total?r.showEmptySearchViews():r.hideEmptySearchViews()})},500),updateHeader:function(e){this.searchHeader.updateQuery(e)},itemViewFactory:function(e,n){return Monaco.View.extend({tagName:"li",className:"list-group-item",template:e,render:function(){var e=this.model.toJSON();return"Stories"===n?(e.tagMeta={tags:e.tags,storyId:e.id,numShown:a.get("device")&&a.get("device").is.mobile?2:3},e.reactName="storyTags-"+e.id):"Users"===n&&0!==e.badges.length&&(e.badges.indexOf("staff")>-1?e.staff=!0:e.badges.indexOf("verified")>-1?e.verified=!0:e.badges.indexOf("star")>-1?e.star=!0:e.badges.indexOf("ambassador")>-1&&(e.ambassador=!0)),this.$el.html(this.template(e)),this}})},onTabNavigation:function(e){var n=$(e.currentTarget);this.resultType=n.data("target"),a.router.navigate("/search/"+encodeURIComponent(this.query)+"/"+this.resultType),this.$("#tabs a").removeClass("active"),n.addClass("active"),this.$(".results").addClass("hidden"),this.$("#results-"+this.resultType).removeClass("hidden"),"stories"===this.resultType?(this.userSearchResultsView.setPaused(!0),this.userSearchResultsView.deregisterFromScrolling(),this.storySearchResultsView.setPaused(!1),this.storySearchResultsView.registerForScrolling()):(this.storySearchResultsView.setPaused(!0),this.storySearchResultsView.deregisterFromScrolling(),this.userSearchResultsView.setPaused(!1),this.userSearchResultsView.registerForScrolling())}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(204),s=t.n(a),l=t(205),i=t.n(l),r=t(206),o=t.n(r),c=t(207),u=t.n(c);!function(e,n,t,a){a.add("SearchHeader",a.views.RegionManager.extend({className:"container",hasFocus:!0,template:o.a,suggestedSearchesTemplate:i.a,tagTemplate:s.a,browseTopicsTemplate:u.a,events:{"tap .on-toggle-tag":"toggleTag","click .on-toggle-tag":"stopEvent","keyup #search-field":"newSearch","focus #search-field":"focusGained","blur #search-field":"onSearchFieldBlur","tap .on-browse-topic":"onBrowseTopic","click .on-browse-topic":"onBrowseTopic","keydown .on-browse-topic":"onBrowseTopicKeyboard"},resultsContainerClass:".list-group",initialize:function(e){var n=this;e=e||{},this.searchTerm=e.searchTerm,this.storyCollection=e.storyCollection,this.topicCollection=e.topicCollection,this.userCollection=e.userCollection,this.listenTo(a,"navbar:search:focus",this.focusLost),Handlebars.registerPartial("core.search.partials.suggested_searches",this.suggestedSearchesTemplate),Handlebars.registerPartial("core.search.partials.search_header_tags",this.tagTemplate),this.storyCollection.once("sync",this.updateTags,this),Handlebars.registerPartial("core.search.partials.browse_topics",this.browseTopicsTemplate),Promise.resolve(e.topicCollection.fetch()).then(function(){n.topicCollection=e.topicCollection}),localStorage&&!_.isEmpty(localStorage.getItem("recentSearches"))||(this.recommendedSearches=new a.collections.RecommendedSearches),_.isEmpty(this.searchTerm)&&(this.renderBrowseTopics(),this.recommendedSearches&&this.recommendedSearches.once("sync",this.renderSuggestedSearches,this)),this.listenTo(a,"app:component:TagCarouselItem:click",this.toggleTag)},render:function(){return this.updateTags(),this.$el.html(this.template({stories:this.storyCollection.toJSON(),noResults:0===this.storyCollection.length&&0===this.userCollection.length,relatedTags:{tags:this.storyCollection.tags.toJSON(),withIcon:!0},searchTerm:this.storyCollection.searchTerm,searching:!0,harmMessages:t.harm(this.storyCollection.searchTerm),isMature:t.currentUser().get("isMature"),testGroups:n.testGroups,categories:a.get("categories").toJSON()})),this.listenTo(this.storyCollection,"sync",this.afterCollectionSync),_.isEmpty(this.searchTerm)&&(_.defer(this.renderBrowseTopics.bind(this)),this.recommendedSearches||_.defer(this.renderSuggestedSearches.bind(this))),this},afterCollectionSync:function(){this.renderTags(),this.renderBrowseTopics(),this.renderSuggestedSearches()},updateTags:function(){var e=this,n=this.storyCollection.searchTerm.match(/#[^\s]+/gi)||[];this.storyCollection.tags||(this.storyCollection.tags=new Monaco.Collection,this.storyCollection.tags._app=a),_.each(n.reverse(),function(n){n=n.slice(1),e.storyCollection.tags.get(n)?e.storyCollection.tags.get(n).set("active",!0):e.storyCollection.tags.add({id:n,name:n,active:!0},{at:0})})},renderTags:function(){0===this.storyCollection.length?this.$("#tag-holder").html(this.tagTemplate({noResults:!0})):(this.updateTags(),this.$("#tag-holder").html(this.tagTemplate({filtersExpanded:this.filtersExpanded,stories:this.storyCollection.toJSON(),noResults:!1,relatedTags:{tags:this.storyCollection.tags.toJSON(),withIcon:!0},harmMessages:t.harm(this.storyCollection.searchTerm),isMature:t.currentUser().get("isMature"),testGroups:n.testGroups,categories:a.get("categories").toJSON()})),this.storyCollection.searchTerm.trim()===this.$el.find("#search-field").val().trim()&&this.$("#search-field").removeClass("searching"))},renderSuggestedSearches:function(){if(0===this.storyCollection.length){var e=localStorage&&JSON.parse(localStorage.getItem("recentSearches"))||[],n=this.recommendedSearches?this.recommendedSearches.getListOfSearchTerms():[],t=_.isEmpty(e);t?this.$("#suggested-searches").html(this.suggestedSearchesTemplate({noResults:!1})):this.$("#suggested-searches").html(this.suggestedSearchesTemplate({noResults:!0,showRecentSearches:!t,showPopularSearches:t,suggestedSearchTerms:t?n:e}))}else this.$("#suggested-searches").html(this.suggestedSearchesTemplate({noResults:!1}))},renderBrowseTopics:function(){0===this.storyCollection.length&&this.topicCollection?this.$("#browse-topics").html(this.browseTopicsTemplate({noResults:!0,browseTopics:this.topicCollection.toJSON()})):this.$("#browse-topics").html({noResults:!1})},toggleTag:function(n,t){var s=$(t.currentTarget);s.hasClass("active")?(a.trigger("navbar:search:set",this.$el.find("#search-field").val().trim().replace(" #"+n,"")),s.removeClass("active")):(a.trigger("navbar:search:set",this.$el.find("#search-field").val().trim()+" #"+n),s.addClass("active"),e.te.push("event","search","story","tag","add",{tags:this.$("#search-field").val().match(/#[\w]+(?=\s|$)/g)}))},updateQuery:function(e){this.$el.find("#search-field").addClass("searching").val(e),this.renderTags()},updateCollection:function(e){this.stopListening(this.storyCollection,"sync"),this.storyCollection.off("sync"),this.storyCollection=e,this.listenTo(this.storyCollection,"sync",this.afterCollectionSync)},newSearch:function(e){var n=e.originalEvent;(8===n.keyCode||n.keyCode>45&&!_.contains([91,92,224,225],n.keyCode))&&!n.ctrlKey&&a.trigger("navbar:search:set",this.$("#search-field").val())},focusGained:function(){this.hasFocus=!0},focusLost:function(){this.hasFocus=!1},onSearchFieldBlur:function(e){a.trigger("navbar:search:save",this.$("#search-field").val())},onBrowseTopic:function(n){n.preventDefault();var t=$(n.target).attr("data-name");e.te.push("event","browse","topic",null,"click",{topic:t})},onBrowseTopicKeyboard:function(e){"Enter"===e.key&&this.onBrowseTopic(e)}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(208),s=t.n(a);!function(e,n,t,a){a.add("SearchResults",a.views.List.extend({templates:{searchResults:{}},events:_.extend({"tap .on-setfilter":"setFilter","click .on-setfilter":"stopEvent","tap    #last-updated-filters li a":"onChangeLastUpdate","change #last-updated-filters":"onChangeLastUpdate","click  #last-updated-filters":"stopEvent","tap    #content-length-filters li a":"onChangeContentLength","change #content-length-filters":"onChangeContentLength","click  #content-length-filters":"stopEvent","tap .on-show-filter-modal":"showFilterModal","click .on-show-filter-modal":"stopEvent","tap .on-result":"onResult","click .on-result":"stopEvent"},a.views.List.prototype.events),className:"feed-item-new panel",containerClass:".list-group",initializeListeners:function(e){e.once("sync",this.render,this),e instanceof a.collections.NodeStorySearch&&this.listenTo(e,"fetchNext:done",this.fetchNextDone)},initialize:function(e){this.advancedFilters={},this.dataKey=e.dataKey,this.searchTerm=this.collection.searchTerm,this.templates.searchResults[this.dataKey]=e.template,Handlebars.registerPartial(e.partial,function(){return""}),a.views.List.prototype.initialize.apply(this,arguments),this.initializeListeners(this.collection),_.bindAll(this,"trackViews"),this.initializeTracking(),this.collection.searchTerm.trim().length>0?this.collection.fetch():this.render(),a.get("device").is.mobile&&Handlebars.registerPartial("core.components.search_filter_modal",s.a)},initializeTracking:function(){this.collection instanceof a.collections.NodeStorySearch&&($(e).off("scroll",this.trackViews),this.viewedPromotedStories=[],this.viewedStories=[],$(e).on("scroll",this.trackViews))},remove:function(){$(e).off("scroll",this.trackViews),a.views.List.prototype.remove.apply(this,arguments)},render:function(){var e=this.advancedFilters;if(e[this.dataKey.toLowerCase()]=this.collection.toJSON(),e["num"+this.dataKey]=this.collection.total||this.collection.models.length,e.showMore=!!this.collection.hasMore&&this.collection.hasMore(),e.isMature=t.currentUser().get("isMature"),e.isMobile=a.get("device").is.mobile,e.showTotal=!e.isMobile||!e.showMore,this.$el.html(this.templates.searchResults[this.dataKey](e)),this.$el.find(this.containerClass).empty(),this.renderCollection(),this.setButtonState(),this.bindEvents(),this.collection instanceof a.collections.NodeStorySearch){var n=this;_.defer(function(){n.trackViews()})}return this},renderItem:function(e,n,t){a.views.IncrementalList.prototype.renderItem.apply(this,arguments),e instanceof a.models.StoryModel&&(t=t||this.collection.indexOf(e),n=n||this.getContainer())},onChangeContentLength:function(e){this.setFilterGroup(e,"length")},onChangeLastUpdate:function(e){this.setFilterGroup(e,"age")},setFilterGroup:function(e,n){var t,a=e.currentTarget;(t=a.selectedOptions?$(a.selectedOptions[0]).val():$(a).val())&&(this.getContainer().find(".ad-unit").remove(),this.collection.reset(),this.advancedFilters[n]=t,this.$(".fa.searching").removeClass("hidden"),this.collection.setFilter(n,t),this.collection.fetch({reset:!0}))},setFilter:function(e){var n=$(e.currentTarget);n.toggleClass("active"),this.getContainer().find(".ad-unit").remove(),this.collection.reset(),this.collection.setFilter(n.data("filter"),n.hasClass("active")),this.$(".fa.searching").removeClass("hidden"),this.collection.fetch({reset:!0})},showFilterModal:function(e){n.utils.stopEvent(e),a.get("device").is.mobile&&this.$(".search-filter-modal").modal({show:!0})},setButtonState:function(){"function"==typeof this.collection.hasMore&&this.collection.hasMore()?this.$el.find(".on-showmore").parent().removeClass("hidden"):this.$el.find(".on-showmore").parent().addClass("hidden")},fetchNextDone:function(){var e=this.collection.total;if(null!==e){var a=n.utils.count(e),s=t.sprintf(n.utils.ngettext("%s Story","%s Stories",e),[a]);this.$("#header-left").text(s)}else this.$("#header-left").text("");this.$(".fa.searching").addClass("hidden")},newSearch:function(e){return this.stopListening(this.collection),this.collection=e,this.initializeListeners(this.collection),this.initializeTracking(),this.$(".fa.searching").removeClass("hidden"),e},trackViews:_.throttle(function(){var n=this;_.each(this.collection.models,function(a){var s=a.id,l=a.sources||"",i=n.collection.indexOf(a),r=n.searchTerm||"";if(-1===_.indexOf(n.viewedStories,s)){var o=n.$("ul").find("[data-id='"+s+"']");t.isOnScreen(o,.5)&&(n.viewedStories.push(s),e.te.push("event","story",null,null,"view",{storyid:s,page:"search",position:i,query:[r],algo_source:l}))}});var a=this.collection.getPromotedStories();_.each(a,function(e){var a=e.id;if(-1===_.indexOf(n.viewedPromotedStories,a)){var s=n.$("ul").find("[data-id='"+a+"']");if(t.isOnScreen(s,.67)){n.viewedPromotedStories.push(a);var l=[e.tracking.impressionUrl];e.tracking.thirdParty&&(l=l.concat(e.tracking.thirdParty.impressionUrls)),_.each(l,function(e){$.ajax({type:"GET",url:e})})}}})},200),onResult:function(n){var t=$(n.currentTarget).data("id"),s=this.collection.get(t).sources||"",l=this.searchTerm||"";if(this.collection instanceof a.collections.NodeStorySearch){e.te.push("event","search","story",null,"click",{storyid:t,search:$("#search-field").val(),position:this.collection.indexOf(this.collection.get(t))}),e.te.push("event","story",null,null,"click",{storyid:t,page:"search",position:this.collection.indexOf(this.collection.get(t)),query:[l],algo_source:s});var i=this.collection.get(t);if(i&&i.get("promoted")){var r=[i.get("tracking").clickUrl];i.get("tracking").thirdParty&&(r=r.concat(i.get("tracking").thirdParty.clickUrls)),_.each(r,function(e){$.ajax({type:"GET",url:e})})}}else e.te.push("event","search","user",null,"click",{userid:t,search:$("#search-field").val(),position:this.collection.indexOf(this.collection.get(t))});this.onNavigate(n)}})),a.mixin(a.views.SearchResults,"InfiniteScroll")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(209),s=t.n(a);!function(e,n,t,a){a.add("FeedAggregates",Monaco.View.extend({template:s.a,itemView:null,className:"modal-dialog",initialize:function(e){this.itemView=Monaco.View.extend({tagName:"li",template:e.itemTemplate,className:"list-group-item aggregate",initialize:function(){"follow"===this.model.get("type")&&(this.listenTo(a,"app:user:follow",this.onUpdateFollow),this.listenTo(a,"app:user:unfollow",this.onUpdateUnfollow))},render:function(){var e=this;return this.$el.html(this.template(this.model.toJSON())),_.defer(function(){e.$(".panel-body [data-toggle=tooltip]").tooltip()}),this},onAddedToLibrary:function(e){var t=this.$(this.libraryButton+"[data-story-id='"+e+"']");t.children(".fa").removeClass("fa-wp-neutral-2 fa-plus").addClass("fa-wp-neutral-5 fa-check"),t.children(".toggle-triangle").addClass("active"),t.children(".toggle-shadow").addClass("active"),t.attr("title",n.utils.trans("Added to Library")).tooltip("fixTitle")},onRemovedFromLibrary:function(e){var t=this.$(this.libraryButton+"[data-story-id='"+e+"']");t.children(".fa").addClass("fa-wp-neutral-2 fa-plus").removeClass("fa-wp-neutral-5 fa-check"),t.children(".toggle-triangle").removeClass("active"),t.children(".toggle-shadow").removeClass("active"),t.attr("title",n.utils.trans("Add to Library")).tooltip("fixTitle")},onUpdateFollow:function(e){var t=this.$(this.followButton+"[data-target="+e+"]");t.children(".fa").removeClass("fa-follow fa-wp-neutral-2").addClass("fa-following fa-wp-neutral-5"),t.children(".toggle-triangle").addClass("active"),t.children(".toggle-shadow").addClass("active"),t.attr("title",n.utils.trans("Following")).tooltip("fixTitle")},onUpdateUnfollow:function(e){var t=this.$(this.followButton+"[data-target="+e+"]");t.children(".fa").removeClass("fa-following fa-wp-neutral-5").addClass("fa-follow fa-wp-neutral-2"),t.children(".toggle-triangle").removeClass("active"),t.children(".toggle-shadow").removeClass("active"),t.attr("title",n.utils.trans("Follow")).tooltip("fixTitle")}}),a.mixin(this.itemView,"LibraryManagement","FollowManager"),this.title=e.title},render:function(){var e={};return"dedicate"===this.model.get("type")?(e.username=this.model.get("data").dedicator.name,e.avatar=this.model.get("data").dedicator.avatar):(e.username=this.model.get("data").user.name,e.avatar=this.model.get("data").user.avatar),e.createDate=this.model.get("createDate"),e.title=this.title,this.$el.html(this.template(e)),this.$(".modal-body .list-group").append(new this.itemView({model:this.model}).render().$el),this.collection.each(function(e){this.$(".modal-body .list-group").append(new this.itemView({model:e}).render().$el)},this),this}}))}(window,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(210),s=t.n(a);!function(e,n,t,a){a.add("NewsFeed",a.views.CoreFeed.extend({className:"news-feed",template:s.a,events:_.extend({"tap    .on-expand":"onExpandAggregates","click  .on-expand":"stopEvent"},a.views.CoreFeed.prototype.events),getItemView:function(e){switch(e.get("type")){case"message":return a.views.NewFeedItemMessage;case"comment":case"inline_comment":case"library":case"upload":case"vote":case"placeholder":case"dedicate":case"follow":default:return a.views.FeedItem}},initialize:function(){this.setCollectionfilter(a.models.UserEvent.prototype.isValid)},render:function(){var e=this,t=arguments;return Promise.all([Promise.resolve(this.collection.fetchNextSet()),Promise.resolve(n.utils.currentUser().library().loaded())]).then(function(n){a.views.IncrementalList.prototype.render.apply(e,t)}),this},getTemplateData:function(){return{hasFeedItems:this.collection.length>0,hasMoreFeedItems:this.collection.hasMore()}},onExpandAggregates:function(e){var n=$(e.currentTarget).data("id"),t=$(e.currentTarget).parent().siblings("header").children("h3").html(),s=this,l=this.collection.get(n);Promise.resolve($.get(l.get("group_url"),{data:{fields:s.collection.getFieldsString().data.fields}})).then(function(e){var n=new a.collections.NewsFeed([],{username:s.collection.username});n.cacheLocal=!1,n.reset(n.parse(e)),n.limit=e.total,n.total=e.total;var i=a.views.FeedItem.prototype.itemTemplates[l.get("type")],r=new a.views.FeedAggregates({title:t,itemTemplate:i,model:l,collection:n});s.$("#expand-modal").html(r.render().$el),s.$("#expand-modal").modal({keyboard:!0}),s.$("#expand-modal").modal("show")})},stopEvent:function(e){n.utils.stopEvent(e)}})),a.mixin(a.views.NewsFeed,"InfiniteScroll")}(window,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(211),s=t.n(a);!function(e,n,t,a,l){a.add("RecentlyRead",a.views.Base.extend({template:s.a,initialize:function(){this.collection.once("sync",this.render,this),this.collection.fetch({data:{limit:3}})},render:function(){var e=this.collection.toJSON();return _.forEach(e,function(e){if(e.percentRead=0,e.readingURL=e.url,e.readingPosition&&0!==e.readingPosition.partId){var n=_.findIndex(e.parts,{id:parseInt(e.readingPosition.partId,10)});-1!==n&&(e.percentRead=n/e.parts.length*100,e.percentRead+=1/e.parts.length*100*parseFloat(e.readingPosition.position),e.readingURL=e.parts[n].url)}}),this.$el.html(this.template({recentlyRead:e,hasItems:e.length>0})),this},resource:function(){return"user."+t.currentUser().get("username").get("username")+".recently-read"}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(212),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("RecommendedStoryItemCover",i.views.Base.extend({className:"recommended-story-cover story-item",template:s.a,render:function(){return this.$el.html(this.template(this.model.toJSON())),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(213),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("RecommendedStoryItem",i.views.Base.extend({className:"recommended-story",template:s.a,events:{"tap   .btn-dismiss":"onDismiss","click .btn-dismiss":"stopEvent",mouseenter:"onShowControls",mouseleave:"onHideControls"},render:function(){var e=this;return this.$el.html(this.template(this.model.toJSON())),n.defer(function(){e.$(".recommended-story [data-toggle=tooltip]").tooltip()}),this},onAddedToLibrary:function(e){var t=this,s=this.$(this.libraryButton+"[data-story-id='"+e+"']");s.text(a.utils.trans("In Library")),s.attr("title",a.utils.trans("Added to Library")).tooltip("fixTitle"),e===parseInt(this.model.get("id"),10)&&(l.supportsTransition()&&this.$el.addClass("faded"),n.delay(function(){t.model.collection&&t.model.collection.removeAndDismiss(t.model)},300))},onRemovedFromLibrary:function(e){var n=this.$(this.libraryButton+"[data-story-id='"+e+"']");n.text(a.utils.trans("Add")),n.attr("title",a.utils.trans("Add to Library")).tooltip("fixTitle")},onShowControls:function(e){this.$(".on-story-hover").fadeIn(150)},onHideControls:function(e){this.$(".on-story-hover").fadeOut(150)},onDismiss:function(e){t(e.currentTarget).data("story-id")===parseInt(this.model.get("id"),10)&&(l.supportsTransition()&&this.$el.addClass("faded"),this.model.collection&&this.model.collection.removeAndDismiss(this.model))}})),i.mixin(i.views.RecommendedStoryItem,"LibraryManagement")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(214),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("RecommendedStories",i.views.CollectionView.extend({className:"recommended-stories-view",containerClass:".collection",itemView:i.views.RecommendedStoryItem,template:s.a,initialize:function(e){if(void 0===(e=e||{}).username)throw new Error("RecommendedStories: options.username is missing (required).");e.is404&&(this.itemView=i.views.RecommendedStoryItemCover),this.collection=new i.collections.RecommendedStories([],{username:e.username,limit:e.limit||10}),this.setCollectionfilter(this.isInRange),this.listenTo(this.collection,"update",this.renderExtraItem)},render:function(){var e=this;return this.$el.html(this.template(a.testGroups||{})),Promise.resolve(this.collection.fetchNextSet()).then(function(){e.bindEvents(),e.renderCollection()}),this},renderCollection:function(){this.collection.models.length>0?i.views.CollectionView.prototype.renderCollection.apply(this,arguments):this.$("span").removeClass("hidden")},isInRange:function(){var e=this.collection.models.indexOf(this);return 0<=e&&e<=3},renderExtraItem:function(){var e=this.getContainer(),n=this.collection.models[3],t={model:n,cvIndex:4};n&&(this.viewPointers[n.cid]=new this.itemView(t),this.viewPointers[n.cid].render(),e[this.direction](this.viewPointers[n.cid].$el))}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(215),s=t.n(a),l=t(216),i=t.n(l);!function(e,n,t,a,l,r,o){r.add("RecommendedFollowItem",o.View.extend({className:"recommended-user",template:{row:i.a,card:s.a},events:{"tap .on-dismiss":"onDismiss","click .on-dismiss":"stopEvent"},initialize:function(e){e=e||{},this.cards=!!e.cards,this.listenTo(r,"app:user:follow",this.onUpdateFollow),this.listenTo(r,"app:user:unfollow",this.onUpdateUnfollow)},getClassName:function(e){return e?"recommended-user-card col-md-3 col-sm-4 col-xs-6":"recommended-user"},render:function(){var e=this.cards?this.template.card:this.template.row;return this.model.get("recommendationHint")&&this.model.set("recommendationHint",l.unsanitizeHTML(this.model.get("recommendationHint"))),this.$el.html(e(this.model.toJSON())),this},onUpdateFollow:function(e){var t=this;this.$(this.followButton+"[data-target="+e+"]").children(".fa").removeClass("fa-follow fa-wp-neutral-2").addClass("fa-following fa-wp-neutral-2");var a=this.model.collection;e===this.model.get("username")&&(l.supportsTransition()&&this.$el.addClass("faded"),n.delay(function(){t.model.collection&&(t.model.collection.remove(t.model),a.trigger("update"))},300))},onUpdateUnfollow:function(e){this.$(this.followButton+"[data-target="+e+"]").children(".fa").removeClass("fa-following fa-wp-neutral-2").addClass("fa-follow fa-wp-neutral-2")},onDismiss:function(e){var a=this;t(e.currentTarget).data("target")===this.model.get("username")&&(l.supportsTransition()&&this.$el.addClass("faded"),n.delay(function(){a.model.collection&&a.model.collection.removeAndDismiss(a.model)},300))}})),r.mixin(r.views.RecommendedFollowItem,"FollowManager")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(217),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("RecommendedFollow",i.views.CollectionView.extend({className:"recommended-users-view",containerClass:".collection",itemView:i.views.RecommendedFollowItem,template:s.a,itemCount:3,initialize:function(e){var n=this;if(void 0===(e=e||{}).username)throw new Error("RecommendedFollow: options.username is missing (required).");this.cards=!!e.cards,this.itemCount=e.itemCount||3,this.collection=new i.collections.RecommendedUsers([],{username:e.username,limit:e.limit||10}),this.isInRange=this.isInRangeFactory(),this.setCollectionfilter(this.isInRange);var t=Promise.resolve();this.listenTo(this.collection,"update",function(){n.collection.length<n.itemCount+2&&(t=Promise.resolve(n.collection.fetchNextSet())),t.then(function(){n.renderExtraItem()})})},render:function(){var e=this;return this.$el.html(this.template({})),Promise.resolve(this.collection.fetchNextSet()).then(function(){e.bindEvents(),e.renderCollection({cards:e.cards,className:i.views.RecommendedFollowItem.prototype.getClassName(e.cards)})}),this},renderCollection:function(){this.collection.models.length>0?i.views.CollectionView.prototype.renderCollection.apply(this,arguments):this.$("span").removeClass("hidden")},isInRangeFactory:function(){var e=this;return function(){var n=this.collection.models.indexOf(this);return-1<n&&n<e.itemCount}},renderExtraItem:function(){var e=this.getContainer(),n=this.collection.models[2]?this.collection.models[2]:null,t={model:n,cvIndex:3,cards:this.cards,className:this.itemView.prototype.getClassName(!!this.cards)};n&&(this.viewPointers[n.cid]=new this.itemView(t),this.viewPointers[n.cid].render(),e[this.direction](this.viewPointers[n.cid].$el))}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(218),s=t.n(a);!function(e,n,t,a){a.add("HomeLanding",a.views.RegionManager.extend({template:s.a,id:"logged-in-home",initialize:function(){Handlebars.registerPartial("core.collection_views.recently_read",function(){return""}),Handlebars.registerPartial("core.collection_views.news_feed",function(){return""}),Handlebars.registerPartial("core.collection_views.recommended_stories",function(){return""}),Handlebars.registerPartial("core.collection_views.recommended_follow",function(){return""})},events:{"tap    .on-user-mention":"onNavigate","click  .on-user-mention":"stopEvent"},render:function(){var e=n.utils.currentUser().get("username"),t=new a.collections.NewsFeed,s=new a.views.NewsFeed({collection:t}),l=new a.collections.RecentlyRead([],{username:e}),i=new a.views.RecentlyRead({collection:l}),r=new a.views.RecommendedFollow({username:e}),o=new a.views.RecommendedStories({username:e});return this.$el.html(this.template({currentUser:n.utils.currentUser().toJSON()})),this.$("#news-feed,#current-reads,#recommended-users,#recommended-stories").empty(),this.setRegion("#news-feed",s.render()),this.setRegion("#current-reads",i),this.setRegion("#recommended-users",r.render()),this.setRegion("#recommended-stories",o.render()),this},setElement:function(e){Monaco.View.prototype.setElement.apply(this,arguments),this.regions["#news-feed"]&&this.regions["#news-feed"].view&&this.regions["#news-feed"].view.setElement(this.$("#news-feed > div")),this.regions["#current-reads"]&&this.regions["#current-reads"].view&&this.regions["#current-reads"].view.setElement(this.$("#current-reads > div")),this.regions["#recommended-users"]&&this.regions["#recommended-users"].view&&this.regions["#recommended-users"].view.setElement(this.$("#recommended-users > div")),this.regions["#recommended-stories"]&&this.regions["#recommended-stories"].view&&this.regions["#recommended-stories"].view.setElement(this.$("#recommended-stories > div"))}}))}(window,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.router.on("route:home_landing",s.router.filter(["getTranslations","requireLogin","getCategories"],function(n){var t=new s.views.HomeLanding;Promise.resolve(a.utils.currentUser().library().loaded()).then(function(){s.transitionTo(t,{hasHeader:!0,hasFooter:!0,pageTitle:a.utils.trans("Home")}),e.te.push("event","app","page",null,"view",{page:"updates"})})}))}(window,_,jQuery,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("CoreBrowseStories",a.views.RegionManager.extend({filter:"hot",category:null,tag:"",id:"browse-stories-page",events:{"tap    .on-tab-nav":"onSectionNavigate","click  .on-tab-nav":"stopEvent","tap .on-filter-completed":"onShowCompleted","click .on-filter-completed":"stopEvent"},initialize:function(e){Handlebars.registerPartial("core.collection_views.browse_stories",function(){return""}),Handlebars.registerPartial("core.signup_prompt",function(){return""})},setTabContent:function(){var e=new a.views.BrowseStories({filter:this.filter,category:this.category,tag:this.tag});this.$("#tab-content").empty(),this.clearRegion("#tab-content"),this.setRegion("#tab-content",e.render())},setElement:function(e){Monaco.View.prototype.setElement.apply(this,arguments),this.regions["#tab-content"]&&this.regions["#tab-content"].view&&this.regions["#tab-content"].view.setElement(this.$("#tab-content > div")),this.regions["#authentication-panel"]&&this.regions["#authentication-panel"].view&&this.regions["#authentication-panel"].view.setElement(this.$("#authentication-panel > div"))},onShowCompleted:function(e){var t=$(e.currentTarget);if(t.hasClass("active")){var a=n.utils.iconify("fa-check",16,"wp-base-2-dark");t.removeClass("active"),t.children(".fa").replaceWith(s),t.children(".show-completed-text").removeClass("fa-wp-base-2").addClass("fa-wp-neutral-2"),this.$el.removeClass("completed-only")}else{var s=n.utils.iconify("fa-circle-empty",16,"wp-neutral-3");t.addClass("active"),this.$el.addClass("completed-only"),t.children(".fa").replaceWith(a),t.children(".show-completed-text").removeClass("fa-wp-neutral-2").addClass("fa-wp-base-2")}},onSectionNavigate:function(e){n.utils.stopEvent(e);var t=$(e.currentTarget).parent().data("section");this.setSection(t)},setSection:function(n){var s=this.$("#filter-tabs");s.find("nav li").removeClass("active"),s.find("nav li[data-section="+n+"]").addClass("active");var l=e.location.href.replace(/\/?(hot|new|featured)$/,"");"hot"!==n&&(l+="/"+n),a.router.navigate(t.formatStoryUrl(l),{trigger:!1}),this.filter=n,this.setTabContent()}}))}(window,wattpad,wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(219),s=t.n(a),l=t(220),i=t.n(l);!function(e,n,t,a){a.add("CoreBrowseCategory",a.views.CoreBrowseStories.extend({template:i.a,events:_.extend({"tap .on-change-category":"onChangeCategory","click .on-change-category":"stopEvent"},a.views.CoreBrowseStories.prototype.events),initialize:function(e){e=e||{},this.category=e.category,this.filter=e.filter||"hot",a.views.CoreBrowseStories.prototype.initialize.apply(this,arguments),a.get("device").is.mobile&&Handlebars.registerPartial("core.components.choose_category_modal",s.a)},render:function(){var s={active:{}},l=n.utils.getCookie("locale");l&&0!==l.trim().length||(l="en_US"),s.isEnglish="en_US"===l,s.active[this.filter]=!0,s.category=this.category.toJSON(),s.categories=a.get("categories").toJSON(),_.forEach(s.categories,function(e){s.category.name==e.name?e.selected=!0:e.selected=!1}),s.dp=e.devicePixelRatio>=2?2:1,s.category.subtitle=t.categorySubtitle(s.category),this.$el.html(this.template(s)),this.setTabContent()},onChangeCategory:function(e){if(a.get("device").is.mobile)this.$(".choose-category-modal").modal({show:!0});else{var s=$(e.currentTarget).data("category"),l=a.get("categories").find(function(e,t,a){return n.utils.slugify(e.get("name_english"))===s.toLowerCase()});a.router.navigate("/stories/"+s),this.category=l,this.filter="hot",n.utils.setTitle(t.trans("%s Stories and Books Free",l.get("name_english"))),this.render()}}}))}(window,wattpad,wattpad.utils,window.app)},function(e,n){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,n,a,s,l){"use strict";l.router.on("route:browse-category",l.router.filter(["getTranslations","getCategories"],function(n,a,i){var r,o,c=a||"hot";"object"===t(i)&&(i.redirectfrom||i.redirectFrom)&&new l.views.ErrorToast({message:s.utils.trans("We're sorry! The page you requested no longer exists.")+" "+s.utils.trans("So we have brought you to a related page.")},{type:"dismissable"}).render();n&&""!==n.trim()?(o=(o=l.get("categories").find(function(e,t,a){return s.utils.slugify(e.get("name_english"))===n.toLowerCase()}))||l.get("categories").at(0),r=new l.views.CoreBrowseCategory({category:o,filter:c})):r=new l.views.DiscoverLanding,l.transitionTo(r,{hasHeader:!0,hasFooter:!0,pageTitle:o?s.utils.trans("%s Stories and Books Free",o.get("name")):"Discover"}),e.te.push("event","app","page",null,"view",{page:"category",tags:o||"discover"})}))}(window,_,jQuery,wattpad,window.app)},function(e,n){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,n,a,s,l){"use strict";l.router.on("route:browse-tag",l.router.filter(["getTranslations","getCategories"],function(n,a,i){"object"===t(i)&&(i.redirectfrom||i.redirectFrom)&&new l.views.ErrorToast({message:s.utils.trans("We're sorry! The page you requested no longer exists.")+" "+s.utils.trans("So we have brought you to a related page.")},{type:"dismissable"}).render();var r,o,c=null,u=null,d=null,h=null,p=new l.collections.BrowseTopics;Promise.resolve(p.fetch()).then(function(){u=p.findWhere({name:n});var e=n.split(",")[0],t=n.split(",").slice(-1)[0];d=p.findWhere({name:e});var i=p.findWhere({name:t});u?(n=null,c=u.get("name"),o=u.get("topic"),h=new l.collections.TagModules([],{tags:c})):(n=n.toLowerCase(),o=n.split(",").map(function(e){return"#"+e}).join(" "),h=new l.collections.TagModules([],{tags:n})),Promise.resolve(h.fetchNextSet()).then(function(){r=new l.views.Browse({tag:n,topic:c,topicModel:u,collection:h,rootTopicModel:d,lastTopicModel:i,browseTopicsCollection:p,section:a}),l.transitionTo(r,{hasHeader:!0,hasFooter:!0,pageTitle:s.utils.trans("%s Stories",o)})},function(){l.router.trigger("route:error-404","browse-tag")})},function(){l.router.trigger("route:error-404","browse-tag")}),e.te.push("event","app","page",null,"view",{page:"tag_page",tags:n,filter:a||null})}))}(window,_,jQuery,wattpad,window.app)},function(e,n){!function(e,n){"use strict";n.router.add({"contests/wattys2020":["contest_form",{}]})}(window,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.router.on("route:contest_form",s.router.filter(["getTranslations"],function(e){var n,t,a;e&&(n=e.success,t=e.storyId,a=e.hasAddedWattysTag);var l=new s.views.ContestForm({componentData:{storyId:t,success:"true"===n,hasAddedWattysTag:"true"===a,isStandalonePage:!0}});s.transitionTo(l,{hasHeader:!1,hasFooter:!1})}))}(window,_,jQuery,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("ContestForm",a.views.DummyReactView.extend({events:{"click  .on-contest-popover":"onContestFormPopover","tap  .on-contest-popover":"onContestFormPopover","tap .on-okay":"onPopoverOk","click .on-okay":"stopEvent"},component:"ContestForm",componentId:"contest-form",constructor:function(e){var n={componentData:e.componentData,component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,n)},initPopover:function(e,n,a,s,l){var i="";n&&(i+="<div class='main-content'>"+n,a&&(i+="<div class='secondary-content'>"+a+"</div>"),i+="</div>"),i+="<div class='tooltip-footer'>",s&&(i+="<a target='_blank' href="+s+">"+t.utils.trans("Learn More")+"</a>"),i+="<button type='button' class='btn on-okay btn-orange",l&&(i+=l),i+="'>"+t.utils.trans("OK")+"</button></div>",this.$(e).popover({template:'<div class="popover" role="tooltip" data-trigger="focus" ><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',html:!0,placement:"auto",content:function(){return i}}).on("shown.bs.popover",function(e){var n=$(e.target);$(document).on("click.closePopover",function(e){0===$(e.target).parents(".popover").length&&n.popover("hide")})}).on("hide.bs.popover",function(e){$(document).off("click.closePopover")}).on("hidden.bs.popover",function(e){$(".multi-select").removeClass("disable-click")})},onPopoverOk:function(e){e.preventDefault(),$(".popover").popover("hide"),$(".popover").css("display","none"),$(".multi-select").addClass("disable-click")},onContestFormPopover:function(e){e.preventDefault();var n=t.utils.trans;this.initPopover("#content-tooltip",n("What is Sexual Content?"),n("These ratings help us understand if your story has sexual content, and if it does, to what magnitude. Stories with any level of sexual content are eligible to win,<strong> as long as they abide by our content guidelines</strong>."),{1:"https://www.wattpad.com/837462526-the-2020-watty-awards-how-to-submit",2:"https://www.wattpad.com/845099347-wattys-2020-comment-s%27inscrire",3:"https://www.wattpad.com/843502821-wattys-2020-come-iscriversi",4:"https://www.wattpad.com/845109783-wattys-2020-wie-kann-eingereicht-werden",5:"https://www.wattpad.com/843486204-wattys-2020-%C2%BFc%C3%B3mo-presentar-mi-historia",6:"https://www.wattpad.com/843551600-wattys-2020-como-enviar",13:" https://www.wattpad.com/843913230-wattys-2020-hoe-moet-ik-inzenden",18:"https://www.wattpad.com/845086455-wattys-2020-paano-ang-pagsali",20:"https://www.wattpad.com/845019680-wattys-2020-cara-mendaftarkan",22:"https://www.wattpad.com/846001583-wattys-2020-bagaimana-nak-hantar",23:"https://www.wattpad.com/845105800-2020-watty-%C3%B6d%C3%BClleri-nasil-ba%C5%9Fvurulur"}[a.get("language")])}})),a.mixin(a.views.ContestForm)}(window,_,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(221),s=t.n(a);!function(e,n,t,a,l){a.add("DiscoverStories",a.views.Base.extend({id:"discover-landing",template:s.a,events:{"tap .on-story-preview":"onStoryPreview","click .on-story-preview":"stopEvent"},initialize:function(e){e=e||{},this.setElement(e.el),e.placeholder&&this.collection.once("sync",this.render,this),this.collection.fetch()},render:function(){var n={panels:this.collection.getPanelGroup(),dp:e.devicePixelRatio>=2?2:1};return n.panels.length>0&&(n.mobilePanels=[{story:this.collection.at(0).toJSON()},{story:this.collection.at(1).toJSON()}]),this.$(".loading-placeholder").addClass("hidden").after($(this.template(n)).find(".story-grid")),this},onStoryPreview:function(e){var n=$(e.currentTarget).data("story-id"),s=this.collection.get(n),l=$("#preview-modal"),i=new a.views.BrowseStoryPreview({model:s});if(!l.length)return a.router.navigate(t.formatStoryUrl(s.get("url")),{trigger:!0});l.empty().append(i.render().$el),i.openModal()}})),a.mixin(a.views.DiscoverStories,"LibraryManagement")}(window,wattpad,wattpad.utils,window.app,_)},function(e,n,t){"use strict";t.r(n);var a=t(222),s=t.n(a);!function(e,n,t,a,l){a.add("DiscoverLists",a.views.Base.extend({template:s.a,initialize:function(e){e=e||{},this.setElement(e.el),e.placeholder&&this.collection.once("sync",this.render,this),this.collection.fetch(),this.listenTo(a,"app:user:follow",this.onUpdateFollow),this.listenTo(a,"app:user:unfollow",this.onUpdateUnfollow)},render:function(){var e={lists:l.take(this.collection.toJSON(),3)};return this.$(".loading-placeholder").addClass("hidden").after($(this.template(e)).find(".reading-list-grid")),this},onUpdateFollow:function(e){this.$(this.followButton+"[data-target="+e+"]").children(".fa").removeClass("fa-follow fa-wp-neutral-2").addClass("fa-following fa-wp-neutral-2")},onUpdateUnfollow:function(e){this.$(this.followButton+"[data-target="+e+"]").children(".fa").removeClass("fa-following fa-wp-neutral-2").addClass("fa-follow fa-wp-neutral-2")}})),a.mixin(a.views.DiscoverLists,"FollowManager")}(window,wattpad,wattpad.utils,window.app,_)},function(e,n,t){"use strict";t.r(n);var a=t(223),s=t.n(a),l=t(224),i=t.n(l),r=t(225),o=t.n(r);!function(e,n,t,a){a.add("DiscoverLanding",a.views.RegionManager.extend({template:o.a,partials:{"core.discover.discover_categories":i.a,"core.discover.discover_tags":s.a,"core.collection_views.recommended_follow":function(){return""},"core.signup_prompt":function(){return""}},id:"discover-landing",events:{},initialize:function(e){e=e||{},_.each(this.partials,function(e,n){Handlebars.registerPartial(n,e)})},render:function(){var s=t.currentUser(),l={panelGroups:[]};if(t.appOn()){for(var i=this.collection.toJSON(),r=0;r<i.length;r++)"stories"!==i[r].listType&&"reading_lists_with_users"!==i[r].listType||l.panelGroups.push({placeholder:!0,placeholderType:i[r].listType,title:t.PanelBuilder.linkifyTitle(i[r].title,i[r].elements),subtitle:i[r].subtitle,url:i[r].url,cache:i[r].id}),2===r&&l.panelGroups.push({title:t.trans("Suggested Tags"),tags:s.get("recommendedTags")});l.panelGroups[0].layout=t.PanelBuilder.Layouts.FourUpInside,l.panelGroups[1].layout=t.PanelBuilder.Layouts.FourUpNone,l.categories=a.get("categories").toJSON(),l.currentUser=t.currentUser().get("username"),l.onboarding=!0,n.utils.setCookie("signupFrom","discover",0,e.location.hostname.replace("www","")),this.$el.html(this.template(l)),this.bindDiscoveryPanelGroups()}var o=new a.views.SignUpPrompt({model:new a.models.Authsignup,subtitle:n.utils.trans("Sign Up"),sideWay:!0});if(this.setRegion("#authentication-panel",o.render()),s.get("username")){var c=new a.views.RecommendedFollow({username:s.get("username"),cards:!0,itemCount:4});this.setRegion("#recommended-users",c.render())}return this},bindDiscoveryPanelGroups:function(){var e=this;e.subViews=e.subViews||[],this.$("[data-type=discover-stories]").each(function(){var n=$(this);e.subViews.push(new a.views.DiscoverStories({el:this,placeholder:n.data("placeholder"),collection:new a.collections.DiscoverCollection([],{url:n.data("url"),cache:n.data("cache"),layout:n.data("layout")})}))}),this.$("[data-type=discover-reading_lists_with_users]").each(function(){var n=$(this);e.subViews.push(new a.views.DiscoverLists({el:this,placeholder:n.data("placeholder"),model:e.model,collection:new a.collections.DiscoverListsCollection([],{url:n.data("url"),cache:n.data("cache"),layout:n.data("layout")})}))})},setElement:function(e){Monaco.View.prototype.setElement.apply(this,arguments),this.regions["#recommended-users"]&&this.regions["#recommended-users"].view&&this.regions["#recommended-users"].view.setElement(this.$("#recommended-users > div")),this.regions["#authentication-panel"]&&this.regions["#authentication-panel"].view&&this.regions["#authentication-panel"].view.setElement(this.$("#authentication-panel > div")),this.bindDiscoveryPanelGroups()}}))}(window,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.router.on("route:discover",s.router.filter(["getTranslations","getCategories"],function(){var e=new s.collections.Discover,n=new s.views.DiscoverLanding({collection:e});Promise.resolve(e.fetch()).then(function(){s.transitionTo(n,{hasHeader:!0,hasFooter:!0,pageTitle:a.utils.trans("Discover")})})}))}(window,_,jQuery,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(226),s=t.n(a);!function(e,n,t,a){a.add("LibraryReadingListStoryItem",Monaco.View.extend({className:"list-group-item",tagName:"li",template:s.a,initialize:function(e){e=e||{},this.isOwner=e.isOwner||!1,this.listId=e.id||null},render:function(){var e=this.model.toJSON();return e.list={isOwner:this.isOwner,listId:this.listId},this.$el.html(this.template(e)),this}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(24),s=t.n(a),l=t(36),i=t.n(l),r=t(227),o=t.n(r),c=t(228),u=t.n(c);!function(e,n,t,a){a.add("CoreLibraryReadingList",a.views.IncrementalList.extend({template:u.a,partials:{sidebar:o.a,meta:i.a,listModal:s.a},id:"reading-list",containerClass:".list-group",itemView:a.views.LibraryReadingListStoryItem,events:_.extend({"tap .on-delete-list":"onDeleteList","click .on-delete-list":"stopEvent","tap .on-edit-list":"onToggleEditUI","click .on-edit-list":"stopEvent","tap .on-done-edit":"onDoneEditList","click .on-done-edit":"stopEvent","tap .on-batch-remove":"onBatchRemove","click .on-batch-remove":"stopEvent","tap .on-batch-add":"onShowBatchAddModal","click .on-batch-add":"stopEvent","tap .on-check-story":"onSelected","click .on-check-story":"stopEvent","tap .on-select-all":"onSelectAll","click .on-select-all":"stopEvent","tap .list-group-item":"sendStoryClickTrackingEvent","click .list-group-item":"stopEvent"},a.views.IncrementalList.prototype.events),initialize:function(e){if(!(e=e||{}).model)throw new Error("Invalid Reading List provided to LibraryReadingList view.");this.collection=this.model.stories(),this.selectedStoryIDs=[],this.inEditMode=!1;var n="core.library.reading_list_details.library_reading_list_";Handlebars.registerPartial(n+"sidebar",this.partials.sidebar),Handlebars.registerPartial(n+"meta",this.partials.meta),Handlebars.registerPartial(n+"story_item",function(){return""}),Handlebars.registerPartial("core.mixins.lists_modal",this.partials.listModal),Handlebars.registerPartial("core.signup_prompt",function(){return""}),this.listenTo(a,"app:user:follow",this.updateToFollowingButton),this.listenTo(a,"app:user:unfollow",this.updateToFollowButton),this.collection.once("sync",this.render,this),this.collection.fetchNextSet(),this.signUpPrompt=new a.views.SignUpPrompt({model:new a.models.Authsignup,subtitle:t.trans("Get notified when your favorite stories are updated.")}),this.$el.html(this.template({isLogged:t.currentUser().authenticated()})),t.currentUser().authenticated()||this.signUpPrompt.render()},getItemViewOptions:function(){return{isOwner:this.model.get("user").name===n.utils.currentUser().get("username"),id:this.model.get("id")}},getTemplateData:function(){var e={list:this.model.toJSON(),hasStories:this.collection.total>0,noStories:0===this.collection.total,isOwner:this.model.get("user").name===n.utils.currentUser().get("username"),testGroups:n.testGroups},t={id:this.model.get("id"),cover:this.model.get("cover"),author:this.model.get("user").name,name:this.model.get("name")};return e.socialLinks=this.buildSocialShareLinksForReadingList(t),e},onShowMore:function(e){e&&t.stopEvent(e),this.$(".show-more-message").addClass("hidden"),this.$(".loading-message").removeClass("hidden");var n=this;Promise.resolve(this.collection.fetchNextSet()).then(function(){n.setupDOM(),n.inEditMode&&(n.$(".list-group .on-edit-show").show(),n.$(".list-group .on-edit-hide").hide()),n.$(".show-more-message").removeClass("hidden"),n.$(".loading-message").addClass("hidden")})},onSocialShareSelected:function(n){e.te.push("event","library","reading_list",null,"share",{reading_listid:this.model.get("id"),channel:$(n.currentTarget).data("share-channel")})},getContainer:function(){return this.containerClass?this.$(this.containerClass):this.$el},onSelected:function(e){var n=this.$(e.currentTarget).find(".checked-in"),t=this.getSelectedStoryID(n);this.toggleInput(n,t),this.selectedStoryIDs.length>=this.collection.total?this.$(".select-all .checked-in").show():this.$(".select-all .checked-in").hide()},toggleInput:function(e,n,t){"show"===(t=t||("none"===e.css("display")?"show":"hide"))?(e.show(),this.selectStoryID(n)):(e.hide(),this.unselectStoryID(n))},selectStoryID:function(e){_.includes(this.selectedStoryIDs,e)||this.selectedStoryIDs.push(e),this.showNumberOfSelectedStories(this.selectedStoryIDs.length)},unselectStoryID:function(e){this.selectedStoryIDs=_.without(this.selectedStoryIDs,e),this.showNumberOfSelectedStories(this.selectedStoryIDs.length)},getSelectedStoryID:function(e){return $(e).parent().data("id")},showNumberOfSelectedStories:function(e){e?(this.$(".num-selected").text(n.utils.trans("%s Selected",e)),this.$("#btn-batch-add, #btn-batch-remove").removeAttr("disabled"),this.$(".list-controls").slideDown()):this.$(".list-controls").slideUp()},onSelectAll:function(e){var n=this.$(".select-all .checked-in");n.toggle();var t=this,a=n.is(":visible");this.$(".list-group-item .checked-in").each(function(e,n){t.toggleInput($(this),t.getSelectedStoryID(n),a?"show":"hide")})},onShowBatchAddModal:function(e){var n=new a.views.LibraryBatchAddStories({stories:this.selectedStoryIDs,currentListId:this.model.get("id")});this.$el.append(n.$el)},onBatchRemove:function(t){var a=this,s=this.selectedStoryIDs.map(function(e){return a.collection.get(e)});e.confirm(n.utils.trans("Are you sure you want to remove these stories?"))&&a.collection.remove(s,{success:function(){a.model.set("numStories",a.model.get("numStories")-s.length),_.each(a.selectedStoryIDs,function(e){a.unselectStoryID(e)})},error:function(t){console.error(t),e.alert(n.utils.trans("The stories could not be removed. Please contact Wattpad support to resolve this problem."))}})},onToggleEditUI:function(){this.inEditMode=!this.inEditMode,this.$(".on-edit-show, .on-edit-hide").each(function(){$(this).toggle()})},hideEditUI:function(){this.$(".list-name > span").text(this.model.get("name")),this.onToggleEditUI(),this.$(".list-controls").hide(),this.$("#reading-list-meta").replaceWith(i()({list:this.model.toJSON()}))},onDoneEditList:function(){var e=this,n=this.$("#list-name-input").val().trim(),t=this.model.get("name").trim();if(!_.isEmpty(n)&&n.toLowerCase()!==t.toLowerCase())return e.model.set("name",n),Promise.resolve(this.model.save()).then(function(){e.hideEditUI()}).catch(function(n){console.error(n),e.model.set("name",t)});e.hideEditUI()},onDragEnd:function(){var t=this.DragAndSort.element,s=this.model.get("id");a.local.clear("reading-list."+s+".stories"),Promise.resolve($.ajax({type:"PUT",url:"/api/v3/lists/"+s+"/stories/"+t.children().data("id")+"/position",data:{pos:t.index()}})).catch(function(t){console.error(t),e.alert(n.utils.trans("This story could not be re-ordered. Please contact Wattpad support to resolve this problem."))})},onDeleteList:function(){e.confirm(n.utils.trans("Are you sure you want to delete this reading list?"))&&(t.cacheBust(["ReadingLists"],[{username:n.utils.currentUser().get("username")}],this.model.get("id")),this.model.destroy({success:function(e,n){a.router.navigate("/list",{trigger:!0})},error:function(t,a){console.error(a),void 0!==a&&1008===a.responseJSON.error_code?e.alert(n.utils.trans("This is your default list; it cannot be deleted")):e.alert(n.utils.trans("We could not delete this reading list. Please contact us to resolve this problem."))}}))},updateToFollowingButton:function(e){var n=this.$(".btn-fan");n.removeClass("btn-white").addClass("btn-teal"),n.find(".fa").removeClass("fa-follow fa-wp-base-2-dark").addClass("fa-following fa-wp-neutral-5"),this.$(".created-by-user").text(t.trans("Selected by %s",e))},updateToFollowButton:function(e){var n=this.$(".btn-fan");n.removeClass("btn-teal").addClass("btn-white"),n.find(".fa").removeClass("fa-following fa-wp-neutral-5").addClass("fa-follow fa-wp-base-2-dark"),this.$(".created-by-user").text(t.trans("Follow %s",e))},sendStoryClickTrackingEvent:function(n){e.te.push("event","reading_list","story",null,"click",{reading_listid:this.collection.listId,storyid:$(n.currentTarget).find("div.clearfix").data("id")})}})),a.mixin(a.views.CoreLibraryReadingList,"InfiniteScroll","DragAndSort","SocialSharing","FollowManager","FacebookConnect")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(229),s=t.n(a);!function(e,n,t,a){a.add("LibraryListCard",a.views.Base.extend({className:"reading-list-item-row",template:s.a,events:{"tap .on-delete-list":"onDelete","click .on-delete-list":"stopEvent"},active:!1,render:function(){var e=this.model.toJSON();return e.socialLinks=this.buildSocialShareLinksForReadingList(_.clone(e,{author:t.currentUser().get("username")}),"list"),e.testGroups=n.testGroups,this.$el.html(this.template(e)),this},onDelete:function(){e.confirm(n.utils.trans("Are you sure you want to delete this reading list?"))&&this.model.destroy()}})),a.mixin(a.views.LibraryListCard,"SocialSharing")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(230),s=t.n(a);!function(e,n,t,a){a.add("LibraryListsControls",Monaco.View.extend({template:s.a,events:{"tap .on-newlist":"onOpenNewListModal"},render:function(){return this.$el.html(this.template({islist:!0})),this},onOpenNewListModal:function(){var e=$("#generic-modal"),n=new a.views.LibraryListCreate;e.find(".modal-body").empty().append(n.render().$el),e.modal("show")}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(231),s=t.n(a);!function(e,n,t,a){a.add("LibraryListsLanding",a.views.List.extend({template:s.a,className:"library-lists-landing",containerClass:".reading-list-tab",itemView:a.views.LibraryListCard,initialize:function(){Handlebars.registerPartial("core.library.library_reading_list_item",function(){return""}),this.listenTo(this.collection,"sync",this.render),this.collection.fetchNextSet()},getTemplateData:function(){return{hasLists:this.collection.total>0}},onDragEnd:function(){var e=this.DragAndSort.element;t.cacheBust("ReadingLists",[{username:t.currentUser().get("username")}]),Promise.resolve($.ajax({type:"PUT",url:"/api/v3/users/"+t.currentUser().get("username")+"/lists/"+e.children().first().data("id")+"/position",data:{pos:e.index()}})).catch(function(e){console.error(e)})}})),a.mixin(a.views.LibraryListsLanding,"InfiniteScroll","DragAndSort")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(8),s=t.n(a),l=t(24),i=t.n(l);!function(e,n,t,a){a.add("LibraryBatchAddStories",a.views.Base.extend({templates:{modal:i.a,item:s.a},events:{"tap .on-modify-list":"onModifyList","click .on-modify-list":"stopEvent","tap .fa-remove-alt":"onDestroyModal","click .fa-remove-alt":"stopEvent"},initialize:function(e){var t=this;e=e||{},this.stories=e.stories,this.currentListId=e.currentListId,this.readingLists=new a.collections.ReadingLists([],{username:n.utils.currentUser().get("username"),limit:30}),Promise.resolve(this.readingLists.fetchNextSet()).then(function(){t.render()})},onDestroyModal:function(){this.$(".modal").modal("hide"),$(".modal-backdrop").remove(),this.remove(),Backbone.View.prototype.remove.call(this)},render:function(){this.$el.html(this.templates.modal());var e=this.$(".lists-menu");return _.each(this.readingLists.models,function(n){if(n.get("id")!==this.currentListId){var t={id:n.get("id"),name:n.get("name"),hideStatus:!1};e.append(this.templates.item(t)),this.listenTo(n,"stories:adding",function(e){this.onListAdding(e)}),this.listenTo(n,"stories:added",function(e){this.onListAdded(e)})}},this),this.$(".modal").modal("show"),this},onModifyList:function(t){var s=$(t.currentTarget).data("list-id"),l=this.readingLists.get(s),i=[];_.each(this.stories,function(e){i.push(new a.models.StoryModel({id:e}))}),l.trigger("stories:adding",t.currentTarget),l.stories().add(i,{success:function(){l.trigger("stories:added",t.currentTarget),a.local.clear(l.resource()),a.local.clear(l.stories().resource())},error:function(){e.alert(n.utils.trans("The stories could not be added. Please contact Wattpad support to resolve this problem.")),$(t.currentTarget).children(".status").addClass("hidden")}})},onListAdded:function(e){var n=$(e).children(".status");n.children(".spinner").addClass("hidden"),n.children(".check").removeClass("hidden"),n.parent().addClass("disabled")},onListAdding:function(e){$(e).children(".status").children(".spinner").removeClass("hidden")}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(232),s=t.n(a);!function(e,n,t,a){a.add("LibraryLanding",a.views.RegionManager.extend({template:s.a,events:{"tap .tab-control":"onSwitchTabs","click .tab-control":"stopEvent"},initialize:function(e){if(e=e||{},Handlebars.registerPartial("core.library.library_controls",function(){return""}),Handlebars.registerPartial("core.library.library_controls.library_lists_controls",function(){return""}),Handlebars.registerPartial("core.library.library_listing",function(){return""}),Handlebars.registerPartial("core.library.library_lists_landing",function(){return""}),this.active=e.section||"current-reads",!_.contains(["current-reads","archive","reading-lists"],this.active))throw new Error("Invalid Section Supplied to LibraryLanding View");this.setCollection(this.active)},setCollection:function(e){switch(e){case"current-reads":this.collection=new a.collections.NodeLibrary;break;case"archive":this.collection=new a.collections.Archive;break;case"reading-lists":var t=n.utils.currentUser().get("username");this.collection=new a.collections.ReadingLists([],{username:t})}},getListView:function(){var e="LibraryListing";return this.collection instanceof a.collections.ReadingLists&&(e="LibraryListsLanding"),new a.views[e]({collection:this.collection})},getControlsView:function(){var e="LibraryControls";return this.collection instanceof a.collections.ReadingLists&&(e="LibraryListsControls"),new a.views[e]({collection:this.collection})},render:function(){return this.libraryControlsView=this.getControlsView(),this.$el.html(this.template({islibrary:"current-reads"===this.active,isarchive:"archive"===this.active,islist:"reading-lists"===this.active})),this.setRegion("#library-controls",this.libraryControlsView.render()),this.setRegion("#tab-content",this.getListView()),this},setElement:function(e){Monaco.View.prototype.setElement.apply(this,arguments),this.checkRegion("#tab-content"),this.checkRegion("#library-controls")},checkRegion:function(e){this.regions[e]&&this.regions[e].view&&(this.regions[e].view.setElement(this.$(e+" > div")),"#tab-content"===e&&this.regions["#tab-content"].view.setButtonState())},onSwitchTabs:function(e){var n=$(e.currentTarget),t=n.data("section"),s=n.attr("href");this.setCollection(t),this.setRegion("#tab-content",this.getListView()),this.setRegion("#library-controls",this.getControlsView().render());var l=this.$(".tab-control");l.parent().removeClass("active"),l.filter('[data-section="'+t+'"]').parent().addClass("active"),a.router.navigate(s,{trigger:!1})}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(233),s=t.n(a),l=t(234),i=t.n(l);!function(e,n,t,a){a.add("LibraryCard",Monaco.View.extend({className:"library-story-item",templates:{card:i.a,modal:s.a},initialize:function(){_.bindAll(this,["archive","unarchive","discard","removeView"])},setElement:function(){Monaco.View.prototype.setElement.apply(this,arguments),this.model&&this.$("a,button,.on-story-hover,.on-story-preview").data("cid",this.model.cid)},render:function(){var e=this.model.toJSON(),n=e.readingPosition;return this.model.collection instanceof a.collections.Archive?e.archived=!0:(n.position>0||n.partId!==e.parts[0].id)&&(e.hasStarted=!0),this.$el.html(this.templates.card(e)),this.$("a,button,.on-story-hover,.on-story-preview").data("cid",this.model.cid),this},deactivate:function(){this.$(".on-story-hover").fadeOut(150)},activate:function(){this.$(".on-story-hover").fadeIn(150)},preview:function(){$("#preview-modal").html(this.templates.modal(this.model.toJSON())).modal("show").find("button").data("cid",this.model.cid)},read:function(){a.router.navigate(t.formatStoryUrl(_.findWhere(this.model.get("parts"),{id:parseInt(this.model.get("readingPosition").partId)}).url),{trigger:!0})},details:function(){a.router.navigate(t.formatStoryUrl(this.model.get("url")),{trigger:!0})},archive:function(){return new a.collections.Archive([],{user:t.currentUser()}).addStory(this.model).then(this.removeView)},unarchive:function(){return new a.collections.Archive([],{user:t.currentUser()}).removeStory(this.model,!0).then(this.removeView)},discard:function(){return this.model.collection.removeStory(this.model).then(this.removeView)},removeView:function(e){if(!0===e||_.contains(e.success,this.model.id))return this.$el.fadeOut(500,function(){$(this).remove()}),e}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(235),s=t.n(a);!function(e,n,t,a){a.add("LibraryControls",Monaco.View.extend({template:s.a,render:function(){return this.$el.html(this.template({})),this}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(236),s=t.n(a),l=t(237),i=t.n(l),r=t(238),o=t.n(r);!function(e,n,t,a){a.add("LibraryListing",a.views.List.extend({template:o.a,partials:{errorTemplate:i.a,inactiveStoriesWarning:s.a},itemView:a.views.LibraryCard,containerClass:".collection",activeCard:null,events:function(){var e={};return a.get("device").is.desktop?(e["mouseenter .on-story-preview"]="activateCard",e["mouseleave .on-story-preview"]="deactivateCard"):(e["tap .on-story-preview"]="toggleCard",e["click .on-story-preview"]="stopEvent"),n.testGroups.INACTIVE_STORIES&&(e["tap .on-inactive-stories"]="onShowInactiveStories",e["click .on-inactive-stories"]="stopEvent"),e["tap .on-read"]="readCard",e["click .on-read"]="stopEvent",e["tap .on-details"]="detailsCard",e["click .on-details"]="stopEvent",e["tap .on-archive-story"]="archiveCard",e["click .on-archive-story"]="stopEvent",e["tap .on-unarchive-story"]="unarchiveCard",e["click .on-unarchive-story"]="stopEvent",e["tap .on-delete-story"]="deleteCard",e["click .on-delete-story"]="stopEvent",_.extend(e,a.views.List.prototype.events)},initialize:function(){Handlebars.registerPartial("core.library.library_story_item",function(){return""}),_.bindAll(this,["createErrors","checkForErrors","confirm"]),this.collection.once("sync",this.render,this),this.collection.fetchNextSet({fresh:!0}),n.testGroups.INACTIVE_STORIES&&"current-reads"===this.collection.libraryType&&this.listenToOnce(this.collection,"fetchNext:done",this.showInactiveStoriesWarning)},getTemplateData:function(){return{hasStories:this.collection.length>0}},getActiveCard:function(e){var n=$(e.currentTarget);return n.hasClass("on-story-preview")||(n=n.parents(".on-story-preview")),this.viewPointers[n.data("cid")]},activateCard:function(e){this.toggleCard("activate",e)},deactivateCard:function(e){this.toggleCard("deactivate",e),this.closeReadingListSelector()},readCard:function(e){this.getActiveCard(e).read()},detailsCard:function(e){this.getActiveCard(e).details()},archiveCard:function(e){this.getActiveCard(e).archive().then(this.checkForErrors).then(this.cacheBust)},unarchiveCard:function(e){this.getActiveCard(e).unarchive().then(this.checkForErrors).then(this.cacheBust)},deleteCard:function(e){var n=this.getActiveCard(e);this.confirm(t.trans("Are you sure you want to remove this story from your library/archive?")).then(n.discard).then(this.cacheBust)},toggleCard:function(e,n){var t=this.getActiveCard(n||e);n?t[e]():(t[t.active?"deactivate":"activate"](),t.active=!t.active)},cacheBust:function(){return t.cacheBust(["NodeLibrary","Archive"],[{},{}])},confirm:function(n){return e.confirm(n)?Promise.resolve():Promise.reject()},checkForErrors:function(e){var n=[];n.push.apply(n,this.createErrors(e.failed.notFound,t.trans('The story "%s" could not be found.'))),n.push.apply(n,this.createErrors(e.failed.notInLibrary,t.trans('The story "%s", was not found in your library.'))),n.push.apply(n,this.createErrors(e.failed.notInArchive,t.trans('The story "%s", was not found in your archive.'))),n.push.apply(n,this.createErrors(e.failed.notMoved,t.trans('The story "%s" was not moved. Please try again later.'))),n.length&&$("#generic-modal").html(this.partials.errorTemplate({errors:n})).modal("show")},showInactiveStoriesWarning:function(){var e=n.utils.currentUser().get("username"),t=this,a=$.ajax({type:"GET",url:"/v4/users/"+e+"/library/inactive"});Promise.resolve(a).then(function(e){e.stories.length>0&&t.$el.append(t.partials.inactiveStoriesWarning({stories:e.stories}))})},onShowInactiveStories:function(){var e=n.utils.currentUser().get("username"),t=$.ajax({type:"DELETE",url:"/v4/users/"+e+"/library/inactive"});return this.$el.find(".inactive-stories").modal("show"),Promise.resolve(t)},createErrors:function(e,n){var a=this;return _.map(e,function(e){return t.sprintf(n,[a.collection.get(e).get("title")])})}})),a.mixin(a.views.LibraryListing,"InfiniteScroll","ReadingList")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n,t){"use strict";t.r(n);var a=t(239),s=t.n(a);!function(e,n,t,a){a.add("LibraryListCreate",a.views.Base.extend({template:s.a,events:{"tap .on-createlist":"onCreateList"},constructor:function(){this.model=new a.models.ReadingList,this.model.set("action","create"),a.views.Base.prototype.constructor.apply(this,arguments)},render:function(){return this.$el.html(this.template({})),this},onCreateList:function(){var e=this;this.model.save().done(function(){t.cacheBust("ReadingLists",{username:t.currentUser().get("username")}),a.router.navigate("list/"+e.model.get("id"),{trigger:!0})})}})),a.mixin(a.views.LibraryListCreate,"ValidationView")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n){!function(e,n,t,a,s){"use strict";s.router.on("route:library-current-reads",s.router.filter(["getTranslations","getCategories"],function(){var n=new s.views.LibraryLanding({section:"current-reads"}),t={hasHeader:!0,hasFooter:!0,pageTitle:a.utils.trans("Library - Current Reads")};s.get("device").is.android&&(t.footerOptions={appUrl:a.utils.getAppLink("library")}),s.transitionTo(n,t),e.te.push("event","app","page",null,"view",{page:"library"})}))}(window,_,jQuery,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.router.on("route:library-archive",s.router.filter(["getTranslations","getCategories"],function(){var e=new s.views.LibraryLanding({section:"archive"});s.transitionTo(e,{hasHeader:!0,hasFooter:!0,pageTitle:a.utils.trans("Library - Archive")})}))}(window,_,jQuery,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.router.on("route:library-reading-lists",s.router.filter(["getTranslations","getCategories"],function(n){var t;if(isNaN(n))t=new s.views.LibraryLanding({section:"reading-lists"}),s.transitionTo(t,{hasHeader:!0,hasFooter:!0,pageTitle:a.utils.trans("Library - Reading Lists")});else{var l=new s.models.ReadingList({id:n});Promise.resolve(l.fetch()).then(function(){t=new s.views.CoreLibraryReadingList({model:l}),s.transitionTo(t,{hasHeader:!0,hasFooter:!0,pageTitle:l.get("name")+" - "+l.get("user").name}),e.te.push("event","app","page",null,"view",{page:"reading_list",reading_listid:n})},function(){s.router.trigger("route:error-404","list")})}}))}(window,_,jQuery,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(240),s=t.n(a),l=t(241),i=t.n(l);!function(e,n,t,a){a.add("GetMobile",a.views.Base.extend({id:"get-mobile-page",template:i.a,events:{"tap   .on-login":"onAuthPrompt","click .on-login":"stopEvent","tap   .on-signup":"onNavigatePage","click .on-signup":"stopEvent","tap   .on-password-forgot":"onNavigatePage","click .on-password-forgot":"stopEvent","tap    .on-pw-toggle":"onPasswordToggle","click  .on-pw-toggle":"stopEvent","submit #send-link":"onSendAppLink"},initialize:function(e){this.timeout=null,this.deviceType=a.get("device")&&a.get("device").is.mobile?"mobile":"desktop",this.title=t.utils.trans("Log in to Wattpad")},render:function(e){var n,l,i,r,o={};return e=e||{},r=a.get("device"),n=t.utils.getCookie("locale"),l=a.get("supported-languages"),n&&0!==n.trim().length||(n="en_US"),i=l.where({locale:n})[0].toJSON(),o={downloadAppUrl:t.utils.getAppUrl("getmobile"),appUrl:t.utils.getAllAppUrls("getmobile"),googlePlayImage:this._googlePlayImage(i.code),languageCode:i.code,device:r},r.is.ios?(o.ratingsText=t.utils.trans("84,000+ 5 star ratings"),o.appStoreImage="homepages/appstore_dark.png",o.mobileOS="iOS"):r.is.windows?(o.ratingsText="",o.appStoreImage="homepages/windows_appstore.png",o.mobileOS="windows"):r.is.huawei?(o.ratingsText="",o.appStoreImage="homepages/huawei_appgallery_dark.png",o.mobileOS="huawei"):(o.ratingsText=t.utils.trans("1,000,000+ 5 star ratings"),o.appStoreImage=o.googlePlayImage,o.mobileOS="Android"),Handlebars.registerPartial("core.getmobile.values",s.a),this.$el.html(this.template(o)),this},onPasswordToggle:function(n){var t=$(n.currentTarget),a=t.siblings("input"),s=a.attr("type");e.clearTimeout(this.timeout),"password"===s&&(a.attr("type","text").focus(),t.addClass("active")),"text"===s&&(a.attr("type","password").focus(),t.removeClass("active"))},onSendAppLink:function(a){var s=$("#send-link #sendTo");n.delay(function(){if(s.parent().hasClass("valid")){var a=$("#send-link .on-send-app-link");a.addClass("sending"),Promise.resolve($.ajax({type:"POST",url:"/apiv2/send_download_link",data:{to:s.val()}})).then(function(){a.removeClass("sending"),a.addClass("sent"),n.delay(function(){a.removeClass("sent")},5e3)}).catch(function(n){a.removeClass("sending"),e.alert(t.utils.trans(n))})}},200),t.utils.stopEvent(a)},_googlePlayImage:function(e){switch(e.toLowerCase()){case"ar":return"homepages/googleplay/ar.png";case"cs":return"homepages/googleplay/cs.png";case"de":return"homepages/googleplay/de.png";case"es":return"homepages/googleplay/es.png";case"fr":return"homepages/googleplay/fr.png";case"id":return"homepages/googleplay/id.png";case"it":return"homepages/googleplay/it.png";case"pl":return"homepages/googleplay/pl.png";case"pt":case"pt_pt":case"pt_br":return"homepages/googleplay/pt.png";case"ro":return"homepages/googleplay/ro.png";case"ru":return"homepages/googleplay/ru.png";case"sk":return"homepages/googleplay/sk.png";case"sv":return"homepages/googleplay/sv.png";case"tr":return"homepages/googleplay/tr.png";case"vi":return"homepages/googleplay/vi.png";case"en":default:return"homepages/googleplay/en.png"}}})),a.mixin(a.views.GetMobile,"ValidationView","AuthPromptManagement")}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.router.on("route:getmobile",s.router.filter(["getTranslations"],function(){var e=new s.views.GetMobile({model:new s.models.GetMobile({})});s.transitionTo(e,{hideAddressBar:!1,hasHeader:!0,hasFooter:!0})}))}(window,_,jQuery,wattpad,window.app)},function(e,n){!function(e,n,t){"use strict";t.router.add({"home(/:section)":["home.index",{regexp:{section:/browse/}}]})}(window,window.wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.router.on("route:home.index",s.router.filter(["requireLogin","getTranslations","getCategories"],function(n){s.get("device").is.mobile;var t=new s.views.NewHome;s.transitionTo(t,{hasHeader:!0,hasFooter:!0,pageTitle:a.utils.trans("Home")}),e.te.push("event","app","page",null,"view",{page:"home"})}))}(window,_,jQuery,wattpad,window.app)},function(e,n){},function(e,n,t){"use strict";t.r(n);var a=t(242),s=t.n(a);!function(e,n,t,a){a.add("HomeIndex",a.views.RegionManager.extend({id:"home-index",template:s.a,subviews:{discover:a.views.DiscoverRows},events:{"tap .tab-control":"onTabNavigation","click .tab-control":"stopEvent"},initialize:function(e){e=e||{},this.section=e.section||"home",this.homeCollection=new a.collections.Home},render:function(){return this.$el.html(this.template({onBrowse:"browse"===this.section,isMobile:a.get("device").is.mobile,testGroups:n.testGroups})),this.renderRegion("#home-content"),_.defer(function(){$("#announcements-container .spielbergo").length&&$("#announcements-container").removeClass("hide")}),this},renderRegion:function(e){var n=this;if("home"===this.section){var s=new this.subviews.discover({collection:this.homeCollection});0===this.homeCollection.length?Promise.resolve(this.homeCollection.fetchNextSet(t.appOn()?{}:{fresh:!0})).then(function(){n.$(e).empty(),n.setRegion(e,s.render())}):(this.$(e).empty(),this.setRegion(e,s.render()))}else if("browse"===this.section){(s=new a.views.BrowseTopics).render(),this.listenToOnce(s,"render:done",function(){n.$(e).empty(),n.setRegion(e,s)})}},onTabNavigation:function(e){var n=$(e.currentTarget);this.section=n.data("section"),this.$(".tab-control").removeClass("active"),n.addClass("active"),this.renderRegion("#home-content"),a.router.navigate(n.find("a").attr("href"),{trigger:!1})}}))}(window,wattpad,wattpad.utils,window.app)},function(e,n){app.router.add({"checkout(/)":["checkout",{}],"manage_payment(/)":["managePayment",{}]})},function(e,n){!function(e,n,t,a,s){"use strict";a.add("SubscriptionCheckout",a.views.DummyReactView.extend({component:"SubscriptionPurchaser",componentId:"subscription-purchaser",constructor:function(){var e=t.utils.getCookie("locale");this.componentData={locale:e,sendStripeToken:this.sendStripeToken.bind(this),createSubscription:this.createSubscription.bind(this),username:s.getCurrentUserAttr("username")};var n={componentData:this.componentData,component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,n)},sendStripeToken:function(e,n){return Promise.resolve()},createSubscription:function(e){return new Promise(function(e,n){setTimeout(e,5e3)})}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,n){!function(e,n,t,a,s){"use strict";a=a||(e.wattpad={}),s.router.on("route:checkout",s.router.filter(["getTranslations","requireLogin"],function(e){var t=n.get(a,".testGroups.WEB_PAYMENTS")||!1,l=s.get("device").isDesktop();if(n.every([t,l])){var i=new s.views.SubscriptionCheckout({});s.transitionTo(i,{hasHeader:!0,hasFooter:!0})}else a.utils.redirectToCSR("/home")}))}(window,_,jQuery,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";a.add("NewHome",a.views.DummyReactView.extend({component:"Home",componentId:"new-home-landing",constructor:function(){var e={componentData:this.componentData,component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,e)}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,n){app.router.add({inbox:["inbox"]}),app.router.add({"inbox/:activeThread":["inbox",{regexp:{activeThread:/[\w\-]+/}}]})},function(e,n){!function(e,n,t,a,s){"use strict";s.router.on("route:inbox",s.router.filter(["getTranslations","requireLogin"],function(n){var t=a.utils.currentUser(),l=n?e.app.components.actions.resetConversation():e.app.components.actions.resetThreads();e.store.dispatch(l);var i=new s.views.DummyReactView({component:"Inbox",componentId:"inbox",componentData:{username:t.get("username"),avatar:t.get("avatar")}});s.transitionTo(i,{hasHeader:!0,hasFooter:!0})}))}(window,_,jQuery,wattpad,window.app)},function(e,n){app.router.add({"catalog/:catalog":["catalog",{regexp:{catalog:/[\w\-]+/}}]})},function(e,n){!function(e,n,t,a,s){"use strict";s.router.on("route:catalog",s.router.filter(["getTranslations"],function(e){var n=new s.views.DummyReactView({component:"Catalog",componentId:"catalog",componentData:{catalog:e}});s.transitionTo(n,{hasHeader:!0,hasFooter:!0})}))}(window,_,jQuery,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";a.add("ManagePayment",a.views.DummyReactView.extend({component:"ManagePayment",componentId:"user",showCancelModal:function(e){var n=new a.views.DummyReactView({component:"CancelSubscriptionModal",componentId:"PaymentManagement",componentData:{cancelDate:e,cancelSubscription:this.cancelSubscription.bind(this)}});n.render(),$("#generic-modal .modal-body").html(n.$el),$("#generic-modal").modal("show")},cancelSubscription:function(){return console.log("Making cancel subscription API request..."),new Promise(function(e,n){setTimeout(function(){console.log("Subscription successfully cancelled"),e()},500)})},updatePaymentInformation:function(e,n){return Promise.resolve()},constructor:function(){var e=t.user;this.componentData={isPremium:e.premium,showCancelModal:this.showCancelModal.bind(this),updatePaymentInformation:this.updatePaymentInformation.bind(this),username:e.username,locale:t.utils.getCookie("locale")};var n={componentData:this.componentData,component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,n)}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,n){!function(e,n,t,a,s){"use strict";a=a||(e.wattpad={}),s.router.on("route:managePayment",s.router.filter(["getTranslations","requireLogin"],function(e){var n=new s.views.ManagePayment;s.transitionTo(n,{hasHeader:!0,hasFooter:!0})}))}(window,_,jQuery,wattpad,window.app)},function(e,n){!function(e,n,t){"use strict";t.router.add({"invite-friends":["invite-friends.index",{}]})}(window,window.wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";s.router.on("route:invite-friends.index",s.router.filter(["requireLogin","getTranslations","getCategories"],function(){s.transitionTo(new s.views.InviteFriendsIndex,{hasHeader:!0,hasFooter:!0,pageTitle:a.utils.trans("Invite your friends to Wattpad")})}))}(window,_,jQuery,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(243),s=t.n(a);!function(e,n,t,a){a.add("InviteFriendsIndex",a.views.RegionManager.extend({template:s.a,regionMethod:"replaceWith",id:"invite-friends",className:"push-container",initialize:function(){_.bindAll(this,"facebookConnected"),Handlebars.registerPartial("core.invite_friends.components.invite_panel",function(){return""}),t.currentUser().get("facebook")&&_.delay(this.facebookConnected,1)},render:function(){return this.$el.html(this.template({hasFacebook:!!t.currentUser().get("facebook")})),this.setRegion(".invite-panel-component",new a.views.InvitePanel({action:"select_from_nav",content:"invite_nav"})),this},facebookConnected:function(){this.setRegion("#find-facebook-friends",new a.views.FacebookFriends)},setElement:function(e){$(e);a.views.RegionManager.prototype.setElement.call(this,e),this.attachRegions()}})),a.mixin(a.views.InviteFriendsIndex,"FacebookConnect")}(window,window.wattpad,window.wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(244),s=t.n(a);!function(e,n,t,a){a.add("InvitePanel",a.views.Base.extend({template:s.a,className:"wp-component invite-panel-component",events:{"tap .provider-facebook":"onFacebookProvider","tap .provider-twitter":"onTwitterProvider","tap .provider-mailto":"onMailtoProvider","click .invite-providers > li":"stopEvent","focus .provider-email > input":"clearMessage","tap .provider-email > button":"onEmailProvider","click .provider-email > button":"stopEvent"},initialize:function(e){e=e||{},this.action=e.action,this.content=e.content},render:function(){return this.$el.html(this.template({})),this},clearMessage:function(){this.$(".email-message").text("")},onEmailProvider:function(){var e=this,n=this.$(".provider-email > button, .provider-email > input"),s=this.$(".provider-email > input"),l=this.$(".provider-email > button"),i=s.val();if(null!==i.match(/^[a-zA-Z0-9_\.\'\+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-\.]+$/)){n.attr("disabled","disabled"),l.children().toggle();var r=new a.models.UserInvite({emails:i});this.attachErrorHandlers(r),this.trackEvent("email"),Promise.resolve(r.save()).then(function(){e.$(".email-message").text(t.trans("You have successfully sent an invite")).removeClass("warning"),_.delay(function(){e.$(".email-message").text("")},3e3),s.val("")}).catch(function(){}).then(function(){l.children().toggle(),n.removeAttr("disabled"),e.detachErrorHandlers(r)})}else this.$(".email-message").text(t.trans("The email address is invalid.")).addClass("warning")},onFacebookProvider:function(){var e=this;this.trackEvent("facebook"),Promise.resolve(this.createShareLink("facebook")).then(function(n){e.facebookSend(n.url)})},onTwitterProvider:function(){var e=this;this.trackEvent("twitter"),Promise.resolve(this.createShareLink("twitter")).then(function(n){e.twitterShare({text:t.trans("Follow me on Wattpad! Username %s",t.currentUser().get("username")),url:n.url})})},onMailtoProvider:function(){this.trackEvent("email"),Promise.resolve(this.createShareLink("email")).then(function(n){var a=t.trans("Follow me on Wattpad!"),s=encodeURIComponent(n.url),l=t.trans("Follow me on Wattpad, a free, one-of-a-kind social reading and writing app. My username is: %s%%0A\n%s",t.currentUser().get("username"),s);e.location.href="mailto:?to=&subject="+a+"&body="+l})},createShareLink:function(e){var n=t.currentUser().get("username"),a="https://www.wattpad.com/user/"+n,s="wattpad://user/"+n,l={source:"web",medium:e,campaign:"invitefriends",content:"sharing",page:this.content,desktopRedirect:!0};return t.generateBranchLink(a,s,l)},trackEvent:function(t){n.utils.pushEvent({category:"invite_friends",action:this.action,label:t});var a={source:"web",medium:t,campaign:"invitefriends",content:"invite-friends",page:this.content};e.te.push("event","app","invite_friends",null,"deeplink",a)}})),a.mixin(a.views.InvitePanel,"FacebookConnect","TwitterConnect")}(window,window.wattpad,window.wattpad.utils,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(245),s=t.n(a);!function(e,n,t,a){a.add("FacebookFriends",a.views.CollectionView.extend({template:s.a,className:"col-md-8 clearfix",id:"find-facebook-friends",events:{"tap .btn-invite":"onFacebookInvite","click .btn-invite":"stopEvent"},itemView:a.views.UserItem,initialize:function(){this.iCanHazErrors(),this.collection=new a.collections.FacebookFriends,this.facebookConnected()},facebookConnected:function(){var e=this;return Promise.resolve(this.collection.fetch()).then(function(){e.render()}).catch(function(){e.hasFailed?e.render():(e.hasFailed=!0,e.getPermissions())})},render:function(){this.$el.html(this.template({hasItems:!!this.collection.length})),this.renderCollection()},onFacebookInvite:function(){var e=this;n.utils.pushEvent({category:"invite_friends",action:"select_from_nav",label:"facebook"});var a=t.generateBranchLink("https://www.wattpad.com/signup",this.getDeepLink(),{source:"mobileweb",medium:"invite-friends-facebook",content:"sharing",page:this.getDeepLinkPage()});Promise.resolve(a).then(function(n){e.facebookSend(n.url)})}})),a.mixin(a.views.FacebookFriends,"FacebookConnect")}(window,window.wattpad,window.wattpad.utils,window.app)},function(e,n){window.mobileApp=window.mobileApp||{},window.mobileApp.config=function(e,n,t,a){"use strict";if(null!==a&&void 0!==a){var s=(t=t||e.wattpad||(e.wattpad={})).utils||(t.utils={});e.app||(e.app=a),a.set("default-language","1");var l=new a.collections.Languages(t.supportedLangs);a.set("supported-languages",l);var i=!!(t&&t.utils&&t.utils.getCookie)&&s.getCookie("locale");i=null===i||!1===i?"en_US":i;var r=l.find(function(e){return e.get("locale")===i});if((r=r?r.get("id").toString():"")&&""!==r||a.get("language")&&""!==a.get("language")?r&&""!==r&&(a.set("language",r,!0),t.language=r):(a.set("language",a.get("default-language"),!0),t.language=a.get("default-language")),a.set("api-key-web",t.apiAuthKey),e.jQuery&&(e.jQuery("body > div:not(#header-container,.shadow-banner), #header, #footer-container").hammer({behavior:{userSelect:!0}}),s.modernizr("fontface")?e.jQuery("body").removeClass("ff-unsupported"):e.jQuery("link#font-awesome").remove()),a.set("device",new s.Device),a._firstRun=!0,t&&t.utils&&t.utils.getCookie&&t.utils.setCookie){var o=s.getCookie("ff"),c=t.utils.modernizr&&s.modernizr("fontface")?1:0;o&&null!==o||s.setCookie("ff",c),window.devicePixelRatio&&s.setCookie("dpr",window.devicePixelRatio);var u=(new Date).getTimezoneOffset()/60;s.setCookie("tz",u)}_.each(window.wattpad.experiments,function(e,n){var s={};s[e.variation]={suffix:t.utils.toPascalCase(e.variation)},a.experiments.set(n,s,{users:1,experimentKey:e.key,status:e.status}),a.experiments.get(n).split()})}},window.mobileApp.config(window,Monaco,wattpad,window.app)},function(e,n){!function(e,n,t,a,s,l,i){l.add("ReactComponentWrapper",i.View.extend({initialize:function(t,a,s,l){return s=s||{},t?a?e.app.components[t]?(this.componentId=a,this.containerId=("component-"+t+"-"+this.componentId+"-"+e.location.pathname).toLowerCase(),this.container=this.generateContainer(t),this.model=s.model,this.componentName=t,this.listenTo(this.model,"change",n.bind(this.render,this)),this):new Error(t+" is not defined in window.app.components"):new Error("componentId not provided"):new Error("componentName not provided")},generateContainer:function(e){return t("<div class='component-wrapper' id='"+this.containerId+"'></div>")},remove:function(){this.container&&this.container[0]&&ReactDOM.unmountComponentAtNode(this.container[0]),i.View.prototype.remove.apply(this,arguments)},render:function(){if(this.retryCount=this.retryCount||0,!document.getElementById(this.containerId)){if(!(this.retryCount<5))throw new Error(this.containerId+" mounting failed.");return n.defer(n.bind(function(){this.retryCount++,this.render()},this),1e3),"<div class='component-wrapper' id='"+this.containerId+"'></div>"}return this.setElement(document.getElementById(this.containerId)),this.container=t(document.getElementById(this.containerId)),n.defer(n.bind(function(){this.retryCount=0;var n=e.app.components[this.componentName],t=e.app.components.withRedux(n,e.store);ReactDOM.render(React.createElement(t,this.model.toJSON()),document.getElementById(this.containerId))},this)),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n){!function(e,n){"use strict";n.router.add({comesignup:["retargeting_landing",{}]})}(window,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(246),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("RetargetingLanding",i.views.Base.extend({template:s.a,id:"retargeting-landing",events:{"tap   .on-signup":"loadSignupModal","click .on-signup":"stopEvent"},render:function(){var e={isMobile:i.get("device").is.mobile,languageId:parseInt(i.get("language"),10)};return this.$el.html(this.template(e)),n.defer(this.afterRender.bind(this)),this},afterRender:function(){i.get("device").is.mobile&&this.initCarousel()},loadSignupModal:function(e){var n=new i.views.SignUpPrompt({model:new i.models.Authsignup,title:a.utils.trans("Join Wattpad"),formType:"navbar_modal",form:"signup"});t("#generic-modal .modal-content").addClass("auth-modal"),t("#generic-modal .modal-body").html(n.render().$el),t("#generic-modal").modal("show"),t("#generic-modal").one("shown.bs.modal",function(){t(this).find("[autofocus]").focus()})},initCarousel:function(){var e={nav:!0,navText:['<span class="fa fa-left fa-wp-neutral-2 carousel-left"></span>','<span class="fa fa-right fa-wp-neutral-2 carousel-right"></span>'],autoPlay:5e3,stopOnHover:!1};l.rtlLanguage(parseInt(i.get("language"),10))&&n.extend(e,{rtl:!0}),i.get("device").is.mobile?n.extend(e,{responsive:{0:{items:1},600:{items:2},900:{items:3}}}):n.extend(e,{items:2,autoWidth:!0,margin:30}),this.$(".owl-carousel").one("initialized.owl.carousel",function(){t(this).removeClass("invisible")}),this.$(".owl-carousel.no-loop, .owl-carousel.users").owlCarousel(e),n.extend(e,{loop:!0}),this.$(".owl-carousel:not(.no-loop):not(.users)").owlCarousel(e)}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n){!function(e,n,t,a,s){"use strict";s.router.on("route:retargeting_landing",s.router.filter(["getTranslations"],function(){var e=new s.views.RetargetingLanding;s.transitionTo(e,{hasHeader:!1,hasFooter:!1})}))}(window,_,jQuery,wattpad,window.app)},function(e,n){!function(e,n){"use strict";n.router.add({presents:["videos_landing",{}]})}(window,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(247),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("VideosLanding",i.views.Base.extend({template:s.a,id:"wattpad-presents",events:{},render:function(){var e=[];n.each(this.options.videoModels,function(n){e.push(n.toJSON())});var t={isMobile:i.get("device").is.mobile,videoStoryPairs:e,numVideos:e.length};return this.$el.html(this.template(t)),n.defer(this.afterRender.bind(this)),this},afterRender:function(){var n=this,t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a),e.onYouTubeIframeAPIReady=function(){n.initVideos()}},initVideos:function(){var t=this.options.videoModels;n.each(t,function(n){var a=n.toJSON();new e.YT.Player("player-"+a.videoId,{height:i.get("device").is.mobile||3===t.length?"210":"390",width:"640",videoId:a.videoId})})}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n){!function(e,n,t,a,s){"use strict";s.router.on("route:videos_landing",s.router.filter(["getTranslations","getCategories"],function(){var e=JSON.parse(a.spielbergoData),t=[],l=[];n.each(e,function(e){var n=new s.models.StoryVideoModel({id:e.story,videoId:e.video});l.push(n),t.push(n.fetch())}),Promise.all(t).then(function(e){var n=new s.views.VideosLanding({videoModels:l});s.transitionTo(n,{hasHeader:!1,hasFooter:!1,pageTitle:"Wattpad Presents"})},function(){s.router.trigger("route:error-404","wattpad-presents")})}))}(window,_,jQuery,wattpad,window.app)},function(e,n){!function(e,n,t,a,s){"use strict";a.add("StoryVideoModel",a.models.BaseModel.extend({defaults:{cover:"",title:""},fields:["id","title","url","cover",{user:["name"]},"categories"],cacheLocal:!0,urlRoot:"/api/v3/stories/",resource:function(){return"wattpad.presents."+parseInt(this.get("id"),10)+".metadata"},fetch:function(e){var n=a.models.BaseModel.prototype.fetch.call(this,e);return Promise.resolve(n).then(function(e){return e})},parse:function(e){if(e.categories&&e.categories.length>1&&(e.categories=[e.categories[0]||e.categories[1]],a.get("categories"))){var n=a.get("categories").get(e.categories[0]);if(n){var t=n.toJSON();e.category=t.name}}return e}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,n){!function(e,n){"use strict";n.router.add({"featured(/:list)":["featured_picks",{regexp:{list:/[0-9]*/}}]})}(window,window.app)},function(e,n){!function(e,n,t){"use strict";t.router.on("route:featured_picks",t.router.filter(["getTranslations","getCategories"],function(n){var a=new t.models.ReadingList({id:n});Promise.all([a.fetch()]).then(function(){var s=new t.views.FeaturedPicks({model:a});t.transitionTo(s,{hasHeader:!0,hasFooter:!0}),e.te.push("event","app","page",null,"view",{page:"featured",reading_listid:n})}).catch(function(e){console.error(e)})}))}(window,wattpad,window.app)},function(e,n,t){"use strict";t.r(n);var a=t(248),s=t.n(a);!function(e,n,t,a,l,i,r){i.add("FeaturedPicks",i.views.IncrementalList.extend({template:s.a,itemView:i.views.BrowseStoryItem,containerClass:".featured-picks",events:n.extend({"tap .on-story-preview":"onStoryPreview","click .on-story-preview":"stopEvent","tap .featured-list":"sendDropdownClickTrackingEvent","click .featured-list":"stopEvent","tap .on-story-details":"sendStoryClickTrackingEvent","tap .on-start-reading":"sendStoryClickTrackingEvent"},i.views.IncrementalList.prototype.events),initialize:function(e){e=e||{},this.collection=this.model.stories(),this.pageTitle=this.model.get("name"),Handlebars.registerPartial("core.item_views.browse_story_item",function(){return""}),a.utils.setTitle(this.pageTitle),this.collection.once("sync",this.render,this),this.collection.fetchNextSet(),this.listenTo(i,"app:component:TagMetaItem:click",this.navigateToTagPage),this.listenTo(i,"app:component:TagMetaNumNotShown:click",this.onStoryPreview)},getContainer:function(){return this.$el.find(this.containerClass)},getTemplateData:function(){var e=this.model.toJSON();return{hasStories:this.collection.total>0,readingList:e,title:e.name}},getItemViewOptions:function(){return{id:this.model.get("id")}},onStoryPreview:function(e){var n=t(e.currentTarget).data("story-id"),a=this.collection.get(n),s=new i.views.BrowseStoryPreview({model:a});this.$("#preview-modal").empty().append(s.render().$el),s.openModal(),this.sendStoryClickTrackingEvent(e)},navigateToTagPage:function(e){var n=t(e.currentTarget).text().trim();i.router.navigate("/stories/"+encodeURIComponent(n),{trigger:!0})},sendStoryClickTrackingEvent:function(n){var a=t(n.currentTarget).data("story-id")||this.$("#preview-modal .browse-preview.modal").data("story-id");e.te.push("event","featured","story",null,"click",{reading_listid:t(".current-list").data("list-id"),storyid:a})},sendDropdownClickTrackingEvent:function(n){e.te.push("event","featured","dropdown",null,"click",{reading_listid:t(n.currentTarget).data("list-id")})}})),i.mixin(i.views.FeaturedPicks,"InfiniteScroll")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,n){!function(e,n){"use strict";n.router.add({"settings(/)":["user_settings",{}]})}(window,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("UserSettings",a.models.User.extend({idAttribute:"username",fields:["username","name","email","description","avatar","backgroundUrl","createDate","location","birthdate","gender","genderCode","facebook","twitter","website","bubok","smashwords","lulu","password","verified","verified_email","highlight_colour","html_enabled","ambassador","wattpad_squad","is_staff","isPrivate","isMuted","externalId","beta_enabled","premium","appear_offline","show_name","has_password",{notificationSettings:["alerts","subscribe","alertssub"]}],urlRoot:"/api/v3/users/",resource:function(){return"user."+this.get("username")},_mutedUsers:[],mutedUsers:function(){return this._mutedUsers},fetchIgnoreList:function(){var e=this;return Promise.resolve($.ajax({url:"/apiv2/ignoreuser?id="+this.get("id")+"&action=get_ignored_web",type:"POST"})).then(function(n){return"SUCCESS"===n.result&&(e._mutedUsers=n.list.map(function(e){return new a.models.UserModel({id:e.ID,username:e.NAME,avatar:"https://a.wattpad.com/useravatar/"+e.NAME+".jpg"})})),e._mutedUsers}).catch(function(e){return console.error(e),!1})},updateAvatar:function(e){return Promise.resolve($.ajax({type:"POST",url:"/apiv2/updateuserprofilepic",data:{image:e.parsed}})).then(function(e){return e}).catch(function(e){return e})},updateBackground:function(e){return Promise.resolve($.ajax({type:"POST",url:"/apiv2/updateuserbackground",data:{image:e.parsed}})).then(function(e){return e}).catch(function(e){return e})},updateNotifications:function(e){var n,t=e,a=t[0].elements,s=0;return a.alertssub.checked&&(s|=252),a.alerts.value=a.alerts.checked?1:0,a.alertssub.value=a.alertssub.checked?1:0,a.subscribe.value=a.subscribe.checked?1:0,a.alertssubmask.value=s,n=t.serialize(),Promise.resolve($.ajax({type:"POST",url:"apiv2/usernotifications",data:n,processData:!1})).then(function(e){if("SUCCESS"===e.result)return{alerts:e.alerts,alertssub:e.alertssub,subscribe:e.subscribe}}).catch(function(e){return console.error(e),e})}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t){"use strict";t.router.on("route:user_settings",t.router.filter(["getTranslations"],function(e){var a=new t.models.UserSettings(n.user);Promise.all([a.fetch(),a.fetchIgnoreList()]).then(function(){var s=new t.views.UserSettings({model:a,mutedUsers:a.mutedUsers(),errorMessage:e&&e.errorMessage});t.transitionTo(s,{hasHeader:!0,hasFooter:!0,pageTitle:n.utils.trans("User Settings")})},function(){t.router.trigger("route:error-404","user-settings")})}))}(window,wattpad,window.app)},function(e,n){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,n,a,s,l,i){"use strict";i.add("UserSettings",i.views.DummyReactView.extend({component:"UserSettings",componentId:"user-settings",reportModalContainer:".mute-accounts-options-modal",modalTitle:s.utils.trans("Report a User"),requestType:"reported_users",isMainReportModal:!0,constructor:function(e){this.model=e.model,this.componentData=this.getComponentData(),this.mutedUsers=e.mutedUsers,this.errorMessage=e.errorMessage,this.errorMessage&&alert(this.errorMessage),e={componentData:this.componentData,component:this.component,componentId:this.componentId},i.views.DummyReactView.call(this,e)},render:function(){this.componentData=this.getComponentData(),i.views.DummyReactView.prototype.render.apply(this)},getComponentData:function(){var e=n.map(this.mutedUsers,function(e){return e.toJSON()});return{userObj:this.model.toJSON(),mutedUsers:e,app:{deviceType:s.utils.getDeviceType(),language:i.get("language"),languages:i.get("supported-languages").toJSON()},saveAvatarChanges:this.saveAvatarChanges.bind(this),saveBackgroundChanges:this.saveBackgroundChanges.bind(this),onSaveAccountChanges:this.onSaveAccountChanges.bind(this),openUserSettingsModal:this.openUserSettingsModal.bind(this),updateNotifications:this.updateNotifications.bind(this),renderTooltips:this.renderTooltips.bind(this)}},reportMoreInfo:function(){return[{key:"Reported User",val:e.location.href}]},saveAvatarChanges:function(e){var n,t=this;e&&t.getFile(e).catch(function(e){return Promise.reject()}).then(function(e){return n=e,t.model.updateAvatar(e)}).then(function(e){e.success&&(t.model.set("avatar",n.data),t.render())})},saveBackgroundChanges:function(e){var n,t=this;e&&t.getFile(e).catch(function(e){return Promise.reject()}).then(function(e){return n=e,t.model.updateBackground(e)}).then(function(e){e.success&&(t.model.set("backgroundUrl",n.data),t.render())})},getFile:function(e){var n=new FileReader;return new Promise(function(t,a){e?(n.onload=function(e){t({data:e.target.result,parsed:e.target.result.match(/;base64,(.+)$/)[1]})},n.onerror=function(){a({code:1,message:l.trans("Error reading file")})},n.readAsDataURL(e)):a({code:0,message:l.trans("Please select a file to upload")})})},renderTooltips:function(){var e=this.$("#facebook-tooltip .fa-info"),n=this.$("#twitter-tooltip .fa-info"),t=this.$("#beta-tooltip .fa-info"),a=this.$("#wtg-tooltip .fa-info"),s=this.$("#info-tooltip .fa-info"),i=l.trans("Connecting with Facebook makes it really easy to share everything you do on Wattpad with your Facebook friends. It also allows you to login to Wattpad with one click!"),r=l.trans("Connecting with Twitter makes it really easy to tweet about interesting things you find on Wattpad. It also allows you to login to Wattpad with one click!"),o=l.trans("Check out what&#39;s coming next on Wattpad&#39;s website and help give feedback by joining our web beta group"),c=l.trans("Revert to the previous design for the Homepage, Genre pages, Library, Reading Lists and Discover/Browse"),u=l.trans("Request an HTML or JSON file of the personal information you have stored on Wattpad");e.tooltip({trigger:"click hover manual",title:i,container:"body"}),n.tooltip({trigger:"click hover manual",title:r,container:"body"}),t.tooltip({trigger:"click hover manual",title:o,container:"body"}),a.tooltip({trigger:"click hover manual",title:c,container:"body"}),s.tooltip({trigger:"click hover manual",title:u,container:"body"})},onSaveAccountChanges:function(e,s){var r={},o={},c=a(e.currentTarget).serializeArray(),u=this;n.each(c,function(e){var n=e.name,a=e.value,s=u.model.get(n);if(void 0!==s){switch(n){case"birthdate":s=moment(s).format("MM-DD-YYYY"),a=moment(a).format("MM-DD-YYYY");break;case"language":a=parseInt(a,10);break;case"genderCode":s=""===a?null:a}a!==s&&(void 0===t(s)&&"genderCode"!==n||(o[n]=s,r[n]=a))}}),n.each(s,function(e){var n=e.name,t=e.value,a=u.model.get(n);switch(o[n]=a,n){case"show_name":case"appear_offline":r[n]=parseInt(t,10);break;case"beta_enabled":r[n]=!0===t}}),i.local.clear("user."+this.model.get("username")),this.model.set(r),this.model.save(r,{patch:!0,type:"put"}).success(function(e){u.model.set(r),new i.views.ErrorToast({message:l.trans("Your changes were successful!")}).render()}).fail(function(e,n){u.model.set(o),new i.views.ErrorToast({message:l.trans("Something went wrong, your changes were not saved. ")+(e.responseJSON.message||"")}).render()})},openUserSettingsModal:function(e){new i.views.UserSettingsModal({type:e,userId:this.model.get("id")}).showModal()},updateNotifications:function(e){var n=this,t=a(e.currentTarget);s.utils.stopEvent(e),this.model.updateNotifications(t).then(function(e){n.model.set("notificationSettings",{alerts:e.alerts,alertssub:e.alertssub,subscribe:e.subscribe}),new i.views.ErrorToast({message:l.trans("Your changes were successful!")}).render()}).catch(function(e){new i.views.ErrorToast({message:l.trans("Something went wrong, your changes were not saved. ")+e}).render()})}})),i.mixin(i.views.UserSettings,"AuthPromptManagement","FacebookConnect","TwitterConnect","ReportManagement","ReportConduct")}(window,_,jQuery,wattpad,wattpad.utils,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("UserSettingsModal",a.views.DummyReactView.extend({component:"UserSettingsModal",componentId:"user-settings-modal",constructor:function(e){this.type=e.type,this.userId=e.userId,e={componentData:{type:this.type,userId:this.userId,title:t.utils.trans("Change %s",this.type),onPasswordToggle:this.onPasswordToggle.bind(this),onFormSubmit:this.onFormSubmit.bind(this),hideModal:this.hideModal.bind(this),app:{language:a.get("language"),translatedLanguage:a.get("translatedLanguage")}},component:this.component,componentId:this.componentId},$("body").removeClass("js-app-off"),a.views.DummyReactView.call(this,e)},showModal:function(){var e=$("#generic-modal");e.find(".modal-body").html(this.render().$el),e.modal({backdrop:"static",keyboard:!1})},hideModal:function(){$("#generic-modal").modal("hide")},onPasswordToggle:function(e){var n=$(e.currentTarget).find(".fa-view"),t=$(e.currentTarget).siblings("input"),a=t.attr("type");"password"===a&&(t.attr("type","text").focus(),n.addClass("active")),"text"===a&&(t.attr("type","password").focus(),n.removeClass("active"))},onFormSubmit:function(n){var s=this;$.ajax({type:"POST",url:"apiv2/"+n,data:$(".on-form-submit").serialize(),success:function(n){if(s.hideModal(),"password"===s.type&&n.token){t.utils.setCookie("token",n.token,null,!0),new a.views.ErrorToast({message:t.utils.trans("Your changes were successful!")}).render()}else{e.location.replace("/login?nexturl=/settings").reload()}},error:function(e){s.hideModal(),new a.views.ErrorToast({message:t.utils.trans("Something went wrong, your changes were not saved. ")+(e.responseJSON.message||"")}).render()}})}}))}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t,a){"use strict";a.add("ImageAppealFlow",a.views.DummyReactView.extend({component:"ImageAppealFlow",componentId:"image-appeal-flow",constructor:function(e){this.componentData={imageUrl:e.imageUrl,onSubmissionError:this.onSubmissionError.bind(this),isIOS:a.get("device").is.ios,isAndroid:a.get("device").is.android};var n={componentData:this.componentData,component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,n)},onSubmissionError:function(e){console.error(e),new a.views.ErrorToast({message:e}).render()}})),a.mixin(a.views.ImageAppealFlow,"AuthPromptManagement","FacebookConnect","TwitterConnect")}(window,_,wattpad,window.app)},function(e,n){!function(e,n,t){"use strict";t.router.on("route:image_appeal",t.router.filter(["getTranslations","requireLogin"],function(e){var a=e.imageUrl||"";if(!1===n.utils.validateImageURLs(a))return t.router.navigate("/inbox/wattpad");var s=new t.views.ImageAppealFlow({imageUrl:a?a.trim():""});t.transitionTo(s,{hasHeader:!0,hasFooter:!0,pageTitle:n.utils.trans("Appeal form")})}))}(window,wattpad,window.app)},function(e,n){!function(e,n){"use strict";n.router.add({"appeal-flow(/)":["image_appeal",{}]})}(window,window.app)},function(e,n){!function(e,n,t){"use strict";t.router.on("route:privacySettings",t.router.filter(["getTranslations"],function(){if(_.get(n,".testGroups.CAN_VIEW_CCPA")||!1){var e=new t.views.DummyReactView({component:"PrivacySettings",componentId:"privacy-settings"});t.transitionTo(e,{hasHeader:!1,hasFooter:!0})}else n.utils.redirectToCSR("/home")}))}(window,wattpad,window.app)},function(e,n){!function(e,n){"use strict";n.router.add({"privacy/settings(/)":["privacySettings"]})}(window,window.app)}]);