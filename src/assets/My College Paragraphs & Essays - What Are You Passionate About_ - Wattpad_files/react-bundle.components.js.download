!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("_"),require("moment")):"function"==typeof define&&define.amd?define(["_","moment"],t):"object"==typeof exports?exports.components=t(require("_"),require("moment")):(e.app=e.app||{},e.app.components=t(e._,e.moment))}(window,function(e,t){return function(e){function t(t){for(var r,i,s=t[0],l=t[1],c=t[2],d=0,m=[];d<s.length;d++)i=s[d],a[i]&&m.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);m.length;)m.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;return o.push([304,1]),n()}([,,function(e,t,n){"use strict";n(137);var r=n(0),a=n.n(r),o=n(1),i=n.n(o);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,u(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,a.a.Component),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"render",value:function(){var e=this.props.avatar,t=this.props.username;return a.a.createElement("img",{src:e,"aria-hidden":"true",alt:t})}}]),t}();m.propTypes={avatar:i.a.string.isRequired,username:i.a.string.isRequired};var p=n(71),f=n(3),g=n.n(f);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),E(v(n=function(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?v(e):t}(this,b(t).call(this,e))),"onChange",function(e){e.preventDefault(),n.props.onChange(e.target.value,n.props.id)}),E(v(n),"onBlur",function(e){n.setState({hasBlurred:!0}),n.props.onBlur(e)}),n.state={hasBlurred:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,a.a.Component),function(e,t,n){t&&h(e.prototype,t),n&&h(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.labelText,r=e.type,o=e.required,i=e.value,s=e.pattern,l=e.onFocus,c=e.onInvalid,u=e.classes,d=e.placeholder,m=e.autoFocus,p=this.state.hasBlurred,f="float-label-container ".concat(u),y=g()({empty:!i,hasBlurred:p});return a.a.createElement("div",{className:f},a.a.createElement("input",{className:y,id:t,onChange:this.onChange,placeholder:d,pattern:s,type:r,required:o,value:i,onBlur:this.onBlur,onFocus:l,onInvalid:c,autoFocus:m}),a.a.createElement("label",{htmlFor:t},n))}}]),t}();O.defaultProps={type:"text",required:!1,onChange:function(){},onBlur:function(){},onInvalid:function(){},onFocus:function(){},placeholder:"",classes:"",autoFocus:!1},O.propTypes={id:i.a.string.isRequired,labelText:i.a.string.isRequired,value:i.a.string.isRequired,type:i.a.string,pattern:i.a.string,onChange:i.a.func,onBlur:i.a.func,onInvalid:i.a.func,onFocus:i.a.func,classes:i.a.string,placeholder:i.a.string,required:i.a.bool,autoFocus:i.a.bool};var S=n(4),k=n(28),N=n.n(k),_=function(e){var t=e.value,n=e.label;return a.a.createElement("option",{value:t,key:t},n||t)};_.propTypes={value:i.a.oneOfType([i.a.string,i.a.array]),label:i.a.string};var j=_;function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var P=function(e){var t=e.inputType,n=e.name,o=e.id,i=e.onBlur,s=e.autofocus,l=e.alt,c=e.inputRef,u=e.placeholder,d=e.showVisibilityToggle,m=Object(S.g)().trans,p=g()("form-control","enable","input-lg",{"custom-select":"select"===t,"custom-select-lg":"select"===t}),f=C(Object(r.useState)("password"),2),y=f[0],h=f[1];switch(t){case"select":return a.a.createElement("div",{className:"birthday-dropdowns"},a.a.createElement("select",{id:o,className:p,name:n,defaultValue:"",onBlur:i,"aria-label":l,ref:c,required:!0},function(e){var t,n,r=[],o=N()(),i=N()().subtract(100,"years");switch(e){case"day":t=1,n=31,r.push(a.a.createElement("option",{value:"",key:"-1",disabled:!0},"Day"));break;case"month":t=0,n=11,r.push(a.a.createElement("option",{value:"",key:"-1",disabled:!0},"Month"));break;case"year":t=i.year(),n=o.year(),r.push(a.a.createElement("option",{value:"",key:"-1",disabled:!0},"Year"))}if("year"===e)for(var s=n;s>t;s--)r.push(j({value:s,label:s}));else for(var l=t;l<=n;l++){var c="month"===e?9:10,u="month"===e?l+1:l,d="month"===e?N()().month(l).format("MMM"):l;u=l<c?"0"+u:""+u,r.push(j({value:u,label:d}))}return r}(n)));case"password":return a.a.createElement("div",{className:"password-container"},a.a.createElement("input",{type:y,id:o,className:p,name:n,placeholder:u,autoFocus:s,onBlur:i,ref:c,"aria-label":l,required:!0}),d&&a.a.createElement("button",{type:"button",className:"password-show btn-no-background","aria-label":m("text"===y?"Hide password":"Show password"),onClick:function(e){e.preventDefault(),e.stopPropagation(),h("text"===y?"password":"text")}},m("text"===y?"Hide":"Show")));default:return a.a.createElement("input",{type:t,id:o,className:p,name:n,placeholder:u,autoFocus:s,onBlur:i,"aria-label":l,ref:c,required:!0})}};P.propTypes={inputType:i.a.string,name:i.a.string,id:i.a.string,label:i.a.string,onBlur:i.a.func,autofocus:i.a.bool,showVisibilityToggle:i.a.bool,alt:i.a.string,inputRef:i.a.object,placeholder:i.a.string};var T=P;function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),L(this,I(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,r["Component"]),function(e,t,n){t&&x(e.prototype,t),n&&x(e,n)}(t,[{key:"render",value:function(){return!1===this.props.isValid&&"month"!==this.props.name&&"day"!==this.props.name&&"year"!==this.props.name?a.a.createElement("div",{"aria-live":"assertive",className:"error-msg",role:"alert"},this.props.errorMessage):null}}]),t}();function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(A,"propTypes",{name:i.a.string,isValid:i.a.bool,errorMessage:i.a.string});var B=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return W(F(n=function(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?F(e):t}(this,(e=D(t)).call.apply(e,[this].concat(o)))),"render",function(){var e,t,r=n.props,o=r.autofocus,i=r.className,s=r.errorMessage,l=r.form,c=r.hasValidation,u=r.inputType,d=r.isValid,m=r.label,p=r.name,f=r.title,y=r.alt_msg,h=r.inputRef,b=r.onBlur,v=r.showLabel,w=r.showVisibilityToggle,E="".concat(l,"-").concat(p),O=g()("form-group","has-feedback","".concat(p),(W(e={},i,!!i),W(e,"valid",!0===d),W(e,"invalid",!1===d),e));return t="month"==p||"year"==p||"day"==p?y:f&&!d?s:f,a.a.createElement("div",{className:O,"data-attr":p},v&&a.a.createElement("span",{className:"form-label","aria-hidden":"true"},m),a.a.createElement("label",{className:"control-label sr-only",htmlFor:E,"aria-hidden":"true"},m),a.a.createElement(T,{inputType:u,name:p,id:E,alt:t,label:m,inputRef:h,placeholder:f,onBlur:b,autofocus:o,showVisibilityToggle:w}),c&&a.a.createElement(A,{isValid:d,errorMessage:s,name:p}))}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,r["Component"]),t}();W(B,"propTypes",{autofocus:i.a.bool,className:i.a.string,form:i.a.string,hasValidation:i.a.bool,inputType:i.a.string,isValid:i.a.bool,label:i.a.string,errorMessage:i.a.string,name:i.a.string,onBlur:i.a.func,showLabel:i.a.bool,showVisibilityToggle:i.a.bool,title:i.a.string,alt_msg:i.a.string,inputRef:i.a.object});var H=n(12);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var K=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),G(this,Y(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,a.a.Component),function(e,t,n){t&&V(e.prototype,t),n&&V(e,n)}(t,[{key:"render",value:function(){var e=this.props.headerName,t=this.props.options;return a.a.createElement("ul",{className:"menu-options"},t.map(function(t){return a.a.createElement("li",{key:t.key},a.a.createElement(H.a,{iconName:"fa-right",height:"16",color:"wp-neutral-1"}),"Browse"===e?a.a.createElement("a",{href:t.url,className:"on-navigate on-topic"},t.name):a.a.createElement("a",{href:t.url,className:"on-navigate"},t.name))}))}}]),t}();K.propTypes={headerName:i.a.string,options:i.a.array.isRequired};var J=function(){return a.a.createElement("button",{className:"btn btn-white dropdown-toggle","data-toggle":"dropdown","aria-controls":"profile-more-options","aria-expanded":"false","aria-label":"more options"},a.a.createElement(H.a,{name:"more",size:"16",className:"more-icon"}))};J.propTypes={onClick:i.a.func};var Q=J,Z=n(159);function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ee(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach(function(t){re(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function oe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ie(e){var t=e.children,n=e.defaultSelectedItems,o=e.onChange,i=e.isLoading,s=oe(e,["children","defaultSelectedItems","onChange","isLoading"]),l=ae(Object(r.useState)(n),2),c=l[0],u=l[1];function d(e){var t=c.filter(function(t){return t!==e});u(t),o&&o(t)}return Object(S.b)({isLoading:i,onSetDefault:function(){u(n)}}),a.a.createElement(Z.a,X({},s,{stateReducer:function(e,t){switch(t.type){case Z.a.stateChangeTypes.keyDownEnter:case Z.a.stateChangeTypes.clickItem:return ne({},t,{highlightedIndex:e.highlightedIndex,isOpen:!0,inputValue:""});default:return t}},onChange:function(e){c.includes(e)?d(e):function(e){var t=[].concat(ee(c),[e]);u([].concat(ee(c),[e])),o&&o(t)}(e)},selectedItem:null}),function(e){return t(function(e){return ne({removeItem:d,selectedItems:c},e)}(e))})}function se(e){var t=e.placeholder,n=e.itemToString,o=e.handleChange,i=e.getItems,s=e.defaultSelectedItems,l=e.disabled,c=e.isLoading,u=e.className,d=e.maxLimit,m=Object(S.g)().trans,p=Object(r.useRef)();return a.a.createElement(ie,{isLoading:c,defaultSelectedItems:s,onChange:o,itemToString:n},function(e){var n=e.getInputProps,r=e.getToggleButtonProps,o=e.removeItem,s=e.isOpen,c=e.inputValue,f=e.selectedItems,y=e.getItemProps,h=e.toggleMenu;return a.a.createElement("div",{className:g()("multi-select-container",{disabled:l},u)},a.a.createElement("div",{className:g()("multi-select",{disabled:l||f.length>d}),role:"button",tabIndex:"0",style:{borderBottomRightRadius:s?0:6,borderBottomLeftRadius:s?0:6},onClick:function(){h(),!s&&p.current.focus()}},a.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",flex:1}},f.length>0?f.map(function(e){return a.a.createElement("div",{key:e.id,className:"multi-select-item-container"},a.a.createElement("div",{className:"multi-select-grid"},a.a.createElement("span",null,e.name),a.a.createElement("button",{type:"button",className:"multi-select-remove-btn",onClick:function(t){t.stopPropagation(),o(e),p.current.focus(),!s&&h()}},a.a.createElement(H.a,{iconName:"fa-remove",height:"12",color:"wp-neutral-2"}))))}):s?"":t||m("Select items"),a.a.createElement("input",n({ref:p,onKeyDown:function(e){if("Enter"===e.key)return e.preventDefault(),void e.stopPropagation();"Backspace"!==e.key||c||(o(f[f.length-1]),!s&&h())},className:"multi-select-search-input"}))),a.a.createElement("div",X({className:"multi-select-toggle-btn"},r({onClick:function(e){e.stopPropagation()}})),a.a.createElement(H.a,{iconName:s?"fa-up":"fa-down",height:"12",color:"wp-neutral-2"}))),a.a.createElement("div",{className:g()("multi-select-menu",{"is-open":s},{disabled:l||f.length>d})},s?function(){var e=i(c).filter(function(e){return!f.find(function(t){return t.id===e.id})});return 0===e.length?a.a.createElement("div",{className:"multi-select-menu-item disabled"},m("No options")):e.map(function(e,t){return a.a.createElement("div",X({key:e.id,className:"multi-select-menu-item"},y({item:e,index:t})),e.name)})}():null))})}ie.propTypes={children:i.a.func,onChange:i.a.func,isLoading:i.a.bool,defaultSelectedItems:i.a.array},se.defaultProps={itemToString:function(e){return e?e.name:""},defaultSelectedItems:[]},se.propTypes={disabled:i.a.bool,isLoading:i.a.bool,itemToString:i.a.func.isRequired,handleChange:i.a.func.isRequired,placeholder:i.a.string,className:i.a.string,maxLimit:i.a.number,getItems:i.a.func.isRequired,defaultSelectedItems:i.a.array};var le={full:{url:"/img/premium-branding/premium-logo-full.png",aspectRatio:.1678},full_orange:{url:"/img/premium-branding/premium-logo-full-orange.png",aspectRatio:.1656},short:{url:"/img/premium-branding/premium-logo-short.png",aspectRatio:.4722},short_grey:{url:"/img/premium-branding/premium-logo-short-grey.png",aspectRatio:.4722},short_white:{url:"/img/premium-branding/premium-logo-short-white.png",aspectRatio:.4722},letter_grey:{url:"/img/premium-branding/premium-logo-letter-grey.png",aspectRatio:.8667}},ce=function(e){var t=e.width,n=e.variant,r=le[n];if(!r)throw new Error("Variant ".concat(n," unknown"));var o=r.url,i=r.aspectRatio*t;return a.a.createElement("img",{style:{height:"".concat(i,"px"),width:"".concat(t,"px")},src:o,alt:"wattpad premium logo"})};ce.propTypes={width:i.a.string.isRequired,variant:i.a.string.isRequired};var ue=n(138);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var he=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fe(this,ge(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(t,r["Component"]),function(e,t,n){t&&pe(e.prototype,t),n&&pe(e,n)}(t,[{key:"formatSocialShareVisible",value:function(e){return e?e.map(function(e){return a.a.createElement(be,me({},e,{isVisible:!0,key:e.name}))}):null}},{key:"formatSocialShareHidden",value:function(e){return e?a.a.createElement("div",{className:"button-group relative inline-block more"},a.a.createElement("button",{className:"btn btn-no-background dropdown-toggle btn-left-align","data-toggle":"dropdown"},a.a.createElement(H.a,{iconName:"fa-more",height:"24",color:"wp-neutral-3"})),a.a.createElement("div",{className:"triangle"}),a.a.createElement("ul",{className:"dropdown-menu"},e.map(function(e){return a.a.createElement("li",{key:e.name},a.a.createElement(be,me({},e,{isVisible:!1,key:e.name})))}))):null}},{key:"render",value:function(){var e=this.props.socialShareVisible||this.props.socialLinks,t=this.props.socialShareHidden;return a.a.createElement("div",{className:"SocialSharing"},this.formatSocialShareVisible(e),this.formatSocialShareHidden(t))}}]),t}();he.propTypes={socialShareVisible:i.a.arrayOf(i.a.object),socialLinks:i.a.arrayOf(i.a.object),socialShareHidden:i.a.arrayOf(i.a.object)};var be=function(e){var t=e.name,n=e.href,r=e.icon,o=e.isVisible,i=e.nopopup,s=e.label,l=e.content,c=e.text,u=e.url,d=e.urlTemplate;return a.a.createElement("a",{"data-gtm-action":"share:".concat(t),rel:"nofollow",className:g()("share-".concat(t),{"social-share":!i}),target:i?"":"_blank",href:n,"data-share-channel":t,"data-share-url":d,"data-url":u,"data-share-text":c,"data-share-content":l},a.a.createElement(H.a,{iconName:r,height:o?"24":"20",color:o?"wp-neutral-5":"wp-neutral-2",className:g()({"pull-left":!o})}),o?"":s)};be.defaultProps={nopopup:!1,content:"",text:"",url:"",urlTemplate:""},be.propTypes={name:i.a.string.isRequired,href:i.a.string.isRequired,isVisible:i.a.bool.isRequired,icon:i.a.string.isRequired,label:i.a.string.isRequired,nopopup:i.a.bool,content:i.a.string,text:i.a.string,url:i.a.string,urlTemplate:i.a.string};var ve=he;function we(e){var t=e.username,n=e.isBlockedByCurrentUser,r=e.onMuteUser,o=e.onUnmuteUser,i=e.onDeleteConversation,s=e.onReportUser,l=Object(S.g)().trans,c=void 0!=n;return a.a.createElement("div",{className:"user-safety-operations"},c&&a.a.createElement(Ee,{username:t,isBlockedByCurrentUser:n,onMuteUser:function(){return r(t)},onUnmuteUser:function(){return o(t)}}),i&&a.a.createElement("button",{onClick:i,className:"user-safety-operation btn-no-background btn-left-icon delete"},a.a.createElement(H.a,{name:"trash"}),l("Delete Conversation")),s&&a.a.createElement("button",{onClick:s,className:"on-report user-safety-operation btn-no-background btn-left-icon","data-username":t},a.a.createElement(H.a,{name:"report"}),l("Report")))}function Ee(e){var t=e.isBlockedByCurrentUser,n=e.onMuteUser,r=e.onUnmuteUser,o=e.username,i=Object(S.g)().trans;return a.a.createElement(a.a.Fragment,null,t?a.a.createElement("button",{onClick:r,className:"user-safety-operation btn-no-background btn-left-icon unmute"},a.a.createElement(H.a,{name:"unmute"}),i("Unmute %s",o)):a.a.createElement("button",{onClick:n,className:"user-safety-operation btn-no-background btn-left-icon mute"},a.a.createElement(H.a,{name:"mute"}),i("Mute %s",o)))}we.propTypes={username:i.a.string.isRequired,onDeleteConversation:i.a.func,isBlockedByCurrentUser:i.a.bool,onMuteUser:i.a.func,onUnmuteUser:i.a.func,onReportUser:i.a.func},Ee.propTypes={username:i.a.string.isRequired,isBlockedByCurrentUser:i.a.bool.isRequired,onMuteUser:i.a.func.isRequired,onUnmuteUser:i.a.func.isRequired};var Oe=we;function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pe=function(e){var t,n;return n=t=function(t){function n(){var t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return Ce(_e(r=function(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?_e(e):t}(this,(t=Ne(n)).call.apply(t,[this].concat(i)))),"state",{isValid:null,errorMessage:""}),Ce(_e(r),"componentDidMount",function(){r.props.validationModel&&(r.props.validationModel.on("attr:invalid",r.onInvalid,_e(r)),r.props.validationModel.on("attr:valid",r.onValid,_e(r)))}),Ce(_e(r),"componentWillUnmount",function(){r.props.validationModel&&(r.props.validationModel.off("attr:invalid"),r.props.validationModel.off("attr:valid"))}),Ce(_e(r),"setAndValidate",function(e){var t=r.props.validationModel;t.set(r.props.name,e.target.value),t.validate(r.props.name)}),Ce(_e(r),"onInvalid",function(e,t){e===r.props.name&&(r.setState({isValid:!1,errorMessage:t}),r.props.onInvalid&&r.props.onInvalid(t,e))}),Ce(_e(r),"onValid",function(e){e===r.props.name&&(r.setState({isValid:!0}),r.props.onValid&&r.props.onValid(e))}),Ce(_e(r),"render",function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(e,ke({hasValidation:!0,isValid:r.state.isValid,onBlur:r.setAndValidate,errorMessage:r.state.errorMessage},r.props)))}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(n,r.Component),n}(),Ce(t,"propTypes",{name:i.a.string,validationModel:i.a.shape({on:i.a.func,off:i.a.func,set:i.a.func,validate:i.a.func}),onInvalid:i.a.func,onValid:i.a.func}),n},Te=n(95);function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var qe="lottie-script";var Ae=function(e){return Object(r.useEffect)(e,[])};function Me(e){var t=e.animationId,n=e.animationOptions,r=e.onAnimationLoad,o=Ie(e,["animationId","animationOptions","onAnimationLoad"]),i=function(){var e=document.getElementById(t),a=window.bodymovin.loadAnimation(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach(function(t){Le(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({wrapper:e},n));a.addEventListener("DOMLoaded",function(){r&&r(a),a.removeEventListener("DOMLoaded")})};return Ae(function(){if(!!window.bodymovin)i();else{var e=document.getElementById(qe);!!e||(e=function(){var e=document.createElement("script");return e.src="https://a.wattpad.com/js/lottie.js",e.id=qe,document.head.appendChild(e),e}());e.addEventListener("load",function t(){i(),e.removeEventListener("load",t,!1)})}}),a.a.createElement("div",Re({id:t},o))}function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ue(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function We(e){var t=e.onChange,n=e.defaultValue,o=Ue(e,["onChange","defaultValue"]),i=Fe(Object(r.useState)(n||!1),2),s=i[0],l=i[1];return a.a.createElement("button",De({className:g()("react-checkbox btn-no-style",{checked:s}),onClick:function(e){e.stopPropagation(),e.preventDefault(),t(!s),l(!s)}},o),s&&a.a.createElement(H.a,{name:"check",color:"wp-neutral-5",size:16}))}Me.propTypes={animationId:i.a.string.isRequired,animationOptions:i.a.object.isRequired,onAnimationLoad:i.a.func},We.defaultProps={onChange:function(){},defaultValue:!1},We.propTypes={onChange:i.a.func,defaultValue:i.a.bool};var Be=n(64);n.d(t,"a",function(){return m}),n.d(t,"c",function(){return p.a}),n.d(t,"e",function(){return H.a}),n.d(t,"h",function(){return K}),n.d(t,"i",function(){return Q}),n.d(t,"j",function(){return se}),n.d(t,"k",function(){return ue.a}),n.d(t,"l",function(){return ve}),n.d(t,"m",function(){return Oe}),n.d(t,"n",function(){return Te.a}),n.d(t,"d",function(){return B}),n.d(t,"o",function(){return Pe}),n.d(t,"g",function(){return Me}),n.d(t,"b",function(){return We}),n.d(t,"f",function(){return Be.a})},,function(e,t,n){"use strict";var r=n(0);var a=function(e){var t=e.isLoading,n=e.onSetDefault,a=Object(r.useRef)(!1),o=Object(r.useRef)();Object(r.useEffect)(function(){o.current=n},[n]),Object(r.useEffect)(function(){a.current||t||(o.current(),a.current=!0),t&&(a.current=!1)},[t,a])},o=n(1),i=n.n(o);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=Object(r.useRef)();Object(r.useEffect)(function(){n.current=t},[t]),Object(r.useEffect)(function(){if(e){var t=function(t){e&&e.contains(t.target)||n.current(t.target)};return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}},[e])}s.propTypes={handleClickOutside:i.a.func.isRequired,ref:i.a.object.isRequired};var l=s,c=n(134);var u=function(e){var t=e.onThreshold,n=e.direction,a=void 0===n?"down":n,o=e.threshold,i=void 0===o?0:o,s=Object(r.useRef)(),l=Object(r.useRef)(0);Object(r.useEffect)(function(){s.current=t},[t]),Object(c.a)("scroll",function(){var e=function(e){var t,n=window.pageYOffset||document.documentElement.scrollTop;return t=n>e.current?"down":"up",e.current=n>0?n:0,t}(l);"down"===a&&"down"===e&&window.innerHeight+window.scrollY>=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight||0)-i?s.current():"up"===a&&"up"===e&&window.pageYOffset<=i&&s.current()})},d=n(135),m=n(48);function p(e){Object(r.useEffect)(function(){window.document.title=e},[e])}function f(){return Object(r.useContext)(m.a)}n.d(t,"b",function(){return a}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return c.a}),n.d(t,"e",function(){return u}),n.d(t,"g",function(){return d.a}),n.d(t,"f",function(){return p}),n.d(t,"d",function(){return f})},function(e,t,n){"use strict";var r=n(10),a=n.n(r),o=function(e){return-1==e?"-":e&&a.a.isNumber(e)?e>=99999999?Math.floor(e/1e6)+"M":e>=1e6?Math.floor(e/1e5)/10+"M":e>=99999?Math.floor(e/1e3)+"K":e>=1e3?Math.floor(e/100)/10+"K":e:0},i=function(e){return e.replace(/^((https?:)?\/\/)?[a-z-.]*[a-z-](:\d+)?(?=\/)/i,"")},s=n(28),l=n.n(s),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=l()(e),r="MMM DD, YYYY hh:mmA";if(l()().diff(e,"hours")<24||t.fuzzyTime&&l()().diff(e,"days")<7){var a=t.dropSuffix||!1;return n.fromNow(a)}return t.fuzzyTime?r=l()().isSame(e,"year")?"MMM DD":"MMM DD, YYYY":t.fullDate&&(r="MMMM D, YYYY"),n.format(r)},u=function(e){return e.displayName||e.name||"Component"},d=function(e,t){var n=t.parts;return a.a.findIndex(n,function(t){return t.id===e})},m=n(114),p=function(e){return e&&"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e},f=function(e,t){var n=/((?![/.#])(?:^|\W))@([\S-]+)/gi,r=/(http(s)?:\/\/[^\s]+)/gi,a=/(?:^|\W)#([^\s?/]+)/gi,o='$1<a class="on-user-mention" href="/user/$2">@$2</a>',i='<a href="$1" rel="nofollow" target="_blank">$1</a>',s=' <a href="/tags/$1" class="on-navigate">#$1</a>';switch((t=t||{}).hash&&t.hash.sanitization&&(t.sanitization=t.hash.sanitization),t.sanitization=t.sanitization||"sanitize",t.doTags=!1!==t.doTags,t.doUrl=!1!==t.doUrl&&"unsanitize"!==t.sanitization,t.doMention=!1!==t.doMention,t.sanitization){case"sanitize":e=p(e);break;case"unsanitize":e=function(e){return e&&"string"==typeof e?e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'):e}(e)}return t.doMention&&(e=e.replace(n,o)),t.doUrl&&(e=e.replace(r,i)),t.doTags&&(e=e.replace(a,s)),e},g=n(115),y=function(e,t,n,r,o,i,s,l){var c,u=!!o&&o[0];return e&&t&&"string"==typeof t&&r&&isFinite(String(n))?(Object(g.a)(2.5,i,s,l)?(n*=3,u=!!o&&o[2],u=o?o[1]:o):Object(g.a)(1.5,i,s,l)&&(n*=2,u=!!o&&o[1]),(c=a.a.find(e,function(e){return e+(!1!==u?Math.floor(e/u):0)>=n},void 0))||(c=a.a.reduce(e,function(e,t){return Math.abs(t-n)<Math.abs(e-n)?t:e})),t.replace(r,"$1"+c+"$3$4")):""},h=function(e,t){t&&isFinite(t)||(t=320),e=e.replace(/(\d+\.)(png|jpg|jpeg|gif)$/,".$1$2");return y([320,360,640,1920],e,t,/(^.*\/userbg\/[\w\-_]+\.)()(\.?[0-9]*\.)(png|jpg|jpeg|gif)$/,!1).replace("userbg","userbgs")},b=function(e){return new Promise(function(t){return setTimeout(t,e)})},v=n(27),w=function(e,t,n,r,a){return y(v.a,e,t,/(^.*\/c?cover\/[0-9]+-)([0-9]{1,3})(-*[\w]+\.)(png|jpg|jpeg|gif)$/,[20,14],n,r,a)},E=function(e,t,n,r){var a;return r=r||{},e?((a=(a=e.replace(/(<([^>]+)>)/gi,"")).replace(/^\s*\n/gm,"")).length>t&&(a=a.substr(0,t-1).replace(/[.,\- /!&?]+$/,"")+"..."),!0===n?f(a,r):a):""},O=n(189),S=n(0),k=n.n(S),N=n(48);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=function(e){var t,n;return n=t=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),P(this,T(n).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(n,k.a.Component),function(e,t,n){t&&C(e.prototype,t),n&&C(e,n)}(n,[{key:"render",value:function(){var t=this;return k.a.createElement(N.b.Consumer,null,function(n){var r=n.trans,a=n.ngettext;return k.a.createElement(e,j({},t.props,{trans:r,ngettext:a}))})}}]),n}(),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(t,"displayName","".concat(u(e),"WithTrans")),n};function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.getBoundingClientRect(),r=window.scrollY+n.y+t;window.scrollTo({top:r,behavior:"smooth"})}n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"h",function(){return m.a}),n.d(t,"i",function(){return f}),n.d(t,"j",function(){return h}),n.d(t,"k",function(){return b}),n.d(t,"l",function(){return w}),n.d(t,"m",function(){return p}),n.d(t,"o",function(){return E}),n.d(t,"f",function(){return O.a}),n.d(t,"g",function(){return x}),n.d(t,"n",function(){return L})},,,function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var r=n(49);function a(e){return{type:r.c,modalProps:e}}function o(e){return{type:r.b,modalProps:e}}function i(){return{type:r.a}}},function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"p",function(){return a}),n.d(t,"s",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"n",function(){return c}),n.d(t,"m",function(){return u}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return m}),n.d(t,"i",function(){return p}),n.d(t,"j",function(){return f}),n.d(t,"t",function(){return g}),n.d(t,"f",function(){return y}),n.d(t,"o",function(){return h}),n.d(t,"k",function(){return b}),n.d(t,"q",function(){return v}),n.d(t,"l",function(){return w}),n.d(t,"a",function(){return E}),n.d(t,"r",function(){return O}),n.d(t,"u",function(){return S});var r="FETCH_HOME_MODULES",a="RECEIVE_SECTION_POSITION",o="SECTION_VIEWED",i="ERROR",s="CLEAR_ERROR",l="CALL_TRACKING_URLS",c="RECEIVE_CONTENT_SETTINGS",u="NO_CONTENT_SETTING_CHANGES",d="LOADING_CONTENT_SETTINGS",m="LOADING_CONTENT_SETTINGS_DONE",p="LOADING_HOME",f="LOADING_HOME_DONE",g="SHOW_LOADER",y="HIDE_LOADER",h="RECEIVE_READING_LISTS",b="LOADING_READING_LISTS",v="RECEIVE_STORIES_COLLECTIONS",w="LOADING_STORIES_COLLECTIONS",E="ADD_STORY_TO_COLLECTION",O="REMOVE_STORY_FROM_COLLECTION",S={fetchFailed:"FETCH_FAILED"}},function(t,n){t.exports=e},,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n.n(s),c=n(7),u=n(194),d=n.n(u),m=n(156),p=n.n(m);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,b(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,r["PureComponent"]),function(e,t,n){t&&y(e.prototype,t),n&&y(e,n)}(t,[{key:"render",value:function(){var e=this;if(this.props.onClick)throw new Error("onClick event defined on an icon. Please wrap the icon with a button.");var t=this.props,n=t.iconName,r=t.name,o=t.height,i=t.color,s=t.className,c=(t.ff,t.size),u=t.strokeWidth,m=t.boxX,f=t.boxY,y=t.viewBox,h=t.fill,b=t.fillColor,v=t.passthroughProps;if(r){if(d.a[r]){var w="none";return b?w=p.a[b]:h&&(w=p.a[i]),a.a.createElement("svg",g({width:c,height:c,viewBox:"".concat(m," ").concat(f," ").concat(y," ").concat(y),fill:w,stroke:p.a[i],strokeWidth:u,"aria-hidden":"true",strokeLinecap:"round",strokeLinejoin:"round",className:s},v),a.a.createElement("g",{dangerouslySetInnerHTML:{__html:d.a[r]}}))}throw"Icon ".concat(r," doesn't exist")}if(window.wattpad.utils.modernizr("fontface"))return a.a.createElement("span",g({className:l()("fa",n,"fa-".concat(i),s),"aria-hidden":"true",style:{fontSize:"".concat(o,"px")},ref:function(t){e.elementRef=t}},v));var E="/img/icons/".concat(i,"/").concat(n.substr(3),".png");return a.a.createElement("img",g({className:l()("fa",n,"fallback",s),style:{height:"".concat(o,"px"),width:"auto"},src:E,alt:"icon ".concat(n.substr(3)),ref:function(t){e.elementRef=t}},v))}}]),t}();w.defaultProps={className:"",ff:"",color:"wp-neutral-1",size:"14",height:"14",strokeWidth:"2",boxX:"0",boxY:"0",viewBox:"24"},w.propTypes={name:i.a.string,iconName:i.a.oneOf(["fa-alert","fa-archive","fa-attach","fa-badge-ambassador","fa-badge-blank","fa-badge-cc","fa-badge-heart","fa-badge-promoted","fa-badge-rating","fa-badge-verified","fa-bold","fa-buy","fa-camera","fa-caret","fa-categories","fa-centered","fa-check","fa-circle-empty","fa-circle-filled","fa-clock","fa-code","fa-comment","fa-comment-count","fa-copyright","fa-creative-commons","fa-dedicate","fa-double-image","fa-down","fa-down-small","fa-edit","fa-facebook","fa-facebook-official","fa-facebook-square","fa-flag","fa-follow","fa-following","fa-following-request","fa-format","fa-group","fa-home","fa-ic_reading_list","fa-image","fa-inbox","fa-info","fa-instagram","fa-italic","fa-justified","fa-left","fa-left-aligned","fa-left-small","fa-library","fa-link","fa-list","fa-list-add","fa-loading","fa-location","fa-lock","fa-mention","fa-menu","fa-minus","fa-mobile","fa-more","fa-mute","fa-pin","fa-pinterest","fa-pinterest-square","fa-plus","fa-public-domain","fa-ranking","fa-reading-list","fa-redo","fa-refresh","fa-remove","fa-remove-alt","fa-right","fa-right-aligned","fa-right-small","fa-search","fa-settings","fa-share","fa-single-image","fa-stats","fa-story","fa-trash","fa-tumblr","fa-tumblr-square","fa-twitter","fa-twitter-square","fa-underline","fa-undo","fa-unlock","fa-unmute","fa-up","fa-up-small","fa-user","fa-video","fa-view","fa-vote","fa-vote-alt","fa-warning","fa-website","fa-image-warning"]),color:i.a.oneOf(["wp-neutral-1","wp-neutral-2","wp-base-1-dark","wp-base-2-dark","wp-error-1","wp-warning-01","wp-errorbackground","wp-neutral-2","wp-base-2-dark","wp-neutral-3","wp-lighterror","wp-lighterteal","wp-neutral-3","wp-neutral-3","wp-lightteal","wp-neutral-2","wp-neutral-3","wp-base-1","wp-neutral-2","wp-success","wp-base-2","wp-neutral-2","wp-base-1-dark","wp-neutral-5","ds-base-4-accent","ds-alert","ds-success"]).isRequired,size:i.a.oneOfType([i.a.string,i.a.number]),height:i.a.string.isRequired,className:i.a.string,ff:i.a.string,strokeWidth:i.a.string,boxX:i.a.oneOfType([i.a.string,i.a.number]),boxY:i.a.oneOfType([i.a.string,i.a.number]),viewBox:i.a.oneOfType([i.a.string,i.a.number]),fill:i.a.bool,fillColor:i.a.string,passthroughProps:i.a.object};var E=Object(c.b)(function(e){return{ff:e.userData.ff}},{})(w);t.a=E},function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"e",function(){return a}),n.d(t,"j",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"i",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"k",function(){return u}),n.d(t,"l",function(){return d}),n.d(t,"h",function(){return m}),n.d(t,"f",function(){return p}),n.d(t,"g",function(){return f});var r="wp1",a=2e3,o=2200,i=400,s="set_wallet_balance",l="buying_content",c="bought_content",u="animation_step",d={DEFAULT:"default",COIN:"coin",DEDUCTING:"deducting",SUBTRACTING:"subtracting"},m=function(e){return[{title:e("Introducing Paid Stories"),content:e("Thank writers for creating the stories you love by monetarily supporting them."),imageUrl:"paid-content/lifting-hand.png"},{title:e("Continue exploring free stories"),content:e("Millions of stories on Wattpad will always be free to read. Promise."),imageUrl:"paid-content/free-stories.png"},{title:e("Be the first to support writers"),content:e("Unlocking Paid Stories with Coins supports your favorite writers"),imageUrl:"paid-content/currency.png",learnMoreLink:"https://www.wattpad.com/paidstories/"},{title:e("Premium subscribers get bonus Coins"),content:e("Only Wattpad Premium subscribers are rewarded with bonus Coins with every Wattpad Coin pack purchase"),imageUrl:"paid-content/treasure-chest.png",learnMoreLink:"https://premium.wattpad.com/",showToPremiumOnly:!0}]},p={Wattpad_Coins_9:{value:9,premium_value:15,illustration_url:"https://a.wattpad.com/image/money_coin_package_1_240x240.png",price:"0.99"},Wattpad_Coin_74:{value:74,premium_value:99,illustration_url:"https://a.wattpad.com/image/money_coin_package_2_240x240.png",featured:!0,price:"3.99"},Wattpad_Coin_244:{value:244,premium_value:325,illustration_url:"https://a.wattpad.com/image/money_coin_package_3_240x240.png",price:"8.99"},Wattpad_Coin_400:{value:400,premium_value:533,illustration_url:"https://a.wattpad.com/image/money_coin_package_4_240x240.png",price:"13.99"}},f={Premium_BonusCoins_15Pack:{value:15,non_premium_value:9,illustration_url:"https://a.wattpad.com/image/money_coin_package_1_240x240.png",price:"0.99"},Premium_BonusCoins_99Pack:{value:99,non_premium_value:74,illustration_url:"https://a.wattpad.com/image/money_coin_package_2_240x240.png",featured:!0,price:"3.99"},Premium_BonusCoins_325Pack:{value:325,non_premium_value:244,illustration_url:"https://a.wattpad.com/image/money_coin_package_3_240x240.png",price:"8.99"},Premium_BonusCoins_533Pack:{value:533,non_premium_value:400,illustration_url:"https://a.wattpad.com/image/money_coin_package_4_240x240.png",price:"13.99"}}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return m}),n.d(t,"i",function(){return p}),n.d(t,"k",function(){return f}),n.d(t,"j",function(){return g});var r=n(4),a="STORY_PLANNER",o="".concat(a,"/REQUEST"),i="".concat(a,"/FETCH"),s="".concat(a,"/POST"),l="".concat(a,"/ERROR"),c="".concat(a,"/UPDATE"),u="".concat(a,"/VISIBILE"),d=function(){var e=Object(r.g)().trans;return{title:e("The Protagonist"),info:e("Stories have multiple characters, and many main characters. The Protagonist on the other hand is the leading character in your story. They are the most prominent figure in your story, who drives the plot and makes up most of the narrative. They are the character whose fate is most closely followed by your reader."),more:e("If you’re struggling to figure out who your Protagonist is,"),learnMore:e("Learn More Here"),section1:{label:e("Your Protagonist's name"),name:"protagonist.name",limit:20,placeholder:e("Enter Name")},section2:{label:e("Other names for the Protagonist"),name:"protagonist.other_names",limit:50,placeholder:e("Separate Names By Commas")},section3:{name:"protagonist.pronoun",label:e("Protagonist's pronoun"),options:[{value:"he",name:e("He")},{value:"she",name:e("She")},{value:"they",name:e("They")}],placeholder:e("Select")},section4:{label:e("Protagonist's attributes"),name:"protagonist.attributes",limit:250,placeholder:e("Type and Select"),info:e("Up to 10 attributes. Include attributes like skin tone, ethnicity, gender selection, disabilities, hair, eyes, body type, and sexual orientation.")},section5:{label:e("The Protagonist tends to be:"),options:[{id:"protagonist.extrovert_introvert",sliderLabels:[e("Extroverted"),e("Introverted")]},{id:"protagonist.likeable",sliderLabels:[e("Unlikable"),e("Likable")]},{id:"protagonist.focus_past_future",sliderLabels:[e("Focused on Patterns in the Past"),e("Focused on Future Possibilities")]},{id:"protagonist.thinking_feeling",sliderLabels:[e("Uses Mind & Logic"),e("Uses Heart & Emotion")]},{id:"protagonist.decisive_improvise",sliderLabels:[e("Organized & Decisive Decision Making"),e("Improvised & Open Decision Making")]},{id:"protagonist.laidback_serious",sliderLabels:[e("Light & Laid Back Attitude"),e("Complex & Serious Attitude")]}]},section6:{label:e("How will the Protagonist's personality change by the end of the story?"),name:"protagonist.personality_change",options:[{name:e("Negative Personality Change"),value:-1},{name:e("No/Minimal Personality Change"),value:0},{name:e("Positive Personality Change"),value:1}],placeholder:e("Select")}}},m=function(){var e=Object(r.g)().trans;return{options:[e("Albino"),e("White skin tone"),e("Pale"),e("Olive skin tone"),e("Light brown skin tone"),e("Brown skin tone"),e("Dark brown skin tone"),e("Black skin tone"),e("Vitiligo"),e("Above Average"),e("Attractive"),e("Average"),e("Beautiful"),e("Cute"),e("Good Looking"),e("Gorgeous"),e("Handsome"),e("Hot"),e("Pretty"),e("Sexy"),e("Stunning"),e("Alpha"),e("Ambitious"),e("Arrogant"),e("Awkward"),e("Bad Boy"),e("Beta"),e("Boy next door"),e("Charming"),e("Clever"),e("Common sense"),e("Creep"),e("Cunning"),e("Dominant"),e("Educated"),e("Emotional"),e("Friendly"),e("Funny"),e("Geek"),e("Genius"),e("Girl next door"),e("Good Girl"),e("Jerk"),e("Kind"),e("Lazy"),e("Nerd"),e("Nice"),e("Not smart"),e("Omega"),e("Popular"),e("Sensitive"),e("Silly"),e("Smart"),e("Submissive"),e("Sweet"),e("Underdog"),e("Unpopular"),e("Wise"),e("Intelligent"),e("Passionate"),e("Actor"),e("Archaeologist"),e("Architect"),e("Artist"),e("Assassin"),e("Astronaut"),e("Athlete"),e("Babysitter"),e("Baker"),e("Barista"),e("Bartender"),e("Billionaire"),e("Bodyguard"),e("Boss"),e("Business person"),e("Butler"),e("Captain"),e("Cashier"),e("Celebrity"),e("CEO"),e("Chef"),e("Con Artist"),e("Criminal"),e("Dentist"),e("Detective"),e("Doctor"),e("Driver"),e("Editor"),e("Engineer"),e("Entrepreneur"),e("Executive"),e("Farmer"),e("Firefighter"),e("Flight Attendant"),e("Gamer"),e("Hunter"),e("Influencer"),e("Intern"),e("Journalist"),e("Knight"),e("Lawyer"),e("Lifeguard"),e("Lumberjack"),e("Magician"),e("Maid"),e("Massage Therapist"),e("Mechanic"),e("Millionaire"),e("Mobster"),e("Model"),e("Musician"),e("Nanny"),e("Novelist"),e("Nurse"),e("Photographer"),e("Pilot"),e("Police Officer"),e("Politician"),e("Popstar"),e("Prince"),e("Princess"),e("Prisoner"),e("Private Eye"),e("Professor"),e("Programmer"),e("Royalty"),e("Scientist"),e("Secretary"),e("Server"),e("Sex worker"),e("Singer"),e("Soldier"),e("Spy"),e("Student"),e("Superhero"),e("Teacher"),e("Therapist"),e("Traveler"),e("Waiter/Waitress"),e("Alien"),e("Angel"),e("Animal"),e("Child"),e("Clown"),e("Cyborg"),e("Devil"),e("Dinosaur"),e("Elderly"),e("Elf"),e("Fairy"),e("Father"),e("Fey"),e("Ghost"),e("Infant"),e("Insect"),e("Machine"),e("Mermaid"),e("Mother"),e("Octopus"),e("Old"),e("Parent"),e("Pirate"),e("Plant"),e("Reaper"),e("Robot"),e("Spirit"),e("Succubus"),e("Supernatural"),e("Teenager"),e("Vampire"),e("Werewolf"),e("Witch"),e("Wizard"),e("Young"),e("Zombie"),e("African American"),e("Anglo Saxon"),e("Arab"),e("Asian"),e("Australasian"),e("Biracial"),e("Caribbean"),e("Caucasian"),e("Central American"),e("Central Asian"),e("East African"),e("East Asian"),e("Eastern European"),e("Eurasian"),e("European"),e("Fictional Ethnicity"),e("First Nations"),e("Hispanic"),e("Indigenous"),e("Jewish"),e("Latinx"),e("Levantine"),e("Mediterranean"),e("Melanesian"),e("Mesopotamian"),e("Middle Eastern"),e("Multiracial"),e("Multiple Ethnic Background"),e("Native"),e("Native American"),e("North African"),e("North American"),e("Northern East African"),e("Northwestern European"),e("Pacific Islander"),e("Scandinavian"),e("South American"),e("South Asian"),e("South East Asian"),e("South Pacific Islander"),e("South East African"),e("Southern European"),e("Sub Saharan African"),e("West African"),e("Western Asian"),e("Western European"),e("Visually Impaired"),e("Chronic illness or pain"),e("Hard of Hearing"),e("Mobility impairment"),e("Physical Illness"),e("Disease"),e("Wheelchair Person"),e("Learning disability"),e("Neurodiverse"),e("Autistic"),e("Depression"),e("Anxiety"),e("Mental Illness"),e("Trauma"),e("Paralyzed"),e("Paranoia"),e("Cancer"),e("Eating Disorder"),e("Amputee"),e("Memory Loss"),e("Has an Addiction"),e("Personality Disorder"),e("Deaf"),e("Able-bodied"),e("Neurotypical"),e("Straight (Fine/Thin) hair"),e("Straight (Medium) hair"),e("Straight (Coarse) hair"),e("Wavy (Fine/Thin) hair"),e("Wavy (Medium) hair"),e("Wavy (Coarse) hair"),e("Curly (Loose) hair"),e("Curly (Tight) hair"),e("Kinky (Soft) hair"),e("Kinky (Wiry) hair"),e("No hair"),e("Fur"),e("Natural Hair"),e("Afro"),e("Locks"),e("Long hair"),e("Medium hair"),e("Short hair"),e("Bald"),e("Buzz cut"),e("Auburn hair"),e("Chestnut brown hair"),e("Copper hair"),e("Dark brown hair"),e("Brown hair"),e("Ginger hair"),e("Golden blonde hair"),e("Grey hair"),e("Light blonde hair"),e("Light brown hair"),e("Light chestnut brown hair"),e("Medium blonde hair"),e("Medium brown hair"),e("Natural black hair"),e("Natural brown hair"),e("Strawberry blonde hair"),e("Titian hair"),e("White hair"),e("Red hair"),e("Orange hair"),e("Yellow hair"),e("Green hair"),e("Blue hair"),e("Purple hair"),e("Honey Blonde hair"),e("Caramel hair"),e("Brown eyes"),e("Blue eyes"),e("Hazel eyes"),e("Amber eyes"),e("Green eyes"),e("Gray eyes"),e("Red eyes"),e("Heterochromia"),e("White eyes"),e("Black eyes"),e("Violet eyes"),e("Orange eyes"),e("Yellow eyes"),e("Thin"),e("Athletic"),e("Curvy"),e("Voluptuous"),e("Muscular"),e("Overweight"),e("Underweight"),e("Average weight"),e("Male"),e("Female"),e("Agender"),e("Androgyne"),e("Androgynous"),e("Bigender"),e("Cis"),e("Cisgender"),e("Cisgender Female"),e("Cisgender Male"),e("Cisgender Man"),e("Cisgender Woman"),e("Female to Male"),e("FTM"),e("Gender Fluid"),e("Gender Nonconforming"),e("Gender Questioning"),e("Gender Variant"),e("Genderqueer"),e("Intersex"),e("Male to Female"),e("MTF"),e("Neutrois"),e("Non-binary"),e("Pangender"),e("Trans"),e("Trans Female"),e("Trans Male"),e("Trans Man"),e("Trans Person"),e("Trans Woman"),e("Transfeminine"),e("Transgender"),e("Transgender Female"),e("Transgender Male"),e("Transgender Man"),e("Transgender Person"),e("Transgender Woman"),e("Transmasculine"),e("Two-Spirit"),e("Gender Neutral"),e("Lesbian"),e("Gay"),e("Bisexual"),e("Pansexual"),e("Heterosexual"),e("Bicurious"),e("Questioning"),e("Queer"),e("Polysexual"),e("Androsexual"),e("Gynosexual"),e("Asexual")]}},p=function(){var e=Object(r.g)().trans;return{title:e("The Story Goal"),info:e("The Protagonist’s goal in the story is what is known as the Story Goal. A Story Goal is the foundation of every plot, which is why it’s critical to understand what your Protagonist’s main objective is in the story. The Story Goal can be physical or emotional."),section1:{name:"protagonist_goal.description",label:e("What is your Protagonist's ultimate goal in this story?"),limit:75},section2:{label:e("The goal is primarily:"),name:"protagonist_goal.physical_emotional",options:[{label:e("Physical"),value:0},{label:e("Emotional"),value:1}]},section3:{name:"protagonist_goal.type",label:e("The goal type is to:"),options:[[{name:e("Acquire"),value:"acquire"},{name:e("Explore"),value:"explore"},{name:e("Escape"),value:"escape"},{name:e("Find"),value:"find"},{name:e("Protect"),value:"protect"},{name:e("Survive"),value:"survive"}],[{name:e("Accept"),value:"accept"},{name:e("Appreciate"),value:"appreciate"},{name:e("Forget"),value:"forget"},{name:e("Learn"),value:"learn"},{name:e("Love"),value:"love"},{name:e("Self Actualize"),value:"self_actualize"}]],placeholder:e("Select")},section4:{label:e("To achieve the story goal the Protagonist has to . . ."),options:[{id:"protagonist_goal.change_themselves_surroundings",sliderLabels:[e("Change themselves"),e("Change their surroundings")]},{id:"protagonist_goal.explore_emotions_world",sliderLabels:[e("Explore their emotions"),e("Explore their world")]},{id:"protagonist_goal.navigate_familiar_unfamiliar",sliderLabels:[e("Navigates a familiar world"),e("Encounters an unfamiliar world")]},{id:"protagonist_goal.recall_past",sliderLabels:[e("Ignore the Past"),e("Recall the past")]},{id:"protagonist_goal.find_meaning",sliderLabels:[e("Reappreciate the current meaning"),e("Find a new meaning")]},{id:"protagonist_goal.take_keep",sliderLabels:[e("Take something away from the antagonist"),e("Keep something away from the antagonist")]}]}}},f=function(){var e=Object(r.g)().trans;return{title:e("The Story Outcome"),info:e("Ideally, every story has a planned outcome. This will help you set the arc of your story, and plan accordingly. The Story Outcome relates to the outcome the Protagonist is aiming to achieve. Knowing where you want to go with the story will help you pace your story and keep your narrative as tight as possible."),section1:{name:"protagonist_goal.outcome",label:e("What happens at the end of the story?"),limit:150},section2:{label:e("Will the Protagonist succeed in reaching the goal at the end of this story?"),name:"protagonist_goal.succeed",options:[{label:e("Yes"),value:1},{label:e("No"),value:0}]},section3:{label:e("How will the Protagonist feel about the outcome from achieving the goal?"),name:"protagonist_goal.outcome_feeling",options:[{label:e("Good"),value:1},{label:e("Bad"),value:0}]}}},g=function(){var e=Object(r.g)().trans;return{title:e("Story Opportunities on Wattpad"),info:e("Interested in submitting your story to the backlog of stories Wattpad reviews for opportunities like being featured, being part of the Paid Stories program, or being considered as a Wattpad Star Writer?"),section1:{name:"opportunity.interested",options:[{label:e("Yes"),value:1},{label:e("No"),value:0}]},section2:{label:e("What specific opportunities on Wattpad are you interested in for this story?"),name:"opportunity.types",options:[{label:e("Wattpad Paid Stories (make money from fans who pay for your story on Wattpad)"),value:"paid"},{label:e("Wattpad Publishing (be considered for publication by a major commercial publisher)"),value:"publishing"},{label:e("Wattpad Books (be published by Wattpad)"),value:"books"},{label:e("Wattpad Studios (be considered for adaptation into a television show or film)"),value:"entertain"},{label:e("All available opportunities with Wattpad"),value:"all"}]},section3:{label:e("What is your story’s logline?"),name:"opportunity.logline",limit:150,about:e("A logline is a very short “elevator pitch” about your story that reviews the key elements of the story without giving too much away. Loglines aim to hook the reader into wanting to read more.")},section4:{label:e("How much have you written so far?"),name:"opportunity.story_progress",options:[{value:"in_progress",name:e("My Story is in Progress")},{value:"halfway",name:e("My Story is Halfway Done")},{value:"editing",name:e("My Story is Complete but being Edited")},{value:"complete",name:e("My Story is Complete")}],placeholder:e("Select")},notComplete:e("All fields in the Story Notes must be filled before submitting Story to Wattpad.\nYou can change and resubmit your Story Notes to Wattpad again at anytime.")}}},,function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n.n(s);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,m(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,a.a.Component),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"render",value:function(){var e=this,t={backgroundColor:this.props.bgColor,color:this.props.color};return this.props.active&&(t={color:this.props.bgColor,backgroundColor:"#FFFFFF",borderColor:this.props.bgColor}),a.a.createElement("button",{tabIndex:this.props.tabIndex,className:l()("tag-item",{active:this.props.active}),style:t,onClick:function(t){return e.props.clickHandler(t,e.props.name)},onKeyDown:function(t){return e.props.clickHandler(t,e.props.name)}},this.props.name)}}]),t}();f.defaultProps={clickHandler:function(){}},f.propTypes={clickHandler:i.a.func,bgColor:i.a.string,color:i.a.string,active:i.a.bool,name:i.a.string.isRequired,tabIndex:i.a.string}},function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return m}),n.d(t,"f",function(){return p}),n.d(t,"h",function(){return f}),n.d(t,"e",function(){return g}),n.d(t,"g",function(){return y});var r=n(56);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s="".concat("USER","/SET_MUTED_USERS"),l="".concat("USER","/MUTE"),c="".concat("USER","/UNMUTE"),u="".concat("USER","/ERROR"),d={mutedUsers:[],hasLoaded:!1};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case s:return o({},e,{mutedUsers:t.mutedUsers,hasLoaded:!0});case l:return o({},e,{hasLoaded:!1,mutedUsers:e.mutedUsers.concat([{username:t.name}])});case c:return o({},e,{hasLoaded:!1,mutedUsers:e.mutedUsers.filter(function(e){return e.username!=t.name})});default:return e}}function p(e){var t="/apiv2/ignoreuser?id=".concat(e,"&action=ignore_user");return function(n){return Promise.resolve($.ajax({url:t,type:"POST"})).then(function(){n({type:l,name:e}),n({type:r.a,toastProps:{className:"mute",body:wattpad.utils.trans("%s is muted. You can unmute them at any time from their profile.",e)}})}).catch(function(e){var t;try{467===e.responseJSON.code&&(t=e.responseJSON.message)}catch(e){}throw wattpad.utils.showToast(t,{type:"dismissable"}),n({type:u}),e})}}function f(e){var t="/apiv2/ignoreuser?id=".concat(e,"&action=unignore_user");return function(n){return Promise.resolve($.ajax({url:t,type:"POST"})).then(function(){n({type:c,name:e}),n({type:r.a,toastProps:{className:"unmute",body:wattpad.utils.trans("%s is unmuted. You can mute them at any time from their profile.",e)}})}).catch(function(e){var t=e.responseJSON.message;throw wattpad.utils.showToast(t,{type:"dismissable"}),n({type:u}),e})}}function g(e){var t="/apiv2/ignoreuser?id=".concat(e,"&action=get_ignored_web");return function(e,n){if(!n().profileData.hasLoaded)return Promise.resolve($.ajax({url:t,type:"POST"})).then(function(t){e({type:s,mutedUsers:t.list.map(function(e){return{username:e.NAME,avatar:"https://a.wattpad.com/useravatar/"+e.NAME+".jpg"}})})}).catch(function(t){var n=t.responseJSON.message;throw wattpad.utils.showToast(n,{type:"dismissable"}),e({type:u}),t})}}function y(e,t){return"mute"===t?function(t){t({type:l,name:e})}:function(t){t({type:c,name:e})}}},function(e,t,n){"use strict";n.d(t,"h",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"g",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"i",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"e",function(){return m}),n.d(t,"c",function(){return p});var r=n(0),a=n.n(r),o="SET_STORY_INSIGHTS",i="FAILED_FETCH_STORY_INSIGHTS",s="SET_INSIGHTS_PENDING_STATUS",l={header:"Something new is coming to Wattpad!",para1:"We’re working on releasing a new paid feature that will unlock fast, actionable insights about your writing.",para2:"Watch this space to access Wattpad Story Insights, our newest tool designed to empower you to hone your writing craft and take your story to the next level.",link:"Notify me of launch"},c=[{header:"Polish your craft",body:"Improve your writing quality in areas including writing style, reading accessibility, adverb usage, and sentence length.",image:"writer-insights/step-polish-craft.svg"},{header:"Get primed for paid programs",body:"Receive constructive feedback on how your writing stacks up against Paid Stories, Watty Award winning stories, and Wattpad Books to help achieve those milestones.",image:"writer-insights/step-paid-programs.svg"},{header:"Produce a stellar story",body:"Complete the full cycle of success on Wattpad: write, analyse, review, and publish.",image:"writer-insights/step-produce-story.svg"}],u=[{header:"Streamlines the editing process",testimonial:"Story Insights efficiently streamlines the editing process by not only identifying areas for improvement in a writer’s work, but also by recognizing the subtle patterns that makes a writer’s literary voice so unique and powerful.",author:"Paul PK Kingston",title:"Goats from Lambs",coverImage:"https://a.wattpad.com/cover/76119150-352.jpg"},{header:"Provides a fresh pair of editing eyes",testimonial:"Story Insights provided a behind the scenes look into my story, Titan X. I’ve always known to sparingly use adverbs ending in -ly. Over time, my inner editor had grown slack in this regard, but among its many benefits, the Story Insights Report revealed how many I used in each chapter. This was eye opening.",author:"Eric Dabbs",title:"Titan X",coverImage:"https://a.wattpad.com/cover/89291436-352.jpg"},{header:"The most writer-friendly help from Wattpad",testimonial:"The Story Insights Report is a remarkably powerful tool for me as it has helped me get more invested in my writing. With this Report, I'm able to understand the complexity and/or simplicity of my works and how to tackle them to best fit the model of audience I want. I couldn't ask for more writer-friendly help from Wattpad.",author:"Hepzibah Brian",title:"Girls Who Dreamt Of Castles",coverImage:"https://a.wattpad.com/cover/127553995-352.jpg"},{header:"One of my favourite features!",testimonial:"Story Insights helps me pinpoint areas where I can improve my vocabulary. It also gives me feedback by chapter, so I can be sure to stay consistent and add strength to my story’s structure. The best part is that it’s all easily accessible right on Wattpad. It has become one of my favorite features!",author:"Sam Schill",title:"Swallow",coverImage:"https://a.wattpad.com/cover/26538982-352.jpg"},{header:"Allows writers to really hone their craft",testimonial:"Story Insights offers incredibly valuable information for writers, breaking down their stories chapter-by-chapter to help them locate overused words, frequent sentence starters, and more. The program even lists the average reading time per chapter. With this information, refining and editing is a much easier process, allowing writers to really hone their craft and improve their story.",author:"Elford Alley",title:"Apartment 239",coverImage:"https://a.wattpad.com/cover/92457278-352.jpg"}],d=["Your story must be written in English","Your story must be published on Wattpad","Your story must comprise of narrative storytelling, and not poetry"],m=["Writing style","Reading accessibility","Reading time","Sentence length","Adverb usage","Word repetition"],p=[{question:"How is the Story Insights Report generated?",answer:"The Story Insights Report is generated using a machine-learning algorithm, unique to Wattpad. It evaluates your story against Watty Award winning stories, Paid Stories and Wattpad Books, to rate your Writing Complexity and Reading Accessibility. It also scours over your story to highlight Reading Time, Sentence Length, Adverb Usage and Word Repetition by part, while giving you benchmarks for each of these metrics. Having this feedback will help simplify your editing process, and enable you to improve the quality and success of your storytelling."},{question:"What are the requirements for a report to be effectively generated on my story?",answer:a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"To maximize the effectiveness of the Story Insights tool, your story must be written in the English language, and published on Wattpad. Poems and poetry follow a different set of rules for writing (or none at all!) and therefore aren't currently eligible for the Story Insights Report."," "),a.a.createElement("div",null,"Please also note the following recommendations:",a.a.createElement("ul",null,a.a.createElement("li",null,"While having a Completed story is not a requirement, the minimum length of your story should be around 3,000 words."),a.a.createElement("li",null,"The tool only takes published parts into account. Any parts you wish to have reviewed should be published on Wattpad, and not hidden away in your drafts until the time you have received your Report."),a.a.createElement("li",null,"You should ideally only include published parts that you consider completed, excluding content such as author’s notes, cast and character descriptions, playlist recommendations, etc. for the purposes of the Report."))))},{question:"How often can I purchase the Story Insights Report?",answer:"You can purchase one Story Insights Report for one story in a single order. If you wish to purchase the report for multiple stories, you will need to place a separate order for each report. We recommend re-ordering the report on the same story once you have made significant edits or additions to your story, or incorporated the feedback from your previous report in order to see your score improve over time."},{question:"How do I save my Story Insights Report?",answer:"To save your report, tap the Print icon on the Story Insights tab, followed by “Save as PDF” in the “Destination” dropdown."},{question:"Is the report customized for the genre of my story?",answer:"The machine-learning algorithm, which forms the basis of the Story Insights Report, has been designed for all possible genres other than Poetry, no matter how niche they might be. It is also important to note that the Story Insights tool compares your story to multiple levels of writing, including but not limited to Watty Award winning stories, Paid Stories, and Wattpad Books, in order to present highly objective insights that can help simplify your editing process and uncover the potential of your story."},{question:"How often is it recommended to run the report to improve my writing?",answer:a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"We recommend running the report each time you make significant edits to your story. This may include writing new parts, editing the writing style, or incorporating the feedback shared in your previous Story Insights Report."),a.a.createElement("p",null,"Running the report with a repeated frequency after making major edits will allow you to compare your progress over time, bring focus to areas of improvement and help you develop overall as a writer."))},{question:"Does the Story Insights Report check for spelling and grammar?",answer:"The Story Insights Report does not check spelling and grammar for you. It focuses on more unique metrics which are not available within common word processing tools."},{question:"How is machine learning better than a human editor checking my story?",answer:a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Using a machine-learning algorithm, in the form of the Wattpad Story Insights tool, to assess your writing has three main advantages over a human editor:"),a.a.createElement("ol",null,a.a.createElement("li",null,"The algorithm provides objective feedback by comparing your story to thousands of published stories across genres and at all levels, whether they are renowned published works, Watty Award winning stories, Paid Stories or Wattpad Books, to name a few."),a.a.createElement("li",null,"The feedback received is entirely confidential, and not shared with anyone other than the writer. This is great for writers who do not feel comfortable sharing their story with friends and family, or with a professional editor, to get feedback."),a.a.createElement("li",null,"Machine-learning enables us to provide you with feedback in a far more cost-effective way than if you were to hire a professional editor to help you improve your story. We know you already have the potential for success. Let us help you take your writing to the next level.")))},{question:"Is there a limit on how many times I can run the report?",answer:"There is no limit on the number of times you can purchase the report on a single story. We recommend re-purchasing the report once you have made edits to your story and only after having already received and reviewed the previous report you ordered, so that you can save it to compare your progress over time."},{question:"How long does it take for the Story Insights report to be generated?",answer:"It takes 24-48 hours for the Story Insights Report to be generated. We will notify you in your Wattpad Inbox once your report is available."},{question:"Does a low score mean I am a bad writer?",answer:"A low score should not be directly inferred as an indication that you are a good or bad writer. For example, if you are intentionally writing for a younger audience, your writing style may have a lower score due to a lack of complexity in sentence structure and vocabulary - which is perfectly acceptable if you feel this is the most appropriate style for your intended audience."},{question:"Is my report confidential?",answer:"Yes, your report is completely confidential and will not be accessible to anyone else on Wattpad."},{question:"Is my score going to be visible to anyone else on my profile?",answer:"Your score is completely confidential and only visible to you once you are securely logged in to your account."},{question:"What is the benefit of running the report on multiple stories?",answer:a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Each story you write is likely unique in terms of its composition, intended audience, genre, plot complexity and writing style. The report you receive on one story cannot necessarily be generalised as feedback for other stories you have written, as it is highly specific to the content of a single story."),a.a.createElement("p",null,"If you wish to improve multiple stories, we recommend running the report on each story to get customised feedback. Whether you purchase one or multiple reports on one or multiple stories, the feedback you receive will help you view your craft from a fresh perspective, and improve your writing habits over time."))},{question:"What is Wattpad’s refund policy for the Story Insights Report?",answer:a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"We do not offer refunds for purchases of the Story Insights Report. Before making your purchase, we recommend that you:"),a.a.createElement("ol",null,a.a.createElement("li",null,"View the sample report so you have a clear understanding of the type of insights you will receive on your story."),a.a.createElement("li",null,"Choose a published story, written in the English language and comprising a minimum of 3,000 words.")))}]},function(e,t,n){"use strict";n.d(t,"g",function(){return r}),n.d(t,"f",function(){return a}),n.d(t,"h",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"i",function(){return u}),n.d(t,"a",function(){return d});var r=1,a=["#eeeeee"],o=["#6f6f6f"],i=12,s=5,l=6,c="premium-theme",u={1:"olive",2:"plum",3:"watermelon",4:"blue",5:"water",6:"orange",7:"turquoise",8:"grey",9:"red",10:"purple",11:"royal",12:"denim"},d=[64,80,100,128,144,160,176,200,208,256,288,352,368,416,512]},function(e,n){e.exports=t},,,,function(e,t,n){"use strict";var r=n(5),a=n(10),o=n.n(a),i=n(8),s=n(0),l=n.n(s),c=n(1),u=n.n(c),d=n(3),m=n.n(d),p=n(7);function f(e){var t=e.toggleState,n=e.onToggle,r=e.loading,a=e.disabled;return r?l.a.createElement("div",{className:m()("toggle",t),role:"switch","aria-checked":"on"===t?"true":"false"},l.a.createElement("div",{className:"block-off"},l.a.createElement("span",{className:"label-off"},"..."))):a?l.a.createElement("div",{className:m()("toggle",t,"disabled"),role:"switch","aria-checked":"on"===t?"true":"false"},l.a.createElement("div",{className:"switch"}),l.a.createElement("div",{className:"block-on"},l.a.createElement("span",{className:"label-on"},"ON")),l.a.createElement("div",{className:"block-off"},l.a.createElement("span",{className:"label-off"},"OFF"))):l.a.createElement("div",{className:m()("toggle",t),role:"switch",tabIndex:0,"aria-checked":"on"===t?"true":"false",onClick:n},l.a.createElement("div",{className:"switch"}),l.a.createElement("div",{className:"block-on"},l.a.createElement("span",{className:"label-on"},"ON")),l.a.createElement("div",{className:"block-off"},l.a.createElement("span",{className:"label-off"},"OFF")))}var g=n(24),y=n(2),h=n(73),b=n(4);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function w(e){var t=e.excludedSuggestions,n=e.handleClick,r=e.inputTerm,a=Object(b.g)().trans,o=v(Object(s.useState)([]),2),i=o[0],c=o[1];return Object(s.useEffect)(function(){!function(){var e="/api/v3/autocomplete/tag?term=".concat(r);Promise.resolve($.ajax({url:e,type:"GET"})).then(function(e){var n=e.filter(function(e){return!t.includes(e)});c(n)}).catch(c([]))}()},[r,t]),l.a.createElement("div",{className:"suggested-tags"},l.a.createElement("div",{className:"title"},a("Suggested Tags")),l.a.createElement("div",{className:"tags"},i.map(function(e){return l.a.createElement("button",{key:e,onClick:function(){return n(e)}},"#",e)})))}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){R(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}w.defaultProps={excludedSuggestions:[],handleClick:function(){},inputTerm:""},w.propTypes={excludedSuggestions:u.a.arrayOf(u.a.string),handleClick:u.a.function,inputTerm:u.a.string};var x=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return R(P(n=function(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?P(e):t}(this,(e=C(t)).call.apply(e,[this].concat(a)))),"state",{tags:n.props.tags,newTagName:"",warningText:"",disableInput:!1}),R(P(n),"editRef",l.a.createRef()),R(P(n),"unblockableTagsWarning",n.props.trans("Oops! This tag can't be blocked.")),R(P(n),"tagLimitWarning",n.props.trans("You have reached your blocked tags limit.")),R(P(n),"handleTagListUpdates",function(e){isNaN(n.props.tagLimit)||(e.length>=n.props.tagLimit?n.setState(N({},n.state,{warningText:n.tagLimitWarning,disableInput:!0})):n.setState(N({},n.state,{warningText:"",disableInput:!1}))),n.setState({tags:e})}),R(P(n),"addTag",function(e,t){if(n.props.unblockableTags&&n.props.unblockableTags.includes(n.state.newTagName))n.setState({warningText:n.unblockableTagsWarning});else{if(!t.some(function(t){return t.name===e})&&e){var r={id:e,name:e,active:!0};n.handleTagListUpdates([].concat(S(t),[r]))}n.setState({newTagName:""})}}),R(P(n),"handleChanges",function(e){if(13===e.keyCode||" "===e.nativeEvent.data||32===e.keyCode)n.addTag(n.state.newTagName.toLowerCase(),n.state.tags);else if(37!==e.keyCode&&38!==e.keyCode&&39!==e.keyCode&&40!==e.keyCode){var t=" "===e.target.value?"":e.target.value.toLowerCase();n.setState(N({},n.state,{newTagName:t,warningText:""}))}}),R(P(n),"removeTag",function(e,t){if((n.props.removeOnTagClick||"fa fa-remove fa-wp-neutral-2 "===e.target.className||13===e.keyCode)&&9!==e.keyCode&&16!==e.keyCode){var r=t,a=n.state.tags.filter(function(e){return e.name!==r});n.handleTagListUpdates(a)}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,l.a.Component),function(e,t,n){t&&j(e.prototype,t),n&&j(e,n)}(t,[{key:"componentDidMount",value:function(){this.props.tagLimit&&this.props.tags.length>=this.props.tagLimit&&this.setState(N({},this.state,{warningText:this.tagLimitWarning,disableInput:!0}))}},{key:"componentDidUpdate",value:function(e){this.props.tags!==e.tags&&this.handleTagListUpdates(this.props.tags),this.editRef&&this.props.visibleState!==e.visibleState&&this.editRef.current.focus()}},{key:"render",value:function(){var e=this,t=this.props.trans;return l.a.createElement("div",{className:m()("content-settings","edit-blocked-tags",{active:this.props.visibleState,hidden:!this.props.visibleState})},l.a.createElement("div",{className:"heading"},l.a.createElement("button",{className:"back",onClick:function(){return e.props.onReturn(e.state.tags)}},l.a.createElement(y.e,{name:"arrowLeft",size:"22"})),l.a.createElement("h2",null,t("Blocked Tags"))),l.a.createElement("hr",null),l.a.createElement("div",{className:"instruction"},l.a.createElement("h3",null,t("Blocked Tags")),l.a.createElement("p",null,t("We will remove all stories that have the following tags from your Home recommendations."))),l.a.createElement("div",{className:"blocked-tags-list"},l.a.createElement("div",{className:"tags"},this.state.tags.map(function(t){return l.a.createElement(h.a,O({tabIndex:"-1",key:t.id},t,{clickHandler:function(t,n){return e.removeTag(t,n)}}))}))),l.a.createElement("input",{className:"input-field",type:"text",ref:this.editRef,onKeyDown:this.handleChanges,onChange:this.handleChanges,value:this.state.newTagName,placeholder:t("Separate tags with a space"),disabled:this.state.disableInput}),this.state.warningText&&l.a.createElement("div",{className:"warning"},l.a.createElement(y.e,{name:"warning-triangle",size:"22"}),l.a.createElement("p",null,this.state.warningText)),this.state.newTagName&&l.a.createElement(w,{handleClick:function(t){e.addTag(t,e.state.tags)},inputTerm:this.state.newTagName,excludedSuggestions:this.state.tags.map(function(e){return e.name})}))}}]),t}();R(x,"propTypes",{removeOnTagClick:u.a.bool,onReturn:u.a.func,tagLimit:u.a.number,tags:u.a.arrayOf(u.a.object).isRequired,toggleView:u.a.func,trans:u.a.func.isRequired,unblockableTags:u.a.arrayOf(u.a.string),visibleState:u.a.bool});var L=Object(r.g)(x),I=n(64);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach(function(t){H(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return H(W(n=function(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?W(e):t}(this,(e=U(t)).call.apply(e,[this].concat(a)))),"state",{showConfirmation:!0,matureToggle:null,overflowCount:0,showMature:null,showBlockedTags:null,editBlockedTagsView:!1,tags:null,newTagName:"",unblockableTags:null,tagLimit:null}),H(W(n),"tagRef",l.a.createRef()),H(W(n),"handleEsc",function(e){27===e.keyCode&&(n.state.editBlockedTagsView?n.toggleView():(n.setState({showConfirmation:!1}),n.props.toggleModal()))}),H(W(n),"calculateOverflow",function(){for(var e=n.tagRef.current.childNodes,t=e.length,r=t,a=0;a<t&&!(e[a].getBoundingClientRect().top>e[0].getBoundingClientRect().top);a++)r--;n.setState({overflowCount:r})}),H(W(n),"onToggle",function(){var e="on"==n.state.matureToggle?"off":"on";n.setState(D({},n.state,{matureToggle:e}))}),H(W(n),"toggleView",function(){n.setState(D({},n.state,{editBlockedTagsView:!n.state.editBlockedTagsView}))}),H(W(n),"getNewBlockedTags",function(e){n.setState(D({},n.state,{editBlockedTagsView:!n.state.editBlockedTagsView,tags:e}),function(){return n.calculateOverflow()})}),H(W(n),"handleChanges",function(e){var t=" "===e.target.value?"":e.target.value;n.setState(D({},n.state,{newTagName:t}))}),H(W(n),"handleApplyChanges",function(){var e={},t=n.props.contentSettings&&n.props.contentSettings.includeMature,r=n.props.contentSettings?n.props.contentSettings.blockedTags:[],a="on"==n.state.matureToggle,o=n.state.tags.map(function(e){return e.name});n.state.showMature&&t!==a&&(e.includeMature=a),n.state.showBlockedTags&&!_.isEqual(r,o)&&(e.blockedTags=o),n.props.saveContentSettings(e)}),H(W(n),"onCancel",function(){n.setState({showConfirmation:!1},function(){n.props.toggleModal()})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,l.a.Component),function(e,t,n){t&&F(e.prototype,t),n&&F(e,n)}(t,[{key:"componentDidMount",value:function(){this.props.getContentSettings(),document.body.style.overflow="hidden",document.addEventListener("keydown",this.handleEsc,!1),this.state.showBlockedTags&&this.calculateOverflow()}},{key:"componentWillUnmount",value:function(){this.state.showConfirmation&&"0"!==wattpad.utils.getCookie("cs_c")&&(this.props.openConfirmation(),wattpad.utils.setCookie("cs_c",0)),document.body.style.overflow="auto",document.removeEventListener("keydown",this.handleEsc,!1)}},{key:"componentDidUpdate",value:function(e,t){this.state.showLoader&&e.contentSettingsLoading&!this.props.contentSettingsLoading&&this.setState({showLoader:!1}),this.state.showBlockedTags&&this.state.tags!==t.tags&&this.calculateOverflow()}},{key:"render",value:function(){var e=this.props.trans,t=this.state.tags?this.state.tags:[];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:m()("content-settings",{hidden:this.state.editBlockedTagsView,active:!this.state.editBlockedTagsView})},l.a.createElement("h2",null,e("Home Content Preferences")),l.a.createElement("hr",null),this.state.showMature&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"section mature"},l.a.createElement("div",{className:"instruction"},l.a.createElement("h3",null,e("Include Mature")),l.a.createElement("p",null,e("Mature stories contain adult content and themes. Turn this on if you want to see mature stories recommended to you in Home."))),l.a.createElement(f,{toggleState:this.state.matureToggle,onToggle:this.onToggle,disabled:this.props.contentSettingsLoading||this.props.homeLoading})),l.a.createElement("hr",null)),this.state.showBlockedTags&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"section blocked-tags"},l.a.createElement("div",{className:"left-section"},l.a.createElement("div",{className:"instruction"},l.a.createElement("h3",null,e("Blocked Tags")),l.a.createElement("p",null,e("We will remove all stories that have the following tags from your Home recommendations."))),l.a.createElement("div",{className:"blocked-tags-list"},l.a.createElement("div",{className:"tags",ref:this.tagRef},t.slice(0).reverse().map(function(e){return l.a.createElement(g.a,A({tabIndex:"-1",key:e.id},e))})),this.state.overflowCount>0&&l.a.createElement("div",{className:"more"},"+ ",this.state.overflowCount," more"))),l.a.createElement("div",{className:"right-section"},l.a.createElement("button",{className:"edit-tags-button right-icon",onClick:this.toggleView},l.a.createElement("p",null,e("Edit Tags")),l.a.createElement(y.e,{name:"arrowRight",size:"22"})))),l.a.createElement("hr",null)),l.a.createElement("div",{className:"footer"},l.a.createElement("button",{className:"cancel",onClick:this.onCancel},e("Cancel")),this.props.contentSettingsLoading||this.props.homeLoading?l.a.createElement(I.a,null):l.a.createElement("button",{className:"btn-primary",disabled:!!this.props.contentSettingsLoading,onClick:this.handleApplyChanges},e("Apply Changes")))),l.a.createElement(L,{removeOnTagClick:!1,tagLimit:this.state.tagLimit,onReturn:this.getNewBlockedTags,tags:t,toggleView:this.toggleView,visibleState:this.state.editBlockedTagsView,unblockableTags:this.state.unblockableTags}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!e.contentSettings)return null;var n=void 0!==e.contentSettings.includeMature,r=e.contentSettings.includeMature?"on":"off",a=e.contentSettings.blockedTags,o=a?a.map(function(e){return{id:e,name:e,active:!0}}):[],i=void 0!==e.contentSettings.tagLimit,s=e.contentSettings.tagLimit,l=e.contentSettings.unblockableTags,c={};return null===t.showMature&&(c.showMature=n),null===t.showBlockedTags&&(c.showBlockedTags=i),null===t.matureToggle&&(c.matureToggle=r),null===t.tags&&(c.tags=o),null===t.tagLimit&&(c.tagLimit=s),null===t.unblockableTags&&(c.unblockableTags=l),0===Object.keys(c).length?null:c}}]),t}();H(z,"propTypes",{homeLoading:u.a.bool,contentSettings:u.a.object,contentSettingsLoading:u.a.bool,getContentSettings:u.a.func,openConfirmation:u.a.func,saveContentSettings:u.a.func,toggleModal:u.a.func.isRequired,trans:u.a.func.isRequired});var V={toggleModal:i.c,saveContentSettings:he,getContentSettings:ye,openConfirmation:be},G=Object(r.g)(Object(p.b)(function(e){var t=e.homeSections;return{homeLoading:t.homeLoading,error:t.error,contentSettings:t.contentSettings,contentSettingsLoading:t.contentSettingsLoading}},V)(z));function Y(e){var t=e.handleConfirmation,n=Object(b.g)().trans;return l.a.createElement("div",{className:"thanks-for-the-input"},l.a.createElement("div",{className:"image"},l.a.createElement("img",{src:"/img/homepages/robot.svg",alt:""})),l.a.createElement("div",{className:"text"},l.a.createElement("h3",null,n("Thanks for the input!")),l.a.createElement("p",null,n("Our ingenious robots are busy plotting world domination, er, working on new story recommendations for you. Check back soon."))),l.a.createElement("div",{className:"confirmation"},l.a.createElement("button",{className:"btn-primary",onClick:t},n("Got it"))))}Y.defaultProps={handleConfirmation:function(){}},Y.propTypes={handleConfirmation:u.a.func};var K=n(45),J=n(151);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return ne(ee(n=function(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?ee(e):t}(this,(e=X(t)).call.apply(e,[this].concat(a)))),"state",{completed:n.props.story.completed,error:null,firstPartId:0,numParts:n.props.story.numParts,storyInfoLoaded:!1}),ne(ee(n),"libraryButtonRef",l.a.createRef()),ne(ee(n),"modalRef",l.a.createRef()),ne(ee(n),"isInMetadataLibraryTestGroup",o.a.get(window,"wattpad.testGroups.CD_METADATA_LIBRARY_BUTTON",!1)),ne(ee(n),"onRead",function(){var e=n.state.error?"/story/".concat(n.props.story.id):"/".concat(n.state.firstPartId);app.router.navigate(e,{trigger:!0}),n.props.toggleModal()}),ne(ee(n),"onMoreDetails",function(){var e="/story/".concat(n.props.story.id);app.router.navigate(e,{trigger:!0}),n.props.toggleModal()}),ne(ee(n),"handleLibraryClick",function(e){e.preventDefault();n.props.openPopover({component:function(){return l.a.createElement(J.a,{readingLists:n.props.readingLists,storyId:n.props.story.id,updateCollection:n.props.updateCollection,removeStoriesFromCollection:n.props.removeStoriesFromCollection,storiesCollections:n.props.storiesCollections[n.props.story.id],getReadingLists:n.props.getReadingLists,getCollectionsForStoryIds:n.props.getCollectionsForStoryIds})},triggerRef:n.libraryButtonRef,passthroughProps:{modifiers:[{name:"preventOverflow",options:{boundary:n.modalRef.current}}],showArrow:"true"},contentClass:"react-popover-content--above-modal"})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(t,l.a.Component),function(e,t,n){t&&Z(e.prototype,t),n&&Z(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;document.body.style.overflow="hidden",!this.isInMetadataLibraryTestGroup||this.props.readingLists||this.props.readingListsLoading||this.props.getReadingLists(),this.isInMetadataLibraryTestGroup&&this.props.getCollectionsForStoryIds(this.props.story.id),Promise.resolve($.get("/api/v3/stories/".concat(this.props.story.id))).then(function(t){e.setState({completed:t.completed,firstPartId:t.firstPartId,numParts:t.numParts,storyInfoLoaded:!0})}).catch(function(t){e.setState({error:t,firstPartId:e.props.story.id,storyInfoLoaded:!0})})}},{key:"componentWillUnmount",value:function(){document.body.style.overflow="auto"}},{key:"render",value:function(){var e=this.props.trans,t=this.state.completed?e("Complete"):e("Ongoing"),n=this.state.completed?"#1C6F65":"#8D5610";return l.a.createElement("div",{className:"story-preview-wrapper",ref:this.modalRef},l.a.createElement("div",{className:"cover"},l.a.createElement("img",{src:Object(r.l)(this.props.story.cover,278),alt:"{story.title} cover"})),l.a.createElement("div",{className:"story-info"},l.a.createElement("div",{className:"meta-header"},l.a.createElement("div",{className:"title-wrapper"},this.props.story.isPaid&&l.a.createElement(y.c,{name:"paid-content/supported-stories-badge-black.svg",title:"Paid Stories Badge",className:"paid-stories-badge",height:"18px",width:"18px"}),l.a.createElement("div",{className:"title"},this.props.story.title)),l.a.createElement("div",{className:"completeness-info-wrapper"},this.state.numParts&&l.a.createElement(l.a.Fragment,null,l.a.createElement(y.e,{name:"parts"}),l.a.createElement("div",{className:"parts"},"".concat(this.state.numParts," ").concat(e("parts")))),t&&l.a.createElement("div",{className:"completed"},l.a.createElement(g.a,{tabIndex:"-1",name:t,bgColor:n,color:"#ffffff"})))),this.state.storyInfoLoaded?l.a.createElement("div",{className:"buttons-wrapper"},l.a.createElement("button",{className:"read btn-primary",onClick:this.onRead},e("Read")),this.isInMetadataLibraryTestGroup&&this.props.readingLists&&l.a.createElement("button",{className:"btn-icon",alt:"add to library or reading list",title:"add to library or reading list",ref:this.libraryButtonRef,onClick:this.handleLibraryClick},l.a.createElement(y.e,{name:"add",size:"24",color:"wp-neutral-1",strokeWidth:"2.5"}))):l.a.createElement("div",{className:"loader-wrapper"},l.a.createElement(y.f,null)),l.a.createElement("div",{className:"description"},Object(r.o)(this.props.story.description,400,!1)),l.a.createElement("div",{className:"more-details-wrapper"},l.a.createElement("button",{className:"more-details",onClick:this.onMoreDetails},e("More details"),l.a.createElement(y.e,{name:"chevRight",size:"24"})))),l.a.createElement("button",{className:"close",onClick:this.props.toggleModal},l.a.createElement(y.e,{name:"close",size:"24"})))}}]),t}();ne(re,"propTypes",{story:u.a.object,readingLists:u.a.array,getReadingLists:u.a.func,readingListsLoading:u.a.bool,updateCollection:u.a.func,removeStoriesFromCollection:u.a.func,getCollectionsForStoryIds:u.a.func,storiesCollections:u.a.object,toggleModal:u.a.func,openPopover:u.a.func,trans:u.a.func.isRequired});var ae={getReadingLists:ve,updateCollection:we,removeStoriesFromCollection:Ee,getCollectionsForStoryIds:Oe,toggleModal:i.c,openPopover:K.c},oe=Object(r.g)(Object(p.b)(function(e){var t=e.homeSections;return{readingLists:t.readingLists,readingListsLoading:t.readingListsLoading,removeStoriesFromCollection:t.removeStoriesFromCollection,storiesCollections:t.storiesCollections}},ae)(re)),ie=n(9),se=n(49);function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t,n){return function(a){var o;if(a({type:ie.i}),Object(r.h)()){var i=!1;1==window.wattpad.utils.getCookie("hc")?i=!0:wattpad.utils.setCookie("hc",1),o=Promise.resolve($.get({url:"/v5/home",cache:i}))}else o=e.get("/v5/home",{},t,n);o.then(function(e){a({type:ie.e,sections:e.sections}),a(me())}).catch(function(){a({type:ie.d,error:{errorType:ie.u.fetchFailed,errorMessage:"fetching home modules failed"}})}).finally(function(){a({type:ie.j}),a({type:se.c}),a({type:ie.t})})}}function ue(e,t,n,r){return{type:ie.p,info:{index:e,type:t,top:n,bottom:r}}}function de(e){return{type:ie.s,index:e}}function me(){return function(e){e({type:ie.c})}}function pe(e){return function(t){o.a.each(e,function(e){$.get(e)}),t({type:ie.b})}}function fe(){return function(e){e(Object(i.c)({component:function(){return React.createElement(G,null)},className:"modal-contest",disableClose:!0}))}}function ge(e){return function(t){t(Object(i.c)({component:function(){return React.createElement(oe,{story:e})},className:"modal-story-preview",disableClose:!0,hideClose:!0}))}}function ye(){var e=wattpad.utils.currentUser().get("username"),t="/v5/users/".concat(e,"/content-settings");return function(e){e({type:ie.g}),Promise.resolve($.get(t)).then(function(t){e({type:ie.n,settings:t}),e({type:ie.h})}).catch(function(){e({type:ie.d,error:{errorType:ie.u.fetchError,errorMessage:"error fetching content settings"}})})}}function he(e){if(0===Object.keys(e).length)return function(e){e({type:ie.m}),e({type:se.c})};var t,n,r=wattpad.utils.currentUser().get("username"),a="/v5/users/".concat(r,"/content-settings"),o="".concat(a,"/include-mature"),i="includeMature",s="".concat(a,"/blocked-tags"),l=[];function c(e){return Object.values(e)[0].then(function(t){return{setting:Object.keys(e)[0],promise:t,status:"resolved"}},function(t){return{setting:Object.keys(e)[0],promise:t,status:"rejected"}})}return e.hasOwnProperty(i)&&(t=Promise.resolve($.ajax({url:o,type:"PUT",dataType:"json",contentType:"application/json",data:JSON.stringify(le({},i,e[i]))})),l.push(le({},i,t))),e.hasOwnProperty("blockedTags")&&(n=Promise.resolve($.ajax({url:s,type:"PUT",dataType:"json",contentType:"application/json",data:JSON.stringify(le({},"blockedTags",e.blockedTags))})),l.push(le({},"blockedTags",n))),function(e){e({type:ie.g}),Promise.all(l.map(c)).then(function(t){t.forEach(function(e){e.setting===i&&"resolved"===e.status&&window.te.push("event","content_settings",null,null,"update",{setting:"mature"})}),wattpad.utils.setCookie("hc",0),e({type:ie.f}),e(ye()),e(ce())})}}function be(){return function(e){e(Object(i.c)({component:function(){return React.createElement(Y,{handleConfirmation:function(){e({type:se.c})}})},className:"modal-confirmation",hideClose:!0}))}}function ve(){var e=wattpad.utils.currentUser().get("username"),t="api/v3/users/".concat(e,"/lists")+"?offset=0&limit=200&fields=lists(id%2Cname%2Cuser(name)%2CnumStories%2Cfeatured)%2Ctotal";return function(e){e({type:ie.k}),Promise.resolve($.get(t)).then(function(t){e({type:ie.o,lists:t.lists})}).catch(function(e){var t=e.responseText?e.responseText:e.statusText;console.error("call to getReadingLists failed with: ".concat(t))})}}function we(e,t){var n=wattpad.utils.currentUser().get("username"),r="api/v3/lists/".concat(e,"/stories"),a="api/v3/users/".concat(n,"/library?fields=stories(id)"),o="library"===e?a:r;return function(n){Promise.resolve($.post(o,{stories:t})).then(function(){n({type:ie.a,collectionId:e,storyId:t})}).catch(function(e){var t=e.responseText?e.responseText:e.statusText;console.error("call to updateCollection failed with: ".concat(t))})}}function Ee(e,t){var n=wattpad.utils.currentUser().get("username"),r="api/v3/lists/".concat(e,"/stories/").concat(t),a="api/v3/users/".concat(n,"/library/").concat(t),o="library"===e?a:r;return function(n){Promise.resolve($.ajax({url:o,type:"DELETE"})).then(function(){n({type:ie.r,collectionId:e,storyId:t})}).catch(function(e){var t=e.responseText?e.responseText:e.statusText;console.error("call to removeStoriesFromCollection failed with: ".concat(t))})}}function Oe(e){var t="/v4/stories/collections"+"?storyIds=".concat(e);return function(e){e({type:ie.l}),Promise.resolve($.get(t)).then(function(t){e({type:ie.q,collections:t.collections})}).catch(function(e){var t=e.responseText?e.responseText:e.statusText;console.error("call to getCollectionsForStoryIds failed with: ".concat(t))})}}n.d(t,"c",function(){return ce}),n.d(t,"j",function(){return ue}),n.d(t,"m",function(){return de}),n.d(t,"b",function(){return me}),n.d(t,"a",function(){return pe}),n.d(t,"h",function(){return fe}),n.d(t,"i",function(){return ge}),n.d(t,"e",function(){return ye}),n.d(t,"l",function(){return he}),n.d(t,"g",function(){return be}),n.d(t,"f",function(){return ve}),n.d(t,"n",function(){return we}),n.d(t,"k",function(){return Ee}),n.d(t,"d",function(){return Oe})},,,function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"a",function(){return g});var r=n(0),a=n.n(r),o=n(3),i=n.n(o),s=n(1),l=n.n(s),c=n(146),u=n.n(c),d=n(12),m=function(e){var t=e.label,n=e.labelClassName,r=e.tooltip,o=e.onClickIcon;return t&&null===t.match(/^ *$/)?a.a.createElement("div",{className:i()("form-field-label",n)},a.a.createElement("label",null,t),r&&a.a.createElement(p,{tooltip:r}),o&&a.a.createElement(f,{onClick:o})):null};m.defaultProps={label:null,labelClassName:null,tooltip:null,onClickIcon:null},m.propTypes={label:l.a.string,labelClassName:l.a.string,tooltip:l.a.string,onClickIcon:l.a.func};var p=function(e){var t=e.tooltip;return a.a.createElement("div",{className:"icon-container"},a.a.createElement("div",{"data-tip":t,className:"tool-tip"},a.a.createElement(d.a,{iconName:"fa-info",height:"16",color:"wp-neutral-2"})),a.a.createElement(u.a,{place:"top",type:"dark",effect:"float"}))};p.defaultProps={tooltip:""},p.propTypes={tooltip:l.a.string};var f=function(e){var t=e.onClick;return a.a.createElement("div",{className:"icon-container"},a.a.createElement("button",{onClick:t,className:"btn btn-no-style"},a.a.createElement(d.a,{iconName:"fa-info",height:"16",color:"wp-neutral-2"})))};f.defaultProps={onClick:function(e){return e.preventDefault()}},f.propTypes={onClick:l.a.func};var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return null===e||null!==e.match(/^ *$/)?null:a.a.createElement("div",{className:"about-form"},e)}},,,,function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),a=n.n(r),o=n(4),i=n(2);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e){var t=s({},e),n=Object(o.g)().trans;return a.a.createElement(i.c,s({name:"/paid-content/coin-icon.svg",className:"coin-icon",alt:n("Coin")},t))}},,,,,,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return d});var i="".concat("POPOVER","/OPEN"),s="".concat("POPOVER","/CLOSE"),l={popoverProps:{}};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case i:return a({},e,{popoverProps:t.popoverProps});case s:return a({},e,{popoverProps:{}});default:return e}}function u(e){return function(t,n){n().popover.popoverProps.triggerRef!==e.triggerRef?t({type:i,popoverProps:e}):t({type:s})}}function d(){return function(e){e({type:s})}}},,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n.n(s),c=n(2);function u(e){var t=e.variant,n=e.messageNode;return a.a.createElement("div",{className:l()("ds-alert",t)},a.a.createElement(c.e,{name:"warning",size:"24",color:"ds-alert"}),n)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function p(e){var t=e.text,n=e.variant,r=e.onClick,o=m(e,["text","variant","onClick"]);return a.a.createElement("button",d({className:l()("ds-button",n),onClick:r},o),t)}function f(e){return a.a.createElement("div",{className:l()("dscontainer",e.variant)},e.children)}function g(e){var t=e.text;return a.a.createElement("h2",{className:l()("ds-header",e.variant)},t)}u.propTypes={messageNode:i.a.node.isRequired,variant:i.a.string},u.defaultProps={variant:""},p.propTypes={text:i.a.string.isRequired,variant:i.a.string,onClick:i.a.func},p.defaultProps={variant:"",onClick:function(){}},f.propTypes={children:i.a.node,variant:i.a.string},f.defaultProps={variant:""},g.propTypes={text:i.a.string.isRequired,variant:i.a.string},g.defaultProps={variant:""},n.d(t,"a",function(){return u}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return g})},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=a.a.createContext({trans:function(e){return e},ngettext:function(e){return e}}),i=n(136),s=a.a.createContext({});n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i.a}),n.d(t,"a",function(){return s})},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o});var r="TOGGLE_MODAL_VISIBLE",a="OPEN_MODAL",o="CLOSE_MODAL"},,,,,,,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return l});var o="TOGGLE_TOAST_VISIBLE",i={toastProps:null};function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{toastProps:e.toastProps?null:t.toastProps});default:return e}}function l(e){return{type:o,toastProps:e}}},,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return O}),n.d(t,"b",function(){return S}),n.d(t,"e",function(){return k}),n.d(t,"d",function(){return N}),n.d(t,"c",function(){return j});var r=n(0),a=n.n(r),o=n(74),i=n(143),s=n(8);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,s,"next",e)}function s(e){c(o,r,a,i,s,"throw",e)}i(void 0)})}}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f="CONTEST_FORM",g="".concat(f,"/REQUEST"),y="".concat(f,"/FETCH"),h="".concat(f,"/SET"),b="".concat(f,"/ERROR"),v="".concat(f,"/SUBMITTED_SET"),w="".concat(f,"/ADDED_WATTYS_TAG"),E={isLoading:!0,hasCheckedSubmission:!1,hasSubmitted:!1,hasAddedWattysTag:!1,cover:"",title:"",data:{story_id:null,contest_submission:{contest:"",submitted_t:0,language:"",award_category:"",subgenre:"",subgenre_secondary:"",sexual_content:"",is_exclusive:null,target_audience:"",mature_themes:[],opportunities:[],authors_msg:"",plot_details:{summary:"",logline:""}}}};function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case g:return m({},e,{isLoading:!0});case y:var n,r=E.hasSubmitted;return t.data.contest&&("wattys2020"===t.data.contest&&(n=t.data),n&&(r=!0)),m({},E,{isLoading:!1,hasCheckedSubmission:!0,hasSubmitted:r,data:{story_id:t.story_id||E.data.story_id,contest_submission:{award_category:t.data.award_category||E.data.contest_submission.award_category,target_audience:t.data.target_audience||E.data.contest_submission.target_audience,mature_themes:t.data.mature_themes||E.data.contest_submission.mature_themes,subgenre:t.data.subgenre||E.data.contest_submission.subgenre,subgenre_secondary:t.data.subgenre_secondary||E.data.contest_submission.subgenre_secondary,plot_details:t.data.plot_details||E.data.contest_submission.plot_details,opportunities:t.data.opportunities||E.data.contest_submission.opportunities,authors_msg:t.data.authors_msg||E.data.contest_submission.authors_msg,is_exclusive:t.data.is_exclusive,sexual_content:t.data.sexual_content||E.data.contest_submission.sexual_content,language:t.data.language||E.data.contest_submission.language}},language:t.storyData.language&&t.storyData.language.id,cover:t.storyData.cover,title:t.storyData.title});case h:return m({},e,{data:m({},e.data,{},t.data),isLoading:!1,hasCheckedSubmission:!0});case v:return m({},e,{hasCheckedSubmission:!0,hasSubmitted:t.status});case b:return m({},e,{isLoading:!1});case w:return m({},e,{hasAddedWattysTag:!0});default:return e}}function S(e){return function(){var t=u(regeneratorRuntime.mark(function t(n,r){var a,o,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a="/api/v3/stories/".concat(e,"?fields=cover,title,language"),o="/v5/contests/wattys2020/story/".concat(e,"/eligibility"),t.next=4,Promise.resolve($.get(o));case 4:if(i=t.sent,!i.submitted_t){t.next=12;break}return s="/v5/contests/wattys2020/story/".concat(e,"/"),r().contestForm.isLoading||n({type:g}),t.abrupt("return",Promise.all([Promise.resolve($.get(s)),Promise.resolve($.get(a))]).then(function(e){var t=l(e,2),r=t[0],a=t[1];n({type:y,data:r.contest_submission,story_id:r.story_id,storyData:a})}));case 12:return t.abrupt("return",Promise.resolve($.get(a)).then(function(e){n({type:y,data:E.data.contest_submission,story_id:e.story_id,storyData:e})}));case 13:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()}function k(e,t){return function(){var n=u(regeneratorRuntime.mark(function n(r){var a,i,s,l,c,u,d,m,p;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a="/v5/contests/wattys2020/submit",i="/apiv2/editstorytags",s="/api/v3/stories/".concat(e,"?fields=tags,parts"),r({type:g}),n.prev=4,n.next=7,Promise.resolve($.ajax({url:a,type:"POST",data:JSON.stringify(t),dataType:"json",headers:{"Content-Type":"application/json"}}));case 7:n.next=17;break;case 9:n.prev=9,n.t0=n.catch(4),l=wattpad.utils.trans("Sorry, something went wrong. Please try again.");try{400===n.t0.status&&("InvalidParam"===n.t0.responseJSON.error.error_type||"RequiredParamMissing"===n.t0.responseJSON.error.error_type)&&n.t0.responseJSON.error.fields.length>0?(l+=" [fields = ",n.t0.responseJSON.error.fields.forEach(function(e,t){l+=e+(t!==n.t0.responseJSON.error.fields.length-1?", ":"")}),l+="]"):401===n.t0.status&&"PermissionDenied"===n.t0.responseJSON.error.error_type&&(l+=wattpad.utils.trans("You do not have permission to modify this story"))}catch(e){}throw new window.app.views.ErrorToast({message:l},{type:"dismissable"}).render(),r({type:b}),n.t0;case 17:return r({type:h,data:{award_category:t.contest_submission.award_category}}),n.next=20,Promise.resolve($.get(s));case 20:if(c=n.sent,u=c.tags,d=c.parts,m="wattys2020",p=!1,!(-1===u.indexOf(m)&&d&&d.length>0)){n.next=36;break}return n.prev=26,n.next=29,Promise.resolve($.post(i,{request_type:"add",tag_value:m,story_id:d[0].id}));case 29:r(Object(o.a)({id:m,name:m,active:!0,className:"wattys-tag"})),r({type:w}),p=!0,n.next=36;break;case 34:n.prev=34,n.t1=n.catch(26);case 36:return r(_(!0)),n.abrupt("return",p);case 38:case"end":return n.stop()}},n,null,[[4,9],[26,34]])}));return function(e){return n.apply(this,arguments)}}()}function N(e){return function(t){t(Object(s.c)({component:function(){return a.a.createElement(i.a,{closeModal:function(){return t(Object(s.c)())},storyId:e})},disableClose:!0,animate:!1,className:"modal-contest"}))}}function _(e){return function(t){t({type:v,status:e})}}function j(e){return function(){var t=u(regeneratorRuntime.mark(function t(n){var r,a,o,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=!1,a="/v5/contests/wattys2020/story/".concat(e,"/eligibility"),t.next=4,Promise.resolve($.get(a));case 4:o=t.sent,i=o.submitted_t,s=o.contest,i?"wattys2020"===s&&n({type:v,status:r=!0}):n({type:v,status:r});case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},,,function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(71);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(){return a.a.createElement(s.a,{name:"/icons/spinner-black.svg",className:"fa-spin",alt:"Loading spinner",height:"40",width:"40"})}function u(e){var t=e.isLoading,n=e.className,o=e.children,i=e.customLoader,s=void 0===i?a.a.createElement(c,null):i,u=e.showLoaderAfter,d=l(Object(r.useState)(!1),2),m=d[0],p=d[1],f=Object(r.useRef)(null);Object(r.useEffect)(function(){t?f.current=setTimeout(function(){!m&&p(!0)},u):(f.current&&clearTimeout(f.current),m&&p(!1))},[t,m,u]);var g=m&&a.a.createElement("div",{className:n},s);return t?g:o()}u.propTypes={isLoading:i.a.bool.isRequired,children:i.a.any.isRequired,customLoader:i.a.any,showLoaderAfter:i.a.number},u.defaultProps={showLoaderAfter:500}},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(7),l=n(145),c=n(155),u=n(3),d=n.n(u),m=n(5),p=n(8),f=n(97);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),w(b(n=function(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?b(e):t}(this,h(t).call(this,e))),"onNavigate",function(e,t){e.preventDefault(),n.props.closeModal(),"/login"===window.location.pathname&&window.location.reload(),window.app.router.navigate(t,{trigger:!0})}),w(b(n),"showFormFields",function(){n.setState({showFormFields:!0})}),w(b(n),"showLoginForm",function(){n.setState({showFormFields:!1,showLoginForm:!0,class:"login-form"})}),w(b(n),"render",function(){var e=n.props,t=e.formType,r=e.model,a=e.title,o=e.subtitle,s=e.trans,u=n.props.signup?"signup":"",m=n.props.nextUrl||"/home",p=s("Be part of a global community of readers and writers, all connected through the power of story."),g=s("By continuing, you agree to Wattpad's <a href='/terms'>Terms of Service</a> and <a href='/privacy'>Privacy Policy</a>."),h=d()(n.state.class,{sidebar:"sidebar"===t});return n.state.showFormFields?i.a.createElement(l.a,{model:r,nextUrl:m}):n.state.showLoginForm?i.a.createElement(f.a,y({},n.props,{login:!0})):i.a.createElement("div",{id:"authentication",className:h},"sidebar"===t?null:a?i.a.createElement("h1",null,a):i.a.createElement("h1",null,s("Join Wattpad")),o?i.a.createElement("h2",{dangerouslySetInnerHTML:{__html:o}}):i.a.createElement("p",null,p),i.a.createElement("div",{className:"panel-body"},i.a.createElement("div",null,i.a.createElement(c.a,{source:u}),i.a.createElement("span",{className:"hr-with-text"},i.a.createElement("div",{className:"horizontal-line"}),i.a.createElement("span",{className:"or"}," OR "),i.a.createElement("div",{className:"horizontal-line"})),i.a.createElement("button",{className:"btn-block btn-primary submit-btn",onClick:function(){return n.showFormFields()}},s("Sign up with Email"))),i.a.createElement("p",null,s("If you already have an account, "),i.a.createElement("button",{className:"login",onClick:n.showLoginForm},s("Log in."))),i.a.createElement("span",{className:"policy-agreement",dangerouslySetInnerHTML:{__html:g}})))}),n.state={showFormFields:!1,showLoginForm:!1,class:"signup-form"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,o["Component"]),t}();w(E,"propTypes",{model:a.a.object,nextUrl:a.a.string,source:a.a.string,formType:a.a.string,title:a.a.string,subtitle:a.a.string,trans:a.a.func.isRequired,closeModal:a.a.func,signup:a.a.bool});var O=Object(s.b)(null,{closeModal:p.a})(E);t.a=Object(m.g)(O)},function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"c",function(){return w}),n.d(t,"d",function(){return E}),n.d(t,"b",function(){return O}),n.d(t,"e",function(){return S});var r=n(25);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l="CONVERSATION",c="".concat(l,"/POST_MESSAGE_REQUESTED"),u="".concat(l,"/POST_MESSAGE"),d="".concat(l,"/LOAD_REQUESTED"),m="".concat(l,"/LOAD_MORE_REQUESTED"),p="".concat(l,"/LOAD"),f="".concat(l,"/RESET"),g="".concat(l,"/DELETE_REQUESTED"),y="".concat(l,"/DELETE"),h={isActive:!1,isLoading:!0,isLoadingMore:!1,isDeleting:!1,isPosting:!1,messages:[],badges:[],scrollToMessageId:-1,total:0,offset:0,isBlockingCurrentUser:!1,isBlockedByCurrentUser:!1};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case d:return i({},e,{badges:[],messages:[],offset:0,total:0,scrollToMessageId:-1,isActive:!1,isLoading:!0,isBlockingCurrentUser:!1,isBlockedByCurrentUser:!1});case m:return i({},e,{isLoadingMore:!0});case p:var n,o=[].concat(a(t.messages.slice().reverse()),a(e.messages));return n=t.isLoadMore?e.messages[0].id:o.length>0?o[o.length-1].id:-1,i({},e,{isLoading:!1,isLoadingMore:!1,isActive:t.isActive,scrollToMessageId:n,messages:o,badges:t.badges||[],offset:e.offset+t.messages.length,total:t.total,isBlockingCurrentUser:t.isBlockingCurrentUser,isBlockedByCurrentUser:t.isBlockedByCurrentUser});case y:case f:return i({},h);case g:return i({},e,{isDeleting:!0});case c:return i({},e,{isPosting:!0});case u:return i({},e,{isPosting:!1,messages:[].concat(a(e.messages),[t.message]),scrollToMessageId:t.message?t.message.id:-1,offset:e.offset+1,total:e.total+1});case r.b:return i({},e,{isBlockedByCurrentUser:!0});case r.c:return i({},e,{isBlockedByCurrentUser:!1});case r.a:return i({},e,{isLoading:!1});default:return e}}var v=function(){return wattpad.utils.currentUser().get("username")};function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="/api/v3/users/".concat(v(),"/inbox/").concat(e,"?offset=").concat(t);return function(e){var r=Promise.resolve($.get(n)),a=t>0;return e(a?{type:m}:{type:d}),r.then(function(t){e({type:p,messages:t.messages,badges:t.badges,isActive:t.isActive,total:t.total,isLoadMore:a,isBlockingCurrentUser:t.isBlockingCurrentUser,isBlockedByCurrentUser:t.isBlockedByCurrentUser})}).catch(function(){return e({type:p,messages:[],total:0})})}}function E(e,t){var n=v(),r="/api/v3/users/".concat(n,"/inbox/").concat(e);return function(a){var o={sender:n,recipient:e,body:t.body},i=Promise.resolve($.post(r,o));return a({type:c}),i.then(function(e){return a({type:u,message:e})}).catch(function(){new window.app.views.ErrorToast({message:wattpad.utils.trans("Sorry, something went wrong. Please try again.")},{type:"dismissable"}).render()})}}function O(e){var t=v(),n="/api/v3/users/".concat(t,"/inbox/").concat(e);return function(e){var t=Promise.resolve($.ajax({url:n,type:"DELETE"}));return e({type:g}),t.finally(function(){return e({type:y})})}}function S(){return function(e){e({type:f})}}},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return u});var r=n(10),a=n.n(r),o=n(5),i=n(13);function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="/v5/users/".concat(e,"/wallet");return function(e,r){return r().wallet.fetched&&!t?Promise.resolve():Promise.resolve($.get(n)).then(function(t){var n=a.a.find(t,{id:i.d});n&&e({type:i.i,amount:n.amount})}).catch(function(e){console.log("Failed to fetch wallet balance",e)})}}function l(e,t){return function(n){return n({type:i.b,price:e,partId:t}),n({type:i.k,step:i.l.COIN}),setTimeout(function(){n({type:i.k,step:i.l.DEDUCTING})},i.c),Object(o.k)(i.e)}}function c(){return function(e){return e({type:i.k,step:i.l.SUBTRACTING}),Object(o.k)(i.j)}}function u(){return function(e){return e({type:i.k,step:i.l.COIN}),setTimeout(function(){e({type:i.a})},i.c),Object(o.k)(i.c)}}},,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=function(e){var t=e.name,n=e.title,r=e.className,o=e.id,i=e.height,c=e.width,u=l(e,["name","title","className","id","height","width"]);return a.a.createElement("img",s({src:"/img/".concat(t),alt:n,className:r,id:o,height:i,width:c},u))};c.propTypes={name:i.a.string,title:i.a.string,className:i.a.string,id:i.a.string,height:i.a.string,width:i.a.string},t.a=c},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(135),l=n(3),c=n.n(l),u=n(7),d=n(56),m=function(e){var t=e.toggleToast,n=e.toastProps;n=n||{};var r=Object(s.a)().trans,o=n,i=o.className,l=o.body;if(l){var u=c()("toast",i);return a.a.createElement("div",{className:u},a.a.createElement("div",{className:"toast-content"},a.a.createElement("p",null,l),a.a.createElement("button",{className:"btn-no-background",onClick:t},r("OK"))))}return null};m.propTypes={toastProps:i.a.shape({body:i.a.string,className:i.a.string}),toggleToast:i.a.func};var p=Object(u.b)(function(e){return{toastProps:e.toast.toastProps}},{toggleToast:d.c})(m)},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(3),a=n.n(r),o=n(1),i=n.n(o),s=n(0),l=n.n(s),c=n(2);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,p(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,l.a.Component),function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(t,[{key:"render",value:function(){var e=this,t="wattys-tag"===this.props.className?"wp-neutral-5":"wp-neutral-2";return l.a.createElement("button",{className:a()("tag-item with-icon",{active:this.props.active},this.props.className),onClick:function(t){return e.props.clickHandler(t,e.props.name)},onKeyDown:function(t){return e.props.clickHandler(t,e.props.name)}},l.a.createElement("span",null,this.props.name),this.props.active?this.props.noRemoveIcon?null:l.a.createElement(c.e,{iconName:"fa-remove",height:"12",color:t}):l.a.createElement(c.e,{iconName:"fa-plus",height:"12",color:t}))}}]),t}();g.defaultProps={clickHandler:function(){}},g.propTypes={active:i.a.bool,noRemoveIcon:i.a.bool,className:i.a.string,name:i.a.string.isRequired,clickHandler:i.a.func}},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",function(){return d}),n.d(t,"a",function(){return m}),n.d(t,"d",function(){return p}),n.d(t,"c",function(){return f});var s="".concat("STORY_TAGS","/SET"),l="".concat("STORY_TAGS","/ADD"),c="".concat("STORY_TAGS","/REMOVE"),u={tags:[]};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case s:return o({},e,{},t.tags);case l:return o({},e,{tags:[].concat(r(e.tags),[t.tag])});case c:var n=e.tags.findIndex(function(e){return e.name===t.tag});return o({},e,{tags:[].concat(r(e.tags.slice(0,n)),r(e.tags.slice(n+1)))});default:return e}}function m(e){return function(t){t({type:l,tag:e})}}function p(e){return function(t){t({type:s,tags:e})}}function f(e){return function(t){t({type:c,tag:e})}}},,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n.n(s),c=n(35);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function p(e){var t=e.info,n=e.label,o=e.placeholder,i=e.selected,s=e.selectClassName,p=e.disabled,f=e.dropdownOptions,g=e.onChange,y=e.onFocus,h=e.onBlur,b=e.onClickIcon,v=e.className,w=e.labelClassName,E=m(e,["info","label","placeholder","selected","selectClassName","disabled","dropdownOptions","onChange","onFocus","onBlur","onClickIcon","className","labelClassName"]),O=d(Object(r.useState)(),2),S=O[0],k=O[1],N=function(e){g(e)},_=f.map(function(e){return a.a.createElement("option",{key:e.value,value:e.value},e.name)}),j=function(){k(!0),y()},C=function(){k(!1),h()};return a.a.createElement("div",{className:l()("form-field",v)},Object(c.b)({label:n,labelClassName:w,tooltip:t,onClickIcon:b}),a.a.createElement("select",u({value:function(){var e=f.find(function(e){return e.value.toString()===i});return e?e.value:o}(),onChange:function(e){return N(e)},onFocus:function(e){return j()},onBlur:function(e){return C()},className:l()("select-form-field",s,{focus:S}),id:"select-form-component",disabled:p},E),"(value !== placeholder &&"," ",a.a.createElement("option",{hidden:!0,disabled:!0,value:o},o),")",_))}p.defaultProps={placeholder:"Select",disabled:!1,onChange:function(){},onFocus:function(){},onBlur:function(){},onClickIcon:null},p.propTypes={dropdownOptions:i.a.array.isRequired,onChange:i.a.func.isRequired,onFocus:i.a.func,onBlur:i.a.func,onClickIcon:i.a.func,selected:i.a.string,selectClassName:i.a.string,disabled:i.a.bool,className:i.a.string,label:i.a.string,labelClassName:i.a.string,info:i.a.string,placeholder:i.a.string},t.a=p},,,,,,,,,,,,function(e,t,n){"use strict";var r=n(7),a=n(75),o=n(3),i=n.n(o),s=n(1),l=n.n(s),c=n(0),u=n.n(c),d=n(2),m=n(8),p=n(5),f=n(13),g=n(67),y=n(136),h=n(39),b=n(4);function v(e){var t=e.children,n=e.toggleModal,r=Object(b.g)().trans;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"top-buttons-container"},u.a.createElement(R,{allowOpenCoinShop:!1,disabled:!0}),u.a.createElement("button",{className:"btn-no-style",onClick:n,title:r("Close Coin Shop")},u.a.createElement(d.e,{iconName:"fa-remove",color:"wp-neutral-1",height:"22",className:"close-btn"}))),u.a.createElement("div",{className:"coins-modal-body"},t))}function w(e){var t=e.numCoins,n=e.previousBalance,r=e.toggleModal,a=Object(b.g)().trans,o=t+n;return u.a.createElement(v,{toggleModal:r},u.a.createElement("div",{className:"coin-purchase-confirmation"},u.a.createElement("h3",null,a("Wallet locked and loaded")," 💸"),u.a.createElement("div",{className:"wallet-calculation"},u.a.createElement("div",{className:"calculation-row"},u.a.createElement("span",null,a("Previous balance")),u.a.createElement("span",{className:"coin-amount"},u.a.createElement(h.a,{height:"20",width:"20"})," ",n)),u.a.createElement("div",{className:"calculation-row"},u.a.createElement("span",null,a("Coins added")),u.a.createElement("span",{className:"coin-amount"},u.a.createElement(h.a,{height:"20",width:"20"})," ",t)),u.a.createElement("div",{className:"calculation-row new-balance"},u.a.createElement("span",null,a("New balance")),u.a.createElement("span",{className:"coin-amount"},u.a.createElement(h.a,{height:"20",width:"20"})," ",o))),u.a.createElement("button",{className:"btn-primary",onClick:r},a("Complete"))))}v.propTypes={children:l.a.node.isRequired,toggleModal:l.a.func.isRequired},w.propTypes={numCoins:l.a.number.isRequired,previousBalance:l.a.number.isRequired,toggleModal:l.a.func.isRequired};var E=Object(r.b)(function(e){return{previousBalance:e.wallet.amount}},{toggleModal:m.c})(w);function O(e){var t=e.toggleModal,n=Object(b.g)().trans,r=wattpad.utils.getCurrentUserAttr("premium"),a=r?f.g:f.f,o=function(e){t(),setTimeout(function(){t({component:function(){return u.a.createElement(E,{numCoins:e})},className:"coins-modal-container",hideClose:!0})},500)};return u.a.createElement(v,{toggleModal:t},u.a.createElement("div",{className:"coin-shop"},u.a.createElement("div",{className:"shop-explanation"},u.a.createElement("h3",null,n("Coin Shop")),u.a.createElement("div",{className:"coin-package-purchase-details"},u.a.createElement("p",null,n("Select a Coin package below.")),u.a.createElement("p",null,n("Taxes will be added at checkout."))),!r&&u.a.createElement("p",{className:"premium-benefit"},u.a.createElement(d.e,{name:"zap",className:"zap-icon",size:"16",color:"wp-neutral-1",fill:!0})," ",n("Premium members get up to 66%% more Coins"))),Object.values(a).map(function(e){return u.a.createElement(S,{key:e.value,isPremium:r,value:e.value,premiumValue:e.premium_value,nonPremiumValue:e.non_premium_value,price:e.price,illustrationUrl:e.illustration_url,featured:e.featured,onSelectPack:o})})))}function S(e){var t=e.isPremium,n=e.value,r=e.premiumValue,a=e.nonPremiumValue,o=e.price,i=e.illustrationUrl,s=e.featured,l=e.onSelectPack,c=Object(b.g)().trans,m=r-n;return u.a.createElement("button",{className:"coin-pack btn-no-style",onClick:function(){return l(n)}},u.a.createElement("img",{src:i,alt:c("%s Coin Pack",n),height:"75",width:"75",className:"pack-image"}),u.a.createElement("div",{className:"pack-body"},u.a.createElement("div",null,s&&u.a.createElement("span",{className:"most-popular"},c("Most Popular")),u.a.createElement("div",{className:"coins-in-pack"},u.a.createElement("h4",null,c("%s Coins",n)),t&&u.a.createElement("span",{className:"non-premium-value"},c("%s Coins",a))),u.a.createElement("div",{className:"premium-status"},t?c("Premium"):c("+ %s with Premium",m)," ",u.a.createElement(d.e,{name:"zap",className:"zap-icon",size:"10",color:"wp-neutral-2",fill:!0}))),u.a.createElement("div",{className:"pack-price"},"$",o)))}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}O.propTypes={toggleModal:l.a.func.isRequired},S.propTypes={isPremium:l.a.bool.isRequired,value:l.a.number.isRequired,premiumValue:l.a.number,nonPremiumValue:l.a.number,price:l.a.string.isRequired,illustrationUrl:l.a.string.isRequired,featured:l.a.bool,onSelectPack:l.a.func.isRequired};var T=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return P(j(n=function(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?j(e):t}(this,(e=_(t)).call.apply(e,[this].concat(a)))),"onWalletClick",function(){wattpad.testGroups.WEB_COIN_PURCHASING?(0,n.props.toggleModal)({component:function(e){var t=e.toggleModal;return u.a.createElement(O,{toggleModal:t})},className:"coins-modal-container",hideClose:!0}):n.props.onWalletClick()}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,u.a.Component),function(e,t,n){t&&N(e.prototype,t),n&&N(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this.context;!!e.username&&this.props.fetchWalletBalance(e.username)}},{key:"render",value:function(){var e,t,n=this.props,r=n.wallet,o=n.purchase,s=n.trans,l=n.ngettext,c=n.disabled,m=r.amount,g=r.animationStep,y=r.fetched,b=o.amountSpent,v=this.context,w=i()("wallet");return g===f.l.COIN?(w=i()("coin-solo",w),u.a.createElement("button",{className:w},u.a.createElement(h.a,null))):g===f.l.DEDUCTING?(w=i()("deducting",w),u.a.createElement("button",{className:w},u.a.createElement("div",{className:"deducting-icon"},u.a.createElement(d.c,{name:"/icons/spinner.svg",className:"fa-spin",alt:s("Spinner"),height:"24",width:"24"})),u.a.createElement("span",{className:"num-coins"},s("Deducting")))):g===f.l.SUBTRACTING?(w=i()("subtracting",w),e=o.buyingPart?l("-%s Coin for next part","-%s Coins for next part",b):l("-%s Coin for story","-%s Coins for story",b),e=Object(a.sprintf)(e,b),u.a.createElement("button",{className:w},u.a.createElement("div",{className:"coin-container"},u.a.createElement(h.a,null)),u.a.createElement("span",{className:"num-coins"},e))):(t=!!v.username?y?m<1e4?m:Object(p.a)(m):"-":0,w=i()("default",w),u.a.createElement("button",{onClick:this.onWalletClick,className:w,disabled:c,title:s("Wallet with %s Coins",m)},u.a.createElement(h.a,null),u.a.createElement("span",{className:"num-coins divider-right"},t),!c&&u.a.createElement("div",{className:"get-coins"},u.a.createElement(d.e,{iconName:"fa-plus",height:"12",color:"wp-neutral-1"}))))}}]),t}();P(T,"propTypes",{wallet:l.a.shape({amount:l.a.number.isRequired,animationStep:l.a.string.isRequired,fetched:l.a.bool.isRequired}).isRequired,purchase:l.a.shape({amountSpent:l.a.number.isRequired,buyingPart:l.a.bool}).isRequired,trans:l.a.func.isRequired,ngettext:l.a.func.isRequired,onWalletClick:l.a.func,toggleModal:l.a.func,fetchWalletBalance:l.a.func.isRequired,disabled:l.a.bool}),P(T,"defaultProps",{disabled:!1}),P(T,"contextType",y.a);var R=t.a=Object(r.b)(function(e){return{wallet:e.wallet,purchase:e.purchase}},{toggleModal:m.c,fetchWalletBalance:g.a})(Object(p.g)(T))},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n.n(s),c=n(35);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function p(e){var t=e.info,n=e.label,o=e.name,i=e.options,s=e.value,p=e.onChange,f=e.className,g=e.labelClassName,y=e.position,h=e.disabled,b=m(e,["info","label","name","options","value","onChange","className","labelClassName","position","disabled"]),v=function(e){return o+"-"+e},w=d(Object(r.useState)(""),2),E=w[0],O=w[1],S=d(Object(r.useState)(),2),k=S[0],N=S[1];Object(r.useEffect)(function(){var e=i.find(function(e){return e.value===s});O(e?o+"-"+e.label:"")},[s,O,i,o]);var _=i.map(function(e){return a.a.createElement("div",{key:e.value,className:l()(f,"radio-button")},a.a.createElement("input",u({type:"radio",id:v(e.label),value:e.value,checked:E===v(e.label),onChange:function(e){O(e.target.id),p(e)}.bind(this),className:l()({focus:k}),onFocus:function(){return N(!0)},onBlur:function(){return N(!1)},name:o,disabled:h},b)),a.a.createElement("label",{id:"radio-label",htmlFor:v(e.label)},e.label))},this);return a.a.createElement("div",{className:"form-field radio-button-container"},Object(c.b)({label:n,labelClassName:g,tooltip:t}),a.a.createElement("div",{className:"radio-button-group"},"horizontal"===y?a.a.createElement("div",{className:"horizontal-group"},_):a.a.createElement("fieldset",{id:o},_)))}p.defaultProps={onChange:function(){},name:""},p.propTypes={label:i.a.string,name:i.a.string.isRequired,options:i.a.array.isRequired,info:i.a.string,onChange:i.a.func.isRequired,className:i.a.string,labelClassName:i.a.string,position:i.a.string,value:i.a.number,disabled:i.a.bool},t.a=p},,,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(7),i=n(1),s=n.n(i),l=n(3),c=n.n(l),u=n(12),d=n(8),m=n(4);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(e){var t=e.toggleModal,n=e.modalProps,o=n=n||{},i=o.className,s=o.component,l=o.disableClose,d=void 0!==l&&l,f=o.hideClose,g=void 0!==f&&f,y=o.animate,h=void 0===y||y,b=o.onCloseModal,v=void 0===b?function(){}:b,w=p(Object(r.useState)(null),2),E=w[0],O=w[1];Object(m.a)(E,function(){s&&!d&&(t(),v())});var S=Object(r.useCallback)(function(e){d||"Escape"===(e.key||e.keyCode)&&(t(),v())},[d,t,v]);if(Object(r.useEffect)(function(){return window.addEventListener("keydown",S),function(){window.removeEventListener("keydown",S)}},[S]),!s)return null;var k=s;return a.a.createElement("div",{className:c()("wp-modal","modal-container",i)},a.a.createElement("div",{ref:function(e){return O(e)},className:c()("modal-content",{animate:h})},!d&&!g&&a.a.createElement("button",{className:"btn-no-style",onClick:function(){t(),v()}},a.a.createElement(u.a,{iconName:"fa-remove",color:"wp-neutral-1",height:"22",className:"close-btn"})),a.a.createElement(k,{toggleModal:t})))}f.propTypes={toggleModal:s.a.func.isRequired,modalProps:s.a.shape({className:s.a.string,component:s.a.func,disableClose:s.a.bool,hideClose:s.a.bool,animate:s.a.bool,onCloseModal:s.a.func})};var g=Object(o.b)(function(e){return{modalProps:e.modal.modalProps}},{toggleModal:d.c})(f);t.a=g},function(e,t,n){"use strict";var r=n(3),a=n.n(r),o=n(1),i=n.n(o),s=n(0),l=n.n(s),c=n(2),u=n(5),d=n(4),m=function(e){var t,n=Object(d.g)().trans,r=e.backgroundUrl,o=e.username,i=e.name,s=e.highlight_colour,m=e.numFollowers,f=e.avatar,g=e.numStoriesPublished,y=e.numLists,h=e.onUnmute,b=e.className;return t=r?{backgroundImage:"url( '".concat(Object(u.j)(r,1920),"' )")}:{backgroundColor:s},l.a.createElement("div",{id:"profile-header",className:a()("profile-layout",b)},l.a.createElement("header",{style:t,className:"background background-lg"},l.a.createElement("div",{className:"avatar avatar-profile center-block"},f?l.a.createElement(c.a,{avatar:f,username:o}):l.a.createElement(c.c,{name:"avatar/empty.png",width:"96",height:"96"})),l.a.createElement("h1",{className:"profile-name h3","aria-label":n("%s's profile",i||o)},i||o),h&&l.a.createElement("button",{className:"unmute-button",onClick:h},n("Unmute")),l.a.createElement(p,{numStoriesPublished:g,numFollowers:m,numLists:y})))},p=function(e){var t=e.numStoriesPublished,n=e.numFollowers,r=e.numLists,a=Object(d.g)().ngettext;return l.a.createElement("div",{className:"row header-metadata"},l.a.createElement("div",{className:"col-xs-4"},l.a.createElement("p",null,void 0!==t?Object(u.a)(t):"-"),l.a.createElement("p",null,a("Work","Works",t||0))),l.a.createElement("div",{className:"col-xs-4"},l.a.createElement("p",null,void 0!==r?r:"-"),l.a.createElement("p",null,a("Reading List","Reading Lists",r||0))),l.a.createElement("div",{className:"col-xs-4"},l.a.createElement("p",{className:"followers-count"},void 0!==n?Object(u.a)(n):"-"),l.a.createElement("p",null,a("Follower","Followers",n||0))))};m.propTypes={username:i.a.string,backgroundUrl:i.a.string,avatar:i.a.string,highlight_colour:i.a.string,numStoriesPublished:i.a.number,numLists:i.a.number,numFollowers:i.a.number,name:i.a.string,onUnmute:i.a.func,className:i.a.string},m.defaultProps={avatar:"",username:""},p.propTypes={numStoriesPublished:i.a.number,numFollowers:i.a.number,numLists:i.a.number},t.a=m},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(7),l=n(3),c=n.n(l),u=n(2),d=n(5),m=n(155),p=n(8),f=n(65);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?w(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){function t(){var e,n;h(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return S(w(n=b(this,(e=v(t)).call.apply(e,[this].concat(a)))),"state",{hideEmailLogin:!0,showSignupForm:!1,class:"login-form"}),S(w(n),"openSignupModal",function(){n.setState({showSignupForm:!0,hideEmailLogin:!1,class:"signup-form"})}),S(w(n),"showFormFields",function(){n.setState({hideEmailLogin:!1})}),S(w(n),"render",function(){var e=n.props.trans,t=n.props.nextUrl||"/home",r=n.props.notice,a=n.props.msg,o=n.props.model,s="/login?nextUrl=".concat(t),l=n.props.login?"login":"";return n.state.hideEmailLogin?i.a.createElement("div",{id:"authentication-panel",className:c()(n.state.class)},i.a.createElement("p",null,e("Log in to Wattpad")),i.a.createElement("div",{className:"panel-body"},i.a.createElement(m.a,{source:l}),i.a.createElement("span",{className:"hr-with-text"},i.a.createElement("div",{className:"horizontal-line"}),i.a.createElement("span",{className:"or"}," OR "),i.a.createElement("div",{className:"horizontal-line"})),i.a.createElement("button",{className:"btn-block btn-primary",onClick:function(){return n.showFormFields()}},e("Log in with Email")),i.a.createElement("div",{className:"password-forgot"},i.a.createElement("a",{className:"on-navigate ",href:"/forgot?nextUrl=".concat(t)},e("Forgot password?"))),a&&i.a.createElement("div",{className:"alert alert-danger",role:"alert"},i.a.createElement(u.e,{iconName:"fa-info",height:"16",color:"wp-lighterror"}),a),r&&i.a.createElement("div",{className:"alert alert-info",role:"alert"},i.a.createElement(u.e,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}),r)),i.a.createElement("footer",{className:"signup-link"},i.a.createElement("span",null,e("Don't have an account? "),i.a.createElement("button",{onClick:function(){return n.openSignupModal()}},e("Sign up"))))):n.state.showSignupForm?i.a.createElement(f.a,{nextUrl:t,model:o,signup:!0}):i.a.createElement(N,y({nextUrl:t,actionURL:s},n.props))}),n}return E(t,o["Component"]),t}();S(k,"propTypes",{model:a.a.object,nextUrl:a.a.string,trans:a.a.func.isRequired,notice:a.a.string,msg:a.a.string,openModal:a.a.func,login:a.a.bool});var N=function(e){function t(){var e,n;h(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return S(w(n=b(this,(e=v(t)).call.apply(e,[this].concat(a)))),"state",{showThirdPartyOptions:!1,showSignupForm:!1}),S(w(n),"onBackClicked",function(){n.setState({showThirdPartyOptions:!0,showSignupForm:!1})}),S(w(n),"openSignupModal",function(){n.setState({showSignupForm:!0,showEmailLogin:!1,class:"signup-form"})}),S(w(n),"render",function(){var e=n.props.trans,t=n.props.nextUrl||"/home",r=n.props.notice,a=n.props.msg,o=n.props.model,s="/login?nextUrl=".concat(t);return n.state.showThirdPartyOptions?i.a.createElement(k,y({},n.props,{login:!0})):n.state.showSignupForm?i.a.createElement(f.a,{nextUrl:t,model:o,signup:!0}):i.a.createElement("div",{id:"authentication-panel",className:"login-form"},i.a.createElement("p",null,e("Log in to Wattpad")),i.a.createElement("div",{className:"panel-body"},i.a.createElement("form",{id:"signup-form",action:s,method:"POST"},i.a.createElement("div",{className:"input-group-vertical"},i.a.createElement(u.d,{name:"username",label:e("Username or Email"),form:"login",inputType:"text",validationModel:o,showLabel:!0,autofocus:!0}),i.a.createElement(u.d,{name:"password",label:e("Password"),form:"login",inputType:"password",showVisibilityToggle:!0,validationModel:o,showLabel:!0})),i.a.createElement("input",{type:"submit",className:"btn btn-lg btn-primary btn-block enable submit-btn",value:e("Log in")})),i.a.createElement("div",{className:"password-forgot"},i.a.createElement("a",{className:"on-navigate ",href:"/forgot?nextUrl=".concat(t)},e("Forgot password?"))),a&&i.a.createElement("div",{className:"alert alert-danger",role:"alert"},i.a.createElement(u.e,{iconName:"fa-info",height:"16",color:"wp-lighterror"}),a),r&&i.a.createElement("div",{className:"alert alert-info",role:"alert"},i.a.createElement(u.e,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}),r),i.a.createElement("div",{className:"back-link-container"},i.a.createElement("button",{className:"back-link",onClick:function(){return n.onBackClicked()}},i.a.createElement("span",{className:"fa fa-left fa-wp-neutral-1 back-icon"}),e("Back to all login options")))),i.a.createElement("footer",{className:"signup-link"},i.a.createElement("span",null,e("Don't have an account? "),i.a.createElement("button",{onClick:function(){return n.openSignupModal()}},e("Sign up")))))}),n}return E(t,o["Component"]),t}();S(N,"propTypes",{model:a.a.object,nextUrl:a.a.string,trans:a.a.func.isRequired,notice:a.a.string,msg:a.a.string,login:a.a.bool});var _=Object(s.b)(null,{openModal:p.b})(k);t.a=Object(d.g)(_)},function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function s(e){r(i,a,o,s,l,"next",e)}function l(e){r(i,a,o,s,l,"throw",e)}s(void 0)})}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return f}),n.d(t,"b",function(){return g}),n.d(t,"c",function(){return y});var l="CATALOG",c="".concat(l,"/LOAD_FEATURED_LIST"),u="".concat(l,"/LOAD_PAID_STORIES_TAGS"),d="".concat(l,"/LOAD_PAID_STORIES_LIST"),m="".concat(l,"/IS_LOADING_PAID_STORIES"),p={featuredList:[],paidStoriesTags:[],paidStoriesListByTag:{},paidStoriesListOffset:0,isLoadingPaidStories:!1,hasTagsLoaded:!1};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case c:return i({},e,{featuredList:t.featuredList});case u:return i({},e,{paidStoriesTags:t.tags,hasTagsLoaded:!0});case d:return i({},e,{paidStoriesListByTag:t.paidStoriesListByTag||e.paidStoriesListOffset,isLoadingPaidStories:!1,paidStoriesListOffset:t.paidStoriesListOffset||e.paidStoriesListOffset});case m:return i({},e,{isLoadingPaidStories:!0});default:return e}}function g(){var e,t=parseInt(wattpad.language,10)||1,n=wattpad.supportedLangs.find(function(e){return e.id===t});n&&(e=n.code);var r=null;JSON.parse(wattpad.newCurationProfiles).forEach(function(t){t.code===e&&(r=t.username)});var o="/api/v3/users/".concat(r,"/lists");return function(){var e=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.resolve($.get(o));case 3:n=e.sent,t({type:c,featuredList:n.lists}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:c,featuredList:[]});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()}function y(){return function(){var e=a(regeneratorRuntime.mark(function e(t,n){var r,a,o,s,l,c,p,f,g,y,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().catalog,a=r.paidStoriesListOffset,o=r.isLoadingPaidStories,s=r.paidStoriesListByTag,l=r.hasTagsLoaded,c=r.paidStoriesTags,p=l&&a===c.length,!o&&!p){e.next=9;break}return e.abrupt("return");case 9:if(t({type:m}),l){e.next=22;break}return e.prev=11,e.next=14,Promise.resolve($.get("/v4/paid_stories/tags"));case 14:f=e.sent,c=f.tags,t({type:u,tags:c}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),t({type:u,tags:[]});case 22:if(g=[],y=Math.min(a+4,c.length),c&&c.length>0)for(h=a;h<y;h++)c[h]&&g.push(Promise.resolve($.get("/v4/paid_stories/tags/:tag?limit=-1&fields=stories(id,cover,title,tags,isPaywalled),tag".replace(":tag",c[h]))));return e.prev=25,e.next=28,Promise.all(g);case 28:e.sent.forEach(function(e){s[e.tag]=e.stories}),t({type:d,paidStoriesListByTag:i({},s),paidStoriesListOffset:a+4}),e.next=36;break;case 33:e.prev=33,e.t1=e.catch(25),t({type:d});case 36:case"end":return e.stop()}},e,null,[[11,19],[25,33]])}));return function(t,n){return e.apply(this,arguments)}}()}},function(e,t,n){"use strict";n.d(t,"a",function(){return g}),n.d(t,"b",function(){return b}),n.d(t,"c",function(){return v});var r=n(25);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l="THREADS",c="".concat(l,"/LOAD_REQUESTED"),u="".concat(l,"/LOAD_MORE_REQUESTED"),d="".concat(l,"/LOAD"),m="".concat(l,"/LOAD_MORE"),p="".concat(l,"/RESET"),f={isLoading:!0,isLoadingMore:!1,threads:[],filter:"",total:0,offset:0};function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case c:return i({},f,{filter:t.filter});case u:return i({},e,{filter:t.filter,isLoadingMore:!0});case m:return i({},e,{isLoading:!1,isLoadingMore:!1,threads:[].concat(a(e.threads),a(t.threads)),offset:e.offset+t.threads.length,total:t.total});case d:return i({},e,{isLoading:!1,isLoadingMore:!1,threads:a(t.threads),offset:t.threads.length,total:t.total});case p:return i({},f);case r.b:return i({},e,{threads:e.threads.map(function(e){return e.user.name===t.name&&(e.user.isBlockedByCurrentUser=!0),e})});case r.c:return i({},e,{threads:e.threads.map(function(e){return e.user.name===t.name&&(e.user.isBlockedByCurrentUser=!1),e})});case r.a:return i({},e,{isLoading:!1});default:return e}}var y=function(){return wattpad.utils.currentUser().get("username")},h=10;function b(e){var t=e.filter,n=void 0===t?"":t,r=e.offset,a=void 0===r?0:r,o="/api/v3/users/".concat(y(),"/inbox?filter=").concat(n,"&limit=").concat(h,"&offset=").concat(a);return function(e){var t=Promise.resolve($.get(o)),r=a>0;return e(r?{type:u,filter:n}:{type:c,filter:n}),t.then(function(t){return e({type:r?m:d,threads:t.threads,total:t.total,filter:n})}).catch(function(){return e({type:d,threads:[],filter:n})})}}function v(){return function(e){e({type:p})}}},function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function s(e){r(i,a,o,s,l,"next",e)}function l(e){r(i,a,o,s,l,"throw",e)}s(void 0)})}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return d}),n.d(t,"c",function(){return m}),n.d(t,"b",function(){return p});var l="".concat("QUESTS","/LOAD_ALL"),c="".concat("QUESTS","/LOAD_EMBEDDED"),u={isLoading:!0,mapById:{},mapByEmbeddedType:{}};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case l:return i({},e,{mapById:t.questMap});case c:return i({},e,{mapByEmbeddedType:i({},e.mapByEmbeddedType,{},t.embeddedQuestMap)});default:return e}}function m(){var e="/v5/users/".concat(wattpad.utils.currentUser().get("username"),"/quests/");return function(){var t=a(regeneratorRuntime.mark(function t(n){var r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.resolve($.get(e));case 3:return r=t.sent,o={},t.next=7,Promise.all(r.quests.map(function(){var t=a(regeneratorRuntime.mark(function t(n){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.concat(n.id,"/"),t.next=3,Promise.resolve($.get(r));case 3:a=t.sent,o[n.id]=a.quest;case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 7:n({type:l,questMap:o}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),wattpad.utils.showToast();case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()}var p=function(e){return function(){var t=a(regeneratorRuntime.mark(function t(n){var r,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="/v5/users/".concat(wattpad.utils.currentUser().get("username"),"/quests/embedded/").concat(e,"/"),t.next=4,Promise.resolve($.get(r));case 4:a=t.sent,o=s({},e,a.quests),n({type:c,embeddedQuestMap:o}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),wattpad.utils.showToast();case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return l});var o="".concat("WORKS_ITEM_DETAILS","/UPDATE");function i(e){return function(t){t({type:o,data:e})}}var s={worksItemDetailsActiveTab:"toc"};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case o:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{worksItemDetailsActiveTab:t.data||s.worksItemDetailsActiveTab});default:return e}}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2);function l(e){var t,n=e.name,r=e.size;return e.allowedBadges.indexOf(n)>-1&&("staff"===n?t=n:"verified"===n?t=n:"star"===n?t=n:"ambassador"===n&&(t=n)),t?a.a.createElement(s.e,{name:t,size:r,viewBox:20}):null}l.defaultProps={size:"16",allowedBadges:["star","verified","staff","ambassador"]},l.propTypes={name:i.a.string.isRequired,size:i.a.string.isRequired,allowedBadges:i.a.array}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(5);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,d(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,a.a.Component),function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.username,n=e.onUnmute,r=e.trans,o=e.toggleModal,i=r("This account will now be able to follow you, send you messages, post on your profile and comment on your stories.");return a.a.createElement("div",{className:"mute-modal-content"},a.a.createElement("h3",{className:"mute-modal-title"},r("Unmute %s",t)),a.a.createElement("p",null,i),a.a.createElement("div",{className:"confirm-buttons"},a.a.createElement("button",{className:"cancel-mute",onClick:o},r("Cancel")),a.a.createElement("button",{className:"btn-primary btn-md",onClick:function(){o(),n(t)}},r("Unmute"))))}}]),t}();p.defaultProps={onUnmute:function(){},toggleModal:function(){}},p.propTypes={username:i.a.string.isRequired,trans:i.a.func,onUnmute:i.a.func,toggleModal:i.a.func},t.a=Object(s.g)(p)},function(e,t,n){"use strict";e.exports=function(e){switch(e){case 16:case 17:case 31:case 48:return!0;default:return!1}}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n.n(s),c=n(46),u=n(2),d=n(119),m=n(104),p=n.n(m),f=n(24),g=n(5);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var v=function(e){var t=e.heading,n=e.subheading,r=e.isPaid,o=e.numParts,i=e.isCompleted,s=e.storyId,l=i?"Complete":"Ongoing",c=i?"#1C6F65":"#8D5610";return a.a.createElement("div",{className:"story-metadata"},a.a.createElement("div",{className:"meta-header"},a.a.createElement("div",{className:"title-and-badge"},a.a.createElement("div",{className:"paid-stories-badge"},r?a.a.createElement(u.c,{name:"paid-content/supported-stories-badge-black.svg",title:"Paid Stories Badge",className:"paid-stories-badge",height:"18px",width:"18px"}):null),a.a.createElement("div",{className:"story-title"},a.a.createElement("h3",null,t))),a.a.createElement("div",{className:"completeness-info-wrapper"},o&&a.a.createElement(a.a.Fragment,null,a.a.createElement(u.e,{name:"parts"}),a.a.createElement("div",{className:"parts"},"".concat(o," parts"))),l&&c&&a.a.createElement("div",{className:"completed"},a.a.createElement(f.a,{tabIndex:"-1",name:l,bgColor:c,color:"#ffffff"})))),a.a.createElement("div",{className:"story-description"},a.a.createElement("h4",null,Object(g.o)(n,200,!1))),a.a.createElement("div",{className:"more-details-wrapper"},a.a.createElement("button",{className:"more-details",onClick:function(){var e="/story/".concat(s);app.router.navigate(e,{trigger:!0})}},"More info"),a.a.createElement("div",{className:"arrow-icon"},a.a.createElement(u.e,{name:"chevRight",size:"18"}))))};v.propTypes={heading:i.a.string.isRequired,subheading:i.a.string,isPaid:i.a.bool,numParts:i.a.number,isCompleted:i.a.bool,storyId:i.a.number};var w=function(e){var t=e.sectionType,n=e.stories,o=e.index,i=e.windowWidth,s=e.wasSeen,l=e.storiesToShow,m=void 0===l?5:l,f=e.storyWidth,g=void 0===f?200:f,w=e.page,E=e.onStoryClick,O=e.callTrackingUrls,S=e.clickTrackingUrls,k=!1,N=i<575;i<=980&&(m=2.5,k=!0,g=105,N&&(m=3.5),i<=360&&(m=3));var _=p()(parseInt(app.get("language"),10)),j=b(Object(r.useState)([]),2),C=j[0],P=j[1],T=b(Object(r.useState)(0),2),R=T[0],x=T[1];Object(r.useEffect)(function(){if(s){var e=Math.min(Math.round(m),n.length);n.slice(0,e).map(function(e,n){L(e.id,e.sources,o,n,t)}),P([].concat(h(C),h(n.slice(0,e).map(function(e,t){return t}))))}},[s]);var L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;window.te.push("event","story",null,null,"view",{storyid:e,page:w,algo_source:t,position:n,offset:r,type:a})};return null!==n&&0!==n.length?a.a.createElement("div",{className:"story-expanded-carousel"},a.a.createElement("div",_?{dir:"ltr",className:"carousel-container rtl-adjust"}:{className:"carousel-container"},a.a.createElement(c.a,{dragging:!1,afterSlide:s?function(e){x(e);var r=Math.min(e+Math.round(m),n.length);n.slice(e,r).map(function(n,r){C.includes(e+r)||L(n.id,n.sources,o,e+r,t)}),P([].concat(h(C),h(n.slice(e,r).map(function(t,n){return e+n}))))}:function(){},enableKeyboardControls:!0,frameOverflow:k?"visible":"hidden",scrollMode:"page",slidesToScroll:N?1:m,heightMode:"max",cellAlign:"left",wrapAround:!!N||_,slidesToShow:m,initialHeight:"1",renderCenterRightControls:5===m&&n.length>5?function(e){return function(e,t,n){return e!==n-m||_?a.a.createElement("button",{className:"next-btn",onClick:t},a.a.createElement(u.e,{name:"arrowCircleRight",size:"40",alt:"next",strokeWidth:"2.25"})):null}(e.currentSlide,e.nextSlide,e.slideCount)}:null,renderCenterLeftControls:5===m&&n.length>5?function(e){return function(e,t){return 0!==e||_?a.a.createElement("button",{className:"prev-btn",onClick:t},a.a.createElement(u.e,{name:"arrowCircleLeft",size:"40",alt:"previous",strokeWidth:"2.25"})):null}(e.currentSlide,e.previousSlide)}:null,renderBottomCenterControls:null},n.map(function(e,n){if(e.id&&e.cover)return n==R?a.a.createElement("div",{key:"".concat(e.id,"-").concat(n),className:"zoom-story-item"},a.a.createElement(d.a,y({},e,{sectionType:t,index:o,offset:n,width:g,page:w,onStoryClick:E,storyData:e,clickTrackingUrls:S,callTrackingUrls:O}))):a.a.createElement(d.a,y({},e,{sectionType:t,index:o,offset:n,width:g,key:"".concat(e.id,"-").concat(n),page:w,onStoryClick:E,storyData:e,clickTrackingUrls:S,callTrackingUrls:O}))})),n.map(function(e,n){if(e.id&&e.cover&&n==R)return a.a.createElement(v,{heading:e.title,sectionType:t,subheading:e.description,isPaid:e.isPaid,numParts:e.numParts,key:e.id,isCompleted:e.completed,storyId:e.id})}))):null};w.defaultProps={onStoryClick:null},w.propTypes={sectionType:i.a.string.isRequired,stories:i.a.array.isRequired,index:i.a.number.isRequired,wasSeen:i.a.bool,windowWidth:i.a.number,storiesToShow:i.a.number,storyWidth:i.a.number,page:i.a.string,onStoryClick:i.a.func,callTrackingUrls:i.a.func,clickTrackingUrls:i.a.array};var E=w,O=n(118),S=n(108),k=function(e){var t=e.sectionType,n=e.expandPrompt,o=e.background,i=e.heading,s=e.subheading,c=e.stories,u=e.isPromoted,d=e.index,m=e.windowWidth,p=e.wasSeen,f=e.setPosition,g=e.storiesToShow,y=e.storyWidth,h=e.page,b=e.withDivider,v=void 0===b||b,w=e.onStoryClick,k=e.callTrackingUrls,N=e.clickTrackingUrls,j=Object(r.useRef)(null),C=_.get(window,"wattpad.testGroups.NEW_METADATA_ON_HOME",!1);return Object(r.useEffect)(function(){var e=j.current.getBoundingClientRect();f(d,t,e.top+window.scrollY,e.bottom+window.scrollY)},[d,t,f]),null===c||0===c.length?null:C?a.a.createElement("div",{className:l()("story-swimlane module",o),ref:j},a.a.createElement("div",{className:"module-content full-width"},a.a.createElement(S.a,{heading:i,expandPrompt:n,sectionType:t,subheading:s,isPromoted:u}),a.a.createElement(E,{sectionType:t,stories:c,windowWidth:m,index:d,wasSeen:p,storiesToShow:g,storyWidth:y,page:h,onStoryClick:w,clickTrackingUrls:N,callTrackingUrls:k}),v&&a.a.createElement("hr",{className:"module-divider"}))):a.a.createElement("div",{className:l()("story-swimlane module",o),ref:j},a.a.createElement("div",{className:"module-content"},a.a.createElement(S.a,{heading:i,expandPrompt:n,sectionType:t,subheading:s,isPromoted:u}),a.a.createElement(O.a,{sectionType:t,stories:c,windowWidth:m,index:d,wasSeen:p,storiesToShow:g,storyWidth:y,page:h,onStoryClick:w,clickTrackingUrls:N,callTrackingUrls:k}),v&&a.a.createElement("hr",{className:"module-divider"})))};k.defaultProps={onStoryClick:null},k.propTypes={heading:i.a.string,index:i.a.number.isRequired,expandPrompt:i.a.object,background:i.a.string,isPromoted:i.a.bool,sectionType:i.a.string.isRequired,setPosition:i.a.func.isRequired,subheading:i.a.string,stories:i.a.array.isRequired,wasSeen:i.a.bool,windowWidth:i.a.number,storiesToShow:i.a.number,storyWidth:i.a.number,page:i.a.string,withDivider:i.a.bool,onStoryClick:i.a.func,clickTrackingUrls:i.a.array,callTrackingUrls:i.a.func};t.a=k},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"c",function(){return d}),n.d(t,"b",function(){return m});var r=n(22);function a(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(e){var t="/v5/stories/".concat(e,"/notes");return function(e){var n=Promise.resolve($.get(t));return e({type:r.d}),n.then(function(t){e({type:r.b,data:t})}).catch(function(){return e({type:r.b,data:null})})}}var u=function(e,t){if(t.name){var n=t.name,r=t.value,a=l(n.split("."),2),o=a[0],c=a[1];switch(o){case"protagonist":return i({},e,{protagonist:i({},e.protagonist,s({},c,r))});case"protagonist_goal":return i({},e,{protagonist_goal:i({},e.protagonist_goal,s({},c,r))});case"opportunity":return i({},e,{opportunity:i({},e.opportunity,s({},c,r))});default:return i({},e)}}return i({},e,{protagonist:t.protagonist,protagonist_goal:t.protagonist_goal,opportunity:t.opportunity})};function d(e,t,n){return t.id=e,t=u(t,n),function(e){e({type:r.e,data:t})}}function m(e,t){return t.id=parseInt(e),t.protagonist.name=t.protagonist.name&&t.protagonist.name.trim(),t.protagonist.other_names=t.protagonist.other_names&&t.protagonist.other_names.trim(),t.protagonist_goal.description=t.protagonist_goal.description&&t.protagonist_goal.description.trim(),t.protagonist_goal.outcome=t.protagonist_goal.outcome&&t.protagonist_goal.outcome.trim(),t.opportunity.logline=t.opportunity.logline&&t.opportunity.logline.trim(),function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,l,"next",e)}function l(e){a(i,r,o,s,l,"throw",e)}s(void 0)})}}(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.resolve($.ajax({url:"/v5/stories",type:"POST",data:JSON.stringify(t),dataType:"json",headers:{"Content-Type":"application/json"}}));case 3:n({type:r.c}),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),wattpad.utils.showToast(),n({type:r.a});case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}()}},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return m});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n.n(s);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var d=function(e){var t=e.children,n=e.isExpandable,r=e.onClick,o=e.className,i=u(e,["children","isExpandable","onClick","className"]);return n?a.a.createElement("div",c({onClick:r,role:"button",tabIndex:"0",className:l()("clickable",o)},i),t):o?a.a.createElement("div",c({className:o},i),t):a.a.createElement(a.a.Fragment,null,t)};d.propTypes={children:i.a.any,isExpandable:i.a.bool,onClick:i.a.func,className:i.a.any};var m=function(e){var t=e.type,n=e.children,r=e.link,o=e.isLinkable,i="link"===t,s=i?{target:"_blank",rel:"noopener noreferrer"}:{className:"on-navigate"};return(o=o&&r&&("action"===t||i))?a.a.createElement("a",c({href:r},s),n):a.a.createElement(a.a.Fragment,null,n)};m.propTypes={type:i.a.string,isLinkable:i.a.bool,link:i.a.string,children:i.a.any}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(152),l=n(4);function c(e){var t=e.expandPrompt,n=Object(l.g)().trans,r=t||{},o=r.weblink,i=void 0===o?"/catalog/paidstories":o,s=r.prompt,c=void 0===s?n("See all"):s;return a.a.createElement("a",{href:i,className:"on-navigate btn-secondary"},c)}c.propTypes={expandPrompt:i.a.object};var u=function(e){var t,n=e.expandPrompt,r=e.heading,o=e.subheading,i=e.item,l=e.isPromoted,u=e.sectionType;return t="paid"===u||"paidMultiRow"===u?a.a.createElement(c,{expandPrompt:n}):a.a.createElement(a.a.Fragment,null,!0===l&&a.a.createElement(s.a,null),i&&i.url&&i.name&&a.a.createElement("a",{href:i.url},i.name)),a.a.createElement("div",{className:"module-header"},a.a.createElement("div",{className:"left-section"},a.a.createElement("div",{className:"heading"},a.a.createElement("h3",null,r)),a.a.createElement("div",{className:"subheading"},a.a.createElement("h4",null,o))),t&&a.a.createElement("div",{className:"right-section"},t))};u.propTypes={expandPrompt:i.a.object,heading:i.a.string.isRequired,subheading:i.a.string,item:i.a.object,isPromoted:i.a.bool,sectionType:i.a.string};t.a=u},,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return i});var r=n(10),a=n.n(r),o=o||e,i=function(){return!a.a.isUndefined(a.a.get(o,"wattpad.utils"))}}).call(this,n(34))},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return a});var r=r||e,a=function e(t,n,a,o){var i=r?r.devicePixelRatio:n;if(!t)return i||(e(3)?3:e(2)?2:e(1.5)?1.5:e(1)?1:0);if(i&&i>0)return i>=t;var s=(r?r.matchMedia:a)||(r?r.msMatchMedia:o);return!!s&&(!!s(t="only all and (min--moz-device-pixel-ratio:"+t+")").matches||!!s(t.replace("-moz-","")).matches)}}).call(this,n(34))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"c",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u});var i="".concat("PAID_CONTENT_METADATA","/SET"),s="".concat("PAID_CONTENT_METADATA","/CLEAR");function l(e,t){return function(n,r){if(void 0!==r().paidMetadata.stories[e])return Promise.resolve();var a=t.join(",");return Promise.resolve($.get("/v5/story/".concat(e,"/paid-content/metadata"),{parts:a})).then(function(t){n({type:i,storyId:e,metadata:t})})}}function c(e,t){return{type:s,storyId:e,partIds:t}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{parts:{},stories:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:var n=t.metadata,r=t.storyId,l=n.story,c=n.parts.reduce(function(e,t){return e[t.id]=t,e},{}),u=e.stories,d=e.parts;return a({},e,{stories:a({},u,o({},r,l)),parts:a({},d,{},c)});case s:var m=t.storyId,p=t.partIds;return a({},e,{stories:_.omit(e.stories,m),parts:_.omit(e.parts,p)});default:return e}}},,function(e,t,n){"use strict";var r=n(46),a=n(1),o=n.n(a),i=n(0),s=n.n(i),l=n(2),c=n(119),u=n(104),d=n.n(u);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var g=function(e){var t=e.sectionType,n=e.stories,a=e.index,o=e.windowWidth,u=e.wasSeen,g=e.storiesToShow,y=void 0===g?5:g,h=e.storyWidth,b=void 0===h?200:h,v=e.page,w=e.onStoryClick,E=e.clickTrackingUrls,O=e.callTrackingUrls,S=!1;o<=960&&(y=2.5,S=!0,b=105);var k=d()(parseInt(app.get("language"),10)),N=f(Object(i.useState)([]),2),_=N[0],j=N[1];Object(i.useEffect)(function(){if(u){var e=Math.min(Math.round(y),n.length);n.slice(0,e).map(function(e,n){C(e.id,e.sources,a,n,t)}),j([].concat(p(_),p(n.slice(0,e).map(function(e,t){return t}))))}},[u]);var C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;window.te.push("event","story",null,null,"view",{storyid:e,page:v,algo_source:t,position:n,offset:r,type:a})};return null!==n&&0!==n.length?s.a.createElement("div",{className:"story-carousel"},s.a.createElement("div",k?{dir:"ltr",className:"carousel-container rtl-adjust"}:{className:"carousel-container"},s.a.createElement(r.a,{dragging:!1,afterSlide:u?function(e){var r=Math.min(e+Math.round(y),n.length);n.slice(e,r).map(function(n,r){_.includes(e+r)||C(n.id,n.sources,a,e+r,t)}),j([].concat(p(_),p(n.slice(e,r).map(function(t,n){return e+n}))))}:function(){},enableKeyboardControls:!0,frameOverflow:S?"visible":"hidden",heightMode:"max",slidesToShow:y,slidesToScroll:"auto",initialHeight:"1",renderCenterRightControls:5===y&&n.length>5?function(e){return function(e,t,n){return e!==n-y||k?s.a.createElement("button",{className:"next-btn",onClick:t},s.a.createElement(l.e,{name:"arrowCircleRight",size:"40",alt:"next",strokeWidth:"2.25"})):null}(e.currentSlide,e.nextSlide,e.slideCount)}:null,renderCenterLeftControls:5===y&&n.length>5?function(e){return function(e,t){return 0!==e||k?s.a.createElement("button",{className:"prev-btn",onClick:t},s.a.createElement(l.e,{name:"arrowCircleLeft",size:"40",alt:"previous",strokeWidth:"2.25"})):null}(e.currentSlide,e.previousSlide)}:null,renderBottomCenterControls:null,wrapAround:k},n.map(function(e,n){if(e.id&&e.cover)return s.a.createElement(c.a,m({},e,{sectionType:t,index:a,offset:n,width:b,key:"".concat(e.id,"-").concat(n),page:v,onStoryClick:w,storyData:e,clickTrackingUrls:E,callTrackingUrls:O}))})))):null};g.defaultProps={onStoryClick:null},g.propTypes={sectionType:o.a.string.isRequired,stories:o.a.array.isRequired,index:o.a.number.isRequired,wasSeen:o.a.bool,windowWidth:o.a.number,storiesToShow:o.a.number,storyWidth:o.a.number,page:o.a.string,onStoryClick:o.a.func,clickTrackingUrls:o.a.array,callTrackingUrls:o.a.func},t.a=g},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(3),l=n.n(s),c=n(2),u=n(5),d=n(24);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var p=function(e){var t=e.title,n=e.id,r=e.cover,a=e.tags,s=e.isPaid,p=e.isPaywalled,f=e.sources,g=e.offset,y=e.sectionType,h=e.index,b=e.width,v=void 0===b?200:b,w=e.page,E=e.onStoryClick,O=e.storyData,S=e.clickTrackingUrls,k=e.callTrackingUrls;a=a||[];var N=m(Object(o.useState)(a[0]),2),j=N[0],C=N[1];Object(o.useEffect)(function(){C(_.shuffle(a).find(function(e){return v<200?e.length<10:e.length<18}))},[a,v]);return i.a.createElement("div",{className:l()("story-item","story-".concat(g))},i.a.createElement("div",{className:"cover"},i.a.createElement("a",{href:"/story/"+n,onClick:function(e){return function(e,t){e.preventDefault(),window.te.push("event","story",null,null,"click",{storyid:n,page:w,algo_source:f,position:h,offset:g,type:y}),S&&k(S),"mobile"!==wattpad.utils.getDeviceType()&&E?E(O):app.router.navigate(t,{trigger:!0})}(e,"/story/".concat(n))}},i.a.createElement("img",{src:Object(u.l)(r,v),alt:"".concat(t," cover")}))),i.a.createElement("div",{className:"tag-and-badge"},s||p?i.a.createElement(c.c,{name:"paid-content/supported-stories-badge-black.svg",title:"Paid Stories Badge",className:"paid-stories-badge",height:"18px",width:"18px"}):null,j?i.a.createElement(d.a,{name:j,bgColor:"#eeeeee",color:"#6f6f6f",clickHandler:function(e,t){app.router.navigate("/stories/".concat(t),{trigger:!0})}}):null))};p.defaultProps={onStoryClick:null,sources:[]},p.propTypes={cover:a.a.string.isRequired,id:a.a.oneOfType([a.a.string,a.a.number]).isRequired,index:a.a.number,isPaid:a.a.bool,isPaywalled:a.a.bool,offset:a.a.number,sectionType:a.a.string,sources:a.a.array,tags:a.a.array,title:a.a.string.isRequired,width:a.a.number,page:a.a.string,onStoryClick:a.a.func,storyData:a.a.object,clickTrackingUrls:a.a.array,callTrackingUrls:a.a.func},t.a=p},,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var r=n(0);t.a=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,o=Object(r.useRef)();Object(r.useEffect)(function(){o.current=n},[n]),Object(r.useEffect)(function(){if(a&&a.addEventListener){var e=function(e){return o.current(e)};return a.addEventListener(t,e),function(){a.removeEventListener(t,e)}}},[t,a])}}).call(this,n(34))},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),a=n(48);function o(){return Object(r.useContext)(a.b)}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),a=n.n(r).a.createContext({})},function(e,t,n){"use strict";n.d(t,"a",function(){return w});var r=n(7),a=n(563),o=n(1),i=n.n(o),s=n(0),l=n.n(s),c=n(55),u=n.n(c),d=n(3),m=n.n(d),p=n(4),f=n(45);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function v(e){var t=e.popoverProps,n=e.closePopover,r=t.triggerRef,o=t.component,i=t.passthroughProps,c=void 0===i?{}:i,d=t.contentClass,f=b(Object(s.useState)(),2),g=f[0],y=f[1];return Object(p.a)(g,function(e){r&&(e===r.current||r.current.contains(e)||n())}),r&&o?u.a.createPortal(l.a.createElement(a.a,h({innerRef:function(e){return y(e)},referenceElement:r.current},c),function(e){var t=e.placement,r=e.ref,a=e.style,i=e.arrowProps;return l.a.createElement("div",{className:m()("react-popover-content",d),ref:r,style:a,"data-placement":t},o&&o({closePopover:n}),c.showArrow&&l.a.createElement("div",{className:"react-popover-arrow",ref:i.ref,style:i.style}))}),document.querySelector("#react-popover")):null}v.propTypes={popoverProps:i.a.shape({triggerRef:i.a.object,component:i.a.func,passthroughProps:i.a.object}).isRequired};var w=Object(r.b)(function(e){return{popoverProps:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e.popover.popoverProps)}},{closePopover:f.a})(v)},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n.n(s);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function m(e){var t=e.className,n=e.minRows,o=e.maxRows,i=e.onChange,s=e.value,m=e.textareaLineHeight,p=e.characterLimit,f=d(e,["className","minRows","maxRows","onChange","value","textareaLineHeight","characterLimit"]),g=u(Object(r.useState)(n),2),y=g[0],h=g[1],b=u(Object(r.useState)(),2),v=b[0],w=b[1],E=Object(r.useRef)(null),O=Object(r.useCallback)(function(){var e=E.current.rows;E.current.rows=n;var t=E.current.scrollHeight,r=t?Math.floor(t/m):n;r===e&&(E.current.rows=r),r>=o&&(E.current.rows=o,E.current.scrollTop=E.current.scrollHeight),h(Math.min(r,o))},[n,o,m]);Object(r.useEffect)(function(){""===s&&y!==n&&h(n)},[s,y,n]),Object(r.useEffect)(function(){O()},[O]),Object(r.useEffect)(function(){return window.addEventListener("resize",O),function(){window.removeEventListener("resize",O)}});var S=p-s.length,k=S<=0;return a.a.createElement("div",{className:l()(t,"resizable-textarea",{error:k,focus:v})},a.a.createElement("textarea",c({ref:E,onFocus:function(){return w(!0)},onBlur:function(){return w(!1)},rows:y,value:s,onChange:function(e){O(),i(e)}},f)),a.a.createElement("div",{className:"counter"},S))}m.defaultProps={minRows:2,maxRows:5,textareaLineHeight:24,onChange:function(){},characterLimit:2e3},m.propTypes={className:i.a.string,value:i.a.string.isRequired,minRows:i.a.number.isRequired,maxRows:i.a.number.isRequired,textareaLineHeight:i.a.number.isRequired,onChange:i.a.func.isRequired,characterLimit:i.a.number.isRequired}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(4);function c(e){var t=e.ctaType,n=Object(l.g)().trans;return a.a.createElement("a",{href:"https://www.wattpad.com/premium",className:"try-premium on-premium btn-primary",target:"_blank",rel:"noopener noreferrer",onClick:function(){window.te.push("event","subscriptions","cta",null,"view",{cta_type:t})}},a.a.createElement(s.e,{name:"zap",size:"20",className:"zap-icon",color:"ds-base-4-accent",fill:!0}),a.a.createElement("div",{className:"button-copy"},n("Try Premium")))}c.propTypes={ctaType:i.a.string}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(10),l=n.n(s),c=n(24),u=n(3),d=n.n(u),m=n(5);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,h(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,a.a.Component),function(e,t,n){t&&g(e.prototype,t),n&&g(e,n)}(t,[{key:"tagClickHandler",value:function(e){window.wattpad.utils.stopEvent(e),window.app.trigger("app:component:TagMetaItem:click",e)}},{key:"numNotShownClickHandler",value:function(e){window.wattpad.utils.stopEvent(e),window.app.trigger("app:component:TagMetaNumNotShown:click",e)}},{key:"formatTags",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(l.a.isEmpty(e))return{};var n=l.a.clone(e),r={tags:[],numNotShown:Math.max(n.length-t,0)},a=null;if(n.length<=t)l.a.each(n,function(e){r.tags.push({id:e,name:e})});else for(;r.tags.length<t;)a=n.splice(Math.floor(Math.random()*n.length),1)[0],r.tags.push({id:a,name:a});return r}},{key:"render",value:function(){var e=this,t=this.props,n=t.trans,r=t.tagMeta,o=this.formatTags(r.tags,r.numShown),i=r.storyId||null,s=null;return o.numNotShown&&(s=a.a.createElement("span",{className:d()("num-not-shown",{"on-story-preview":i}),"data-story-id":i,onClick:this.numNotShownClickHandler,onKeyDown:this.numNotShownClickHandler,role:"button",tabIndex:"0"},n("+%s more",o.numNotShown))),o.tags&&o.tags.length>0?a.a.createElement("div",{className:"tag-meta clearfix"},a.a.createElement("ul",{className:"tag-items"},o.tags.map(function(t){return a.a.createElement("li",{key:t.id},a.a.createElement(c.a,f({},t,{clickHandler:e.tagClickHandler})))})),s):null}}]),t}();v.propTypes={tagMeta:i.a.shape({tags:i.a.arrayOf(i.a.string).isRequired,storyId:i.a.string,numShown:i.a.number}).isRequired,trans:i.a.func.isRequired},t.a=Object(m.g)(v)},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(27),l=n(24),c=n(73);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(f(n=function(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?f(e):t}(this,(e=p(t)).call.apply(e,[this].concat(a)))),"tagClickHandler",function(e,t){n.props.onTagClicked&&n.props.onTagClicked(t),window.wattpad.utils.stopEvent(e),window.app.trigger("app:component:TagGridItem:click",e)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,a.a.Component),function(e,t,n){t&&m(e.prototype,t),n&&m(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props.tagGridTags.tags,n=this.props.tagGridTags.withIcon||!1;return t&&t.length>0?a.a.createElement("div",{className:"tag-grid clearfix"},a.a.createElement("ul",{className:"tag-items"},t.map(function(t,r){return n?a.a.createElement("li",{key:t.id},a.a.createElement(c.a,d({},t,{clickHandler:e.tagClickHandler}))):a.a.createElement("li",{key:t.id},a.a.createElement(l.a,d({bgColor:e.getNextTagColor(r,"bg"),color:e.getNextTagColor(r)},t,{clickHandler:e.tagClickHandler})))}))):null}},{key:"getNextTagColor",value:function(e,t){var n=e%s.g;return"bg"===t?s.f[n]:s.h[n]}}]),t}();y.propTypes={tagGridTags:i.a.object.isRequired,onTagClicked:i.a.func}},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(0),a=n.n(r),o=n(1),i=n.n(o);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,u(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,a.a.Component),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"contest",style:{backgroundImage:"url('".concat(this.props.image,"')")}},a.a.createElement("article",null,a.a.createElement("h4",null,this.props.name),a.a.createElement("p",null,this.props.description),a.a.createElement("a",{href:this.props.contestLink,target:"_blank",rel:"noopener noreferrer",className:"btn btn-wattpad"},a.a.createElement("span",{className:"glyphicon glyphicon-chevron-right"})," ",this.props.customCta)))}}]),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(m,"propTypes",{name:i.a.string,contestLink:i.a.string,customCta:i.a.string,description:i.a.string,image:i.a.string})},function(e,t,n){"use strict";var r=n(7),a=n(3),o=n.n(a),i=n(1),s=n.n(i),l=n(0),c=n.n(l),u=n(4);function d(e){var t=e.subtitle,n=Object(u.g)().trans;return c.a.createElement("div",{className:"form-header"},c.a.createElement("h2",{dangerouslySetInnerHTML:{__html:n("the<span class='bolded'>wattys</span>2020")}}),c.a.createElement("div",{className:"subtitle"},t))}d.propTypes={subtitle:s.a.string.isRequired};var m=n(61),p=n(10),f=n.n(p);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function y(e){var t=e.children,n=e.validationRules,r=Object(l.useRef)(null),a=g(Object(l.useState)(null),2),o=a[0],i=a[1];return Object(u.c)("blur",function(){var e,t=r.current.value;f.a.each(n,function(n){if(!n.rule(t))return e=n.errorMessage,!1}),e?i(e):o&&i(null)},r.current),t({ref:r,errorMessage:o,className:o?"error-field":""})}var h=n(2);function b(e){var t,n=e.isStandalonePage,r=e.closeModal,a=e.formState,o=e.hasAddedWattysTag,i=Object(u.g)().trans,s={fanfiction:i("Fanfiction"),fantasy:i("Fantasy"),historical_fiction:i("Historical Fiction"),horror:i("Horror"),paranormal:i("Paranormal"),literary_fiction:i("Literary Fiction"),mystery_thriller:i("Mystery & Thriller"),new_adult:i("New Adult"),romance:i("Romance"),science_fiction:i("Science Fiction"),young_adult:i("Young Adult")},l=i("Congratulations! You have been entered into the 2020 Watty Awards.");return t=a.data.award_category?s[a.data.award_category]:s[a.data.contest_submission.award_category],a.isLoading?c.a.createElement("div",{className:"loading-spinner"},c.a.createElement(h.f,null)):c.a.createElement("div",{id:"submission-success"},c.a.createElement(d,{subtitle:l}),c.a.createElement("div",{className:"main-container"},c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"image-container"},a.cover&&c.a.createElement("img",{src:a.cover,alt:"story cover"})),c.a.createElement("h3",{className:"black"},i("Thank you for entering!")),c.a.createElement("div",{dangerouslySetInnerHTML:{__html:i("Your story <span class='black'>'%s'</span> is now entered into the Wattys <span class='black'>'%s'</span> category",a.title,t)}}),(a.hasAddedWattysTag||o)&&c.a.createElement("div",null,i("Your story will now be tagged with")," ",c.a.createElement("span",{className:"tag-item with-icon wattys-tag",style:{cursor:"default"}},"wattys2020"," ",c.a.createElement(h.e,{iconName:"fa-remove",height:"12",color:"wp-neutral-5"})))),c.a.createElement("div",{className:"small",style:{marginTop:50},dangerouslySetInnerHTML:{__html:i("<strong>Reminder</strong>: Please make sure your email and birthday information are accurate. If you're selected as a winner, this will help us when we contact you! You can update your account details by going to ‘Settings’ under Profile.")}}),n?null:c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("hr",null)),c.a.createElement("div",{className:"btn-container"},c.a.createElement("button",{onClick:r,className:"btn btn-primary"},i("Close"))))))}b.propTypes={isStandalonePage:s.a.bool,hasAddedWattysTag:s.a.bool,closeModal:s.a.func,formState:s.a.object};var v=n(90),w={0:{2:["curtain_fic","peggy_sue","slapstick"],3:["curtain_fic","peggy_sue","slapstick"],4:["curtain_fic","peggy_sue","fix_fic"],5:["curtain_fic","peggy_sue","fix_fic","dark_fic"],6:["dark_fic","fix_fic","peggy_sue","real_person","shipping","slapstick","slash"],13:["curtain_fic","peggy_sue","slapstick"],18:["peggy_sue","slapstick"],20:["curtain_fic","peggy_sue","slapstick","fix_fic","slash"],22:["alternate_universe","crossover","dark_fic","shipping"],23:["curtain_fic","dark_fic","peggy_sue","slapstick","slash","self_insert","fix_fic"]},1:{6:["humorous"],22:["fantasy_dystopian","humorous","magic_realism","magical_creatures","retellings","fantasy_romance"]},2:{2:["civil_war","colonial_america","gilded_age","korean","regency","scottish"],3:["chinese","african","civil_war","colonial_america","egyptian","indian","japanese","korean","middle_eastern","ottoman_empire","scottish","south_american","tudor","viking"],4:["gilded_age"],6:["civil_war","regency"],13:["gilded_age"],18:["african","colonial_america","indian","ottoman_empire","russian","scottish","south_american","tudor","viking"],20:["gilded_age","tudor","colonial_america"],22:["ancient_world"]},3:{2:["body_horror","creepy_pasta","folk_horror","gore_disturbing","slasher"],3:["body_horror","natural_horror","slasher","surreal"],6:["natural_horror"],20:["body_horror","surreal"],22:["comedy_horror","cyber_horror","horror_thriller","monster","science_fiction","supernatural","horror_vampires","werewolf","horror_zombie","killer"],23:["folk_horror","body_horror","natural_horror","slasher"]},4:{2:["cozy","domestic","hardboiled","whodunit"],3:["cozy","domestic","heist","hardboiled"],5:["whodunit"],6:["cozy","hardboiled","whodunit"],13:["cozy","hardboiled"],18:["hardboiled","gothic"],20:["amateur_sleuth","cozy"],22:["espionage","international_crime"],23:["cozy","domestic","mystery_legal","whodunit","true_crime"]},5:{22:["new_adult_bad_boy","college_university","highschool","new_adult_workplace","new_adult_romance"],23:["new_adult_body_positivity"]},6:{22:["ghosts_occult","mythical_creatures","psychics","witches_wizards","paranormal_vampires","werewolves"]},7:{2:["polyamory"],3:["polyamory"],4:["billionaire"],18:["polyamory"],22:["romance_bad_boy","billionaire","comedy","romance_time_travel","romance_workplace","royalty"],23:["romance_body_positivity","late_in_life","romance_legal","polyamory"]},8:{3:["robots","space_opera"],6:["hard"],22:["alien_contact","cyberpunk","scifi_dystopian","scifi_time_travel","robots"]},9:{22:["teen_coming_of_age","family_life","friendship","teen_romance","school_life","teen_mental_health"],23:["teen_body_positivity"]}},E=function(){var e=Object(u.g)().trans;return[[{name:e("Alternate Universe"),id:"alternate_universe"},{name:e("angst"),id:"angst"},{name:e("black humor"),id:"black_humor"},{name:e("crossover"),id:"crossover"},{name:e("curtain fic"),id:"curtain_fic"},{name:e("dark fic"),id:"dark_fic"},{name:e("fix fic"),id:"fix_fic"},{name:e("humor"),id:"humor"},{name:e("peggy sue"),id:"peggy_sue"},{name:e("real person fanfiction"),id:"real_person"},{name:e("satire"),id:"satire"},{name:e("self insert"),id:"self_insert"},{name:e("shipping"),id:"shipping"},{name:e("slapstick"),id:"slapstick"},{name:e("slash fic"),id:"slash"}],[{name:e("contemporary"),id:"contemporary"},{name:e("dark"),id:"dark"},{name:e("dystopian"),id:"fantasy_dystopian"},{name:e("epic"),id:"epic"},{name:e("humorous"),id:"humorous"},{name:e("magic realism"),id:"magic_realism"},{name:e("magical creatures"),id:"magical_creatures"},{name:e("military"),id:"fantasy_military"},{name:e("retellings"),id:"retellings"},{name:e("romance"),id:"fantasy_romance"},{name:e("urban"),id:"urban"},{name:e("utopian"),id:"fantasy_utopian"}],[{name:e("20th century"),id:"20th_century"},{name:e("african"),id:"african"},{name:e("alternative history"),id:"alternative_history"},{name:e("ancient world"),id:"ancient_world"},{name:e("chinese"),id:"chinese"},{name:e("civil war era"),id:"civil_war"},{name:e("colonial america"),id:"colonial_america"},{name:e("egyptian"),id:"egyptian"},{name:e("european"),id:"european"},{name:e("gilded age"),id:"gilded_age"},{name:e("indian"),id:"indian"},{name:e("japanese"),id:"japanese"},{name:e("korean"),id:"korean"},{name:e("medieval"),id:"medieval"},{name:e("middle eastern"),id:"middle_eastern"},{name:e("ottoman empire"),id:"ottoman_empire"},{name:e("regency"),id:"regency"},{name:e("renaissance"),id:"renaissance"},{name:e("russian"),id:"russian"},{name:e("scottish"),id:"scottish"},{name:e("south american"),id:"south_american"},{name:e("tudor"),id:"tudor"},{name:e("victorian"),id:"victorian"},{name:e("viking"),id:"viking"},{name:e("western"),id:"western"},{name:e("world war i"),id:"ww1"},{name:e("world war ii"),id:"ww2"}],[{name:e("body horror"),id:"body_horror"},{name:e("comedy horror"),id:"comedy_horror"},{name:e("creepy pasta"),id:"creepy_pasta"},{name:e("cyber horror"),id:"cyber_horror"},{name:e("folk horror"),id:"folk_horror"},{name:e("gore & disturbing"),id:"gore_disturbing"},{name:e("gothic horror"),id:"gothic_horror"},{name:e("horror adventure"),id:"horror_adventure"},{name:e("horror drama"),id:"horror_drama"},{name:e("horror thriller"),id:"horror_thriller"},{name:e("killer"),id:"killer"},{name:e("monster"),id:"monster"},{name:e("natural horror"),id:"natural_horror"},{name:e("psychological"),id:"psychological"},{name:e("science fiction"),id:"science_fiction"},{name:e("slasher"),id:"slasher"},{name:e("supernatural"),id:"supernatural"},{name:e("surreal"),id:"surreal"},{name:e("vampire"),id:"horror_vampires"},{name:e("werewolf"),id:"werewolf"},{name:e("zombie"),id:"horror_zombie"}],[{name:e("amateur sleuth"),id:"amateur_sleuth"},{name:e("cozy mystery or softboiled"),id:"cozy"},{name:e("domestic"),id:"domestic"},{name:e("espionage"),id:"espionage"},{name:e("hardboiled"),id:"hardboiled"},{name:e("international crime"),id:"international_crime"},{name:e("legal"),id:"mystery_legal"},{name:e("medical"),id:"mystery_medical"},{name:e("military"),id:"mystery_military"},{name:e("police procedural"),id:"police_procedural"},{name:e("political"),id:"mystery_political"},{name:e("private investigators"),id:"private_investigators"},{name:e("terrorism"),id:"terrorism"},{name:e("whodunit"),id:"whodunit"},{name:e("caper (heist)"),id:"heist"},{name:e("gothic"),id:"gothic"},{name:e("true crime"),id:"true_crime"}],[{name:e("bad boy"),id:"new_adult_bad_boy"},{name:e("body positivity"),id:"new_adult_body_positivity"},{name:e("college/university"),id:"college_university"},{name:e("coming of age"),id:"new_adult_coming_of_age"},{name:e("highschool"),id:"highschool"},{name:e("mental health"),id:"new_adult_mental_health"},{name:e("romance"),id:"new_adult_romance"},{name:e("self-discovery"),id:"self_discovery"},{name:e("workplace"),id:"new_adult_workplace"}],[{name:e("ghosts/occult"),id:"ghosts_occult"},{name:e("immortals"),id:"immortals"},{name:e("mythical creatures"),id:"mythical_creatures"},{name:e("psychics"),id:"psychics"},{name:e("romance"),id:"paranormal_romance"},{name:e("shifters/werewolves"),id:"werewolves"},{name:e("vampires"),id:"paranormal_vampires"},{name:e("witches & wizards"),id:"witches_wizards"}],[{name:e("bad boy"),id:"romance_bad_boy"},{name:e("billionaire"),id:"billionaire"},{name:e("body positivity"),id:"romance_body_positivity"},{name:e("comedy"),id:"comedy"},{name:e("holiday"),id:"holiday"},{name:e("later in life"),id:"late_in_life"},{name:e("legal"),id:"romance_legal"},{name:e("medical"),id:"romance_medical"},{name:e("military"),id:"romance_military"},{name:e("political"),id:"romance_political"},{name:e("polyamory"),id:"polyamory"},{name:e("royalty"),id:"royalty"},{name:e("small town"),id:"small_town"},{name:e("sports"),id:"sports"},{name:e("suspense"),id:"suspense"},{name:e("time travel"),id:"romance_time_travel"},{name:e("workplace"),id:"romance_workplace"}],[{name:e("alien contact"),id:"alien_contact"},{name:e("apocalyptic & post-apocalyptic"),id:"apocalyptic"},{name:e("cyberpunk"),id:"cyberpunk"},{name:e("dystopian"),id:"scifi_dystopian"},{name:e("genetics"),id:"genetics"},{name:e("hard"),id:"hard"},{name:e("military & war"),id:"scifi_military"},{name:e("robots"),id:"robots"},{name:e("space exploration"),id:"space_exploration"},{name:e("space opera"),id:"space_opera"},{name:e("speculative fiction"),id:"speculative"},{name:e("technological"),id:"technological"},{name:e("time travel"),id:"scifi_time_travel"},{name:e("utopian"),id:"scifi_utopian"},{name:e("zombie"),id:"scifi_zombie"}],[{name:e("body positivity"),id:"teen_body_positivity"},{name:e("coming of age"),id:"teen_coming_of_age"},{name:e("family life"),id:"family_life"},{name:e("friendship"),id:"friendship"},{name:e("mental health"),id:"teen_mental_health"},{name:e("romance"),id:"teen_romance"},{name:e("school life"),id:"school_life"},{name:e("social issues"),id:"social_issues"}],[{name:e("coming of age"),id:"lit_fic_coming_of_age"},{name:e("mental health"),id:"lit_fic_mental_health"},{name:e("romance"),id:"lit_fic_romance"},{name:e("self-discovery"),id:"lit_fic_self_discovery"},{name:e("Family Life"),id:"lit_fic_family_life"},{name:e("social issues"),id:"lit_fic_social_issues"}]]},O=n(64),S=n(12);function k(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach(function(t){j(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",function(){return U});var P=100,T=3500,R=200,x=20,L=500,I=!1,q=!1,A=function(e){return encodeURI(e).split(/%..|./).length-1};function M(e){var t=e.submitForm,n=e.closeModal,r=e.isStandalonePage,a=e.storyId,i=e.setContestForm,s=e.formState,m=Object(u.g)().trans,p=E(),f=s.data,g=C(Object(l.useState)(f.contest_submission),2),b=g[0],N=g[1],M=C(Object(l.useState)(!1),2),F=M[0],U=M[1],W=C(Object(l.useState)({fieldName:"",fieldInvalid:!1}),2),B=W[0],H=W[1];function z(e){var t,n=e.target,r=n.name,a=n.checked;H({fieldName:"opportunities",fieldInvalid:!1}),a?(b.opportunities.indexOf("none")>-1?(t=b.opportunities.filter(function(e){return"none"!==e}),t=[].concat(k(t),[r])):t="none"===r?["none"]:[].concat(k(b.opportunities),[r]),0!==t.length&&(I=!1)):0===(t=b.opportunities.filter(function(e){return e!==r})).length&&(I=!0),N(_({},b,{opportunities:t}))}Object(l.useEffect)(function(){N(f.contest_submission)},[f.contest_submission]);function V(e){var t,n=e.target,r=n.name,a=n.value;"award_category"===r?(H({fieldName:"award_category",fieldInvalid:!1}),N(_({},b,(j(t={},r,a),j(t,"subgenre",void 0),j(t,"subgenre_secondary",void 0),t)))):(H({fieldName:r,fieldInvalid:!1}),N(_({},b,j({},r,a))))}function G(e){var t=e.target,n=t.name,r=t.value;H({fieldName:n,fieldInvalid:!1}),N(_({},b,{plot_details:_({},b.plot_details,j({},n,r))}))}function Y(e){var t=e.target,n=t.name,r=t.value;H({fieldName:n,fieldInvalid:!1}),N(_({},b,{plot_details:_({},b.plot_details,j({},n,r))}))}var $,K={rule:function(e){return e.length>0},errorMessage:function(){return m("This field is required.")}},J=function(e){return{rule:function(t){return A(t)<=e},errorMessage:function(){return m("This field has to contain less than %s characters.",e)}}},Q=function(e){return{rule:function(t){return A(t)>=e},errorMessage:function(){return m("This field has to contain more than %s characters.",e)}}},Z=s.hasSubmitted,X=s.isLoading,ee=Z||X,te=(new Date).getTime()<new Date("30 Sept 2020 11:59:59 GMT-0400").getTime();te||(ee=!0);var ne=[{name:m("None"),id:"none"},{name:m("Sex"),id:"sex"},{name:m("Language"),id:"language"},{name:m("Violence"),id:"violence"},{name:m("Drug Use"),id:"drug_use"},{name:m("Other"),id:"other"},{name:m("Self-harm"),id:"self-harm"}],re={fanfiction:m("Fanfiction"),fantasy:m("Fantasy"),historical_fiction:m("Historical Fiction"),horror:m("Horror"),paranormal:m("Paranormal"),literary_fiction:m("Literary Fiction"),mystery_thriller:m("Mystery & Thriller"),new_adult:m("New Adult"),romance:m("Romance"),science_fiction:m("Science Fiction"),young_adult:m("Young Adult")},ae={fanfiction:0,fantasy:1,historical_fiction:2,horror:3,mystery_thriller:4,new_adult:5,paranormal:6,romance:7,science_fiction:8,young_adult:9,literary_fiction:10},oe=m("Thank you for your interest in the 2020 Watty Awards. In order to be considered for this year’s awards, complete the following submission form."),ie=[],se=[],le=[{label:m("Yes"),value:1},{label:m("No"),value:0}];s.data.contest_submission.mature_themes&&s.data.contest_submission.mature_themes.length>0&&(ie=s.data.contest_submission.mature_themes.map(function(e){return ne.find(function(t){return t.id===e})}));var ce=ae[s.data.contest_submission.award_category];if(s.data.contest_submission.subgenre&&""!==s.data.contest_submission.subgenre){var ue=p[ce].find(function(e){return e.id==s.data.contest_submission.subgenre});se.push({id:s.data.contest_submission.subgenre,name:ue.name})}if(s.data.contest_submission.subgenre_secondary&&""!==s.data.contest_submission.subgenre_secondary){var de=p[ce].find(function(e){return e.id==s.data.contest_submission.subgenre_secondary});se.push({id:s.data.contest_submission.subgenre_secondary,name:de.name})}b.award_category||($=!0);var me=!1;return b.subgenre||b.subgenre_secondary||(me=!0),X&&Z?c.a.createElement("div",{className:"loading-spinner"},c.a.createElement(O.a,null)):c.a.createElement("div",{id:"contest-form"},c.a.createElement("form",null,c.a.createElement("div",{className:o()("overflow-container",{disabled:X})},c.a.createElement(d,{subtitle:oe}),c.a.createElement("div",{className:"form-content"},!te&&c.a.createElement("div",{className:"already-submitted-box",dangerouslySetInnerHTML:{__html:m("The 2020 Watty Awards are now closed. Thanks for your participation!")}}),Z&&c.a.createElement("div",{className:"already-submitted-box",dangerouslySetInnerHTML:{__html:m("You are viewing your submission for the ‘<strong>%s</strong>’ category in the 2020 Watty Awards. Changes cannot be made.",re[s.data.contest_submission.award_category])}}),!Z&&c.a.createElement("div",{className:"form-title",dangerouslySetInnerHTML:{__html:m("Submit <span class='black'>'%s'</span> to the Wattys",s.title)}}),c.a.createElement("h4",null,m("Award Category")),c.a.createElement("div",{className:"subtitle",dangerouslySetInnerHTML:{__html:m('Select the award category you wish to be considered for. Stories that do not fit under any of the categories listed below will not be eligible to win. For full eligibility criteria, refer to <a target="_blank" rel="noopener noreferrer" href=%s>Rules and Regulations.</a>',"https://a.wattpad.com/image/wattys%202020%20contest%20official%20rules.pdf")}}),c.a.createElement(y,{validationRules:[K]},function(e){var t=e.ref,n=e.errorMessage,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("select",{ref:t,value:b.award_category,name:"award_category",disabled:ee,className:o()("form-element full-width",r),onChange:V},c.a.createElement("option",{value:"",disabled:!0},m("Select a category")),c.a.createElement("option",{value:"fanfiction"},m("Fanfiction")),c.a.createElement("option",{value:"fantasy"},m("Fantasy")),c.a.createElement("option",{value:"historical_fiction"},m("Historical Fiction")),c.a.createElement("option",{value:"horror"},m("Horror")),c.a.createElement("option",{value:"paranormal"},m("Paranormal")),1===s.language&&c.a.createElement("option",{value:"literary_fiction"},m("Literary Fiction")),c.a.createElement("option",{value:"mystery_thriller"},m("Mystery & Thriller")),c.a.createElement("option",{value:"new_adult"},m("New Adult")),c.a.createElement("option",{value:"romance"},m("Romance")),c.a.createElement("option",{value:"science_fiction"},m("Science Fiction")),c.a.createElement("option",{value:"young_adult"},m("Young Adult"))),n&&c.a.createElement("div",{className:"error-text"},n),!n&&(1==B.fieldInvalid||"award_category"!=B.fieldName&&""!=B.fieldName&&q)&&""==b.award_category&&c.a.createElement("div",{className:"error-text"},m("This field is required.")))}),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"inline-row"},c.a.createElement("div",{className:"flex-part"},c.a.createElement("h4",null,m("Subgenre")),c.a.createElement("div",{className:"subtitle"},m("Pick 1-2 of the most relevant subgenres:")),c.a.createElement(h.j,{key:b.award_category,disabled:ee||$,getItems:function(e){var t,n=e.toLowerCase(),r=ae[b.award_category],a=w[r][app.get("language")];return t=a?p[r].filter(function(e){return-1==a.indexOf(e.id)}):p[r],n?t.filter(function(e){return e.name.toLowerCase().includes(n)}):t},defaultSelectedItems:se,isLoading:X,placeholder:m("None"),handleChange:function(e){0==!e.length?e[0].id?N(_({},b,{subgenre:e[0].id})):e[1].id&&N(_({},b,{subgenre_secondary:e[1].id})):N(_({},b,{subgenre:void 0,subgenre_secondary:void 0}))},className:"subgenre-container",maxLimit:1}),me&&!$&&!ee&&c.a.createElement("div",{className:"error-text"},m("You must pick at least 1"))))),c.a.createElement("div",{className:"inline-row"},c.a.createElement("div",{className:"flex-part"},c.a.createElement("h4",null,m("Award Language")),c.a.createElement("div",{className:"subtitle"},m("Select the award language you wish to be considered for. Stories that do not fit under any of the languages listed below will not be eligible to win.")),c.a.createElement(y,{validationRules:[K]},function(e){var t=e.ref,n=e.errorMessage,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("select",{ref:t,value:b.language,name:"language",disabled:ee,className:o()("form-element full-width",r),onChange:V},c.a.createElement("option",{value:"",disabled:!0},m("Select a language")),c.a.createElement("option",{value:"en"},m("English")),c.a.createElement("option",{value:"fr"},m("French")),c.a.createElement("option",{value:"it"},m("Italian")),c.a.createElement("option",{value:"de"},m("German")),c.a.createElement("option",{value:"es"},m("Spanish")),c.a.createElement("option",{value:"pt"},m("Portuguese")),c.a.createElement("option",{value:"nl"},m("Dutch")),c.a.createElement("option",{value:"tr"},m("Turkish")),c.a.createElement("option",{value:"tl"},m("Filipino")),c.a.createElement("option",{value:"id"},m("Indonesian")),c.a.createElement("option",{value:"ms"},m("Malay"))),n&&c.a.createElement("div",{className:"error-text"},n),!n&&(1==B.fieldInvalid||"language"!=B.fieldName&&""!=B.fieldName&&q)&&""==b.language&&c.a.createElement("div",{className:"error-text"},m("This field is required.")))}))),c.a.createElement("hr",null),c.a.createElement("div",{className:"inline-row"},c.a.createElement("div",{className:"flex-part"},c.a.createElement("h4",null,m("Mature Themes")),c.a.createElement("div",{className:"subtitle small"},m("Tell us if your story has mature themes."))),c.a.createElement(h.j,{key:s.data.contest_submission.mature_themes,disabled:ee,getItems:function(e){var t=e.toLowerCase();return t?ne.filter(function(e){return e.name.toLowerCase().includes(t)}):ne},defaultSelectedItems:ie,isLoading:X,placeholder:m("Select themes"),handleChange:function(e){H({fieldName:"mature_themes",fieldInvalid:!1}),N(_({},b,{mature_themes:e.map(function(e){return e.id})}))}}),(1==B.fieldInvalid||"mature_themes"!=B.fieldName&&""!=B.fieldName&&q)&&0==b.mature_themes.length&&c.a.createElement("div",{className:"error-text mature_themes-error"},m("This field is required."))),c.a.createElement(y,{validationRules:[K]},function(e){var t=e.ref,n=e.errorMessage,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"inline-row"},c.a.createElement("div",{className:"flex-part"},c.a.createElement("div",{className:"title-container"},c.a.createElement("h4",null,m("Sexual Content")),c.a.createElement("button",{id:"content-tooltip",className:"icon-container on-contest-popover popover-icon"},c.a.createElement(S.a,{iconName:"fa-warning",height:"17",color:"wp-neutral-2"}))),c.a.createElement("div",{className:"subtitle small"},m("Tell us what level of sexual content your story has."))),c.a.createElement("div",null,c.a.createElement("select",{ref:t,value:b.sexual_content,name:"sexual_content",disabled:ee,className:o()("form-element sexual-content",r),onChange:V},c.a.createElement("option",{value:"",disabled:!0},m("Select rating")),c.a.createElement("option",{value:"clean"},m("No sexual content")),c.a.createElement("option",{value:"steamy"},m("Steamy")),c.a.createElement("option",{value:"fade_to_black"},m("Fade to Black")),c.a.createElement("option",{value:"explicit_rare"},m("Explicit Sex Rare")),c.a.createElement("option",{value:"explicit_common"},m("Explicit Sex Common"))),n&&c.a.createElement("div",{className:"error-text"},n),!n&&(1==B.fieldInvalid||"sexual_content"!=B.fieldName&&""!=B.fieldName&&q)&&""==b.sexual_content&&c.a.createElement("div",{className:"error-text"},m("This field is required.")))))}),c.a.createElement(y,{validationRules:[K]},function(e){var t=e.ref,n=e.errorMessage,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"inline-row"},c.a.createElement("div",{className:"flex-part"},c.a.createElement("h4",null,m("Target Audience")),c.a.createElement("div",{className:"subtitle small"},m("Tell us what age group your story is intended for."))),c.a.createElement("div",null,c.a.createElement("select",{ref:t,value:b.target_audience,name:"target_audience",disabled:ee,className:o()("form-element",r),onChange:V},c.a.createElement("option",{value:"",disabled:!0},m("Select an audience")),c.a.createElement("option",{value:"8-13"},m("Middle Grade (8-12 years old)")),c.a.createElement("option",{value:"13-18"},m("Young Adult (13-18 years old)")),c.a.createElement("option",{value:"18-25"},m("New Adult (18-24 years old)")),c.a.createElement("option",{value:"25+"},m("Adult (25+ years old)"))),n&&c.a.createElement("div",{className:"error-text"},n),!n&&(1==B.fieldInvalid||"target_audience"!=B.fieldName&&""!=B.fieldName&&q)&&""==b.target_audience&&c.a.createElement("div",{className:"error-text"},m("This field is required.")))))}),c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",null,m("Logline")),c.a.createElement("div",{style:{marginBottom:0},className:"subtitle"},m("Give us a one-sentence description of your story that conveys the dramatic narrative and hook. It should follow the below format: [Character Name] + a [Character Description] + has to [Action] + in order to [Result]")),c.a.createElement("br",null),c.a.createElement("div",{className:"subtitle",dangerouslySetInnerHTML:{__html:m("Ex. “Cleopatra, <strong>a</strong> zombified ruler of Egypt, <strong>has to</strong> resist the temptation of eating Mark Antony, <strong>in order to</strong> not change the course of Egypt's future.”")}}),c.a.createElement(y,{validationRules:[K,J(R),Q(x)]},function(e){var t=e.ref,n=e.errorMessage,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("textarea",{ref:t,style:{height:80,marginBottom:5},className:o()("form-element",r,"full-width"),name:"logline",value:b.plot_details.logline,disabled:ee,onChange:Y}),n&&c.a.createElement("div",{style:{marginBottom:0},className:"error-text"},n),!n&&(1==B.fieldInvalid||"logline"!=B.fieldName&&""!=B.fieldName&&q)&&""==b.plot_details.logline&&c.a.createElement("div",{className:"error-text"},m("This field is required.")),c.a.createElement(D,{value:b.plot_details.logline,limit:R}))})),c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",null,m("Plot Summary")),c.a.createElement("div",{className:"subtitle"},m("A plot summary should be approximately 500 words and written in third person. It should identify the major characters, key moments of action, and how the story ends (including spoilers).")),c.a.createElement(y,{validationRules:[K,Q(P),J(T)]},function(e){var t=e.ref,n=e.errorMessage,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("textarea",{ref:t,style:{height:200,marginBottom:5},className:o()("form-element",r,"full-width"),name:"summary",value:b.plot_details.summary,disabled:ee,onChange:G}),n&&c.a.createElement("div",{style:{marginBottom:0},className:"error-text"},n),!n&&(1==B.fieldInvalid||"summary"!=B.fieldName&&""!=B.fieldName&&q)&&""==b.plot_details.summary&&c.a.createElement("div",{className:"error-text"},m("This field is required.")),c.a.createElement(D,{value:b.plot_details.summary,limit:T}))})),c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"title"}," ",m("What does this story mean to you as a writer?")," "),c.a.createElement("span",{className:"subtitle"},m("(optional)")),c.a.createElement(y,{validationRules:[J(L)]},function(e){var t=e.ref,n=e.errorMessage,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("textarea",{ref:t,style:{height:200,marginBottom:5},className:o()("form-element",r,"full-width"),name:"authors_msg",value:b.authors_msg,disabled:ee,onChange:V}),n&&c.a.createElement("div",{className:"error-text"},n),c.a.createElement(D,{value:b.authors_msg,limit:L}))})),c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",null,m("Is your story on another platform?")),c.a.createElement(v.a,{label:m("Please indicate if your story is currently on another platform such as Amazon, Inkitt, fanfiction.net, Dreame etc. Stories on Patreon do not count."),name:"is_exclusive",options:le,value:b.is_exclusive?0:0==b.is_exclusive?1:null,position:"horizontal",onChange:function(e){var t=e.target,n=t.name,r=t.value;H({fieldName:n,fieldInvalid:!1}),N(_({},b,j({},n,0==r)))},disabled:ee}),(1==B.fieldInvalid||"is_exclusive"!=B.fieldName&&""!=B.fieldName&&q)&&null==b.is_exclusive&&c.a.createElement("div",{className:"error-text"},m("This field is required."))),c.a.createElement("hr",null),c.a.createElement("h4",null,m("Opportunities")),c.a.createElement("div",{className:"subtitle"},m("We want to know your other aspirations on our platform. This information helps us identify additional opportunities that may be available to you and your story.")),c.a.createElement("div",{className:"subtitle black"},m("Consider me and my story for:")),1===s.language&&c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("input",{checked:b.opportunities.indexOf("stars")>-1,name:"stars",type:"checkbox",disabled:ee,onChange:z})," ",c.a.createElement("div",null,m("Wattpad Stars"))),1===s.language&&c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("input",{checked:b.opportunities.indexOf("paid_stories")>-1,name:"paid_stories",type:"checkbox",disabled:ee,onChange:z})," ",c.a.createElement("div",null,m("Wattpad Paid Stories"))),c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("input",{checked:b.opportunities.indexOf("publishings")>-1,name:"publishings",type:"checkbox",disabled:ee,onChange:z})," ",c.a.createElement("div",null,m("Wattpad publishing opportunities, including Wattpad Books"))),c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("input",{checked:b.opportunities.indexOf("entertainment")>-1,name:"entertainment",type:"checkbox",disabled:ee,onChange:z})," ",c.a.createElement("div",null,m("Wattpad entertainment opportunities, including film and television"))),c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("input",{disabled:ee,checked:1===s.language?b.opportunities.indexOf("entertainment")>-1&&b.opportunities.indexOf("stars")>-1&&b.opportunities.indexOf("publishings")>-1&&b.opportunities.indexOf("paid_stories")>-1:b.opportunities.indexOf("entertainment")>-1&&b.opportunities.indexOf("publishings")>-1,type:"checkbox",onChange:function(e){H({fieldName:"opportunities",fieldInvalid:!1});var t=e.target.checked,n=["publishings","entertainment"];1===s.language&&(n.push("stars"),n.push("paid_stories")),I=!t,N(_({},b,{opportunities:t?n:[]}))}})," ",c.a.createElement("div",null,m("All available opportunities with Wattpad"))),c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("input",{checked:b.opportunities.indexOf("none")>-1,name:"none",type:"checkbox",disabled:ee,onChange:z})," ",c.a.createElement("div",null,m("None"))),I&&!ee&&c.a.createElement("div",{className:"error-text"},m("You must pick at least 1")),!I&&(1==B.fieldInvalid||"opportunities"!=B.fieldName&&""!=B.fieldName&&q)&&0==b.opportunities.length&&c.a.createElement("div",{className:"error-text"},m("This field is required.")),c.a.createElement("hr",null),c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("input",{disabled:ee,name:"confirmLegal",checked:Z||F,type:"checkbox",onChange:function(e){var t=e.target.checked;return U(t)}})," ",c.a.createElement("div",{dangerouslySetInnerHTML:{__html:m('<a target="_blank" rel="noopener noreferrer" href=%s>I confirm that I\'ve read, understood, and agree to the contest rules and regulations.</a>',"https://a.wattpad.com/image/wattys%202020%20contest%20official%20rules.pdf")}})),c.a.createElement("div",{className:"subtitle small",style:{marginTop:10,marginBottom:20}},m("Ready to hit submit? Please note that once you’ve submitted your story, you won’t be able to resubmit the same one, so make sure your story is Wattys ready. This information will be kept confidential and is for internal purposes only.")))),r&&Z?null:c.a.createElement("div",{className:"btn-container"},!Z&&te&&c.a.createElement("button",{type:"button",onClick:function(e){e.preventDefault(),e.stopPropagation(),q=!0,function(e){return 0==e.award_category.length||0==e.language.length||0==e.mature_themes.length||""==e.sexual_content||""==e.target_audience||!e.plot_details||null==e.is_exclusive||0==e.opportunities.length||void 0}(b)&&H({fieldInvalid:!0});var n={story_id:parseInt(a),contest_submission:b};!ee&&b.plot_details.logline&&A(b.plot_details.logline)<=R&&A(b.plot_details.logline)>=x&&b.award_category&&b.sexual_content&&b.target_audience&&b.subgenre&&b.language&&b.plot_details.summary&&A(b.plot_details.summary)>=P&&A(b.plot_details.summary)<=T&&0!=b.mature_themes.length&&null!=b.is_exclusive&&F&&!me&&!I&&i(a,n).then(function(e){t(e)})},className:"btn btn-primary submit-btn"},m("Submit")),!r&&c.a.createElement("button",{type:"button",onClick:n,className:"btn btn-secondary"},m("Close")))))}function D(e){var t=e.value,n=e.limit;return c.a.createElement("div",{className:"counter"},c.a.createElement("span",{className:o()({danger:A(t)>n})},A(t)),"/",n)}D.propTypes={value:s.a.string,limit:s.a.number},M.propTypes={submitForm:s.a.func.isRequired,closeModal:s.a.func.isRequired,isStandalonePage:s.a.bool.isRequired,fetchContestForm:s.a.func,setContestForm:s.a.func,storyId:s.a.string,formState:s.a.shape({isLoading:s.a.bool.isRequired,hasSubmitted:s.a.bool.isRequired,title:s.a.string,data:s.a.shape({story_id:s.a.number,contest_submission:s.a.shape({contest:s.a.string,award_category:s.a.string.isRequired,subgenre:s.a.string,subgenre_secondary:s.a.string,target_audience:s.a.string.isRequired,is_exclusive:s.a.bool,mature_themes:s.a.arrayOf(s.a.string).isRequired,language:s.a.string.isRequired,plot_details:s.a.shape({summary:s.a.string.isRequired,logline:s.a.string.isRequired}).isRequired,authors_msg:s.a.string.isRequired,opportunities:s.a.arrayOf(s.a.string).isRequired})}),language:s.a.number})};var F=function(e){var t=e.success,n=e.hasAddedWattysTag,r=e.isStandalonePage,a=e.closeModal,o=e.storyId,i=e.formState,s=e.fetchContestForm,u=e.setContestForm;Object(l.useEffect)(function(){o&&s(o)},[o,s]);var d=C(Object(l.useState)("form"),2),m=d[0],p=d[1];return"success"===m||t?c.a.createElement(b,{hasAddedWattysTag:n,isStandalonePage:r,formState:i,closeModal:a}):c.a.createElement(M,{storyId:o,closeModal:a,formState:i,setContestForm:u,isStandalonePage:r,submitForm:function(e){r?window.location.href="/contests/wattys2020?storyId=".concat(o,"&success=true&hasAddedWattysTag=").concat(e):p("success")}})};F.defaultProps={success:!1,isStandalonePage:!1,closeModal:function(){},storyId:""},F.propTypes={formState:s.a.object,fetchContestForm:s.a.func,setContestForm:s.a.func,closeModal:s.a.func,success:s.a.bool,hasAddedWattysTag:s.a.bool,isStandalonePage:s.a.bool,storyId:s.a.string};var U=Object(r.b)(function(e){return{formState:_({},e.contestForm)}},{fetchContestForm:m.b,setContestForm:m.e})(F)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n.n(s);function c(e){return a.a.createElement("div",{className:l()("ds ds-one-col-page",e.variant)},a.a.createElement("div",{className:"column"},e.children))}c.propTypes={children:i.a.node,variant:i.a.string},c.defaultProps={variant:""},n.d(t,"a",function(){return c})},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(146),l=n.n(s),c=n(7),u=n(3),d=n.n(u),m=n(2),p=n(4);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var g=Object(m.o)(m.d);function y(e){var t=e.validationModel,n=e.onValid,r=e.onInvalid,a=e.inputRef,s=Object(p.g)().trans,l=f(Object(o.useState)(!1),2),c=l[0],u=l[1],m=f(Object(o.useState)(void 0),2),y=m[0],h=m[1],b=function(e){u(!1),r(),h(e)},v=function(){u(!0),h(void 0),n()},w=d()("has-feedback birthday-container",{valid:!0===c,invalid:!0!==c});return i.a.createElement("div",{className:w},i.a.createElement("div",{className:"birthday-fields"},i.a.createElement(g,{name:"month",label:s("Month"),form:"signup",inputType:"select",alt_msg:c?"Select Month":y,validationModel:t,onInvalid:b,onValid:v}),i.a.createElement(g,{name:"day",label:s("Day"),form:"signup",inputType:"select",alt_msg:c?"Select Day":y,validationModel:t,onInvalid:b,onValid:v}),i.a.createElement(g,{name:"year",label:s("Year"),form:"signup",inputType:"select",alt_msg:c?"Select Month":y,validationModel:t,onInvalid:b,onValid:v,inputRef:a})),!c&&i.a.createElement("div",{"aria-describedby":"birthday_error","aria-live":"assertive",role:"alert",className:"error-msg"},y))}y.propTypes={validationModel:a.a.shape({on:a.a.func,off:a.a.func}),onValid:a.a.func,onInvalid:a.a.func,inputRef:a.a.object};var h=y,b=n(5),v=n(8),w=n(65);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=Object(m.o)(m.d),j=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),N(S(n=function(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?S(e):t}(this,O(t).call(this,e))),"onNavigate",function(e,t){e.preventDefault(),n.props.closeModal(),window.app.router.navigate(t,{trigger:!0})}),N(S(n),"validateSignupForm",function(e,t){t.toLowerCase().includes("username")?n.setState({isUsernameValid:e}):t.toLowerCase().includes("email")?n.setState({isEmailValid:e}):t.toLowerCase().includes("password")?n.setState({isPasswordValid:e}):t.toLowerCase().includes("birthday")&&n.setState({isBirthdayValid:e})}),N(S(n),"onBackClicked",function(){n.setState({showThirdPartyOptions:!0})}),N(S(n),"render",function(){var e=n.props,t=e.source,r=e.formType,a=e.model,o=e.title,s=e.subtitle,c=e.trans,u=n.props.nextUrl||"/home",p="/signup?nextUrl=".concat(u),f="new_landing_".concat(t),g=c("Be part of a global community of readers and writers, all connected through the power of story."),y=c("By continuing, you agree to Wattpad's <a href='/terms'>Terms of Service</a> and <a href='/privacy'>Privacy Policy</a>."),b=d()("signup-form",{sidebar:"sidebar"===r}),v=n.state.isPasswordValid&&n.state.isEmailValid&&n.state.isUsernameValid&&n.state.isBirthdayValid,E=d()("btn-primary btn-block submit-btn",{enable:!0===v,disabled:!0!==v});return n.state.showThirdPartyOptions?i.a.createElement(w.a,{model:a,nextUrl:u,signup:!0}):i.a.createElement("div",{id:"authentication",className:b},"sidebar"===r?null:o?i.a.createElement("h1",null,o):i.a.createElement("h1",null,c("Join Wattpad")),s?i.a.createElement("h2",{dangerouslySetInnerHTML:{__html:s}}):i.a.createElement("p",null,g),i.a.createElement("div",{className:"panel-body"},i.a.createElement("form",{id:"signupForm",action:p,method:"POST",onSubmit:function(e){n.state.isPasswordValid||(e.preventDefault(),n.passwordInput.current.focus()),n.state.isEmailValid||(e.preventDefault(),n.emailInput.current.focus()),n.state.isUsernameValid||(e.preventDefault(),n.usernameInput.current.focus()),n.state.isBirthdayValid||(e.preventDefault(),n.birthdayInput.current.focus())}},i.a.createElement("input",{type:"hidden",name:"signup-from",value:f}),i.a.createElement("input",{type:"hidden",name:"form-type",value:r||""}),i.a.createElement("div",{className:"input-group-vertical"},i.a.createElement(_,{name:"username",label:c("Username"),form:"signup",inputType:"text",title:c("Enter username"),inputRef:n.usernameInput,autofocus:!0,validationModel:a,showLabel:!0,onValid:function(e){return n.validateSignupForm(!0,e)},onInvalid:function(e){return n.validateSignupForm(!1,e)}}),i.a.createElement(_,{name:"email",label:c("E-mail"),form:"signup",inputType:"text",title:c("Enter E-mail"),validationModel:a,inputRef:n.emailInput,showLabel:!0,onValid:function(e){return n.validateSignupForm(!0,e)},onInvalid:function(e){return n.validateSignupForm(!1,e)}}),i.a.createElement(_,{name:"password",label:c("Password"),form:"signup",inputType:"password",title:c("Enter password"),validationModel:a,inputRef:n.passwordInput,showLabel:!0,showVisibilityToggle:!0,onValid:function(e){return n.validateSignupForm(!0,e)},onInvalid:function(e){return n.validateSignupForm(!1,e)}}),i.a.createElement("div",{className:"birthday-info"},i.a.createElement("span",{className:"birthday-title"},c("Birthday")),i.a.createElement("div",{"aria-label":"why we ask for your birthday","data-tip":c("We ask for your date of birth so you can have the right Wattpad experience for your age.")},i.a.createElement(m.e,{iconName:"fa-info",height:"16",color:"wp-neutral-1",className:"tooltip-icon"})),i.a.createElement(l.a,{className:"tool-tip",effect:"solid"})),i.a.createElement("div",{className:"birthday-fields"},i.a.createElement(h,{inputRef:n.birthdayInput,validationModel:a,onValid:function(){return n.validateSignupForm(!0,"birthday")},onInvalid:function(){return n.validateSignupForm(!1,"birthday")}}))),i.a.createElement("input",{type:"submit",className:E,"aria-label":"Sign up with email",value:c("Sign up with email")})),i.a.createElement("span",{className:"policy-agreement",dangerouslySetInnerHTML:{__html:y}}),i.a.createElement("div",{className:"back-link-container"},i.a.createElement("button",{className:"back-link",onClick:function(){return n.onBackClicked()}},i.a.createElement("span",{className:"fa fa-left fa-wp-neutral-1 back-icon"}),c("Back to all signup options")))))}),n.state={isUsernameValid:!1,isEmailValid:!1,isPasswordValid:!1,isBirthdayValid:!1,showThirdPartyOptions:!1},n.usernameInput=i.a.createRef(),n.emailInput=i.a.createRef(),n.passwordInput=i.a.createRef(),n.birthdayInput=i.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,o["Component"]),t}();N(j,"propTypes",{model:a.a.object,nextUrl:a.a.string,source:a.a.string,formType:a.a.string,title:a.a.string,subtitle:a.a.string,trans:a.a.func.isRequired,closeModal:a.a.func});var C=Object(c.b)(null,{closeModal:v.a})(j);t.a=Object(b.g)(C)},,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n(3),c=n.n(l),u=function(e){var t=e.username,n=e.toggleModal,r=e.muteUser,o=Object(s.g)().trans,i=o("This account will not be able to follow you, send you messages, post on your profile or comment on your stories."),l=c()("btn-primary",{"on-mute-user":void 0===r});return a.a.createElement("div",{className:"mute-modal-content"},a.a.createElement("h3",{className:"mute-modal-title"},o("Mute %s",t)),a.a.createElement("p",null,i),a.a.createElement("div",{className:"confirm-buttons"},a.a.createElement("button",{className:"cancel-mute",onClick:n},o("Cancel")),a.a.createElement("button",{className:l,onClick:function(){n(),r&&r(t)}},o("Mute"))))};u.propTypes={username:i.a.string.isRequired,toggleModal:i.a.func.isRequired,muteUser:i.a.func},t.a=u},,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(4);function c(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var f=function(e){var t=e.readingLists,n=e.storyId,o=e.updateCollection,i=e.removeStoriesFromCollection,u=e.storiesCollections,f=e.getReadingLists,g=e.getCollectionsForStoryIds,y=Object(l.g)().trans,h=p(Object(r.useState)(u||{}),2),b=h[0],v=h[1],w=p(Object(r.useState)(t||[]),2),E=w[0],O=w[1],S=p(Object(r.useState)(""),2),k=S[0],N=S[1],_=p(Object(r.useState)(null),2),j=_[0],C=_[1],P=Object(r.useRef)({}),T=Object(r.useRef)(null),R=function(e){o(e,n),v(d({},b,m({},e,!0)))},x=function(e){C(null),b[e]?(i(e,n),v(d({},b,m({},e,!1)))):R(e)};return a.a.createElement("div",{className:"react-popover-container--small"},a.a.createElement("ul",{className:"react-popover-list--small"},a.a.createElement("li",{key:"library",className:"react-popover-item"},a.a.createElement("a",{role:"button",onClick:function(){x("library")},tabIndex:"0",ref:function(e){return P.current.library=e}},a.a.createElement(s.e,{iconName:"fa-library",height:"18",color:"wp-neutral-1"}),a.a.createElement("span",{className:"item-name"},y("My Library (Private)")),b.library&&a.a.createElement(s.e,{name:"check",size:"20",color:"ds-success",strokeWidth:"1"}))),E&&E.map(function(e){return a.a.createElement("li",{key:e.id,className:"react-popover-item"},a.a.createElement("a",{role:"button",onClick:function(){x(e.id)},tabIndex:"0",ref:function(t){return P.current[e.id]=t}},a.a.createElement(s.e,{iconName:"fa-reading-list",height:"18",color:"wp-neutral-1"}),a.a.createElement("span",{className:"item-name"},e.name),b[e.id]&&a.a.createElement(s.e,{name:"check",size:"20",color:"ds-success",strokeWidth:"1"})))}),a.a.createElement("div",{ref:T})),a.a.createElement("form",null,a.a.createElement("div",{className:"react-popover-input-row"},a.a.createElement("input",{type:"text",className:"form-control input-text",placeholder:y("Add new reading list..."),onChange:function(e){return N(e.target.value)},value:k}),a.a.createElement("button",{className:"btn-icon",onClick:function(e){e.preventDefault(),e.stopPropagation(),function(){if(C(null),k){var e=k;N("");var t=E.find(function(t){return t.name.toLowerCase()===e.toLowerCase()});if(t&&b[t.id])P.current[t.id].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"});else if(t)R(t.id),P.current[t.id].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"});else{var r={id:null,name:e,numStories:0,cover:0,tags:[],featured:!1,stories:n};Promise.resolve($.post("api/v3/lists/",r)).then(function(e){O([].concat(c(E),[{id:e.id,name:e.name}])),v(d({},b,m({},e.id,!0))),f(),g(n),T.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}).catch(function(e){var t=e.responseText?e.responseText:e.statusText;console.log(t||e);var n=new Error(y("We are unable to add this story to your reading list at this time"));C(n)})}}}()}},a.a.createElement(s.e,{name:"add",height:"12",color:"wp-neutral-1",strokeWidth:"2.5"})))),j&&a.a.createElement("div",{className:"react-popover-error"},j.message))};f.defaultProps={updateCollection:function(){},removeStoriesFromCollection:function(){},addStoryToNewReadingList:function(){},getReadingLists:function(){},getCollectionsForStoryIds:function(){}},f.propTypes={readingLists:i.a.array.isRequired,storyId:i.a.number,updateCollection:i.a.func,removeStoriesFromCollection:i.a.func,storiesCollections:i.a.object.isRequired,addStoryToNewReadingList:i.a.func,getReadingLists:i.a.func,getCollectionsForStoryIds:i.a.func},t.a=f},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n(4);t.a=function(){var e=Object(i.g)().trans;return a.a.createElement("div",{className:"promoted-indicator"},a.a.createElement(o.e,{name:"promoted",className:"promoted-icon",size:"25",color:"wp-base-1",boxX:"-5",boxY:"-5"}),a.a.createElement("p",null,e("Promoted")))}},,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(4),c=n(71);function u(e){var t=e.googleCta;Object(r.useEffect)(function(){0===$("#google-root").length&&($.getScript("https://apis.google.com/js/api.js",function(){window.gapi.load("client:auth2")}),$("body").append("<div id='google-root'></div>"))},[]);return a.a.createElement("button",{onClick:function(){window.gapi.auth2.authorize({client_id:wattpad.googleClientId,scope:"profile openid email https://www.googleapis.com/auth/user.birthday.read"},function(e){if(e.access_token){var t={token:e.access_token,type:"google"},n=encodeURIComponent(JSON.stringify(t));window.location.href="/oauth-auth?nextUrl="+wattpad.utils.getNextUrl()+"&data="+n}})},className:"btn btn-google btn-block"},a.a.createElement(c.a,{name:"/shared/google_login_color.png",title:"Google Login",width:"24",className:"google-login-logo","aria-hidden":"true"}),a.a.createElement("span",null,a.a.createElement("span",{className:"auth-btn"},t)))}function d(e){var t=e.source,n=Object(l.g)().trans,r=n("signup"===t?"Sign up with Facebook":"Log in with Facebook"),o=n("signup"===t?"Sign up with Google":"Log in with Google");return a.a.createElement("div",{className:"signin-buttons"},a.a.createElement("button",{className:"btn btn-facebook btn-block ",autoFocus:!0},a.a.createElement(s.e,{iconName:"fa-facebook-official",height:"24",color:"wp-neutral-5"}),a.a.createElement("span",null,a.a.createElement("span",{className:"auth-btn"},r))),a.a.createElement(u,{googleCta:o}))}u.propTypes={googleCta:i.a.string.isRequired},d.propTypes={source:i.a.string};t.a=d},function(e,t){e.exports={"wp-base-1":"#ff6122","wp-base-1-light":"#ff7b3c","wp-base-1-dark":"#e64809","wp-base-1-60":"#A93E19","wp-base-2":"#00b2b2","wp-base-2-light":"#1acccc","wp-base-2-dark":"#009999","wp-neutral-1":"#222222","wp-neutral-2":"#6f6f6f","wp-neutral-3":"#eeeeee","wp-neutral-4":"#fafafa","wp-neutral-new-4":"rgba(18, 18, 18, 0.12)","wp-neutral-5":"#ffffff","wp-error-1":"#ff3f12","wp-warning-01":"#ffc922","facebook-1":"#3b5998","twitter-1":"#55acee","pinterest-1":"#bd081c","tumblr-1":"#35465c","google-1":"#db4437","google-2":"#1e6cd6","wp-ambassador-profile":"#df6400","wp-lightteal":"#c3d8dc","wp-lighterteal":"#eaf0f4","wp-lighterror":"#faada1","wp-errorbackground":"#ff6d55","wp-focus-blue":"#00a0d9","wp-button-red":"#e94a2c","wp-button-green":"#01b05a","wp-wattys-tag":"#322864","ds-base-4-accent":"#e81249","ds-alert":"#e00000","ds-success":"#00854e"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return l});var r=n(114),a=a||e,o=a.wattpad&&a.wattpad.utils||{},i={localStorage:{get:function(e){return a.localStorage.getItem(e)},set:function(e,t){return a.localStorage.setItem(e,t)}},sessionStorage:{get:function(e){return a.sessionStorage.getItem(e)},set:function(e,t){return a.sessionStorage.setItem(e,t)}},cookie:{get:function(e){return o.getCookie(e)},set:function(e,t){return o.setCookie(e,t)}}},s=function(e){return-1!==["cookie","localStorage","sessionStorage"].indexOf(e)&&("cookie"===e?o&&o.getCookie:"localStorage"===e?a&&a.localStorage:"sessionStorage"===e?a&&a.sessionStorage:void 0)},l=function(e){var t=e.key,n=e.type,a=void 0===n?"cookie":n;if(r.a&&s(a))try{var o=i[a].get(t);return o?JSON.parse(o):null}catch(e){return null}return null}}).call(this,n(34))},,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n(7),c=n(3),u=n.n(c),d=n(2),m=n(98),p=n(45);function f(e){var t=e.title,n=e.subtitle,o=e.loadFeaturedList,i=e.featuredList,l=e.openPopover,c=e.readingList,m=Object(r.useRef)(null),p=Object(s.g)().trans;n=n||p("Check out the latest and greatest stories hand-picked by our team"),Object(r.useEffect)(function(){o()},[o]);return t?a.a.createElement("header",{className:"catalog-header right-icon"},a.a.createElement("button",{disabled:0===i.length,className:"btn-no-style list-title",onClick:function(){i.length>0&&l({component:function(){return a.a.createElement("div",{className:"react-popover-list"},a.a.createElement("a",{className:u()("on-navigate react-popover-item",{selected:!c}),href:"/catalog/paidstories"},p("Paid Stories")),i.map(function(e){return a.a.createElement("a",{key:e.id,className:u()("on-navigate react-popover-item",{selected:c&&e.id===c.id}),href:"/featured/".concat(e.id)},e.name)}))},triggerRef:m})},"aria-label":p("Show featured list"),ref:m},a.a.createElement("h1",null,t),a.a.createElement(d.e,{name:"chevDown",size:24})),a.a.createElement("h2",{className:"subtitle"},n)):null}f.propTypes={title:i.a.string,subtitle:i.a.string,loadFeaturedList:i.a.func,featuredList:i.a.array,openPopover:i.a.func,readingList:i.a.object};var g=Object(l.b)(function(e){return{featuredList:e.catalog.featuredList}},{loadFeaturedList:m.b,openPopover:p.c})(f),y=n(287);function h(e){var t=e.catalog,n=Object(s.g)().trans;return a.a.createElement("div",{className:"catalog-container"},a.a.createElement(g,{title:n("Paid Stories")}),"paidstories"===t&&a.a.createElement(y.a,null))}h.propTypes={catalog:i.a.string.isRequired},n.d(t,"a",function(){return h}),n.d(t,"b",function(){return g})},,,function(e,t){e.exports={home:'<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>',library:'<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="nav-library" transform="translate(3.000000, 3.000000)" fill="#6F6F6F"><path d="M17.4,0 C17.9522847,-1.01453063e-16 18.4,0.44771525 18.4,1 L18.4,17 C18.4,17.5522847 17.9522847,18 17.4,18 L17,18 C16.4477153,18 16,17.5522847 16,17 L16,1 C16,0.44771525 16.4477153,1.01453063e-16 17,0 L17.4,0 Z M12.4,0 C12.9522847,-1.01453063e-16 13.4,0.44771525 13.4,1 L13.4,17 C13.4,17.5522847 12.9522847,18 12.4,18 L12,18 C11.4477153,18 11,17.5522847 11,17 L11,1 C11,0.44771525 11.4477153,1.01453063e-16 12,0 L12.4,0 Z M6.33618624,0.254903754 L6.72255657,0.358431372 C7.25602267,0.501373184 7.57260516,1.04971014 7.42966335,1.58317624 L3.28855863,17.0379895 C3.14561682,17.5714556 2.59727986,17.8880381 2.06381376,17.7450962 L1.67744343,17.6415686 C1.14397733,17.4986268 0.827394836,16.9502899 0.970336648,16.4168238 L5.11144137,0.962010536 C5.25438318,0.428544432 5.80272014,0.111961943 6.33618624,0.254903754 Z" id="Combined-Shape"></path></g></g>',create:'<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="nav-create" transform="translate(2.000000, 2.000000)" stroke="#6F6F6F" stroke-width="2"><g id="edit-2" stroke-linecap="round" stroke-linejoin="round"><path d="M15,1 C15.7145312,0.285468802 16.7559831,0.00641259763 17.7320508,0.267949159 C18.7081186,0.52948572 19.4705143,1.29188142 19.7320508,2.26794918 C19.9935874,3.24401693 19.7145312,4.28546882 19,5 L5.5,18.5 L0,20 L1.5,14.5 L15,1 Z" id="Path"></path></g><path d="M2.5,14.5 L5.5,17.5" id="Line-3" stroke-linecap="square"></path></g></g>',notifications:'<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>',profile:'<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>',chevDown:'<polyline points="6 9 12 15 18 9"></polyline>',chevUp:'<polyline points="18 15 12 9 6 15"></polyline>',chevLeft:'<polyline points="15 18 9 12 15 6"></polyline>',chevRight:'<polyline points="9 18 15 12 9 6"></polyline>',close:'<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>',closeCircle:"",search:'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>',settings:'<circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>',add:'<line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>',remove:'<line x1="5" y1="12" x2="19" y2="12"></line>',more:'<circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>',follow:'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line>',following:'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>',dropdownCaret:"",arrowCircleRight:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line>',arrowCircleLeft:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line>',arrowCircleDown:'<circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line>',arrowCircleUp:'<circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line>',arrowLeft:'<line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline>',arrowRight:'<line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline>',arrowDown:'<line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline>',download:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>',helpCircle:'<circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>',refresh:'<polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>',circle:'<circle cx="12" cy="12" r="10"></circle>',report:'<path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line>',history:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>',trash:'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>',drag:'<line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>',share:'<circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>',comment:'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',save:'<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>',edit:'<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>',mute:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>',unmute:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>',success:'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>',filter:'<line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line>',attach:'<path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>',lightbulb:'<path d="M8 20.56l.03.937c0 .86.995 1.004 1.984 1.004h2.304c1 0 1.68-.328 1.68-1.187V20.5m-5.89-1c0-1.58-.556-2.654-1.573-3.802a6.3 6.3 0 0 1-1.482-4.93C5.42 8.04 7.75 5.5 10.976 5.5c3.286 0 6.02 2.727 6.024 6.13 0 1.534-.556 3.017-1.62 4.165-.974 1.05-1.482 2.08-1.482 3.705" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/><path d="M8 20.052h6" stroke-width="2"/><path d="M21.38 13.845H20m-17.62 0H1m2.76-7.207l-.975-.975m16.835.285l-.975.975M11 1.5v1.38" stroke-width="2" stroke-linecap="round"/>',archive:'<polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line>',textFormat:"",picture:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>',video:'<polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>',hideKeyboard:"",link:'<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>',brightnessUp:"",brightnessDown:"",reply:"",embed:"",camera:"",lock:"",unlock:"",timeout:"",readingList:"",underline:"",bold:"",italic:"",textAlignRight:"",textAlignCenter:"",textAlignLeft:"",commentMeta:'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',views:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>',votes:'<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>',parts:'<line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3" y2="6"></line><line x1="3" y1="12" x2="3" y2="12"></line><line x1="3" y1="18" x2="3" y2="18"></line>',notifDedicate:'<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>',notifStoryUpdate:'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',notifFeedMessage:"",warning:'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"warning-triangle":'<g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Ic-/-14px-/-Alert" transform="translate(0.000000, 0.000000)" fill="#FFC922">\n      <path d="M11.875,5 C12.4019232,5 12.8906036,5.28229723 13.1638807,5.744551 L13.1638807,5.744551 L19.5479857,16.6799097 C19.8158305,17.1558373 19.8174297,17.7418513 19.5521866,18.2193104 C19.2869436,18.6967695 18.7946975,18.9939599 18.259105,19 L18.259105,19 L5.490895,19 C4.95530252,18.9939599 4.46305644,18.6967695 4.19781339,18.2193104 C3.93257035,17.7418513 3.93416953,17.1558373 4.2020143,16.6799097 L4.2020143,16.6799097 L10.5861193,5.744551 C10.8593964,5.28229723 11.3480768,5 11.875,5 Z M11.65625,15.5 C11.2938131,15.5 11,15.7938131 11,16.15625 L11,16.15625 L11,16.4397278 C11,16.8021647 11.2938131,17.0959778 11.65625,17.0959778 C12.0186869,17.0959778 12.3125,16.8021647 12.3125,16.4397278 L12.3125,16.4397278 L12.3125,16.15625 C12.3125,15.7938131 12.0186869,15.5 11.65625,15.5 Z M11.65625,9.375 C11.2938131,9.375 11,9.66881313 11,10.03125 L11,10.03125 L11,13.53125 C11,13.8936869 11.2938131,14.1875 11.65625,14.1875 C12.0186869,14.1875 12.3125,13.8936869 12.3125,13.53125 L12.3125,13.53125 L12.3125,10.03125 C12.3125,9.66881313 12.0186869,9.375 11.65625,9.375 Z" id="Combined-Shape"></path>\n  </g>\n</g>',triangle:'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>',info:"",copyright:"",publicDomain:"",creativeCommons:"",location:"",stats:"",check:'<path fill-rule="evenodd" clip-rule="evenodd" d="M20.7071 5.29289C21.0976 5.68342 21.0976 6.31658 20.7071 6.70711L9.70711 17.7071C9.31658 18.0976 8.68342 18.0976 8.29289 17.7071L3.29289 12.7071C2.90237 12.3166 2.90237 11.6834 3.29289 11.2929C3.68342 10.9024 4.31658 10.9024 4.70711 11.2929L9 15.5858L19.2929 5.29289C19.6834 4.90237 20.3166 4.90237 20.7071 5.29289Z" fill="#00854E"/>',staff:' <g id="Staff---Wireframes" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Artboard" transform="translate(-1147.000000, -227.000000)">\n      <g id="ic_badge_verified" transform="translate(1147.000000, 227.000000)">\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Path" fill="#FFFFFF"></path>\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Verified-Account" fill="#FF6122"></path>\n      </g>\n      <path d="M1154.11212,241.7 C1155.77292,241.7 1156.00632,239.785105 1157.14045,238.07578 C1157.09856,238.686857 1157.13746,239.227533 1157.26314,239.599248 C1157.75689,241.066395 1159.45659,241.179036 1160.22864,239.689361 C1161.31788,237.588608 1161.62909,237.092989 1162.72731,235.580785 C1163.45148,234.581097 1162.61061,233.936228 1161.63807,234.400872 C1161.13834,234.640234 1160.32739,235.234414 1159.31595,236.498808 C1159.4925,235.538545 1159.44462,233.910884 1157.97235,234.003813 C1157.19432,234.051685 1156.18587,234.879595 1154.80935,237.00006 C1154.92307,235.808883 1154.96795,234.964076 1154.41735,234.521961 C1154.0403,234.21783 1153.15155,234.102373 1152.6189,234.752874 C1152.08325,235.409008 1151.95757,236.687481 1152.01144,238.03354 C1152.11617,240.852377 1153.17549,241.7 1154.11212,241.7 Z" id="Logo-path" fill="#FFFFFF"></path>\n  </g>\n</g>',ambassador:'<g id="Amb-badge" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Badges" transform="translate(-35.000000, -206.000000)">\n      <g id="ic_badge_verified" transform="translate(35.000000, 206.000000)">\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Path" fill="#FFFFFF"></path>\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Verified-Account" fill="#FF6122"></path>\n          <g id="Group-3" transform="translate(5.000000, 6.000000)" fill="#FFFFFF">\n              <path d="M9.78065737,1.78094955 C9.35444338,0.694861133 8.31740847,-0.012577196 7.16968296,0.000169440589 C6.33637761,0.00279374812 5.5446272,0.373570912 5,1.01615136 C4.45500506,0.373570912 3.66362239,0.00279374812 2.83031704,0.000169440589 C1.68295927,-0.012577196 0.645924361,0.694861133 0.219342627,1.78094955 C-0.225626252,2.85466623 0.0192905027,4.09671349 0.837150656,4.91137353 L4.73890256,8.88907394 C4.88195454,9.03641006 5.11473578,9.03678496 5.25889098,8.89132335 L5.26109744,8.88907394 L9.16284934,4.91137353 C9.9807095,4.09671349 10.2256263,2.85466623 9.78065737,1.78094955" id="Fill-1"></path>\n          </g>\n      </g>\n  </g>\n</g>',verified:'<g id="Verifier---Wireframes" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Artboard" transform="translate(-1147.000000, -299.000000)">\n      <path d="M1165.419,305.513 L1164.774,303.142 C1164.521,302.209 1163.792,301.48 1162.859,301.226 L1160.487,300.581 L1158.355,299.36 C1157.935,299.12 1157.467,299 1157,299 C1156.533,299 1156.065,299.12 1155.646,299.36 L1153.513,300.581 L1151.141,301.226 C1150.208,301.48 1149.48,302.208 1149.226,303.141 L1148.581,305.513 L1147.36,307.646 C1146.88,308.485 1146.88,309.515 1147.36,310.355 L1148.581,312.487 L1149.226,314.86 C1149.48,315.792 1150.209,316.521 1151.142,316.774 L1153.513,317.419 L1155.645,318.64 C1156.065,318.88 1156.533,319 1157,319 C1157.467,319 1157.935,318.88 1158.355,318.64 L1160.487,317.419 L1162.859,316.774 C1163.792,316.521 1164.521,315.792 1164.774,314.859 L1165.419,312.487 L1166.64,310.355 C1167.12,309.515 1167.12,308.485 1166.64,307.645 L1165.419,305.513 Z" id="Path" fill="#FFFFFF"></path>\n      <path d="M1166.64,307.645 L1165.419,305.513 L1164.774,303.142 C1164.521,302.209 1163.792,301.48 1162.859,301.226 L1160.487,300.581 L1158.355,299.36 C1157.935,299.12 1157.467,299 1157,299 C1156.533,299 1156.065,299.12 1155.646,299.36 L1153.513,300.581 L1151.141,301.226 C1150.208,301.48 1149.48,302.208 1149.226,303.141 L1148.581,305.513 L1147.36,307.646 C1146.88,308.485 1146.88,309.515 1147.36,310.355 L1148.581,312.487 L1149.226,314.86 C1149.48,315.792 1150.209,316.521 1151.142,316.774 L1153.513,317.419 L1155.645,318.64 C1156.065,318.88 1156.533,319 1157,319 C1157.467,319 1157.935,318.88 1158.355,318.64 L1160.487,317.419 L1162.859,316.774 C1163.792,316.521 1164.521,315.792 1164.774,314.859 L1165.419,312.487 L1166.64,310.355 C1167.12,309.515 1167.12,308.485 1166.64,307.645 L1166.64,307.645 Z" id="Verified-Account" fill="#FF6122"></path>\n      <path d="M1156.36061,312.705984 C1156.00858,313.098005 1155.43225,313.098005 1155.08022,312.705984 L1152.26402,309.569809 C1151.91199,309.177788 1151.91199,308.536863 1152.26402,308.144841 C1152.61604,307.75282 1153.19238,307.75282 1153.5444,308.144841 L1155.72042,310.568087 L1160.4564,305.294016 C1160.80842,304.901995 1161.38396,304.901995 1161.73598,305.294016 C1162.08801,305.686038 1162.08801,306.326963 1161.73598,306.718984 L1156.36061,312.705984 Z" id="Path" fill="#FFFFFF"></path>\n  </g>\n</g>',star:'<g id="Stars---Wireframes" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Artboard" transform="translate(-1147.000000, -336.000000)">\n      <path d="M1166.64,344.645 L1165.419,342.513 L1164.774,340.142 C1164.521,339.209 1163.792,338.48 1162.859,338.226 L1160.487,337.581 L1158.355,336.36 C1157.935,336.12 1157.467,336 1157,336 C1156.533,336 1156.065,336.12 1155.646,336.36 L1153.513,337.581 L1151.141,338.226 C1150.208,338.48 1149.48,339.208 1149.226,340.141 L1148.581,342.513 L1147.36,344.646 C1146.88,345.485 1146.88,346.515 1147.36,347.355 L1148.581,349.487 L1149.226,351.86 C1149.48,352.792 1150.209,353.521 1151.142,353.774 L1153.513,354.419 L1155.645,355.64 C1156.065,355.88 1156.533,356 1157,356 C1157.467,356 1157.935,355.88 1158.355,355.64 L1160.487,354.419 L1162.859,353.774 C1163.792,353.521 1164.521,352.792 1164.774,351.859 L1165.419,349.487 L1166.64,347.355 C1167.12,346.515 1167.12,345.485 1166.64,344.645 L1166.64,344.645 Z" id="Path" fill="#FF6122"></path>\n      <path d="M1158.545,344.292 L1157.42218,341.899553 C1157.18902,341.402744 1156.81055,341.403664 1156.57782,341.899553 L1155.455,344.292 L1152.98082,344.669751 C1152.43913,344.752455 1152.30655,345.133713 1152.69639,345.533299 L1154.5,347.382 L1154.07122,350.011366 C1153.98218,350.557373 1154.30135,350.783681 1154.7872,350.515124 L1157,349.292 L1159.2128,350.515124 C1159.69726,350.782914 1160.01765,350.556362 1159.92878,350.011366 L1159.5,347.382 L1161.30361,345.533299 C1161.68822,345.139079 1161.54832,344.750539 1161.01918,344.669751 L1158.545,344.292 Z" id="Path" fill="#FFFFFF"></path>\n  </g>\n</g>',sponsored:"",storyrank:"",promoted:'<g fill="none" fill-rule="evenodd">\n  <path fill="#FF6122" fill-rule="nonzero" d="M14.73 6.484l-.916-1.6-.483-1.778a2.044 2.044 0 0 0-1.437-1.436l-1.779-.484L8.516.27a2.048 2.048 0 0 0-2.032 0l-1.6.916-1.778.484c-.7.19-1.246.736-1.436 1.436l-.484 1.779-.916 1.6c-.36.629-.36 1.401 0 2.031l.916 1.6.484 1.779c.19.699.737 1.246 1.437 1.436l1.778.483 1.599.916a2.048 2.048 0 0 0 2.032 0l1.6-.916 1.778-.483c.7-.19 1.247-.737 1.437-1.437l.483-1.779.916-1.599c.36-.63.36-1.402 0-2.032z"/>\n  <g stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">\n      <path d="M7.5 10.5V5.25M4.875 7.875L7.5 5.25l2.625 2.625"/>\n  </g>\n</g>',zap:'<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>',twitter:"",facebook:"","facebook-login":"",pinterest:"",tumblr:"",googlePlus:"",email:"",preferences:'<g fill="none" fill-rule="nonzero" stroke="#222" stroke-linecap="round" stroke-width="2" transform="translate(1 1)">\n  <path d="M0 2h17M0 8.5h17M0 15.5h17"/>\n  <circle cx="8" cy="2" r="2" fill="#222"/>\n  <circle cx="15" cy="9" r="2" fill="#222"/>\n  <circle cx="8" cy="16" r="2" fill="#222"/>\n</g>'}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return i});var r=n(76),a=n(283),o=n(303);function i(e){return Object(r.e)(o.a,e,Object(r.d)(Object(r.a)(a.a),s.__REDUX_DEVTOOLS_EXTENSION__?s.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}))}var s=s||e}).call(this,n(34))},,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(7),l=n(5),c=n(48);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(e,t){var n,o;return o=n=function(n){function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),m(this,p(o).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,r.Component),function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(o,[{key:"render",value:function(){var n,r,o,i;if(Object(l.h)()){var u=wattpad.utils.currentUser();n=wattpad.utils.trans,r=wattpad.utils.ngettext,o=u?u.attributes:{},i=wattpad.testGroups}else n=this.props.resLocals.trans,r=this.props.resLocals.ngettext,o=this.props.resLocals.currentUser||{},i=this.props.resLocals.testGroups;return a.a.createElement(s.a,{store:t},a.a.createElement(c.c.Provider,{value:o},a.a.createElement(c.b.Provider,{value:{trans:n,ngettext:r}},a.a.createElement(c.a.Provider,{value:i},a.a.createElement(e,this.props)))))}}]),o}(),g(n,"displayName","".concat(function(e){return e.displayName||e.name||"Component"}(e),"WithRedux")),g(n,"propTypes",{resLocals:i.a.shape({trans:i.a.func,ngettext:i.a.func,currentUser:i.a.object,testGroups:i.a.object})}),o}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),a=n.n(r),o=n(137);function i(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(o.a,null))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(71),l=n(5);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,m(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,a.a.Component),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"render",value:function(){var e=this.props.trans;return a.a.createElement("div",{className:"announcement-modal"},a.a.createElement(s.a,{name:"shared/megaphone_teal.png"}),a.a.createElement("header",null,e("Announce an Important Post")),a.a.createElement("div",null,e("By using this feature, this message will be sent to all your followers’ notification feeds instead of their newsfeeds. Please note that you can only post up to %s announcements per day - save these for special occasions!",3)),a.a.createElement("div",{className:"buttons"},a.a.createElement("a",{href:"https://support.wattpad.com/hc/en-us/articles/360018874812-Broadcast-Notifications-to-Annoucements",target:"_blank",rel:"noopener noreferrer",className:"btn btn-orange"},e("Learn more")),a.a.createElement("button",{className:"btn btn-orange","data-dismiss":"modal"},e("Got it"))))}}]),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(f,"propTypes",{trans:i.a.func.isRequired}),t.a=Object(l.g)(f)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(12);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,d(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,a.a.Component),function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(t,[{key:"render",value:function(){var e=this.props.headerName,t=this.props.options;return a.a.createElement("div",{className:"menu-modal"},a.a.createElement("div",{className:"header"},e,a.a.createElement("span",{"data-dismiss":"modal"},a.a.createElement(s.a,{iconName:"fa-remove",height:"14",color:"wp-neutral-2"}))),a.a.createElement("ul",{className:"menu-items"},t.map(function(t){var n=wattpad.utils.categoryNameToUrl(t.key);return a.a.createElement("li",{key:t.key},t.url?"Browse"===e?a.a.createElement("a",{href:n,className:"on-navigate on-topic"},t.name):a.a.createElement("a",{href:n,className:"on-navigate"},t.name):a.a.createElement("span",{className:"selected"},t.name))})))}}]),t}();p.propTypes={headerName:i.a.string.isRequired,options:i.a.array.isRequired}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(12),l=n(5);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,m(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,a.a.Component),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"onPasswordToggle",value:function(e){this.props.onPasswordToggle(e)}},{key:"hideModal",value:function(){this.props.hideModal()}},{key:"handleSubmit",value:function(e){var t;switch(e.preventDefault(),this.props.type){case"username":t="updateusername";break;case"password":t="updateuserpassword";break;case"email":t="updateuseremail"}this.props.onFormSubmit(t)}},{key:"renderUsernameForm",value:function(){var e=this.props.trans;return a.a.createElement("div",null,a.a.createElement("p",null,e("Your username is important, here are a few things you need to know before you change it:")),a.a.createElement("ol",null,a.a.createElement("li",null,e("It takes up to 24 hours for all changes to take effect. Your profile and stories may be inaccessible during this time.")),a.a.createElement("li",null,e("Your user profile and widget links will change and the old ones will no longer work.")),a.a.createElement("li",null,e("You will need to re-login using your new username."))),a.a.createElement("form",{className:"on-form-submit",onSubmit:this.handleSubmit.bind(this)},a.a.createElement("input",{type:"hidden",name:"id",value:this.props.userId}),a.a.createElement("div",{className:"input-group-vertical"},a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{className:"control-label",htmlFor:"username"},e("New Username")),a.a.createElement("input",{id:"username",className:"form-control input-lg enable",name:"username",type:"text",defaultValue:""})),a.a.createElement("div",{className:"form-group has-feedback"},a.a.createElement("label",{className:"control-label",htmlFor:"password"},e("Confirm Password")),a.a.createElement("input",{id:"password",className:"form-control input-lg enable",name:"password",type:"password",defaultValue:""}),a.a.createElement("span",{onClick:this.onPasswordToggle.bind(this),onKeyDown:this.onPasswordToggle.bind(this),role:"button",tabIndex:"-1"},a.a.createElement(s.a,{iconName:"fa-view",height:"24",color:"wp-neutral-2",className:"form-control-feedback interact"})))),a.a.createElement("a",{className:"forgot-password",href:"/forgot?nextUrl=settings"},e("Forgot your password?")),a.a.createElement("input",{type:"submit",className:"btn btn-lg btn-orange btn-block enable",defaultValue:e("Save")})))}},{key:"renderEmailForm",value:function(){var e=this.props.trans;return a.a.createElement("div",null,a.a.createElement("p",null,e("You will need to verify your account again after changing your email address. Please make sure it is correct.")),a.a.createElement("form",{className:"on-form-submit",onSubmit:this.handleSubmit.bind(this)},a.a.createElement("input",{type:"hidden",name:"id",value:this.props.userId}),a.a.createElement("div",{className:"input-group-vertical"},a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{className:"control-label",htmlFor:"new_email"},e("New Email")),a.a.createElement("input",{id:"new_email",className:"form-control input-lg enable",name:"email",type:"text",defaultValue:""})),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{className:"control-label",htmlFor:"confirm_email"},e("Confirm New Email")),a.a.createElement("input",{id:"confirm_email",className:"form-control input-lg enable",name:"confirm_email",type:"text",defaultValue:""})),a.a.createElement("div",{className:"form-group has-feedback"},a.a.createElement("label",{className:"control-label",htmlFor:"password"},e("Confirm Password")),a.a.createElement("input",{id:"password",className:"form-control input-lg enable",name:"password",type:"password",defaultValue:""}),a.a.createElement("span",{onClick:this.onPasswordToggle.bind(this),onKeyDown:this.onPasswordToggle.bind(this),role:"button",tabIndex:"-1"},a.a.createElement(s.a,{iconName:"fa-view",height:"24",color:"wp-neutral-2",className:"form-control-feedback interact"})))),a.a.createElement("a",{className:"forgot-password",href:"/forgot?nextUrl=settings"},e("Forgot your password?")),a.a.createElement("input",{type:"submit",className:"btn btn-lg btn-orange btn-block enable",defaultValue:e("Save")})))}},{key:"renderPasswordForm",value:function(){var e=this.props.trans;return a.a.createElement("form",{className:"on-form-submit",onSubmit:this.handleSubmit.bind(this)},a.a.createElement("input",{type:"hidden",name:"id",value:this.props.userId}),a.a.createElement("div",{className:"input-group-vertical"},a.a.createElement("div",{className:"form-group has-feedback"},a.a.createElement("label",{className:"control-label",htmlFor:"old_password"},e("Current Password")),a.a.createElement("input",{id:"old_password",className:"form-control input-lg enable",name:"old_password",type:"password",defaultValue:""}),a.a.createElement("span",{onClick:this.onPasswordToggle.bind(this),onKeyDown:this.onPasswordToggle.bind(this),role:"button",tabIndex:"-1"},a.a.createElement(s.a,{iconName:"fa-view",height:"24",color:"wp-neutral-2",className:"form-control-feedback interact"}))),a.a.createElement("div",{className:"form-group has-feedback"},a.a.createElement("label",{className:"control-label",htmlFor:"new_password"},e("New Password")),a.a.createElement("input",{id:"new_password",className:"form-control input-lg enable",name:"new_password",type:"password",defaultValue:""}),a.a.createElement("span",{onClick:this.onPasswordToggle.bind(this),onKeyDown:this.onPasswordToggle.bind(this),role:"button",tabIndex:"-1"},a.a.createElement(s.a,{iconName:"fa-view",height:"24",color:"wp-neutral-2",className:"form-control-feedback interact"}))),a.a.createElement("div",{className:"form-group has-feedback"},a.a.createElement("label",{className:"control-label",htmlFor:"confirm_password"},e("Confirm Password")),a.a.createElement("input",{id:"confirm_password",className:"form-control input-lg enable",name:"confirm_password",type:"password",defaultValue:""}),a.a.createElement("span",{onClick:this.onPasswordToggle.bind(this),onKeyDown:this.onPasswordToggle.bind(this),role:"button",tabIndex:"-1"},a.a.createElement(s.a,{iconName:"fa-view",height:"24",color:"wp-neutral-2",className:"form-control-feedback interact"})))),a.a.createElement("a",{className:"forgot-password",href:"/forgot?nextUrl=settings"},e("Forgot your password?")),a.a.createElement("input",{type:"submit",className:"btn btn-lg btn-orange btn-block enable",defaultValue:e("Save")}))}},{key:"render",value:function(){var e,t=this.props,n=t.type,r=t.title;switch(n){case"username":e=this.renderUsernameForm();break;case"password":e=this.renderPasswordForm();break;case"email":e=this.renderEmailForm()}return a.a.createElement("div",{id:"user-settings-modal"},a.a.createElement("span",{className:"close on-close",onClick:this.hideModal.bind(this),onKeyDown:this.hideModal.bind(this),role:"button",tabIndex:"-1"},a.a.createElement(s.a,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"})),a.a.createElement("header",{className:"panel-heading"},a.a.createElement("h3",null,r)),a.a.createElement("div",{className:"panel-body"},a.a.createElement("div",{className:"body-text"},e)))}}]),t}();f.propTypes={trans:i.a.func.isRequired,onPasswordToggle:i.a.func.isRequired,onFormSubmit:i.a.func.isRequired,hideModal:i.a.func.isRequired,type:i.a.string.isRequired,userId:i.a.number.isRequired,title:i.a.string.isRequired},t.a=Object(l.g)(f)},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(5),l=n(2),c=n(140);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,p(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,o["Component"]),function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(t,[{key:"render",value:function(){var e,t=this.props,n=t.title,r=t.user,a=t.url,o=t.readCount,u=t.numParts,d=t.voteCount,m=t.cover,p=t.description,f=t.mature,g=t.completed,y=t.tags,h=t.rank,b=t.id,v=t.app,w=t.trans,E={tags:y,storyId:b,numShown:"desktop"===v.deviceType?3:2},O=Object(s.o)(n,35,!1),S=r.fullname||r.name,k=w("by %s",Object(s.o)(S,30,!1)),N=Object(s.b)(a),_="/user/"+r.name,j=Object(s.a)(o).toString(),C=Object(s.a)(u).toString(),P=Object(s.a)(d).toString(),T=Object(s.m)(p);"desktop"===v.deviceType?(e=Object(s.l)(m,142,v.devicePixelRatio,v.matchMedia,v.msMatchMedia),T=Object(s.o)(T,170,!1)):(e=Object(s.l)(m,92,v.devicePixelRatio,v.matchMedia,v.msMatchMedia),T=Object(s.o)(T,170,!1));var R,x=w("%1$s by %2$s",n,r.name),L={__html:T},I=i.a.createElement("div",{className:"description",dangerouslySetInnerHTML:L}),q=i.a.createElement("img",{src:e,alt:x});return h&&(R=i.a.createElement("div",{className:"story-rank"},i.a.createElement("span",null,"#",h))),i.a.createElement("div",{className:"item"},i.a.createElement("a",{className:"on-story-preview cover cover-lg","data-story-id":b,href:N},i.a.createElement("div",{className:"fixed-ratio fixed-ratio-cover"},q,R)),i.a.createElement("div",{className:"content"},i.a.createElement("a",{className:"title meta on-story-preview","data-story-id":b,href:N},O),i.a.createElement("a",{className:"username meta on-navigate",href:_},k),i.a.createElement("div",{className:"meta social-meta"},i.a.createElement("span",{className:"read-count"},i.a.createElement(l.e,{iconName:"fa-view",height:"12",color:"wp-neutral-2"}),j),i.a.createElement("span",{className:"vote-count"},i.a.createElement(l.e,{iconName:"fa-vote",height:"12",color:"wp-neutral-2"}),P),i.a.createElement("span",{className:"part-count"},i.a.createElement(l.e,{iconName:"fa-list",height:"12",color:"wp-neutral-2"}),C)),I,i.a.createElement("div",{className:"bottom-content clearfix"},i.a.createElement("div",{className:"story-status"},g?i.a.createElement("span",{className:"label label-info"},w("Completed")):null,f?i.a.createElement("span",{className:"label label-danger"},w("Mature")):null),i.a.createElement(c.a,{tagMeta:E}))))}}]),t}();g.propTypes={completed:a.a.bool,cover:a.a.string,description:a.a.string.isRequired,id:a.a.string.isRequired,mature:a.a.bool,numParts:a.a.number.isRequired,rank:a.a.number,readCount:a.a.number.isRequired,trans:a.a.func.isRequired,tags:a.a.arrayOf(a.a.string).isRequired,title:a.a.string.isRequired,url:a.a.string.isRequired,user:a.a.shape({avatar:a.a.string,fullname:a.a.string,name:a.a.string}),voteCount:a.a.number.isRequired,app:a.a.object},t.a=Object(s.g)(g)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),a=n.n(r),o=n(3),i=n.n(o),s=n(1),l=n.n(s),c=n(75),u=n(5),d=n(4),m=n(2);function p(e){var t=e.promoted,n=e.url,o=e.id,s=e.cover,l=e.title,p=e.user,f=e.categories,g=e.readCount,y=e.voteCount,h=e.commentCount,b=e.description,v=e.sponsorName,w=e.clickUrl,E=e.impressionUrl,O=e.isPaywalled,S=e.descCharLimit,k=void 0===S?170:S,N=Object(d.g)().trans;return a.a.createElement("a",{className:i()("clearfix on-story-preview",{promoted:t}),href:Object(u.b)(n),"data-story-id":o,"data-impression-url":E,"data-click-url":w,"data-author-name":p.name},a.a.createElement("div",{className:"send-story-cover-event cover cover-sm","data-story-id":o},a.a.createElement("img",{src:Object(u.l)(s,72),alt:N("%1$s by %2$s",l,p.name)})),a.a.createElement("div",{className:"left-container"},O&&a.a.createElement("div",{className:"paid-indicator"},a.a.createElement(m.c,{name:"paid-content/supported-stories-badge.svg",title:"Paid Stories Badge",height:"18px",width:"18px"}),a.a.createElement("span",null,"Paid Story")),a.a.createElement("div",{className:"title"},Object(u.o)(l,45,!1)),t?a.a.createElement("small",{className:"promoted left-icon"},a.a.createElement(m.e,{iconName:"fa-badge-promoted",height:"13",color:"wp-neutral-1"}),a.a.createElement("span",{dangerouslySetInnerHTML:{__html:N("Promoted by %s",Object(c.sprintf)("<b>%s</b>",v))}})):a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:"meta"},a.a.createElement("span",{className:"reads small left-icon"},a.a.createElement(m.e,{iconName:"fa-view",height:"12",color:"wp-neutral-2"}),Object(u.a)(g)),a.a.createElement("span",{className:"votes small left-icon"},a.a.createElement(m.e,{name:"votes",size:"12",color:"wp-neutral-2",fill:!0}),Object(u.a)(y)),h&&a.a.createElement("span",{className:"comments small left-icon"},a.a.createElement(m.e,{name:"commentMeta",size:"14",color:"wp-neutral-2",fill:!0}),Object(u.a)(h))),a.a.createElement("div",{className:"categories"},f&&f.map(function(e){return a.a.createElement("button",{key:e,className:"btn btn-link btn-xxs btn-category"},a.a.createElement("span",null,e))}))),b&&a.a.createElement("pre",{className:"small story-item-description"},Object(u.o)(b,k,!0,{sanitization:"unsanitize"}))))}p.propTypes={promoted:l.a.bool,url:l.a.string,id:l.a.any,cover:l.a.string,title:l.a.string,user:l.a.object,categories:l.a.array,readCount:l.a.any,voteCount:l.a.any,commentCount:l.a.any,description:l.a.string,sponsorName:l.a.string,clickUrl:l.a.string,impressionUrl:l.a.string,isPaywalled:l.a.bool,descCharLimit:l.a.any}},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(27),l=n(24),c=n(73);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,f(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,a.a.Component),function(e,t,n){t&&m(e.prototype,t),n&&m(e,n)}(t,[{key:"tagClickHandler",value:function(e){window.wattpad.utils.stopEvent(e),window.app.trigger("app:component:TagCarouselItem:click",e.currentTarget.textContent,e)}},{key:"render",value:function(){var e=this,t=this.props.relatedTags.tags,n=this.props.relatedTags.withIcon||!1;return t&&t.length>0?a.a.createElement("div",{className:"tag-carousel"},a.a.createElement("div",{className:"tag-items"},t.map(function(t,r){return n?a.a.createElement(c.a,d({key:t.id},t,{clickHandler:e.tagClickHandler})):a.a.createElement(l.a,d({key:t.id,bgColor:e.getNextTagColor(r,"bg"),color:e.getNextTagColor(r)},t,{clickHandler:e.tagClickHandler}))}))):null}},{key:"getNextTagColor",value:function(e,t){var n=e%s.g;return"bg"===t?s.f[n]:s.h[n]}}]),t}();y.propTypes={relatedTags:i.a.object.isRequired}},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(5);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,d(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,i.a.Component),function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(t,[{key:"render",value:function(){var e=this.props.promoName,t=this.props.promoOptions,n=t.flavourText,r=t.button,a=this.props.trans;return i.a.createElement("div",{className:"banner-background",id:"".concat(e,"-banner")},i.a.createElement("div",{className:"banner-info"},n?i.a.createElement("div",{className:"flavour-text"},a(n)):null,r?i.a.createElement("a",{href:r.link,className:"btn btn-orange banner-btn"},a(r.text)):null))}}]),t}();p.propTypes={promoName:a.a.string.isRequired,promoOptions:a.a.object.isRequired,trans:a.a.func.isRequired},t.a=Object(s.g)(p)},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return m});var r=n(0),a=n.n(r),o=n(4),i=n(1),s=n.n(i),l=n(5);function c(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d=d||e;function m(e){var t=e.createCanvaCover,n=e.canvaApiKey,i=e.story,s=Object(o.g)().trans,m=u(Object(r.useState)(null),2),p=m[0],f=m[1];Object(o.c)("myworks:cover:saved",function(e){f(e.detail)},d),Object(r.useEffect)(function(){var e,t,n="canva-script";document.getElementById(n)||((t=document.createElement("script")).id=n,e=document.getElementsByTagName("script")[0],t.src="https://sdk.canva.com/v2/beta/api.js",e.parentNode.insertBefore(t,e))},[]);var g=function(){var e=null;return i.id&&(p?"canva"===p.cover_partner&&p.cover_source_id&&(e=p.cover_source_id):e="canva"===i.cover_partner&&i.cover_source_id?i.cover_source_id:Object(l.f)({key:"canva-cover-".concat(i.id)})),e};function y(e){t(e)}function h(){return(h=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,s,"next",e)}function s(e){c(o,r,a,i,s,"throw",e)}i(void 0)})}}(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d.CanvaButton){e.next=2;break}return e.abrupt("return");case 2:if(d.canvaApi){e.next=6;break}return e.next=5,d.CanvaButton.initialize({apiKey:n});case 5:d.canvaApi=e.sent;case 6:d.canvaApi.createDesign({type:"WattpadBookCover",publishLabel:s("Use Cover"),onDesignPublish:y}),(t=g())&&d.canvaApi.editDesign({designId:t,publishLabel:s("Update Cover"),onDesignPublish:y});case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}return a.a.createElement("button",{className:"canva-btn canva-btn-size-s",onClick:function(){return h.apply(this,arguments)}},a.a.createElement("span",{className:"canva-btn-i"}),g()?s("Edit Cover"):s("Create Cover"))}m.propTypes={createCanvaCover:s.a.func,canvaApiKey:s.a.string.isRequired,story:s.a.object}}).call(this,n(34))},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return v});var r=n(0),a=n.n(r),o=n(10),i=n.n(o),s=n(1),l=n.n(s),c=n(3),u=n.n(c),d=n(2),m=n(27);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(y(n=function(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?y(e):t}(this,g(t).call(this,e))),"getSelectedPremiumTheme",function(){var e=S?S.getCookie(m.e):n.props.reqCookies[m.e];return parseInt(e||m.b)}),b(y(n),"selectTheme",function(e){if(e!==n.state.selectedTheme){var t=n.isPremium();t?(S.setPremiumTheme(e),n.setState({selectedTheme:e})):e!==m.c&&n.props.showSubscriptionModal();var r=m.i[e];O.te.push("event","profile","theme",null,"change",{premium:+t,theme:r})}});var r=n.isPremium()?n.getSelectedPremiumTheme():m.c;return n.state={selectedTheme:r},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,a.a.Component),function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(t,[{key:"isPremium",value:function(){var e=this.props.premium;return void 0===e&&S&&(e=S.getCurrentUserAttr("premium")),e}},{key:"render",value:function(){var e=this,t=i.a.range(1,m.d+1);return a.a.createElement("div",null,t.map(function(t){return a.a.createElement("div",{key:t,className:"theme-option-wrapper"},a.a.createElement(w,{themeId:t,selected:t===e.state.selectedTheme,premium:e.isPremium(),selectTheme:e.selectTheme}))}))}}]),t}();b(v,"propTypes",{premium:l.a.bool.isRequired,reqCookies:l.a.object,showSubscriptionModal:l.a.func});var w=function(e){var t=e.themeId,n=e.selected,r=e.premium,o=e.selectTheme,i=r||t===m.c?"":"unavailable";return a.a.createElement("div",{className:u()("theme-option","theme-".concat(t),{selected:n})},a.a.createElement("div",{className:u()("theme-option-inner","theme-".concat(t),i),onClick:function(){return o(t)},onKeyDown:function(){return o(t)},role:"option",tabIndex:"0","aria-selected":n},a.a.createElement(E,{selected:n})))};w.propTypes={themeId:l.a.number.isRequired,selected:l.a.bool.isRequired,premium:l.a.bool.isRequired,selectTheme:l.a.func.isRequired};var E=function(e){var t=e.selected,n=a.a.createElement("div",null);return t&&(n=a.a.createElement(d.e,{iconName:"fa-check",height:"24",color:"wp-neutral-5"})),n};E.propTypes={selected:l.a.bool.isRequired};var O=O||e,S=i.a.get(O,"wattpad.utils")}).call(this,n(34))},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(7),l=n(96),c=n(103),u=n(2),d=n(8),m=n(56),p=n(72),f=n(4),g=function(e){var t=e.username,n=e.avatar,o=e.name,i=e.backgroundUrl,s=e.highlight_colour,d=e.numFollowers,m=e.numStoriesPublished,g=e.numLists,y=e.toggleModal,h=e.toggleToast,b=e.onUnmute,v=e.recentlyMuted,w=Object(f.g)().trans;Object(r.useEffect)(function(){return h({className:"mute",body:w("%s is muted. You can unmute them at any time from their profile.",t)}),function(){h()}},[v,w,t,h]);return a.a.createElement("div",{id:"muted-profile",className:"profile-layout"},a.a.createElement(l.a,{username:t,avatar:n,name:o,backgroundUrl:i,highlight_colour:s,numFollowers:d,numStoriesPublished:m,numLists:g,onUnmute:function(){var e={username:t,toggleModal:y,onUnmute:b},n=function(){return a.a.createElement(c.a,e)};n.displayName="UnmuteModal",y({type:"unmute",className:"mute-modal",hideClose:!0,component:n})}}),v&&a.a.createElement(p.a,null),a.a.createElement(u.n,null))};g.propTypes={username:i.a.string.isRequired,backgroundUrl:i.a.string,avatar:i.a.string,highlight_colour:i.a.string,numStoriesPublished:i.a.number,numLists:i.a.number,numFollowers:i.a.number,name:i.a.string,toggleModal:i.a.func,toggleToast:i.a.func,onUnmute:i.a.func,recentlyMuted:i.a.bool},t.a=Object(s.b)(null,{toggleModal:d.c,toggleToast:m.c})(g)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(7),i=n(1),s=n.n(i),l=n(2),c=n(8),u=n(147),d=function(e){var t=e.username,n=e.unmuteUser,r=e.toggleModal,o=e.isMuted;return a.a.createElement("div",null,a.a.createElement(l.i,null),a.a.createElement("div",{className:"triangle"}),a.a.createElement("div",{className:"dropdown-menu align-right"},a.a.createElement(l.m,{username:t,isLoading:!1,isBlockedByCurrentUser:o,onMuteUser:function(){var e={username:t,toggleModal:r},n=function(){return a.a.createElement(u.a,e)};n.displayName="MuteModal",r({type:"mute",className:"mute-modal",hideClose:!0,component:n})},onUnmuteUser:n,onReportUser:function(){}})),a.a.createElement(l.n,null))};d.propTypes={username:s.a.string.isRequired,toggleModal:s.a.func,isMuted:s.a.bool,mutedUsers:s.a.array,unmuteUser:s.a.func};var m=Object(o.b)(null,{toggleModal:c.c})(d);t.a=m},function(e,t,n){"use strict";var r=n(7),a=n(1),o=n.n(a),i=n(0),s=n.n(i),l=n(8),c=n(4),u=n(2),d=n(96);function m(e){var t=e.toggleModal;return Object(i.useEffect)(function(){return t({className:"user404",disableClose:!0,component:function(){return s.a.createElement(p,null)}}),function(){t()}},[t]),s.a.createElement("div",{id:"userError-404"},s.a.createElement(d.a,null),s.a.createElement(u.n,null))}function p(){var e=Object(c.g)().trans;return s.a.createElement("div",{className:"user-not-found"},s.a.createElement("h3",null,e("User not found")),s.a.createElement("p",null,e("This user no longer exists, or is only visible to a selected audience.")),s.a.createElement("div",{className:"modal-btns"},s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-block learn-more",href:"https://support.wattpad.com/hc/en-us/articles/360029365812"},e("Learn more")),s.a.createElement("button",{className:"btn btn-sm btn-block go-back",onClick:function(){window.history.back()}},s.a.createElement("span",null," ",e("Go back")," "))))}m.propTypes={toggleModal:o.a.func.isRequired};var f=Object(r.b)(null,{toggleModal:l.c})(m);t.a=f},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(4),i=n(2);t.a=function(){var e=Object(o.g)().trans;return a.a.createElement("div",{id:"story-404-wrapper"},a.a.createElement(i.c,{name:"errors/story-404.svg",className:"error-404-image"}),a.a.createElement("h3",null,e("This page got lost in a good story and never came back.")),a.a.createElement("p",null,e("We couldn’t find what you’re looking for. This page might have moved, no longer exists, or is only visible to a selected audience.")),a.a.createElement("div",{className:"buttons-404"},a.a.createElement("a",{className:"btn-primary on-navigate",href:"./home"},e("Go home"))))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(5),c=function(e){var t=e.group,n=e.authorMessage,r=e.onBuyCoins,o=e.trans,i=t.user,l=i.username,c=i.name,u=i.avatar;return a.a.createElement("div",{className:"story-paywall"},a.a.createElement("span",{"data-dismiss":"modal"},a.a.createElement(s.e,{iconName:"fa-remove",height:"20",color:"wp-neutral-2"})),a.a.createElement("h2",null,o("If you are enjoying this story, please consider helping fund my writing")),a.a.createElement("div",{className:"avatar"},a.a.createElement(s.a,{avatar:u,username:l})),a.a.createElement("a",{className:"on-navigate profile-link",href:"/user/".concat(l)},"@",l),a.a.createElement("div",{className:"blocked-message"},a.a.createElement("span",{className:"italic"},n),a.a.createElement("div",{className:"author-name"},c)),a.a.createElement("button",{onClick:r,className:"btn btn-orange unlock unlock-part"},o("Get Coins to support me")),a.a.createElement("div",{className:"more-details"},o("When you unlock stories with Coins you are directly supporting writers, so they can keep writing stories you love.")," ",a.a.createElement("a",{href:"https://www.wattpad.com/paidstories/",target:"_blank",rel:"noopener noreferrer"},o("Learn how your support is empowering writers"))))};c.propTypes={group:i.a.shape({user:i.a.shape({username:i.a.string.isRequired,avatar:i.a.string.isRequired,name:i.a.string.isRequired}).isRequired}).isRequired,authorMessage:i.a.string.isRequired,onBuyCoins:i.a.func.isRequired,trans:i.a.func.isRequired},t.a=Object(l.g)(c)},function(e,t,n){"use strict";var r=n(7),a=n(3),o=n.n(a),i=n(1),s=n.n(i),l=n(0),c=n.n(l),u=n(5),d=n(4),m=n(89);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(e){var t=p(Object(l.useState)(Object(u.h)()&&!parseInt(window.wattpad.utils.getCookie("seen-wallet-onboard"))),2),n=t[0],r=t[1];if(!n)return c.a.createElement(m.a,e);var a=e.isDesktop;return c.a.createElement("div",{className:o()("wallet-onboarding",{desktop:a})},c.a.createElement("div",{className:"wallet-overlay"}),c.a.createElement("div",{className:"wallet-bubble"},c.a.createElement(g,{onOnboardingFinish:function(){window.wattpad.utils.setCookie("seen-wallet-onboard",1),r(!1)}}),c.a.createElement(m.a,e)))}function g(e){var t=e.onOnboardingFinish,n=Object(d.g)().trans;return c.a.createElement("div",{className:"tooltip-content"},c.a.createElement("h6",null,n("Keep track of your Coin balance")),c.a.createElement("p",null,n("Visit the Coin Shop on the Wattpad mobile app to purchase Coins for Paid Stories")),c.a.createElement("button",{onClick:t,className:"btn ack-tooltip"},n("Got it")),c.a.createElement("div",{className:"arrow"}))}f.propTypes={isDesktop:s.a.bool.isRequired},g.propTypes={onOnboardingFinish:s.a.func.isRequired};var y=Object(r.b)(function(e){return{isDesktop:e.deviceData.isDesktop}})(f);t.a=y},function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n(7),a=n(46),o=n(3),i=n.n(o),s=n(1),l=n.n(s),c=n(0),u=n.n(c),d=n(2),m=n(5),p=n(13),f=n(8),g=n(4);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(e){var t=e.onOnboardingFinish,n=void 0===t?function(){}:t,r=e.toggleModal,o=e.premium,s=Object(g.g)().trans,l=Object(c.useRef)(null);function f(){l.current.onResize()}var h=y(Object(c.useState)(!1),2),w=h[0],E=h[1],O=function(){!function(){if(!Object(m.h)())throw new Error("Can only be run on client");window.wattpad.utils.setCookie("seen-paid-onboard",1)}(),r(),n()},S=Object(p.h)(s);return o||(S=S.filter(function(e){return!e.showToPremiumOnly})),u.a.createElement("div",{className:"onboarding-modal"},w&&u.a.createElement("button",{className:"btn-no-style",onClick:O},u.a.createElement(d.e,{iconName:"fa-remove",color:"wp-neutral-1",height:"22",className:"close-btn"})),u.a.createElement(a.a,{dragging:!0,slidesToShow:1,ref:l,afterSlide:function(e){e===S.length-1&&E(!0)},renderCenterLeftControls:null,renderCenterRightControls:null,renderBottomCenterControls:function(e){var t=e.nextSlide,n=e.goToSlide,r=e.currentSlide,a=e.previousSlide,o=r===e.slideCount-1,l=0===r,c=o?O:t,d=s(o?"Got it":"Next");return u.a.createElement("div",{className:"carousel-controls"},u.a.createElement(b,{slides:S,goToSlide:n,currentSlide:r}),u.a.createElement("button",{className:"btn btn-orange onboarding-nav nav-next",onClick:c},d),u.a.createElement("button",{className:i()("btn btn-no-background onboarding-nav nav-back",{invisible:l}),onClick:a},s("Back")))}},S.map(function(e){var t=e.title,n=e.content,r=e.imageUrl,a=e.learnMoreLink;return u.a.createElement(v,{key:t,onImageLoad:f,title:t,content:n,imageUrl:r,learnMoreLink:a})})))}function b(e){var t=e.slides,n=e.goToSlide,r=e.currentSlide;return u.a.createElement("div",{className:"paging-buttons"},t.map(function(e,t){var a=t===r?"wp-neutral-2":"wp-neutral-3";return u.a.createElement("button",{className:"btn btn-no-background",key:t,onClick:function(){return n(t)}},u.a.createElement(d.e,{iconName:"fa-circle-filled",height:"10",color:a}))}))}h.propTypes={onOnboardingFinish:l.a.func,toggleModal:l.a.func.isRequired,premium:l.a.bool.isRequired},b.propTypes={slides:l.a.array.isRequired,goToSlide:l.a.func.isRequired,currentSlide:l.a.number.isRequired};var v=function(e){var t=e.title,n=e.content,r=e.imageUrl,a=e.onImageLoad,o=e.learnMoreLink,i=Object(g.g)().trans;return u.a.createElement("div",{className:"slide"},u.a.createElement("div",{className:"slide-pane slide-image"},u.a.createElement(d.c,{width:"150",onLoad:a,name:r})),u.a.createElement("div",{className:"slide-pane slide-copy"},u.a.createElement("h4",null,t),u.a.createElement("span",null,n),o&&u.a.createElement(u.a.Fragment,null,". ",u.a.createElement("a",{className:"learn-more",href:o,target:"_blank",rel:"noopener noreferrer"},i("Learn more")))))};v.propTypes={title:l.a.string.isRequired,content:l.a.string.isRequired,imageUrl:l.a.string.isRequired,learnMoreLink:l.a.string,onImageLoad:l.a.func};var w={toggleModal:f.c},E=Object(r.b)(null,w)(h),O=function(e){window.store.dispatch(Object(f.c)({component:function(){return u.a.createElement(E,e)},disableClose:!0}))}},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n.n(s),c=n(2),u=n(8),d=n(4),m=function(e){var t=e.isDesktop,n=e.appLink,o=e.trackCoinsEvents,i=e.thankForInterest,s=void 0!==i&&i;Object(r.useEffect)(function(){return o(null,"view"),function(){o(null,"dismiss")}},[o]);var l=Object(d.g)().trans;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"coins-cta background"},a.a.createElement("h3",null,l(s?"Thank you for your interest! You can purchase Coins on the app.":"Unlock Paid Stories with Coins")),a.a.createElement("p",null,l("Once you purchase Coins, you can unlock stories, and support writers, anywhere you use Wattpad - both on the app and on web!"))),a.a.createElement("div",{className:"how-to-buy"},t?a.a.createElement(f,{trans:l,learnMoreLink:"https://www.wattpad.com/paidstories/"}):a.a.createElement(p,{trans:l,appLink:n,onApplinkClick:function(){return o("purchase_cta","click")}})))};m.propTypes={isDesktop:i.a.bool.isRequired,appLink:i.a.string,trackCoinsEvents:i.a.func.isRequired,thankForInterest:i.a.bool};var p=function(e){var t=e.appLink,n=e.trans,r=e.onApplinkClick;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(g,{num:1},n("Open the Wattpad app on your mobile device and tap on the profile icon to go to your personal profile.")),a.a.createElement(g,{num:2},n("Tap on the plus icon beside your Coin wallet to view the Coin Shop.")),a.a.createElement(g,{num:3},n("Choose and purchase a Coin bundle to unlock your favorite stories."))),a.a.createElement("a",{href:t,onClick:r,className:"btn btn-orange"},n("Go to the app")))};p.propTypes={appLink:i.a.string,trans:i.a.func.isRequired,onApplinkClick:i.a.func.isRequired};var f=function(e){var t=e.trans,n=e.learnMoreLink;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"row"},a.a.createElement(g,{num:1,isDesktop:!0},t("Open the Wattpad app on your mobile device and tap on the profile icon to go to your personal profile.")),a.a.createElement(g,{num:2,isDesktop:!0},t("Tap on the plus icon beside your Coin wallet to view the Coin Shop.")),a.a.createElement(g,{num:3,isDesktop:!0},t("Choose and purchase a Coin bundle to unlock your favorite stories."))),a.a.createElement("div",{className:"row instructions-images"},a.a.createElement(y,{step:"1"}),a.a.createElement(y,{step:"2"}),a.a.createElement(y,{step:"3"})),a.a.createElement("div",{className:"learn-more"},a.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},t("Learn how your support is empowering writers"))))};f.propTypes={trans:i.a.func.isRequired,learnMoreLink:i.a.string.isRequired};var g=function(e){var t=e.num,n=e.isDesktop,r=e.children;return a.a.createElement("div",{className:l()("cta-step",{"col-sm-4":n})},a.a.createElement("div",{className:"step-circle"},a.a.createElement("div",null,t)),a.a.createElement("p",{className:"step-instruction"},r))};g.propTypes={num:i.a.number.isRequired,children:i.a.node.isRequired,isDesktop:i.a.bool};var y=function(e){var t=e.step;return a.a.createElement("div",{className:"col-sm-4"},a.a.createElement(c.c,{name:"paid-content/buy-coins-step-".concat(t,".png")}))};y.propTypes={step:i.a.string.isRequired};var h=function(e){var t=e.isDesktop;window.store.dispatch(Object(u.c)({className:l()("buy-coins",{desktop:t,mobile:!t}),component:function(){return a.a.createElement(m,e)}}))}},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(7),a=n(1),o=n.n(a),i=n(0),s=n.n(i),l=n(2),c=n(61),u=n(5);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(f(n=function(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?f(e):t}(this,(e=p(t)).call.apply(e,[this].concat(a)))),"onOpenModal",function(){n.props.openContestForm(n.props.storyId)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,i["Component"]),function(e,t,n){t&&m(e.prototype,t),n&&m(e,n)}(t,[{key:"componentDidMount",value:function(){this.props.storyId&&this.props.fetchContestFormSubmissionStatus(this.props.storyId)}},{key:"render",value:function(){var e=this.props,t=e.trans,n=e.hasSubmitted;return e.hasCheckedSubmission?s.a.createElement("div",{id:"contest-banner"},s.a.createElement("div",{className:"text"},n?s.a.createElement(s.a.Fragment,null,t("Your story has been submitted for the 2020 Watty Awards! Good luck!"),s.a.createElement("button",{className:"btn-link plain-link",onClick:this.onOpenModal},t("View your submission"))):s.a.createElement(s.a.Fragment,null,t("Congratulations! Your story is eligible for The Wattys!"),s.a.createElement("a",{className:"plain-link",href:"http://wattys.wattpad.com/",target:"_blank",rel:"noopener noreferrer"}," ",t("Find out more")))),n?null:s.a.createElement("button",{onClick:this.onOpenModal,className:"btn btn-primary "},t("Enter")),s.a.createElement(l.n,null)):null}}]),t}();y.propTypes={openContestForm:o.a.func,trans:o.a.func,storyId:o.a.string.isRequired,fetchContestFormSubmissionStatus:o.a.func.isRequired,hasSubmitted:o.a.bool.isRequired,hasCheckedSubmission:o.a.bool.isRequired};var h=Object(r.b)(function(e){return{hasSubmitted:e.contestForm.hasSubmitted,hasCheckedSubmission:e.contestForm.hasCheckedSubmission}},{openContestForm:c.d,fetchContestFormSubmissionStatus:c.c})(Object(u.g)(y))},function(e,t,n){"use strict";var r=n(143);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(0),a=n.n(r),o=n(142);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,u(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,a.a.Component),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;$.get("/v4/contests").then(function(t){e.setState({contests:t})})}},{key:"render",value:function(){return a.a.createElement("div",{className:"contest-list-container"},this.state&&this.state.contests?this.state.contests.map(function(e){return a.a.createElement(o.a,s({key:e.sys.id},e.fields))}):null)}}]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),a=n.n(r),o=n(3),i=n.n(o),s=n(75),l=n(1),c=n.n(l),u=n(2),d=n(5),m=n(4),p=n(102);function f(e){var t=e.author,n=e.createDate,r=e.isOffensive,o=e.id,l=e.isReply,c=e.numReplies,f=e.body,g=Object(m.g)(),y=g.trans,h=g.ngettext,b=t.badges&&t.badges.length>0?t.badges[0]:"";return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"header"},a.a.createElement("a",{href:"/user/".concat(t.name),className:"avatar avatar-sm pull-left on-navigate"},a.a.createElement("img",{src:t.avatar,alt:"".concat(t.name,"'s avatar")})),a.a.createElement("a",{className:"username on-navigate right-icon",href:"/user/".concat(t.name)},t.name,a.a.createElement(p.a,{name:b,allowedBadges:["staff","verified"]})),a.a.createElement("small",null,Object(d.c)(n,{fuzzyTime:!0}))),r&&a.a.createElement("div",{className:"warning"},a.a.createElement(u.e,{iconName:"fa-warning",color:"wp-lighterror",height:"10"}),a.a.createElement("small",null,y("This comment may be offensive."))),a.a.createElement("pre",{dangerouslySetInnerHTML:{__html:Object(d.i)(f)}}),a.a.createElement("footer",null,a.a.createElement("button",{type:"button",className:i()("btn btn-sm btn-link",l?"on-add-mention":"on-reply"),"data-target":"#replies-".concat(o),"data-id":o},c?Object(s.sprintf)(h("%s Reply","%s Replies",c),c):y("Reply"))),!l&&a.a.createElement("div",{id:"replies-".concat(o),className:"replies-list collapse","data-id":o,"data-message-owner":t.name}))}f.propTypes={author:c.a.shape({name:c.a.string,avatar:c.a.string,badges:c.a.array}),createDate:c.a.string,isOffensive:c.a.bool,id:c.a.string,isReply:c.a.bool,numReplies:c.a.number,body:c.a.string}},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(1),a=n.n(r),o=n(7),i=n(0),s=n.n(i),l=n(74),c=n(141);function u(e){return s.a.createElement(c.a,{tagGridTags:e.storyTags,onTagClicked:function(t){return e.removeStoryTag(t)}})}u.propTypes={storyTags:a.a.object,removeStoryTag:a.a.func.isRequired};var d=Object(o.b)(function(e){return{storyTags:e.storyTags}},{removeStoryTag:l.c})(u)},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n.n(s),c=n(2),u=n(4),d=n(12);function m(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(e){var t=e.username,n=e.genres,o=Object(u.g)().trans,i=Object(u.d)(),s=p(Object(r.useState)([]),2),f=s[0],g=s[1],y=p(Object(r.useState)(!1),2),h=y[0],b=y[1],v=function(e){var t=Object(r.useRef)();return Object(r.useEffect)(function(){t.current=e}),t.current}(h);Object(r.useEffect)(function(){t&&n&&0!==n.length||app.router.navigate("/start/success",{trigger:!0})},[i,t,n]),Object(r.useEffect)(function(){var e=setTimeout(function(){b(!1)},5e3);return function(){clearTimeout(e)}},[v,h]);var w=function(e,t){if("click"===t.type||13===t.keyCode){var n=e.name;if(f.includes(n)){var r=f.filter(function(e){return e!==n});g(r),b(!1)}else f.length>=3?b(!0):g([].concat(m(f),[n]))}};return n&&0!==n.length?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"full-screen background-1 onboarding-bg"}),a.a.createElement("div",{className:"onboardingModal modal fade in genres"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"onboarding-genres"},a.a.createElement("div",{className:"logo-wrapper"},a.a.createElement(c.c,{name:"logos/wp-logo-orange.png",alt:"wattpad logo",className:"wp-logo",width:"174"})),a.a.createElement("div",{className:"greeting"},o("Hi, %s",t)),a.a.createElement("div",{className:"prompt",dangerouslySetInnerHTML:{__html:o("Choose <strong>up to three</strong> genres that you enjoy reading. This will help us better recommend stories you'll love.")}}),a.a.createElement(a.a.Fragment,null),a.a.createElement("div",{className:"genres"},n.map(function(e){var t=f.includes(e.name);return a.a.createElement("div",{key:e.name,className:"genre-tile",tabIndex:0,role:"button",onClick:function(t){w(e,t)},onKeyDown:function(t){w(e,t)}},a.a.createElement("div",{className:"genre-info"},a.a.createElement("div",{className:"genre-name"},e.topic),e.image&&a.a.createElement("img",{src:e.image,alt:e.topic})),a.a.createElement("div",{className:"selected-wrapper"},a.a.createElement("div",{className:l()("overlay",{active:t,hidden:!t})}),a.a.createElement("div",{className:l()("selected-icon",{active:t,hidden:!t})},a.a.createElement(d.a,{iconName:"fa-check",color:"wp-neutral-5"}))))})),h&&a.a.createElement("div",{className:"genre-error-toast-wrapper"},a.a.createElement("div",{className:"genre-error-toast"},a.a.createElement("p",null,o("Oops, you can only select three genres. Try removing one before adding another"))))),a.a.createElement("div",{className:"finish-button-wrapper"},a.a.createElement("button",{className:l()("finish-button","btn-primary",{enabled:f.length>0,disabled:f.length<=0}),onClick:function(){var e="/v5/users/".concat(t,"/content-settings");Promise.resolve($.ajax({url:e,type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({preferredTags:f})})).finally(function(){window.te.push("event","onboarding",null,null,"complete"),app.router.navigate("/start/success",{trigger:!0})})}},o("Finish"))),a.a.createElement("div",{className:"transparency"})))):null}f.propTypes={username:i.a.string.isRequired,genres:i.a.arrayOf(i.a.object).isRequired}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),a=n.n(r),o=n(2),i=n(4);function s(){var e=Object(i.g)().trans;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"full-screen background-1 onboarding-bg"}),a.a.createElement("div",{className:"onboardingModal modal fade in success"},a.a.createElement("div",{className:"onboarding-success"},a.a.createElement("div",{className:"logo-wrapper"},a.a.createElement(o.c,{name:"logos/wp-logo-orange.png",alt:"wattpad logo",className:"wp-logo",width:"174"})),a.a.createElement("div",{className:"title"},e("All done")),a.a.createElement("div",{className:"message"},e("Thanks for setting up your profile! A world of stories awaits you...")),a.a.createElement("div",{className:"image"},a.a.createElement("img",{src:"/img/onboarding-success/book_lover.svg",alt:""})),a.a.createElement("button",{className:"start-reading-button btn-primary",onClick:function(){app.router.navigate("/home",{trigger:!0})}},e("Start reading")))))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(5),c=n(55),u=n.n(c);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return y(f(n=function(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?f(e):t}(this,(e=p(t)).call.apply(e,[this].concat(a)))),"removeMessaging",function(){var e=n.props,t=e.id,r=e.groupId,a=e.partId;u.a.unmountComponentAtNode(document.getElementById("component-bannedimagemessaging-".concat(t,"-/myworks/").concat(r,"/write/").concat(a)))}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,a.a.Component),function(e,t,n){t&&m(e.prototype,t),n&&m(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.src,n=e.trans;return a.a.createElement("div",{className:"banned-image-wrapper",contentEditable:"false",suppressContentEditableWarning:!0},a.a.createElement("div",{className:"banned-image-messaging","data-url":t},a.a.createElement(s.e,{name:"warning-triangle",size:"68",color:"wp-warning-01",viewBox:"24",className:"warning-icon"}),a.a.createElement("span",{className:"message"},n("This image has been deemed unsafe and will only be visible to you."),a.a.createElement("button",{role:"link",className:"on-learn-more btn-no-background",onClick:function(){window.open("https://support.wattpad.com/hc/en-us/articles/360020840731-Image-Moderation-on-Wattpad","_blank","noopener")}},n("Learn more")))))}},{key:"componentDidMount",value:function(){window.app.currentView.listenTo(window.app,"works:editor:remove-banned-indicator",this.removeMessaging)}},{key:"componentWillUnmount",value:function(){window.app.currentView.stopListening(window.app,"works:editor:remove-banned-indicator")}}]),t}();y(h,"propTypes",{trans:i.a.func.isRequired,id:i.a.any.isRequired,src:i.a.string.isRequired,groupId:i.a.string,partId:i.a.number,cleanupBannedMessaging:i.a.func}),t.a=Object(l.g)(h)},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(2),l=n(4),c=n(3),u=n.n(c);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var m=function(){var e=Object(l.g)().trans;return i.a.createElement("div",{className:"col-xs-12"},i.a.createElement(s.c,{name:"/icons/spin/fa-loading.gif",className:"fa-spin spinner",alt:e("Spinner"),height:"48",width:"48"}))},p=function(e){var t=e.isIOS,n=e.isAndroid,r=Object(l.g)().trans,a=i.a.createElement("p",null,r("Thank you, we've received your appeal")),o=r("We ask that you leave your image in your story until we’ve processed your request."),c=n,d=c?"wattpad://home":t?"/inbox/Wattpad?success=true":"/inbox/Wattpad",m=u()("btn btn-md btn-orange",{"on-navigate":c});return i.a.createElement("div",{className:"col-xs-12 submission-success"},i.a.createElement(s.c,{name:"image-moderation/appeal-success.svg",className:"success-image"}),i.a.createElement("span",{className:"success-header"},a),i.a.createElement("span",{className:"success-info"},o),i.a.createElement("a",{href:d,className:m},r("OK, got it")))},f=function(e){var t=e.imageUrl,n=e.onSubmissionError,r=e.isIOS,a=e.isAndroid,s=Object(l.g)().trans,c=d(Object(o.useState)(!1),2),u=c[0],f=c[1],y=d(Object(o.useState)(!1),2),h=y[0],b=y[1];return i.a.createElement("div",{className:"image-appeal-flow"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},!u&&!h&&i.a.createElement("div",null,i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("h1",null,s("Appeal form")),i.a.createElement("span",{className:"form-info",dangerouslySetInnerHTML:{__html:s('This image has been flagged because it appears to violate our <a href="https://policies.wattpad.com/content" target=_blank class="on-click">%s</a>. Your readers will not be able to see this image, and there will not be an image in its place.',"Content Guidelines")}}),i.a.createElement("span",{className:"form-info"},s("If you think your image was mistakenly flagged, please describe why in the space below."))),i.a.createElement(g,{handleSubmit:function(){return f(!0),Promise.resolve($.ajax({type:"POST",url:"/v5/image_moderation/appeal",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({image_url:t})})).then(function(){f(!1),b(!0)}).catch(function(e){f(!1),b(!1),function(e){var t;switch(e){case"submitted":t=s("This image has already been appealed. Once a decision has been made, we will notify you.");break;case"resolved":t=s("Sorry, this image has already been reviewed by our team and cannot be appealed again.");break;default:t=s("Sorry, an error has occurred and we’re unable to submit your appeal. Please try again later.")}n(t)}(e.responseJSON.status)})},imageUrl:t})),!u&&h&&i.a.createElement(p,{isIOS:r,isAndroid:a}),u&&i.a.createElement(m,null))))},g=function(e){var t=e.handleSubmit,n=e.imageUrl,r=Object(l.g)().trans,a=d(Object(o.useState)(0),2),s=a[0],c=a[1];return i.a.createElement("form",{id:"image-appeal",name:"image-appeal",className:"col-xs-12",onSubmit:function(e){e.preventDefault(),t()}},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"form-reason"},i.a.createElement("textarea",{name:"reason",id:"reason",rows:"7",placeholder:"Tell us why",maxLength:"435",onKeyUp:function(e){c(e.target.value.length)}}),i.a.createElement("span",{className:"image-info col-xs-12"},i.a.createElement("div",{className:"image-container"},i.a.createElement("img",{src:n,alt:n})),i.a.createElement("a",{href:n,className:"image-url"},n))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("span",{className:"next-steps"},r("Once we’ve reviewed your appeal, we will notify you via your inbox. If your appeal is approved your image will be restored and made visible to your readers.")))),i.a.createElement("div",{className:"row submit"},i.a.createElement("button",{className:"btn btn-md btn-orange pull-right on-send",disabled:0===s},r("Send"))))};f.propTypes={imageUrl:a.a.string.isRequired,onSubmissionError:a.a.func.isRequired,isIOS:a.a.bool,isAndroid:a.a.bool},p.propTypes={isIOS:a.a.bool,isAndroid:a.a.bool},g.propTypes={imageUrl:a.a.string.isRequired,handleSubmit:a.a.func.isRequired},t.a=f},function(e,t,n){"use strict";n.d(t,"a",function(){return E});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n(47),c=n(144),u=n(2);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var m="usprivacy",p="mode=app",f="optOut",g=function(){return wattpad.utils.currentUser().authenticated()},y=function(e){return"/v5/users/".concat(e,"/privacy-settings/ccpa/")},h=function(){return g()?function(){var e=wattpad.utils.getCurrentUserAttr("username");return Promise.resolve($.get(y(e)).then(function(e){return e.optout}))}():Promise.resolve(!!window.wattpad.utils.getCookie("ccpa-oo"))},b=function(e){return g()?function(e){var t=wattpad.utils.getCurrentUserAttr("username");return Promise.resolve($.ajax({url:y(t),type:"PUT",dataType:"json",contentType:"application/json",data:JSON.stringify({optout:e})}))}(e):Promise.resolve(window.wattpad.utils.setCookie("ccpa-oo",e,3650))},v=function(){return-1!==window.location.search.indexOf(p)},w=function(){var e="/home";v()&&(e="".concat(window.location.pathname,"?").concat(p,"&").concat("closeWebForm=true")),wattpad.utils.redirectToServer(e)};function E(e){var t=Object(s.g)().trans,n=d(Object(r.useState)(!0),2),o=n[0],i=n[1],y=d(Object(r.useState)(!1),2),E=y[0],O=y[1],S=d(Object(r.useState)(e.startLoaded),2),k=S[0],N=S[1],_=d(Object(r.useState)(e.startWithError?"startWithError enabled":null),2),j=_[0],C=_[1];Object(r.useEffect)(function(){h().then(function(e){O(e),N(!0)}).catch(function(){O(!1),N(!0)})},[]);return k?a.a.createElement(c.a,{variant:"privacy-settings text-center max-width-and-wp-bg"},a.a.createElement(l.d,{variant:"large mb",text:t("Do not sell my personal information")}),E?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"icon-holder"},a.a.createElement(u.e,{iconName:"fa-check",color:"wp-neutral-5",size:20})),a.a.createElement("p",{className:"fs-14 mb-4 neutral-100"},t("You have successfully opted out. Wattpad will not sell your personal information to third parties.")),!g()&&a.a.createElement("p",{className:"fs-14 mb-3 b neutral-100",dangerouslySetInnerHTML:{__html:t('To save this preference permanently, you must <a class="base-2-60" href="%s">log in</a> or <a class="base-2-60" href="%s">create an account</a>.',"/login","/signup")}}),a.a.createElement(l.b,{variant:"base-2-60 full-width",text:t("Back to Wattpad"),onClick:w})):a.a.createElement(a.a.Fragment,null,a.a.createElement(l.c,{variant:"base-2"},a.a.createElement("p",{className:"fs-14"},t("If you choose to continue sharing your information, Wattpad will be able to provide you with a better reading experience by serving you ads that are more tailored to your interests.")),a.a.createElement(l.b,{variant:"base-2-60 full-width",text:t("Continue sharing information"),onClick:w})),a.a.createElement(l.c,null,a.a.createElement("p",{className:"fs-14 mb-3"},t("If you are a California resident, you have the right to opt out of the sharing of your personal information with third parties (subject to certain exceptions) under the California Consumer Privacy Act (“CCPA”). This is known as the right to opt out of the sale of your personal information.")),a.a.createElement("div",{className:"checkbox-holder"},a.a.createElement("input",{type:"checkbox",name:"californian",id:"californian",value:"yes",onChange:function(e){i(!e.target.checked)}}),a.a.createElement("label",{htmlFor:"californian",className:"fs-12 b"},t("I am a resident of California"))),a.a.createElement(l.b,{variant:"full-width mb-1 neutral-100",disabled:o,id:"optout-button",onClick:function(e){!function(e,t){e.preventDefault(),o||b(t).then(function(){O(t),C(null),window.wattpad.utils.setCookie(m,"",-1,!0)}).then(function(){v()&&app.router.navigate("".concat(window.location.pathname,"?").concat(p,"&").concat(f,"=").concat(t),{trigger:!0})}).catch(function(e){C(e)})}(e,!0)},text:t("Do not sell my personal information")}),j&&a.a.createElement(l.a,{variant:"fs-12 text-left mb-1",messageNode:a.a.createElement("div",{dangerouslySetInnerHTML:{__html:t('There was an error submitting your opt-out request. Please try again or <a class="base-2-60" href="%s">report the issue</a>.',"https://support.wattpad.com/hc/en-us/requests/new")}})}),a.a.createElement("p",{className:"fs-12"},a.a.createElement("em",{dangerouslySetInnerHTML:{__html:t('You can also opt out of the sale of your personal information by sending us an email at <a class="base-2-60" href="%s">%s</a>.',"mailto:privacy@wattpad.com","privacy@wattpad.com")}}))))):a.a.createElement("div",{className:"loading-spinner"},a.a.createElement(u.f,null))}E.propTypes={startLoaded:i.a.bool,startWithError:i.a.bool},E.defaultProps={startLoaded:!1,startWithError:!1}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(7),i=n(1),s=n.n(i),l=n(3),c=n.n(l),u=n(101),d=n(2),m=n(5),p=n(4);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=e.isNew,n=e.isPublish,o=e.isStoryPlannerTestGroup,i=e.onSwitchTabs,s=e.updateActiveTab,l=e.activeTab,u=Object(p.g)().trans;function d(e){var t=e.currentTarget.getAttribute("data-section");s(t),i(t)}return Object(r.useEffect)(function(){s("toc")},[s]),a.a.createElement("div",{className:"works-edit-select"},a.a.createElement("button",{className:c()("on-switch-type",{active:"story-detail"===l||t}),"data-section":"story-detail",onClick:d},u("Story Details")),!t&&!n&&a.a.createElement("button",{className:c()("on-switch-type",{active:"toc"===l}),"data-section":"toc",onClick:d},u("Table of Contents")),!t&&o&&a.a.createElement(w,{onTabChange:d,activeTab:l,label:u("Story Notes")}))}v.defaultProps={onSwitchTabs:function(){}},v.propTypes={isNew:s.a.bool.isRequired,isPublish:s.a.bool.isRequired,isStoryPlannerTestGroup:s.a.bool.isRequired,onSwitchTabs:s.a.func.isRequired,updateActiveTab:s.a.func.isRequired,activeTab:s.a.string.isRequired};t.a=Object(o.b)(function(e){return{activeTab:e.worksItemDetails.worksItemDetailsActiveTab}},{updateActiveTab:u.b})(v);var w=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(h(n=function(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?h(e):t}(this,y(t).call(this,e))),"onClickedPlannerTab",function(e){localStorage.setItem("seen-planner","true"),n.setState({isNew:!1}),n.props.onTabChange(e)}),n.state={isNew:Object(m.h)()&&!localStorage.getItem("seen-planner")},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,a.a.Component),function(e,t,n){t&&g(e.prototype,t),n&&g(e,n)}(t,[{key:"render",value:function(){return a.a.createElement("button",{className:c()("on-switch-type",{active:"story-planner"===this.props.activeTab}),"data-section":"story-planner",onClick:this.onClickedPlannerTab.bind(this)},a.a.createElement("div",{id:"story-planner-tab"},this.state.isNew&&a.a.createElement("div",{id:"story-planner-new-tag-container"},a.a.createElement(d.c,{name:"shared/new-tag-2x.png",id:"storyplanner-new-tag",height:"19px",width:"40px"})),a.a.createElement("div",null,this.props.label)))}}]),t}();w.propTypes={onTabChange:s.a.func.isRequired,activeTab:s.a.string.isRequired,label:s.a.string}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n(4);t.a=function(){var e=Object(i.g)().trans;return a.a.createElement("div",{className:"acknowledge"},a.a.createElement(o.b,{defaultValue:!1,id:"acknowledge-checkbox"}),a.a.createElement("label",{htmlFor:"acknowledge-checkbox"},e("I acknowledge this is my own original work, or I have the permission from the original author to post this work. Copyright infringement may result in story deletion or account closure.")))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n.n(s),c=n(2),u=n(5);function d(e){var t=e.story,n=e.section,r=e.trans;return a.a.createElement("nav",{className:"pull-right",role:"navigation",id:"writer-analytics-nav-bar"},a.a.createElement("ul",null,a.a.createElement("li",{"data-section":"activities",className:l()({active:"activities"===n,"not-active":"activities"!==n})},a.a.createElement("a",{className:"on-nav-item",href:"/myworks/".concat(t.id,"/analytics/")},r("Overview"))),a.a.createElement("li",{"data-section":"interactions",className:l()({active:"interactions"===n,"not-active":"interactions"!==n})},a.a.createElement("a",{className:"on-nav-item",href:"/myworks/".concat(t.id,"/analytics/interactions")},r("Engagement"))),a.a.createElement("li",{"data-section":"demographics",className:l()({active:"demographics"===n,"not-active":"demographics"!==n})},a.a.createElement("a",{className:"on-nav-item",href:"/myworks/".concat(t.id,"/analytics/demographics")},r("Demographics"))),a.a.createElement(m,{section:n,storyId:t.id,trans:r})))}function m(e){var t=e.section,n=e.storyId,r=e.trans;return a.a.createElement("li",{"data-section":"insights",className:l()({active:"insights"===t,"not-active":"insights"!==t})},a.a.createElement("div",{id:"story-report-tab","data-section":"insights"},a.a.createElement(c.c,{name:"desktop-web/beta-tag-2x.png",id:"story-report-beta-tag",height:"19px",width:"40px"})),a.a.createElement("a",{className:"on-nav-item",href:"/myworks/".concat(n,"/analytics/insights")},r("Story Insights")))}d.propTypes={story:i.a.object.isRequired,section:i.a.string.isRequired,trans:i.a.func},t.a=Object(u.g)(d),m.propTypes={section:i.a.string.isRequired,storyId:i.a.string.isRequired,trans:i.a.func.isRequired}},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),a=n.n(r),o=n(2),i=n(5),s=n(4);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c="hide-insights-mystories-banner";function u(){var e=Object(s.g)().trans,t=!0;Object(i.h)()&&(t="true"===localStorage.getItem(c));var n=l(Object(r.useState)(t),2),u=n[0],d=n[1];if(Object(r.useEffect)(function(){window.te.push("event","cta",null,null,"view",{page:"myworks",cta_type:"story_insights"})},[]),u)return null;return a.a.createElement("div",{className:"myworks-insights-cta"},a.a.createElement("div",{className:"image-container"},a.a.createElement("div",{className:"image-background"},a.a.createElement(o.c,{width:"128",height:"104",name:"writer-insights/cta-sample.png"}))),a.a.createElement("div",{className:"cta-copy"},a.a.createElement("h5",null,e("Your story has potential. Uncover it with Wattpad Story Insights.")),a.a.createElement("ul",null,a.a.createElement("li",null,e("Get confidential, actionable feedback to improve your writing quality")),a.a.createElement("li",null,e("Discover how your writing stacks up against top stories on Wattpad")),a.a.createElement("li",null,e("Introduce suggested patterns of success into your story to take it to the next level")))),a.a.createElement("button",{className:"btn-no-style",onClick:function(){localStorage.setItem(c,!0),d(!0)}},a.a.createElement(o.e,{className:"close-btn",name:"close",color:"wp-neutral-1",size:"30"})))}},function(e,t,n){"use strict";n.d(t,"a",function(){return E});var r=n(0),a=n.n(r),o=n(7),i=n(100),s=n(3),l=n.n(s),c=n(1),u=n.n(c),d=n(75),m=n(107),p=n(4),f=n(2);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(){var e=Object(p.g)().trans;return a.a.createElement("div",{className:"quest-progress"},a.a.createElement("div",{className:"placeholder-container"},a.a.createElement(f.c,{name:"quests/incoming-quests.svg"}),a.a.createElement("div",{className:"title"},e("You're on your way")),a.a.createElement("div",null,e("Keep an eye out for more Quests. The more you do, the more eligible you become to have your story featured!"))))}function b(e){var t=e.title,n=e.description,r=e.is_complete,o=e.body.click_url,i=e.type;return a.a.createElement("div",{className:"quest-task"},a.a.createElement(f.b,{disabled:!0,defaultValue:r}),a.a.createElement("div",{className:"quest-task-right-content"},a.a.createElement(m.b,{type:i,link:o,isLinkable:!r},a.a.createElement("h6",{className:l()("quest-task-title",{complete:r})},t),a.a.createElement("div",{className:l()("quest-task-description",{complete:r})},n))))}function v(e){var t=e.style,n=e.description,o=e.tasks_total,i=e.tasks_completed,s=e.title,c=e.tasks,u=e.badges,f=y(Object(r.useState)(!1),2),h=f[0],v=f[1],w=Object(p.g)().ngettext,E=function(){return v(!h)},O=o-i||0;return a.a.createElement("div",{className:l()("quest-card",{expanded:h})},a.a.createElement("div",{className:"left-content",style:{background:t.banner_color}},a.a.createElement("img",{src:t.avatar_url,alt:"Quest avatar"})),a.a.createElement(m.a,{isExpandable:!h,onClick:E,className:"right-content"},a.a.createElement(m.a,{isExpandable:h,onClick:E},a.a.createElement("h3",null,s),h&&n&&a.a.createElement("div",null,n)),h&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement("hr",null)),c&&c.map(function(e){return a.a.createElement(b,g({key:e.id},e))})),a.a.createElement("div",{className:"tasks-container"}),a.a.createElement("div",{className:"tasks-count"},Object(d.sprintf)(w("%s task left to complete","%s tasks left to complete",O),O)),u.length>0&&a.a.createElement("div",{className:"quest-badges-container"},u.map(function(e){return a.a.createElement("div",{key:e.title,className:"quest-badge"},e.title)}))))}function w(e){var t=e.loadQuests,n=e.questMapById,o=Object(p.g)().trans;Object(r.useEffect)(function(){t()},[t]);var i=Object.values(n);return a.a.createElement("div",{id:"quests"},a.a.createElement("h3",null,o("Do these quests to become a better Wattpader!")),a.a.createElement("div",{className:"split-view"},a.a.createElement("div",{className:"quest-cards"},i.map(function(e){return a.a.createElement(v,g({key:e.id},e))})),i.length>0&&a.a.createElement(h,null)))}b.propTypes={title:u.a.string,description:u.a.string,is_complete:u.a.bool,body:u.a.object,type:u.a.string},b.defaultProps={body:{click_url:"",tracking_url:""},type:""},v.propTypes={id:u.a.number,description:u.a.string,tasks_total:u.a.number,tasks_completed:u.a.number,title:u.a.string,style:u.a.object,tasks:u.a.array,badges:u.a.array},v.defaultProps={tasks_total:0,style:{},badges:[]},w.propTypes={loadQuests:u.a.func,questMapById:u.a.object};var E=Object(o.b)(function(e){return{questMapById:e.quests.mapById}},{loadQuests:i.c})(w)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),a=n.n(r),o=n(7),i=n(100),s=n(1),l=n.n(s),c=n(4),u=n(2),d=n(107);function m(e){var t=e.loadEmbeddedQuests,n=e.embeddedType,o=e.embeddedQuests,i=e.username,s=Object(c.g)().trans;Object(r.useEffect)(function(){t(n)},[t,n]);var l=o&&o[0];if(!l)return null;var m,p=l.tasks&&l.tasks.find(function(e){return!e.is_complete});return m=p?a.a.createElement(d.b,{type:p.type,link:p.body&&p.body.click_url,isLinkable:!0},a.a.createElement("div",{className:"panel panel-default2 panel-embedded-quest"},a.a.createElement("img",{src:l.style&&l.style.avatar_url,alt:"".concat(n," avatar")}),a.a.createElement("div",{className:"right-content"},a.a.createElement("div",{className:"banner-title"},p.title),a.a.createElement("div",null,p.description)))):a.a.createElement("div",{className:"panel panel-default2 panel-embedded-quest completed-banner"},a.a.createElement("img",{src:l.style&&l.style.avatar_url,alt:"".concat(n," avatar")}),a.a.createElement("div",{className:"right-content"},a.a.createElement("div",{className:"banner-title"},s("Congrats, you’ve completed all recommended tasks.")),a.a.createElement("div",null,s("You’re well on your way to becoming a superstar writer. Keep the momentum up by completing more tasks. The more you do the closer you are to getting featured on a special Featured List.")))),a.a.createElement("div",{id:"embedded-quests"},a.a.createElement("div",{className:"header"},a.a.createElement("span",{className:"title"},l.title,": "),a.a.createElement("span",{dangerouslySetInnerHTML:{__html:s("<strong>%s</strong> of %s completed",l.tasks_completed,l.tasks_total)}})),m,a.a.createElement("a",{className:"link-quests right-icon",href:"/user/".concat(i,"/quests")},a.a.createElement(u.e,{name:"arrowRight",size:20}),s("Complete more tasks and get featured")," "))}m.propTypes={loadEmbeddedQuests:l.a.func,embeddedType:l.a.string.isRequired,embeddedQuests:l.a.array,username:l.a.string};var p=Object(o.b)(function(e,t){return{embeddedQuests:e.quests.mapByEmbeddedType[t.embeddedType]}},{loadEmbeddedQuests:i.b})(m);p.defaultProps={embeddedType:"profile-about",embeddedQuests:[]}},function(e,t,n){"use strict";var r=n(7),a=n(1),o=n.n(a),i=n(0),s=n.n(i),l=n(26);var c=n(95),u=n(2);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(){return s.a.createElement("div",{id:"indicate-interest",className:"dashboard-cta container"},s.a.createElement(u.c,{name:"desktop-web/story-report-cta.png",id:"story-report-image"}),s.a.createElement("div",{className:"header"},l.d.header),s.a.createElement("div",{className:"paragraph"},s.a.createElement("p",{className:"description"},l.d.para1," "),s.a.createElement("p",{className:"description"},l.d.para2," ")),s.a.createElement(h,null))},h=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(f(n=function(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?f(e):t}(this,p(t).call(this,e))),"onClickedInterestButton",function(){window.te.push("event","story-report",null,null,"waitlist"),localStorage.setItem("insights-waitlist","true"),n.setState({clicked:!0})}),n.state={clicked:"true"===localStorage.getItem("insights-waitlist")},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,s.a.Component),function(e,t,n){t&&m(e.prototype,t),n&&m(e,n)}(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"button-container"},this.state.clicked?s.a.createElement("button",{id:"dashboard-indicate-interest",disabled:!0,className:"btn-primary"},"Thanks for your interest"):s.a.createElement("button",{id:"dashboard-indicate-interest",disabled:!1,className:"btn-primary",onClick:this.onClickedInterestButton.bind(this)},"Notify me of launch"))}}]),t}(),b=n(3),v=n.n(b),w=n(46),E=n(5),O=n(8);function S(e,t){var n=window.location.origin;return{purchaseSuccessUrl:"".concat(n,"/myworks/").concat(e,"/analytics/insights?success=true&repurchase=").concat(t),purchaseCancelUrl:"".concat(n,"/myworks/").concat(e,"/analytics/insights?success=false&repurchase=").concat(t)}}function k(e){var t=e.storyId,n=e.isRepurchase,r=wattpad.utils.currentUser(),a=r.isWattpadStar(),o=r.isStaff(),i=a||o,s=null;i&&o?s="staff":i&&a&&(s="wattpad_star"),window.te.push("event","story_insights","report",null,"purchase_start",{storyid:parseInt(t,10),is_free:i,free_reason:s,is_repurchase:n}),i?function(e,t,n){var r="/v5/stories/".concat(e,"/insights/request");Promise.resolve($.post(r)).then(function(){wattpad.utils.sendPurchaseResultEvent({action:"purchase_complete",storyId:e,isFree:!0,freeReason:n,isRepurchase:t,orderRefId:null}),window.location.reload()}).catch(function(){wattpad.utils.showToast(),wattpad.utils.sendPurchaseResultEvent({action:"purchase_fail",storyId:e,isFree:!0,freeReason:n,isRepurchase:t,orderRefId:null})})}(t,n,s):wattpad.testGroups.TAXAMO_INSIGHTS_PURCHASING?function(e,t){Taxamo.options.checkoutSrc="https://p.taxamo.com",Taxamo.initialize("public_test_srQi_BP75YLHUkh92Sn3EWpm9n2pLA6gkaz4BGdxBzc");var n=S(e,t),r={transaction_lines:[{custom_id:"story-insights-report-usd",amount:9.99,description:"Story Insights Report"}],currency_code:"USD"},a={allowed_payment_providers:"stripe",require_email:!0,finished_redirect_url:n.purchaseSuccessUrl,cancel_redirect_url:n.purchaseCancelUrl,show_invoice_address:!1,show_summary:!0},o={storyid:parseInt(e,10)},i=wattpad.utils.currentUser().get("username"),s="/v5/users/".concat(i,"/taxamo/checkout/sessions");Promise.resolve($.ajax({url:s,type:"POST",data:JSON.stringify(o),contentType:"application/json"})).then(function(e){r.custom_data=e.session_id,new Taxamo.Checkout(r,a).redirect()}).catch(function(){wattpad.utils.showToast(),wattpad.utils.sendPurchaseResultEvent({action:"purchase_fail",storyId:e,isFree:!1,freeReason:null,isRepurchase:t,orderRefId:null})})}(t,n):function(e,t){var n=Stripe("pk_live_8kZCrClnJK62C0x9AQuZsKZI00VDFFqXa9"),r=S(e,t),a=r.purchaseSuccessUrl,o=r.purchaseCancelUrl,i={skus:[{id:"story_insights",details:{story_id:parseInt(e,10)}}],success_url:a,cancel_url:o},s=wattpad.utils.currentUser().get("username"),l="/v5/users/".concat(s,"/stripe/checkout/sessions");Promise.resolve($.ajax({url:l,type:"POST",data:JSON.stringify(i),contentType:"application/json"})).then(function(r){var a=r.session_id;n.redirectToCheckout({sessionId:a}).then(function(n){var r=n.error.message;r&&wattpad.utils.showToast(r),wattpad.utils.sendPurchaseResultEvent({action:"purchase_fail",storyId:e,isFree:!1,freeReason:null,isRepurchase:t,orderRefId:null})})}).catch(function(){wattpad.utils.showToast(),wattpad.utils.sendPurchaseResultEvent({action:"purchase_fail",storyId:e,isFree:!1,freeReason:null,isRepurchase:t,orderRefId:null})})}(t,n)}var N=5,_=[1,2,3,4,5],j={WRITING_STYLE:"Writing Style",STORY_READABILITY:"Reading Accessibility",READING_TIME:"Reading Time",SENTENCE_STRUCTURE:"Sentence Length",ADVERB_USAGE:"Adverb Use",WORD_REPETITION:"Word Repetition"},C={title:"Learn more about Writing Style",learnMoreUrl:"https://w.tt/si-writing-style",details:[{header:"Why your Writing Style matters",explanation:"Understanding your current writing style helps you determine if you want to introduce any changes to achieve certain writing goals. Want to be published? Consider taking on an Advanced Narrative Style, or a Literary Style. Want to tell a fast-paced story with unique formatting and dialogue? Consider a more Straightforward Writing Style."},{header:"Changing your Writing Style",explanation:"Modifying your Writing Style is not as simple as doing a spelling and grammar check. Style is a part of every word chosen, the pace of your story, and how you organize ideas. It takes effort to really comb through your manuscript, rewrite sections, collect feedback, and edit intensely. A good place to start is by reviewing insights highlighted by this report."},{header:"How Writing Style is calculated",explanation:"Writing Style is calculated by a Machine Learning technology that analyzes the patterns in grammar and sentence structure across a variety of stories; from previous Watty Award winning stories to Award Winning Novels. After evaluating thousands of these stories, it uses its knowledge to assess the style of your story."}]},P={1:{styleName:"Direct Writing Style",styleDetails:"Your writing style does not follow traditional writing practices for grammar or sentence structure. This style is commonly found in stories that switch up their format, like chat fiction, role playing, or screenplay formatted stories. It is less commonly found in descriptive, long-form narrative.",styleSummary:"Does not follow traditional writing practices for grammar or sentence structure. It is less commonly found in descriptive, long-form narrative."},2:{styleName:"Straightforward Writing Style",styleDetails:"Your writing style is more commonly found with stories that are less descriptive, and contain shorter sentences. Generally, this is a style used by non-fiction writers, or writers that write journalistically, in a way that gets straight to the point.",styleSummary:"More commonly found with stories that are less descriptive, and contain shorter sentences."},3:{styleName:"Modern Narrative Style",styleDetails:"Your writing style is more commonly found with stories that are published online; where stories are faster paced, and sometimes more dialogue-heavy than in traditional literature. This is a preferred style for writers who are trying to keep readers’ attention over serial releases.",styleSummary:"More commonly found with stories that are faster paced, and sometimes more dialogue-heavy than in traditional literature."},4:{styleName:"Advanced Narrative Style",styleDetails:"Your writing style is more commonly found within modern-day literature; where stories contain more dialogue and shorter sentences than in traditional literature. Grammar and sentence structure in this style are more refined than they are in the average story.",styleSummary:"More commonly found within modern-day literature; where stories contain more dialogue and shorter sentences than in traditional literature."},5:{styleName:"Literary Writing Style",styleDetails:"Your writing style is more commonly found in traditional literature; where narrative is descriptive, sentences are longer than average, and the writing is filled with more prose than dialogue. This is an ideal writing style for those writing for more traditional publishing opportunities.",styleSummary:"More commonly found in traditional literature; where narrative is descriptive, sentences are longer than average, and the writing is filled with more prose than dialogue."}},T={title:"Learn more about Reading Accessibility",learnMoreUrl:"https://w.tt/si-reading-accessibility",details:[{header:"Why Reading Accessibility matters",explanation:"If you are writing for a younger audience, but your Reading Accessibility is older, consider changing your sentence length and vocabulary to be more accessible. If, on the other hand, the audience you are writing for is older, but your Reading Accessibility is much younger, consider making your writing less accessible so that it keeps the attention of an older audience."},{header:"Changing your Reading Accessibility",explanation:"If you want to make your Reading Accessibility for an older audience, then use more complex words and write longer, more descriptive sentences. Conversely, if you want to make your Reading Accessibility younger, use less verbose language, and shorter sentences."},{header:"How Reading Accessibility is calculated",explanation:"Reading Accessibility takes into consideration both vocabulary and sentence length. It is a formula that calculates the number of words with three or more syllables, along with the average length of your sentences."}]},R={1:{ageRange:"22+",sameScoreCover:"writer-insights/readability-covers/atonement.jpg",description:"Most accessible to an audience that may have graduated College, and can easily understand a story such as Atonement, by Ian McEwen."},2:{ageRange:"20-22",sameScoreCover:"writer-insights/readability-covers/hitchhikers-guide-galaxy.png",description:"Most accessible to an audience that may currently be in their later years of College (Juniors/Seniors), or older, and can easily understand a story such as The Hitchhiker’s Guide to the Galaxy, by Douglas Adams."},3:{ageRange:"18-20",sameScoreCover:"writer-insights/readability-covers/walk-to-remember.jpg",description:"Most accessible to an audience that may currently be in their early years of College (Freshmen/Sophomores), or older, and can easily understand a story such as A Walk to Remember, by Nicholas Sparks."},4:{ageRange:"16-18",sameScoreCover:"writer-insights/readability-covers/handmaids-tale.jpg",description:"Most accessible to an audience that may currently be in their later years of High School (Juniors/Seniors), or older, and can easily understand a story such as The Handmaid’s Tale, by Margaret Atwood."},5:{ageRange:"14-16",sameScoreCover:"writer-insights/readability-covers/fault-stars.jpg",description:"Most accessible to an audience that may currently be in their early years of High School (Freshmen/Sophomores), or older, and can easily understand a story such as The Fault in our Stars, by John Green."},6:{ageRange:"14 and under",sameScoreCover:"writer-insights/readability-covers/harry-potter.jpg",description:"Most accessible to an audience that may currently be attending Elementary School, or older, and can easily understand a story such as Harry Potter and the Sorcerer’s Stone, by J.K. Rowling."},default:{ageRange:"N/A",sameScoreCover:null}},x={title:"Learn more about Reading Time",learnMoreUrl:"https://w.tt/si-reading-time",details:[{header:"Why Reading Time matters",explanation:"Stories that are consistent with the lengths of their parts fare better than stories that are not. Invest time in shortening or lengthening your story parts, so that most of them contain more or less the same word count. If you want to polish your story parts further, aim for the Wattpad “Sweet Spot”. These are story parts with a length of somewhere between 6 minutes (1,500 words) to 12 minutes (3,000 words)."},{header:"How Reading Time is calculated",explanation:"Reading time is based on the average time it would take a reader on Wattpad to read through your story or story part. This is based on your story part’s word counts, and the average words read per minute."}]},L={title:"Learn more about Sentence Length",learnMoreUrl:"https://w.tt/si-sen-length",details:[{header:"Why Sentence Length matters",explanation:"Having varied sentence lengths in your story can allow for an interesting and dynamic reading experience. It's also a great way to impact the pacing of your story. If all your sentences are super short (or super long), the pacing might feel choppy (or long-winded). Consider how the content within each chapter is structured. So, in addition to ensuring your sentences are neither too long or too short, make sure you vary the length of your sentences throughout your storytelling, as a way to impact the pacing of your story."},{header:"How Sentence Length is calculated",explanation:"We count every word in each of your sentences to give you the average number of words per sentence (target sentence length is between 15-20 words), and the number of long sentences (sentences with more than 25 words)."}]},I={title:"Learn more about Adverb Use",learnMoreUrl:"https://w.tt/si-adverbs",details:[{header:"Why Adverb use should be limited",explanation:s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"Stephen King once said, “The road to hell is paved with adverbs.” While that might sound extreme, it's well understood in the writing community that you should limit the use of adverbs in your writing."),s.a.createElement("div",null,"Look at this example:",s.a.createElement("ul",null,s.a.createElement("li",null,"“She said it softly” - adverb"),s.a.createElement("li",null,"“She spoke with a soft tone” - no adverb"))),s.a.createElement("p",null,"As you can see from the above, removing the use of an adverb forces a writer to become more descriptive. This is only a simple example, but as you can imagine, overusing Adverbs will, over time, impact how descriptive you are in your narrative writing."))}]},q={title:"Learn more about Word Repetition",learnMoreUrl:"https://w.tt/si-word-rep",details:[{header:"When to edit your most repeated words",explanation:"When describing characters or places, we are especially prone to overusing words. “His handsome smile” is okay to use once, but referencing his smile this way every time gets repetitive. Make sure to reference your characters and places in new and creative ways, even when talking about the same feature."},{header:"When not to edit your most repeated words",explanation:s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"Repeating words in dialogue is generally welcome as it makes for more realistic characters. This is because when we speak, we often start with “I”, and are prone to overusing particular words over and over again."),s.a.createElement("p",null,"Remember that writing is an art and not a science, so don’t fuss about eliminating all words that are overused. Think strategically about whether you want to keep the word, and why, before changing it."))}]};function A(e){var t=e.storyStyleScore,n=e.size,r=.6*n;return s.a.createElement("div",{className:"score-gauge",style:{height:n,width:n}},s.a.createElement("div",{className:"score-levels"},_.map(function(e){var r=t===e;return s.a.createElement(u.e,{name:"circle",className:v()("score-level","score-level-".concat(e)),color:r?"wp-base-1":"wp-neutral-3",key:e,size:n})})),s.a.createElement("span",{style:{fontSize:r},className:"score-number"},t))}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function D(e){var t=e.title,n=e.details,r=e.learnMoreUrl,a=M(Object(i.useState)(!1),2),o=a[0],l=a[1];return s.a.createElement("div",{className:"expandable-learn-more"},s.a.createElement("button",{className:"btn-no-style btn-right-icon expand-button",onClick:function(){return l(!o)}},s.a.createElement("strong",null,t),s.a.createElement(u.e,{name:o?"chevUp":"chevDown",color:"wp-neutral-2",size:"24"})),s.a.createElement("div",{className:v()("learn-more-sections",{"visible-print":!o})},n.map(function(e){var t=e.header,n=e.explanation;return s.a.createElement("div",{className:"learn-more-section",key:t},s.a.createElement("strong",{className:"header"},t),s.a.createElement("div",null,n))})),s.a.createElement("div",{className:v()("additional-info-link",{"visible-print":!o})},"Additional guidelines on this section can be found"," ",s.a.createElement("a",{href:r,rel:"noopener noreferrer",target:"_blank"},"here"),"."))}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function U(e){var t=e.title,n=e.levels,r=F(Object(i.useState)(!1),2),a=r[0],o=r[1];return s.a.createElement("div",{className:"see-all-levels"},s.a.createElement("button",{className:"btn-link btn-right-icon btn-no-style see-all-button",onClick:function(){return o(!a)}},t," ",s.a.createElement(u.e,{name:a?"arrowCircleUp":"arrowCircleDown",color:"wp-base-1-dark",size:"18"})),s.a.createElement("div",{className:v()("levels-content",{"visible-print":!a})},n))}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function B(e){var t=e.goToSection,n=e.storyStyleScore,r=e.showTips,a=void 0===r||r,o=P[n],i=o.styleName,l=o.styleDetails,c=Object.entries(P).map(function(e){var t=W(e,2),n=t[0],r=t[1],a=r.styleName,o=r.styleSummary;return s.a.createElement(s.a.Fragment,{key:n},s.a.createElement("h6",{className:"level-title"},"".concat(n," - ").concat(a)),s.a.createElement("div",{className:"level-content"},o))});return s.a.createElement("div",{className:"insights-module insights-section story-style"},s.a.createElement("div",{className:"insights-subsection"},s.a.createElement("h2",null,j.WRITING_STYLE),s.a.createElement("div",{className:"score-body"},s.a.createElement("div",{className:"style-description"},s.a.createElement("div",{className:"style-result"},s.a.createElement(A,{storyStyleScore:n,showTitle:!1,size:110})),s.a.createElement("span",null,"This story is written in a"),s.a.createElement("h2",{className:"header-red"},i),s.a.createElement("div",null,l)),a&&s.a.createElement("div",{className:"helpful-tips"},s.a.createElement("div",{className:"tips-header"},s.a.createElement(u.e,{size:"25",name:"lightbulb",color:"wp-neutral-1"}),s.a.createElement("h3",null,"Helpful Tips")),s.a.createElement("div",{className:"tip"},s.a.createElement("span",null,"Take a look at how short or long your sentences are. This can indicate how descriptive your writing is."),s.a.createElement("button",{className:"btn-link btn-no-style go-to-section hidden-print",onClick:function(){return t(j.SENTENCE_STRUCTURE)}},"Go to Sentence Length",s.a.createElement(u.e,{size:"18",className:"go-to-icon",name:"arrowCircleRight",color:"wp-base-1-dark"}))),s.a.createElement("div",{className:"tip"},s.a.createElement("span",null,"Often times, you can use better diction to describe a person or situation. Replacing adverbs with other descriptors can help."),s.a.createElement("button",{className:"btn-link btn-no-style go-to-section hidden-print",onClick:function(){return t(j.ADVERB_USAGE)}},"Go to Adverb Use",s.a.createElement(u.e,{size:"18",className:"go-to-icon",name:"arrowCircleRight",color:"wp-base-1-dark"}))),s.a.createElement("div",{className:"tip"},s.a.createElement("span",null,"You might be using a few specific words too frequently. See what words are overused and switch them up."),s.a.createElement("button",{className:"btn-link btn-no-style go-to-section hidden-print",onClick:function(){return t(j.WORD_REPETITION)}},"Go to Word Repetition",s.a.createElement(u.e,{size:"18",className:"go-to-icon",name:"arrowCircleRight",color:"wp-base-1-dark"}))))),s.a.createElement(U,{title:"See all styles",levels:c})),s.a.createElement("div",{className:"writer-distribution"},s.a.createElement("div",{className:"insights-subsection"},s.a.createElement("h4",null,"Writing Styles of Top Wattpad Writers"),s.a.createElement(u.c,{name:"writer-insights/writer-distribution-graphs/level-".concat(n,".png"),id:"distribution-graph"}))),s.a.createElement(D,C))}function H(e){var t=e.score,n=e.details,r=e.circleSize,a=e.scoreFontSize,o=e.detailsFontSize,i=void 0===o?14:o;return s.a.createElement("span",{className:"score-circle",style:{height:r,width:r}},s.a.createElement("div",{className:"score",style:{fontSize:a}},t),s.a.createElement("span",{className:"score-details",style:{fontSize:i}},n))}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function V(e){var t=e.goToSection,n=e.readabilityAgeRange,r=e.sameScoreCover,a=e.showTips,o=void 0===a||a,i=Object.entries(R).filter(function(e){return"default"!==z(e,1)[0]}).sort(function(e,t){var n=z(e,1)[0];return z(t,1)[0]-n}).map(function(e){return z(e,2)[1]}).map(function(e){var t=e.ageRange,n=e.description;return s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("h6",{className:"level-title"},"Ages ".concat(t)),s.a.createElement("div",{className:"level-content"},n))});return s.a.createElement("div",{className:"insights-section insights-module story-readability"},s.a.createElement("div",{className:"readability-main insights-subsection"},s.a.createElement("h2",null,j.STORY_READABILITY),s.a.createElement("div",{className:"readability-body"},s.a.createElement("div",{className:"readability-description"},s.a.createElement("div",{className:"readability-result"},s.a.createElement(H,{score:"Ages ".concat(n),circleSize:150,scoreFontSize:25}),r&&s.a.createElement("span",{className:"same-score"},s.a.createElement("div",null,"Your story’s Reading Accessibility is similar to:"),s.a.createElement(u.c,{name:r,height:"110",width:"82"}))),s.a.createElement("div",null,"Reading Accessibility estimates the age a reader would likely need to be, to understand your story the first time they read through it. Ideally, your Reading Accessibility age is similar to the age of the audience that you are writing for.")),o&&s.a.createElement("div",{className:"helpful-tips"},s.a.createElement("div",{className:"tips-header"},s.a.createElement(u.e,{size:"25",name:"lightbulb",color:"wp-neutral-1"}),s.a.createElement("h3",null,"Helpful Tip")),s.a.createElement("div",{className:"tip"},s.a.createElement("span",null,"Make your story more or less accessible to readers by playing with the length of your sentences."),s.a.createElement("button",{className:"btn-link btn-no-style go-to-section hidden-print",onClick:function(){return t(j.SENTENCE_STRUCTURE)}},"Go to Sentence Length",s.a.createElement(u.e,{size:"18",className:"go-to-icon",name:"arrowCircleRight",color:"wp-base-1-dark"}))))),s.a.createElement(U,{title:"See all levels",levels:i})),s.a.createElement(D,T))}A.propTypes={storyStyleScore:o.a.number.isRequired,size:o.a.number.isRequired},D.propTypes={title:o.a.string.isRequired,details:o.a.array.isRequired,learnMoreUrl:o.a.string.isRequired},U.propTypes={title:o.a.string.isRequired,levels:o.a.array.isRequired},B.propTypes={goToSection:o.a.func.isRequired,storyStyleScore:o.a.number.isRequired,showTips:o.a.bool},H.propTypes={score:o.a.string.isRequired,details:o.a.string,circleSize:o.a.number.isRequired,scoreFontSize:o.a.number.isRequired,detailsFontSize:o.a.number},V.propTypes={goToSection:o.a.func.isRequired,readabilityAgeRange:o.a.string.isRequired,sameScoreCover:o.a.string,showTips:o.a.bool};var G=n(10),Y=n.n(G);function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function J(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Q(e){var t=e.data;return Y.a.isNull(t)||Y.a.isUndefined(t)?"N/A":Y.a.isArray(t)?(t.length&&t[0].frequency&&(t=t.filter(function(e){return e.frequency>1}).map(function(e){return e.token})),0===t.length?"N/A":t.join(", ")):Y.a.isNumber(t)?Math.round(t):t}function Z(e){var t=e.title,n=e.partId,r=e.storyId;return s.a.createElement("a",{href:"/myworks/".concat(r,"/write/").concat(n),target:"_blank",rel:"noopener noreferrer",className:"part-title-link"},t)}function X(e){var t=e.title,n=e.storyId,r=e.columnHeaders,a=e.columns,o=e.storyParts,l=e.partsMetadata,c=e.customRenderColumnMap,d=void 0===c?{}:c,m=K(Object(i.useState)(!1),2),p=m[0],f=m[1],g=Object(i.useMemo)(function(){return function(e,t){return e.map(function(e){var n=e.id,r=t.map(function(e){return e.find(function(e){return e.id===n})});return Y.a.merge.apply(null,[{},e].concat(J(r)))}).filter(function(e){return!e.draft&&!e.deleted})}(o,l)},[o,l]),y=p?g.length:N,h=g.length>N;return s.a.createElement("div",{className:"parts-data-table-wrapper"},t&&s.a.createElement("h3",{className:"table-header"},t),s.a.createElement("div",{className:"parts-data-table"},s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,r.map(function(e){return s.a.createElement("th",{key:e},e)})),g.map(function(e,t){return s.a.createElement("tr",{className:v()({"visible-print":t>=y}),key:e.id},a.map(function(t){var r,a=d[t];return r=a?a(e):"title"===t?s.a.createElement(Z,{title:e.title,partId:e.id,storyId:n}):s.a.createElement(Q,{data:e[t]}),s.a.createElement("td",{key:t},r)}))}))),h&&s.a.createElement("div",{className:"toggle-parts-shown hidden-print"},s.a.createElement("button",{className:"btn-no-style btn-right-icon",onClick:function(){return f(!p)}},s.a.createElement("strong",null,p?"Show Less":"Show All")," ",s.a.createElement(u.e,{size:"18",name:"triangle",className:v()("triangle-icon",{flip:!p}),color:"wp-neutral-2",fill:!0})))))}Q.propTypes={data:o.a.oneOfType([o.a.node,o.a.array])},Z.propTypes={title:o.a.string.isRequired,partId:o.a.number.isRequired,storyId:o.a.string.isRequired},X.propTypes={title:o.a.string,storyId:o.a.string.isRequired,columnHeaders:o.a.array.isRequired,columns:o.a.array.isRequired,storyParts:o.a.array.isRequired,partsMetadata:o.a.array.isRequired,customRenderColumnMap:o.a.object};var ee=1500,te=3e3,ne=100,re=function(e){var t=e.word_count;return t<ee-ne?"Add ".concat(ee-t," words"):t>te+ne?"Remove ".concat(t-te," words"):null};function ae(e){var t=e.formattedTotalReadingTime,n=e.readingTimeParts,r=e.wordCountParts,a=e.storyParts,o=e.storyId;return s.a.createElement("div",{className:"insights-section insights-module reading-time"},s.a.createElement("div",{className:"insights-subsection"},s.a.createElement("h2",null,j.READING_TIME),s.a.createElement("div",{className:"score-body"},s.a.createElement(H,{circleSize:170,score:t,details:"full story",scoreFontSize:40,detailsFontSize:18}),s.a.createElement("div",{className:"reading-time-explanation"},s.a.createElement("h5",{className:"explanation-title"},"Understanding your Reading Time"),s.a.createElement("span",null,"Keeping your story parts a similar length to one another is vital for a reader's trust and expectation. Consistency is key."," ",s.a.createElement("strong",null,"The sweet spot for story part length on Wattpad is around 6 minutes (1,500 words) to 12 minutes (3,000 words)."))))),s.a.createElement(X,{title:"Reading Time - Part Level",storyId:o,columnHeaders:["Story Part","Reading Time (Minutes)","Word Count","Suggested Edit"],columns:["title","reading_time","word_count","suggestedEdit"],partsMetadata:[n,r],storyParts:a,customRenderColumnMap:{title:function(e){var t=e.title,n=e.word_count,r=e.id,a=n<ee-ne||n>te+ne,i=s.a.createElement(Z,{title:t,partId:r,storyId:o});return a?s.a.createElement(s.a.Fragment,null,s.a.createElement(u.e,{className:"part-length-warning-icon",name:"circle",size:"8",color:"wp-base-1-dark",fill:!0}),i):i},suggestedEdit:re}}),s.a.createElement(D,x))}function oe(e){var t=e.sentenceLengthParts,n=e.formattedAverageSentenceLength,r=e.formattedTotalLongSentenceCount,a=e.storyParts,o=e.storyId;return s.a.createElement("div",{className:"insights-section insights-module sentence-structure"},s.a.createElement("div",{className:"insights-subsection"},s.a.createElement("h2",null,j.SENTENCE_STRUCTURE),s.a.createElement("div",{className:"score-body"},s.a.createElement("div",{className:"score-circle-with-copy"},s.a.createElement(H,{circleSize:170,score:n,details:"average words per sentence",scoreFontSize:40,detailsFontSize:18}),s.a.createElement("span",null,s.a.createElement("h5",{className:"sentence-details-title"},"Target Sentence Length"),s.a.createElement("span",{className:"sentence-details-copy"},"Your average Sentence Length should be somewhere between 15 - 20 words. Remember, writing is an art and not a science, so if you are on the lower or higher end of this, that’s okay."))),s.a.createElement("div",{className:"score-circle-with-copy"},s.a.createElement(H,{circleSize:170,score:r,details:"long sentences",scoreFontSize:40,detailsFontSize:18}),s.a.createElement("span",null,s.a.createElement("h5",{className:"sentence-details-title"},"Identifying Lengthy Sentences"),s.a.createElement("span",{className:"sentence-details-copy"},"Long sentences contain more than 25 words. Usually, they can be quickly edited by being broken up. Occasional use of long sentences is fine, but try to avoid writing using them too often as they can bog down the reading experience."))))),s.a.createElement(X,{title:"Sentence Length - Part Level",storyId:o,columnHeaders:["Story Part","Average Sentence Length","Long Sentence Count"],columns:["title","average_sent_length","total_long_sent_count"],partsMetadata:[t],storyParts:a}),s.a.createElement(D,L))}function ie(e){var t=e.adverbUsageParts,n=e.storyParts,r=e.storyId;return s.a.createElement("div",{className:"insights-section insights-module adverb-usage"},s.a.createElement("div",{className:"adverb-usage-main insights-subsection"},s.a.createElement("h2",null,j.ADVERB_USAGE),s.a.createElement("div",{className:"score-body"},s.a.createElement("h5",null,"Limiting the use of Adverbs"),s.a.createElement("span",null,"Adverbs are adjective and verb word modifiers. For example, the words “slow”, “soft”, and “beautiful” become adverbs when written as “slowly”, “softly”, and “beautifully”. They help quickly (see, we just used an adverb) add more description, but overusing them makes us lazier writers over time."))),s.a.createElement(X,{storyId:r,columnHeaders:["Story Part","Adverbs Used"],columns:["title","frequent_adverbs"],partsMetadata:[t],storyParts:n}),s.a.createElement(D,I))}function se(e){var t=e.overusedWordsParts,n=e.leadingWordsParts,r=e.storyParts,a=e.storyId;return s.a.createElement("div",{className:"insights-section insights-module word-repetition"},s.a.createElement("div",{className:"word-repetition-main insights-subsection"},s.a.createElement("h2",null,j.WORD_REPETITION),s.a.createElement("div",{className:"score-body"},s.a.createElement("div",{className:"sentence-advice"},s.a.createElement("h5",null,"Starting sentences in the same way"),s.a.createElement("span",null,"If you're starting your sentences in the same way, you're making the flow of your story repetitive. Identifying your most commonly used sentence starter words is a way to ensure you're not using the same words recurrently as a crutch.")),s.a.createElement("div",{className:"sentence-advice"},s.a.createElement("h5",null,"Reusing the same words"),s.a.createElement("span",null,"We’re not just repeating the same words when we start our sentences, but unintentionally, we overuse our favourite words throughout an entire story. To keep the story dynamic for the reader, switch up some of your overused words for another word.")))),s.a.createElement(X,{storyId:a,columnHeaders:["Story Part","Repeated Sentence Starters","Most Repeated Words"],columns:["title","frequent_leading_words","overused_words"],partsMetadata:[t,n],storyParts:r}),s.a.createElement(D,q))}ae.propTypes={formattedTotalReadingTime:o.a.string.isRequired,readingTimeParts:o.a.array.isRequired,wordCountParts:o.a.array.isRequired,storyParts:o.a.array.isRequired,storyId:o.a.string.isRequired},oe.propTypes={sentenceLengthParts:o.a.array.isRequired,formattedAverageSentenceLength:o.a.string.isRequired,formattedTotalLongSentenceCount:o.a.string.isRequired,storyParts:o.a.array.isRequired,storyId:o.a.string.isRequired},ie.propTypes={adverbUsageParts:o.a.array.isRequired,storyParts:o.a.array.isRequired,storyId:o.a.string.isRequired},se.propTypes={overusedWordsParts:o.a.array.isRequired,leadingWordsParts:o.a.array.isRequired,storyParts:o.a.array.isRequired,storyId:o.a.string.isRequired};var le=[{id:20044727,title:"Chapter I"},{id:20045032,title:"Chapter II"},{id:20045076,title:"Chapter III"},{id:20045109,title:"Chapter IV"},{id:20045138,title:"Chapter V"}],ce={adverbs_parts:[{id:20044727,frequent_adverbs:["immediately","likely","certainly","only","merely","surely"]},{id:20045032,frequent_adverbs:["certainly","suddenly","really","only","actually"]},{id:20045076,frequent_adverbs:["only","lively","highly","wonderfully","extremely","happily","equally","merely","early","occasionally"]},{id:20045109,frequent_adverbs:["certainly","lively","possibly","honestly","deeply","nearly","only","immediately","greatly","continually"]},{id:20045138,frequent_adverbs:["only","strongly","absolutely","hardly","immediately","certainly","safely","highly","easily","directly"]}],complexity:10,last_updated:"2019-11-19 00:00:00",leading_words_parts:[{id:20044727,frequent_leading_words:[{token:"you",frequency:7},{token:"but",frequency:6},{token:"i",frequency:6},{token:"mr.",frequency:4},{token:"it",frequency:3},{token:"my",frequency:3},{token:"what",frequency:2},{token:"is",frequency:2},{token:"how",frequency:2},{token:"when",frequency:2}]},{id:20045032,frequent_leading_words:[{token:"i",frequency:8},{token:"but",frequency:3},{token:"the",frequency:3},{token:"what",frequency:3},{token:"it",frequency:2},{token:"she",frequency:2},{token:"mrs.",frequency:2},{token:"do",frequency:2},{token:"mr.",frequency:1},{token:"he",frequency:1}]},{id:20045076,frequent_leading_words:[{token:"i",frequency:9},{token:"mr.",frequency:8},{token:"he",frequency:6},{token:"the",frequency:4},{token:"she",frequency:4},{token:"his",frequency:4},{token:"you",frequency:4},{token:"oh",frequency:4},{token:"they",frequency:3},{token:"and",frequency:3}]},{id:20045109,frequent_leading_words:[{token:"i",frequency:6},{token:"he",frequency:5},{token:"but",frequency:4},{token:"bingley",frequency:4},{token:"you",frequency:3},{token:"miss",frequency:3},{token:"they",frequency:3},{token:"mr.",frequency:3},{token:"his",frequency:2},{token:"in",frequency:2}]},{id:20045138,frequent_leading_words:[{token:"i",frequency:6},{token:"the",frequency:4},{token:"that",frequency:3},{token:"you",frequency:3},{token:"but",frequency:3},{token:"if",frequency:3},{token:"by",frequency:2},{token:"oh",frequency:2},{token:"mr.",frequency:2},{token:"pride",frequency:2}]}],overused_words_parts:[{id:20044727,overused_words:[{token:"mr.",frequency:10},{token:"dear",frequency:8},{token:"bennet",frequency:6},{token:"know",frequency:5},{token:"visit",frequency:5},{token:"single",frequency:4},{token:"man",frequency:4},{token:"wife",frequency:4},{token:"daughters",frequency:4},{token:"bingley",frequency:4}]},{id:20045032,overused_words:[{token:"mr.",frequency:13},{token:"bennet",frequency:9},{token:"said",frequency:9},{token:"bingley",frequency:7},{token:"mrs.",frequency:7},{token:"visit",frequency:5},{token:"know",frequency:5},{token:"long",frequency:4},{token:"kitty",frequency:4},{token:"wife",frequency:3}]},{id:20045076,overused_words:[{token:"mr.",frequency:24},{token:"bingley",frequency:16},{token:"bennet",frequency:12},{token:"mrs.",frequency:8},{token:"room",frequency:8},{token:"sisters",frequency:7},{token:"darcy",frequency:7},{token:"danced",frequency:7},{token:"dance",frequency:7},{token:"handsome",frequency:6}]},{id:20045109,overused_words:[{token:"bingley",frequency:11},{token:"good",frequency:7},{token:"darcy",frequency:7},{token:"miss",frequency:5},{token:"mr.",frequency:4},{token:"man",frequency:4},{token:"people",frequency:4},{token:"house",frequency:4},{token:"elizabeth",frequency:3},{token:"sister",frequency:3}]},{id:20045138,overused_words:[{token:"said",frequency:9},{token:"lucas",frequency:7},{token:"mrs.",frequency:7},{token:"miss",frequency:7},{token:"mr.",frequency:7},{token:"pride",frequency:7},{token:"think",frequency:4},{token:"bennet",frequency:4},{token:"believe",frequency:4},{token:"long",frequency:4}]}],readability:4,reading_time:593,reading_time_parts:[{id:20044727,reading_time:4},{id:20045032,reading_time:4},{id:20045076,reading_time:8},{id:20045109,reading_time:5},{id:20045138,reading_time:4}],total_long_sent_count:1334,average_sent_length:21.250539507694317,sent_length_parts:[{id:20044727,total_long_sent_count:6,average_sent_length:13.967213114754099},{id:20045032,total_long_sent_count:4,average_sent_length:14.907407407407407},{id:20045076,total_long_sent_count:17,average_sent_length:19.168539325842698},{id:20045109,total_long_sent_count:13,average_sent_length:19.071428571428573},{id:20045138,total_long_sent_count:8,average_sent_length:17.88888888888889}],word_count:123977,word_count_parts:[{id:20044727,word_count:852},{id:20045032,word_count:805},{id:20045076,word_count:1706},{id:20045109,word_count:1068},{id:20045138,word_count:966}]},ue="6630775",de=function(e){var t=e.last_updated,n=e.readability,r=e.complexity,a=e.reading_time_parts,o=e.reading_time,i=e.word_count_parts,s=e.sent_length_parts,l=e.average_sent_length,c=e.total_long_sent_count,u=e.adverbs_parts,d=e.overused_words_parts,m=e.leading_words_parts,p=R[n]||R.default,f=p.ageRange,g=p.sameScoreCover,y=function(e){var t=Math.floor(e/60),n=e%60,r=t>0?"".concat(t,"h"):"",a="".concat(n,"m");return"".concat(r).concat(a)}(o),h=String(Object(E.a)(c)),b=String(Math.round(l));return{dateUpdated:t,readingTimeParts:a,wordCountParts:i,sentenceLengthParts:s,adverbUsageParts:u,overusedWordsParts:d,leadingWordsParts:m,storyStyleScore:Math.ceil(r/2),readabilityAgeRange:f,sameReadabilityScoreCover:g,formattedTotalReadingTime:y,formattedTotalLongSentenceCount:h,formattedAverageSentenceLength:b}};function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function pe(e){var t=e.title,n=de(ce),r=n.readingTimeParts,a=n.wordCountParts,o=n.sentenceLengthParts,i=n.adverbUsageParts,l=n.overusedWordsParts,c=n.leadingWordsParts,u=n.storyStyleScore,d=n.readabilityAgeRange,m=n.sameReadabilityScoreCover,p=n.formattedTotalReadingTime,f=n.formattedTotalLongSentenceCount,g=n.formattedAverageSentenceLength,y=function(){};switch(t){case j.WRITING_STYLE:return s.a.createElement(B,{storyStyleScore:u,goToSection:y,showTips:!1});case j.STORY_READABILITY:return s.a.createElement(V,{readabilityAgeRange:d,sameScoreCover:m,goToSection:y,showTips:!1});case j.READING_TIME:return s.a.createElement(ae,{formattedTotalReadingTime:p,readingTimeParts:r,wordCountParts:a,storyParts:le,storyId:ue});case j.SENTENCE_STRUCTURE:return s.a.createElement(oe,{sentenceLengthParts:o,formattedAverageSentenceLength:g,formattedTotalLongSentenceCount:f,storyParts:le,storyId:ue});case j.ADVERB_USAGE:return s.a.createElement(ie,{adverbUsageParts:i,storyParts:le,storyId:ue});case j.WORD_REPETITION:return s.a.createElement(se,{overusedWordsParts:l,leadingWordsParts:c,storyParts:le,storyId:ue});default:throw new Error("Section ".concat(t," doesn't exist"))}}function fe(e){var t=e.onPurchaseCtaClick,n=e.onPurchaseCtaView;Object(i.useEffect)(n,[]);var r=me(Object(i.useState)(j.WRITING_STYLE),2),a=r[0],o=r[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",{className:"header-red"},"Sample Report"),s.a.createElement("div",{className:"sample-preview"},s.a.createElement("div",{className:"sample-sections"},Object.values(j).map(function(e){var t=a===e;return s.a.createElement("button",{key:e,onClick:function(){return o(e)},className:v()("btn-no-background sample-section-select",{selected:t})},s.a.createElement(u.e,{size:"24",name:"remove",className:v()({invisible:!t})}),e)})),s.a.createElement("div",{className:"sample-content"},s.a.createElement("div",{id:"story-insights-dashboard"},s.a.createElement(pe,{title:a})),s.a.createElement("a",{href:"#purchase-cta",onClick:t,className:"btn-primary go-to-purchase"},"Get report"))))}function ge(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function he(e,t){window.te.push("event","story_insights","faq",null,"view",{storyid:parseInt(e,10),source:t})}function be(e,t){window.te.push("event","story_insights","faq",null,"click",{storyid:parseInt(e,10),source:t})}function ve(){var e=ye(Object(i.useState)([]),2),t=e[0],n=e[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",null,"Frequently Asked Questions"),l.c.map(function(e){var r=e.question,a=e.answer,o=t.includes(r),i=o?"chevUp":"chevDown";return s.a.createElement(s.a.Fragment,{key:r},s.a.createElement("button",{className:"question btn-no-background",onClick:function(){return function(e){if(t.includes(e)){var r=t.filter(function(t){return t!==e});n(r)}else n([].concat(ge(t),[e]))}(r)}},s.a.createElement("span",null,r," "),s.a.createElement(u.e,{name:i})),o&&s.a.createElement("div",{className:"answer"},a))}))}function we(e,t,n){window.te.push("event","cta",null,null,n,{page:"story_insights",storyid:parseInt(e,10),cta_type:"purchase_report",cta_source:t})}function Ee(e,t){window.te.push("event","cta",null,null,t,{page:"story_insights",storyid:parseInt(e,10),cta_type:"explore_report"})}function Oe(e){var t=e.onPurchaseCtaView,n=e.onPurchaseCtaClick,r=e.onLearnMoreView,a=e.onLearnMoreClick;return Object(i.useEffect)(function(){t(),r()},[t,r]),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"cta-copy"},s.a.createElement("h2",null,"Introducing Wattpad Story Insights"),s.a.createElement("p",null,"An analysis tool designed to empower writers to get actionable feedback, hone their craft, and get primed for professional writing opportunities on Wattpad and beyond."),s.a.createElement("div",{className:"cta-buttons"},s.a.createElement("a",{href:"#purchase-cta",onClick:n,className:"btn-primary"},"Get report"),s.a.createElement("a",{href:"#report-sample",onClick:a,className:"whats-inside btn-right-icon"},"Explore the report ",s.a.createElement(u.e,{size:"24",name:"chevDown"})))),s.a.createElement("div",{className:"cta-image-container"},s.a.createElement(u.c,{name:"desktop-web/story-report-cta.png",className:"cta-image"})))}function Se(){var e=Object(i.useRef)(null);function t(){e.current.onResize()}return s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",{className:"header-red"},"What Wattpad Writers Have to Say"),s.a.createElement(w.a,{ref:e,wrapAround:!0,autoplay:!0,autoplayInterval:6e3,renderCenterLeftControls:null,renderBottomCenterControls:function(e){var t=e.goToSlide,n=e.currentSlide;return s.a.createElement("div",{className:"paging-buttons"},l.a.map(function(e,r){var a=r===n;return s.a.createElement("button",{className:"btn btn-no-background",key:e.title,onClick:function(){return t(r)}},s.a.createElement(u.e,{iconName:"fa-circle-filled",className:v()("paging-icon",{active:a}),height:"20",color:"wp-neutral-3"}))}))},renderCenterRightControls:null},l.a.map(function(e){var n=e.header,r=e.testimonial,a=e.author,o=e.title,i=e.coverImage;return s.a.createElement("div",{key:r,className:"testimonial"},s.a.createElement("div",{className:"testimonial-copy"},s.a.createElement("h4",null,n),s.a.createElement("p",{className:"testimonial-body"},"“",r,"”"),s.a.createElement("div",{className:"testimonial-source"},a," ",s.a.createElement("i",null,"Author of ",o))),s.a.createElement("div",{className:"testimonial-cover"},s.a.createElement("img",{onLoad:t,src:i,alt:"Cover of ".concat(o),width:"255",height:"400"})))})))}function ke(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",null,"Terms & Conditions"),s.a.createElement("ul",null,s.a.createElement("li",null,"The Story Insights Report is currently available at an Introductory Price of USD $9.99. Wattpad reserves the right to change this price at any time after launch."),s.a.createElement("li",null,"All purchases made on www.wattpad.com are non-refundable."),s.a.createElement("li",null,"By ordering this Report, you consent to Wattpad running an analysis on your story."),s.a.createElement("li",null,"To ensure the report is as accurate as possible:",s.a.createElement("ul",null,s.a.createElement("li",null,"Your story must be written in English"),s.a.createElement("li",null,"Your story must be published on Wattpad"),s.a.createElement("li",null,"Your story must comprise of narrative storytelling, and not poetry."))),s.a.createElement("li",null,"While having a Completed story is not a requirement, the minimum length of your story should be around 3,000 words."),s.a.createElement("li",null,"The tool only takes published parts into account. Any parts you wish to have reviewed should be published on Wattpad, and not hidden away in your drafts until the time you have received your Report."),s.a.createElement("li",null,"You should ideally only include published parts that you consider completed, excluding content such as author’s notes, cast & character descriptions, playlist recommendations, etc. for the purposes of the Report.")))}function Ne(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(u.c,{name:"writer-insights/story-requirements.svg",className:"requirements-illustration",width:"260px",height:"223px"}),s.a.createElement("div",null,s.a.createElement("h2",{className:"header-red"},"Story Requirements"),s.a.createElement("h5",{className:"requirements-subheader"},"To ensure the report is as accurate as possible:"),s.a.createElement("div",{className:"requirements-list"},l.f.map(function(e){return s.a.createElement("div",{className:"story-requirement",key:e},s.a.createElement(u.e,{name:"success",className:"requirement-icon",size:"24",color:"wp-neutral-1"}),e)}))))}function _e(e){var t=e.storyId,n=e.toggleModal;Object(i.useEffect)(function(){he(t,"pre_purchase")},[t]);return s.a.createElement("div",{className:"purchase-panel-container"},s.a.createElement("div",{className:"purchase-panel"},s.a.createElement("h4",null,"Story Insights Report"),s.a.createElement("div",{className:"discount-price"},"USD ",s.a.createElement("strong",null,"$9.99")),s.a.createElement("div",{className:"discount-details"},"per report"),s.a.createElement("p",{className:"report-includes"},"Each report includes:"),s.a.createElement("div",{className:"report-features"},l.e.map(function(e){return s.a.createElement("span",{className:"report-feature",key:e},s.a.createElement(u.c,{name:"writer-insights/checkmark.png",width:"18",height:"18",className:"checkmark"})," ",e)})),s.a.createElement("div",{className:"purchase-fineprint"},s.a.createElement("div",null,"All purchases are non-refundable."),s.a.createElement("div",{className:"processing-time"},s.a.createElement(u.e,{className:"clock",name:"history",size:"20",color:"wp-neutral-1"})," ","Estimated Processing Time: 24-48hrs")),s.a.createElement("button",{className:"btn-primary purchase",onClick:function(){return k({storyId:t,isRepurchase:!1})}},"Get report"),s.a.createElement("div",{className:"purchase-disclaimer"},"By purchasing this report, you accept the"," ",s.a.createElement("button",{className:"btn-link btn-no-style terms-and-conditions",onClick:function(){var e=function(){return s.a.createElement(ke,null)};e.displayName="TermsAndConditions",n({component:e,className:"insights-terms-conditions"})}},"terms and conditions."))),s.a.createElement("div",{className:"having-trouble"},s.a.createElement(u.e,{className:"help-circle",name:"helpCircle",color:"wp-neutral-2",size:"18"}),"Having trouble? Check out our"," ",s.a.createElement("button",{className:"btn-link btn-no-style",onClick:function(){be(t,"pre_purchase"),n({component:function(){return s.a.createElement(ve,null)},className:"insights-faq"})}},"FAQs")," ","or"," ",s.a.createElement("a",{href:"https://support.wattpad.com/hc/en-us/requests/new",target:"_blank",rel:"noopener noreferrer"}," ","submit a ticket.")))}fe.propTypes={onPurchaseCtaView:o.a.func.isRequired,onPurchaseCtaClick:o.a.func.isRequired},Oe.propTypes={onPurchaseCtaView:o.a.func.isRequired,onPurchaseCtaClick:o.a.func.isRequired,onLearnMoreView:o.a.func.isRequired,onLearnMoreClick:o.a.func.isRequired},_e.propTypes={storyId:o.a.string.isRequired,toggleModal:o.a.func.isRequired};var je=Object(r.b)(null,{toggleModal:O.c})(_e);function Ce(e){var t=e.storyId,n=e.viewedInsightsPage;Object(i.useEffect)(function(){return n("story_insights_pre_purchase")},[n]);var r=Object(i.useRef)(null),a=Object(i.useRef)(null),o=function(e){e.preventDefault(),Object(E.n)(r.current),window.history.pushState(null,null,"#purchase-cta")};return s.a.createElement("div",{className:"insights-pre-purchase"},s.a.createElement("div",{className:"pre-purchase-section",id:"insights-cta"},s.a.createElement("div",{className:"section-content"},s.a.createElement(Oe,{onPurchaseCtaView:function(){we(t,"page_top","view")},onPurchaseCtaClick:function(e){we(t,"page_top","click"),o(e)},onLearnMoreView:function(){Ee(t,"view")},onLearnMoreClick:function(e){Ee(t,"click"),function(e){e.preventDefault(),Object(E.n)(a.current,-40),window.history.pushState(null,null,"#report-sample")}(e)}}))),s.a.createElement("div",{className:"pre-purchase-section",id:"value-props"},s.a.createElement("div",{className:"section-content"},s.a.createElement("h2",{className:"header-red"},"Your story has potential. Uncover it."),s.a.createElement("div",{className:"props-container"},l.i.map(function(e){var t=e.image,n=e.header,r=e.body;return s.a.createElement("div",{className:"value-prop",key:n},s.a.createElement(u.c,{name:t,className:"illustration",width:"160",height:"125"}),s.a.createElement("h5",{className:"header-red"},n),s.a.createElement("p",null,r))})))),s.a.createElement("div",{className:"pre-purchase-section",id:"report-sample",ref:a},s.a.createElement("div",{className:"section-content"},s.a.createElement(fe,{onPurchaseCtaView:function(){we(t,"page_middle","view")},onPurchaseCtaClick:function(e){we(t,"page_middle","click"),o(e)}}))),s.a.createElement("div",{className:"pre-purchase-section",id:"testimonials"},s.a.createElement("div",{className:"section-content"},s.a.createElement(Se,null))),s.a.createElement("div",{className:"pre-purchase-section",id:"story-requirements"},s.a.createElement("div",{className:"section-content"},s.a.createElement(Ne,null))),s.a.createElement("div",{className:"pre-purchase-section",id:"purchase-cta",ref:r},s.a.createElement("div",{className:"section-content"},s.a.createElement(je,{storyId:t}))))}function Pe(e){var t=e.toggleModal,n=e.storyId,r=e.viewedInsightsPage;Object(i.useEffect)(function(){he(n,"post_purchase"),r("story_insights_post_purchase")},[n,r]);return s.a.createElement("div",{id:"insights-pending",className:"dashboard-cta"},s.a.createElement("h1",null,"You’re all set!"),s.a.createElement("h3",null,"Your report will be ready within 24-48 hours and we'll drop in to your Wattpad Inbox to let you know."),s.a.createElement(u.g,{animationId:"insights-pending-animation",animationOptions:{animType:"svg",loop:!0,path:"/img/lottie-animations/insights-pending.json"}}),s.a.createElement("div",{className:"details"},s.a.createElement(u.e,{className:"help-circle",name:"helpCircle",color:"wp-neutral-2",size:"15"}),"Having trouble? Check out our"," ",s.a.createElement("button",{className:"btn-link",onClick:function(){be(n,"post_purchase"),t({component:function(){return s.a.createElement(ve,null)},className:"insights-faq"})}},"FAQs")," ","or"," ",s.a.createElement("a",{href:"https://support.wattpad.com/hc/en-us/requests/new",target:"_blank",rel:"noopener noreferrer"}," ","submit a ticket.")))}Ce.propTypes={storyId:o.a.string.isRequired,viewedInsightsPage:o.a.func.isRequired},Pe.propTypes={toggleModal:o.a.func.isRequired,storyId:o.a.string.isRequired,viewedInsightsPage:o.a.func.isRequired};var Te=Object(r.b)(null,{toggleModal:O.c})(Pe);function Re(e){var t=e.pending,n=e.storyId,r=e.storyLanguage,a=e.storyCategories,o=e.viewedInsightsPage,i=e.returningFromSuccessfulPurchase,l=window.wattpad.testGroups.PAID_WRITER_INSIGHTS,c=1===r,d=a.includes(2),m=l&&c&&!d;return void 0===t?s.a.createElement("div",{id:"insights-loading"},s.a.createElement(u.f,null)):t||i?s.a.createElement(Te,{storyId:n,viewedInsightsPage:o}):m?s.a.createElement(Ce,{storyId:n,viewedInsightsPage:o}):s.a.createElement(y,null)}Re.propTypes={storyId:o.a.string.isRequired,pending:o.a.bool,storyLanguage:o.a.number.isRequired,storyCategories:o.a.array.isRequired,viewedInsightsPage:o.a.func.isRequired,returningFromSuccessfulPurchase:o.a.bool};var xe=Object(r.b)(function(e){return{pending:e.storyInsights.pending}})(Re);function Le(e){var t=e.storyId,n=e.pending,r=e.pageContext,a=e.returningFromSuccessfulPurchase,o=n||a,i=o?"Hang tight! Your new Story Insights Report is being generated.":"Made new edits to your story?",l=o?"We’ll drop into your Wattpad Inbox within 24-48 hours to let you know when your report is ready.":s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"You can track improvements in your writing and get feedback on new parts by purchasing another report.")," ",s.a.createElement("i",null,"*Don’t forget to save your current report on your device before ordering a new one so you can compare the results!"));return s.a.createElement("div",{className:"insights-module purchase-cta-panel hidden-print "},s.a.createElement("div",{className:"purchase-cta"},s.a.createElement("div",{className:"cta-header"},i),s.a.createElement("div",null,l)),o?s.a.createElement(u.g,{animationId:"insights-pending-repurchase-animation-".concat(r),animationOptions:{animType:"svg",loop:!0,path:"/img/lottie-animations/insights-pending-repurchase.json"},className:"insights-pending-repurchase-animation"}):s.a.createElement("button",{onClick:function(){return k({storyId:t,isRepurchase:!0})},className:"btn-primary purchase"},"Get new report"))}Le.propTypes={storyId:o.a.string.isRequired,pending:o.a.bool,pageContext:o.a.string.isRequired,returningFromSuccessfulPurchase:o.a.bool};var Ie=Object(r.b)(function(e){return{pending:e.storyInsights.pending}})(Le);function qe(e){var t=e.storyTitle,n=e.storyId,r=e.returningFromSuccessfulPurchase,a=wattpad.user.username;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"report-greeting"},s.a.createElement("span",null,s.a.createElement("h3",null,"Hello there, ",a),s.a.createElement("strong",null,"Dive into your Story Insights for ",t)),s.a.createElement("button",{className:"btn-secondary btn-left-icon export-report hidden-print",onClick:function(){window.te.push("event","story-insights","report",null,"export",{storyid:parseInt(n,10),export_format:"pdf"}),window.print()}},s.a.createElement(u.e,{name:"download",size:"18",color:"wp-neutral-1"}),"Export report")),s.a.createElement(Ie,{storyId:n,pageContext:"header",returningFromSuccessfulPurchase:r}))}function Ae(e){var t=e.title,n=e.score,r=e.details,a=e.onArrowClick;return s.a.createElement("div",{className:"score-preview"},s.a.createElement("div",{className:"score-header"},t),s.a.createElement("div",{className:"score-result"},s.a.createElement("span",null,n),s.a.createElement("button",{className:"btn-right-icon btn-no-style",onClick:a},s.a.createElement(u.e,{size:"18",name:"arrowCircleRight",color:"wp-base-1-dark"}))),s.a.createElement("div",null,r))}function Me(e){var t=e.dateUpdated,n=e.goToSection,r=e.readabilityAgeRange,a=e.formattedTotalReadingTime,o=e.storyStyleScore,i=e.formattedTotalLongSentenceCount,l=e.formattedAverageSentenceLength,c=new Date(t.split(" ")[0]).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),d=P[o].styleName;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"insights-subsection"},s.a.createElement("div",{className:"header"},s.a.createElement("h2",null,"Summary"),s.a.createElement("span",{className:"create-date"},"Created On: ",c)),s.a.createElement("div",{className:"style-score-summary"},s.a.createElement(A,{storyStyleScore:o,size:250}),s.a.createElement("div",{className:"style-score-details"},s.a.createElement("span",null,"This story is written in a"),s.a.createElement("h1",{className:"header-red"},d),s.a.createElement("button",{className:"more-info btn-right-icon btn-link btn-no-style hidden-print",onClick:function(){return n(j.WRITING_STYLE)}},"What does this mean?",s.a.createElement(u.e,{size:"24",name:"arrowCircleDown",color:"wp-base-1-dark"})))),s.a.createElement("div",null)),s.a.createElement("div",{className:"sections-stats insights-subsection"},s.a.createElement(Ae,{title:"Reading Accessibility",score:r,details:"years old",onArrowClick:function(){return n(j.STORY_READABILITY)}}),s.a.createElement(Ae,{title:"Reading Time",score:a,details:"full story",onArrowClick:function(){return n(j.READING_TIME)}}),s.a.createElement(Ae,{title:"Sentence Length",score:i,details:"long sentences",onArrowClick:function(){return n(j.SENTENCE_STRUCTURE)}}),s.a.createElement(Ae,{title:"Words per Sentence",score:l,details:"average words",onArrowClick:function(){return n(j.SENTENCE_STRUCTURE)}})))}function De(e){var t=e.toggleModal,n=e.storyId,r=e.returningFromSuccessfulPurchase;Object(i.useEffect)(function(){return he(n,"purchased_report")},[n]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ie,{storyId:n,pageContext:"footer",returningFromSuccessfulPurchase:r}),s.a.createElement("div",{className:"having-trouble"},s.a.createElement(u.e,{className:"help-circle",name:"helpCircle",size:"18",color:"wp-neutral-2"}),s.a.createElement("span",null,"Having trouble? Check out our"," ",s.a.createElement("button",{className:"btn-link btn-no-style",onClick:function(){be(n,"purchased_report"),t({component:function(){return s.a.createElement(ve,null)},className:"insights-faq"})}},"FAQs")," ","or"," ",s.a.createElement("a",{href:"https://support.wattpad.com/hc/en-us/requests/new",target:"_blank",rel:"noopener noreferrer"}," ","submit a ticket."))))}qe.propTypes={storyTitle:o.a.string.isRequired,storyId:o.a.string.isRequired,returningFromSuccessfulPurchase:o.a.bool},Ae.propTypes={title:o.a.string.isRequired,score:o.a.string.isRequired,details:o.a.string.isRequired,onArrowClick:o.a.func.isRequired},Me.propTypes={dateUpdated:o.a.string.isRequired,goToSection:o.a.func.isRequired,readabilityAgeRange:o.a.string.isRequired,formattedTotalReadingTime:o.a.string.isRequired,storyStyleScore:o.a.number.isRequired,formattedTotalLongSentenceCount:o.a.string.isRequired,formattedAverageSentenceLength:o.a.string.isRequired},De.propTypes={toggleModal:o.a.func.isRequired,storyId:o.a.string.isRequired,returningFromSuccessfulPurchase:o.a.bool};var Fe=Object(r.b)(null,{toggleModal:O.c})(De);function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e){var t=e.storyInsights,n=e.storyTitle,r=e.storyId,a=e.storyParts,o=e.viewedInsightsPage,l=e.returningFromSuccessfulPurchase;Object(i.useEffect)(function(){return o("story_insights_purchased_report")},[o]);var c=de(t),u=c.dateUpdated,d=c.readingTimeParts,m=c.wordCountParts,p=c.sentenceLengthParts,f=c.adverbUsageParts,g=c.overusedWordsParts,y=c.leadingWordsParts,h=c.storyStyleScore,b=c.readabilityAgeRange,v=c.sameReadabilityScoreCover,w=c.formattedTotalReadingTime,O=c.formattedTotalLongSentenceCount,S=c.formattedAverageSentenceLength,k=Object(i.useRef)(),N=Object(i.useRef)(),_=Object(i.useRef)(),C=Object(i.useRef)(),P=Object(i.useRef)(),T=Object(i.useRef)(),R=function(e){var t,n=(Ue(t={},j.WRITING_STYLE,k),Ue(t,j.STORY_READABILITY,N),Ue(t,j.READING_TIME,_),Ue(t,j.SENTENCE_STRUCTURE,C),Ue(t,j.ADVERB_USAGE,P),Ue(t,j.WORD_REPETITION,T),t)[e];n&&n.current&&Object(E.n)(n.current,-80)};return s.a.createElement("div",{id:"story-insights-dashboard"},s.a.createElement("div",{className:"report-header"},s.a.createElement("div",{className:"insights-section"},s.a.createElement(qe,{storyTitle:n,storyId:r,returningFromSuccessfulPurchase:l}))),s.a.createElement("div",{className:"insights-section insights-module insights-summary"},s.a.createElement(Me,{dateUpdated:u,formattedTotalReadingTime:w,goToSection:R,readabilityAgeRange:b,storyStyleScore:h,formattedTotalLongSentenceCount:O,formattedAverageSentenceLength:S})),s.a.createElement("div",{ref:k},s.a.createElement(B,{storyStyleScore:h,goToSection:R})),s.a.createElement("div",{ref:N},s.a.createElement(V,{readabilityAgeRange:b,sameScoreCover:v,goToSection:R})),s.a.createElement("div",{ref:_},s.a.createElement(ae,{formattedTotalReadingTime:w,readingTimeParts:d,wordCountParts:m,storyParts:a,storyId:r})),s.a.createElement("div",{ref:C},s.a.createElement(oe,{sentenceLengthParts:p,formattedAverageSentenceLength:S,formattedTotalLongSentenceCount:O,storyParts:a,storyId:r})),s.a.createElement("div",{ref:P},s.a.createElement(ie,{adverbUsageParts:f,storyParts:a,storyId:r})),s.a.createElement("div",{ref:T},s.a.createElement(se,{overusedWordsParts:g,leadingWordsParts:y,storyParts:a,storyId:r})),s.a.createElement("div",{className:"report-footer hidden-print"},s.a.createElement("div",{className:"insights-section"},s.a.createElement(Fe,{storyId:r,returningFromSuccessfulPurchase:l}))))}function Be(e){var t=e.storyId,n=e.storyParts,r=e.storyTitle,a=e.storyLanguage,o=e.storyCategories,l=e.storyInsights,d=e.fetchStoryInsights,m=e.fetchInsightsPendingStatus,p=e.areInsights,f=e.returningFromSuccessfulPurchase;if(Object(i.useEffect)(function(){d(t),m(t)},[t,d,m]),void 0===p)return s.a.createElement("div",{id:"insights-loading"},s.a.createElement(u.f,null));function g(e){window.te.push("event","page","tab",null,"view",{storyid:parseInt(t,10),tab_name:e})}return s.a.createElement("div",{className:"writer-dashboard"},s.a.createElement(c.a,null),p?s.a.createElement(We,{storyInsights:l,storyId:t,storyParts:n,storyTitle:r,viewedInsightsPage:g,returningFromSuccessfulPurchase:f}):s.a.createElement(xe,{storyId:t,storyLanguage:a,storyCategories:o,viewedInsightsPage:g,returningFromSuccessfulPurchase:f}))}We.propTypes={storyParts:o.a.array.isRequired,storyId:o.a.string.isRequired,storyTitle:o.a.string.isRequired,storyInsights:o.a.object,pending:o.a.bool,viewedInsightsPage:o.a.func.isRequired,returningFromSuccessfulPurchase:o.a.bool},Be.propTypes={storyParts:o.a.array.isRequired,storyId:o.a.string.isRequired,storyTitle:o.a.string.isRequired,storyLanguage:o.a.number.isRequired,storyCategories:o.a.array.isRequired,storyInsights:o.a.object,fetchStoryInsights:o.a.func,fetchInsightsPendingStatus:o.a.func.isRequired,areInsights:o.a.bool,returningFromSuccessfulPurchase:o.a.bool};t.a=Object(r.b)(function(e){return{storyInsights:e.storyInsights.insights,areInsights:e.storyInsights.areInsights}},{fetchStoryInsights:function(e){var t="/v5/stories/".concat(e,"/insights");return function(e){return Promise.resolve($.get(t)).then(function(t){e(function(e){return{type:l.h,insights:e,areInsights:!0}}(t))}).catch(function(){e({type:l.b,insights:null,areInsights:!1})})}},fetchInsightsPendingStatus:function(e){var t="/v5/stories/".concat(e,"/insights/pending");return function(e){return Promise.resolve($.get(t)).then(function(t){var n=t.pending;e(function(e){return{type:l.g,pending:e}}(n))}).catch(function(){wattpad.utils.showToast()})}}})(Be)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(7),l=n(2),c=n(5),u=n(3),d=n.n(u),m=n(4);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var f=function(e){var t=p(Object(r.useState)(!1),2),n=t[0],o=t[1],i=p(Object(r.useState)(null),2),s=i[0],l=i[1];return Object(m.a)(s,function(){return o(!1)}),a.a.createElement("div",{id:e.id,ref:function(e){return l(e)},className:d()("dropdown",{visible:n})},a.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),o(!n)}},e.label,a.a.createElement("span",{className:"caret"})),n?e.children:null)};f.propTypes={id:i.a.string,label:i.a.string,children:i.a.object};var g=f;function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,v(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,r["Component"]),function(e,t,n){t&&h(e.prototype,t),n&&h(e,n)}(t,[{key:"render",value:function(){var e=this.props.trans;return a.a.createElement("div",{className:"dropdown-menu large","aria-labelledby":"community-dropdown"},a.a.createElement("ul",{"aria-label":"Community"},a.a.createElement("li",null,a.a.createElement("a",{href:"https://www.wattpadwriters.com"},e("Community"))),a.a.createElement("li",null,a.a.createElement("a",{href:"/awards"},e("The Wattys"))),a.a.createElement("li",null,a.a.createElement("a",{href:"/go/writing-contests/"},e("Writing Contests"))),a.a.createElement("li",null,a.a.createElement("a",{href:"/writers"},e("Writers")))))}}]),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(E,"propTypes",{trans:i.a.func.isRequired});var O=E;function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k(e){var t=e.browseTopics,n=e.curatedLists,r=Object(m.g)().trans;return a.a.createElement("div",{className:"dropdown-menu large","aria-labelledby":"browse-dropdown"},a.a.createElement("div",{className:"col-xs-9 discover-categories"},a.a.createElement("ul",{className:"row"},a.a.createElement("li",{className:"title col-xs-12","aria-label":"Browse Topics"},r("Browse")),t.map(function(e){var t=e.name,n=e.topic,o=wattpad.utils.categoryNameToUrl(t);return a.a.createElement("li",{className:"col-xs-4",key:t},a.a.createElement("a",{className:"on-navigate",href:o},r(n)))}))),a.a.createElement("div",{className:"col-xs-3 wattpad-picks"},a.a.createElement("ul",{className:"row"},a.a.createElement("li",{className:"title col-xs-12","aria-label":"Wattpad Picks"},r("Wattpad Picks")),n.map(function(e){var t=e.name,n=e.id;return a.a.createElement("li",{className:"col-xs-12",key:t},a.a.createElement("a",{href:"/featured/".concat(n)},r(t)))}))))}k.propTypes={browseTopics:i.a.array.isRequired,curatedLists:i.a.array.isRequired};var N=function(){var e=Object(m.g)().trans,t=S(Object(r.useState)([]),2),n=t[0],o=t[1],i=S(Object(r.useState)([]),2),s=i[0],l=i[1];return Object(r.useEffect)(function(){var e=new app.collections.ReadingLists([],{username:"WattpadExplorer"}),t=new app.collections.BrowseTopics;Promise.all([e.fetchNextSet(),t.fetch()]).then(function(){o(wattpad.utils.sortByColumns(t.toJSON(),3)),l(e.toJSON())})},[]),a.a.createElement(g,{id:"discover-dropdown",label:e("Browse")},a.a.createElement(k,{browseTopics:n,curatedLists:s}))};function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),C(this,P(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,r["Component"]),function(e,t,n){t&&j(e.prototype,t),n&&j(e,n)}(t,[{key:"render",value:function(){var e=this.props.trans;return a.a.createElement("form",{id:"header-item-search",name:"search",role:"search",action:"/search/",method:"GET",autoComplete:"off"},a.a.createElement("button",{type:"submit"},a.a.createElement(l.e,{iconName:"fa-search",color:"wp-neutral-1",height:"16"})),a.a.createElement("input",{id:"search-query",name:"q",type:"text",spellCheck:"false",placeholder:e("Search"),"aria-label":"Search"}),a.a.createElement("input",{type:"hidden",name:"ref",value:"1"}))}}]),t}();function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(R,"propTypes",{trans:i.a.func.isRequired});var D=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return M(q(n=function(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?q(e):t}(this,(e=I(t)).call.apply(e,[this].concat(a)))),"changeLanguage",function(e){wattpad.utils.setCookie("locale",e,3650,!0),window.location.reload()}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,r["Component"]),function(e,t,n){t&&L(e.prototype,t),n&&L(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props.translatedLangs;return a.a.createElement("ul",{id:"language-options",className:"dropdown-menu align-right columns"},t.map(function(t){return a.a.createElement("li",{key:t.id,className:"col-xs-4 col-sm-3"},a.a.createElement("a",{href:"#",onClick:function(n){n.preventDefault(),e.changeLanguage(t.locale)}},t.name))}))}}]),t}();M(D,"propTypes",{translatedLangs:i.a.array.isRequired});var F=D;function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var V=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),B(this,H(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,r["Component"]),function(e,t,n){t&&W(e.prototype,t),n&&W(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.trans,r=t.translatedLangs,o=t.locale,i=r.find(function(e){return e.locale===o});return a.a.createElement("nav",{id:"WPNavbar",role:"navigation",className:"container"},a.a.createElement("div",{id:"header-item-logo"},a.a.createElement("a",{href:"/",title:"Wattpad Home","aria-label":"Home"},a.a.createElement(l.c,{name:"/logos/wp-logo-orange.png",title:"Wattpad",width:"123",className:"wp-logo hidden-xs"}))),a.a.createElement(N,null),function(e){return"en"===e.code}(i)&&a.a.createElement("a",{href:"/writers"},n("Writer Opportunities")),a.a.createElement(g,{id:"community-dropdown",label:n("Community")},a.a.createElement(O,{trans:n})),a.a.createElement(R,{trans:n}),a.a.createElement("div",{id:"authentication"},a.a.createElement("div",null,a.a.createElement("button",{className:"btn btn-sm",onClick:function(){e.props.toggleModal({type:"login"})}},n("Log in"))),a.a.createElement(g,{id:"language-dropdown",label:i.name},a.a.createElement(F,{translatedLangs:r}))))}}]),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(V,"propTypes",{toggleModal:i.a.func,trans:i.a.func.isRequired,translatedLangs:i.a.array.isRequired,locale:i.a.string.isRequired});var G=Object(s.b)(function(e){return{translatedLangs:e.appData.translatedLangs,locale:e.userData.locale}})(Object(c.g)(V)),Y=[{quoteText:"Working with Wattpad Studios is like a dream. Not only do they care about your success, but also staying true to your vision.",author:"KARA BARBIERI (@PANDEAN)",about:"Kara Barbieri is a twenty-two year old author with a love for the weird and mystic. Her debut novel, WHITE STAG, will be published by Wednesday Books/Macmillan in January 2019.",cover:"/landing/white-stag.png",url:"/story/51067091-white-stag-permafrost-1",id:"white_stag"},{quoteText:"When I joined Wattpad, I gained a second family who were as passionate about reading and writing as I am.",author:"ALI NOVAK (@FALLZSWIMMER)",about:"Ali Novak is a Wisconsin native and a graduate of the University of Wisconsin-Madison's creative writing program. She started writing her debut novel My Life with the Walter Boys when she was only fifteen. Since then, her work has received more than 150 million hits online and My Life with the Walter Boys has been optioned for television by Komixx Entertainment and Sony Pictures Television.",cover:"/landing/walter-boys.png",url:"/story/80479-my-life-with-the-walter-boys-wattpad-version",id:"walter_boys"},{quoteText:"Being a Wattpad Star is the foundation for everything I do as a writer, from the behind the scenes wrangling to the big, game-changing projects.",author:"BEN SOBIECK (@BENSOBIECK)",about:"Benjamin Sobieck is a Wattpad Star and editor of “The Writer’s Guide to Wattpad,” published in August 2018 by Writer’s Digest Books and featuring contributions by 23 Wattpad Stars, ambassadors, and staff. His stories on Wattpad, such as “When the Black-Eyed Children Knock,” have drawn more than 1.5 million reads.",cover:"/landing/black-eye.png",url:"/story/59324321-black-eye-confessions-of-a-fake-psychic-detective",id:"black_eye"},{quoteText:"Having been active on Wattpad for several  years, I knew it would be the perfect platform for a thriller with lots of cliffhangers for readers to discuss. Teen horror is my passion, so I can’t wait to be able to share Light as a Feather with other horror aficionados on Hulu.",author:"ZOE AARSEN (@ZAARSENIST)",about:"Zoe Aarsen is a graphic designer and copywriter. Her first paranormal YA novel, Light as a Feather, Stiff as a Board, is being published by Simon & Schuster and turned into a television series on Hulu.",cover:"/landing/feather.png",url:"/story/5949534-light-as-a-feather-stiff-as-a-board",id:"light_as_a_feather"},{quoteText:"The Wattpad Stars Program gave me opportunities I never thought possible. It connected me to a world that I had only imagined. I don’t know how else to say it. It changed my life!",author:"ISABELLE RONIN (@ISABELLERONIN)",about:"Chasing Red was one of 2016’s most-read stories on Wattpad -- and that was just the beginning for this Winnipeg-Manitoba-based writer. In a single year, her explosive hit has racked up over 127 million reads on Wattpad. Newly edited and expanded, the book was split into two and hit bookstore shelves in 2017.",cover:"/landing/chasing-red.png",url:"/story/18024139-chasing-red",id:"chasing_red"}];function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var X=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),J(this,Q(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,r["Component"]),function(e,t,n){t&&K(e.prototype,t),n&&K(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props.trans;return a.a.createElement("div",{id:"Hero"},a.a.createElement("div",{className:"container content"},a.a.createElement("div",null,a.a.createElement("h2",null,t("Hi, we're Wattpad.")),a.a.createElement("h3",null,t("The world's most-loved social storytelling platform")),a.a.createElement("h4",null,t("Wattpad connects a global community of %s million readers and writers through the power of story.",80)),a.a.createElement("div",{className:"buttons"},a.a.createElement("button",{className:"btn btn-md btn-orange",onClick:function(){e.props.toggleModal({type:"signup",source:"reader_top"})}},t("Start Reading")),a.a.createElement("button",{className:"btn btn-md btn-orange",onClick:function(){e.props.toggleModal({type:"signup",source:"writer_top"})}},t("Start Writing")))),a.a.createElement("div",{className:"imageContainer"},a.a.createElement(l.c,{name:"landing/hero-devices.png",title:"hero-devices"}))))}}]),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(X,"propTypes",{toggleModal:i.a.func,trans:i.a.func.isRequired});var ee=Object(c.g)(X);function te(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var le=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),oe(this,ie(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(t,r["Component"]),function(e,t,n){t&&ae(e.prototype,t),n&&ae(e,n)}(t,[{key:"render",value:function(){var e=this.props.trans;return a.a.createElement("div",{id:"HowWattpadWorks"},a.a.createElement("div",{className:"container content"},a.a.createElement("h2",null,e("How Wattpad Works")),a.a.createElement("p",null,e("Get your story discovered through the power of community and technology on Wattpad.")),a.a.createElement("div",{id:"steps"},function(e){return[{number:1,title:e("Create"),description:e("Share your unique voice and original story on Wattpad. Find the writing resources you need to craft a story only you can tell."),stat:{count:e("50+"),title:e("Writing Resources")}},{number:2,title:e("Build"),description:e("Establish a global fan base as your story gains readership and momentum. Connect with other like-minded writers through storytelling."),stat:{count:e("%s <span>MILLION</span>",80),title:e("Readers")}},{number:3,title:e("Amplify"),description:e("Gain Wattpad Star status and get your story published or adapted into film or television with Wattpad Books and Wattpad Studios!"),stat:{count:e("1000+"),title:e("Story deals")}}]}(e).map(function(e){return a.a.createElement(ue,re({},e,{key:e.number}))}))))}}]),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(le,"propTypes",{mobile:i.a.bool,trans:i.a.func.isRequired});var ce=Object(c.g)(le),ue=function(e){var t=e.number,n=e.title,r=e.description,o=e.stat;return a.a.createElement("div",{className:"stepContainer"},a.a.createElement("div",{className:"step"},a.a.createElement("h2",{className:"number"},t),a.a.createElement("div",null,a.a.createElement("h3",{className:"title"},n),a.a.createElement("p",{className:"description"},r))),a.a.createElement("div",{className:"dots"},te(Array(6)).map(function(e,t){return a.a.createElement("span",{className:"dot",key:t})})),a.a.createElement("div",{className:"statBubble"},a.a.createElement("div",null,a.a.createElement("div",{className:"count",dangerouslySetInnerHTML:{__html:o.count}}),a.a.createElement("div",{className:"title"},o.title))))};ue.propTypes={number:i.a.number,title:i.a.string,description:i.a.string,stat:i.a.object};var de=n(46),me=function(e,t){wattpad.utils.pushEvent({category:"new_landing",action:"click:".concat(e)}),t&&window.open(t,"_blank")};function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ge(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var we=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),he(this,be(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(t,r["Component"]),function(e,t,n){t&&ye(e.prototype,t),n&&ye(e,n)}(t,[{key:"render",value:function(){return a.a.createElement("div",{id:"Carousel"},a.a.createElement("div",{className:"container"},a.a.createElement(de.a,{autoplay:!0,wrapAround:!0,heightMode:"max",renderCenterLeftControls:null,renderBottomCenterControls:null,renderCenterRightControls:function(e){var t=e.nextSlide;return a.a.createElement("div",{onClick:t,onKeyDown:t,role:"button",tabIndex:"0"},a.a.createElement(l.c,{name:"/landing/next-btn.svg"}))},renderBottomRightControls:function(e){var t=e.currentSlide,n=e.slideCount,r=e.goToSlide;return a.a.createElement("div",{className:"controls"},ge(Array(n)).map(function(e,n){var o=d()("control",{active:n===t});return a.a.createElement("div",{className:o,key:n,onClick:function(){r(n)},onKeyDown:function(){r(n)},role:"tab",tabIndex:"0"})}))}},Y.map(function(e){return a.a.createElement(Ee,fe({},e,{key:e.id}))}))))}}]),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(we,"propTypes",{mobile:i.a.bool});var Ee=function(e){var t=e.quoteText,n=e.author,r=e.about,o=e.cover,i=e.url,s=e.id;return a.a.createElement("div",{className:"slide"},a.a.createElement("div",{className:"cover-container",onClick:function(){me(s,i)},onKeyDown:function(){me(s,i)},role:"link","aria-roledescription":"slide",tabIndex:"0"},a.a.createElement(l.c,{name:o,title:o})),a.a.createElement("div",{className:"details"},a.a.createElement("div",{className:"quote"},a.a.createElement("p",{className:"text"},t),a.a.createElement("p",{className:"author"},n)),a.a.createElement("p",{className:"about"},r),a.a.createElement("button",{id:"startReading",className:"btn btn-md btn-teal",onClick:function(){me(s,i)}},"Start Reading")))};function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ee.propTypes={quoteText:i.a.string,author:i.a.string,about:i.a.string,cover:i.a.string,url:i.a.string,id:i.a.string,mobile:i.a.bool};var Ce=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ne(this,_e(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(t,r["Component"]),function(e,t,n){t&&ke(e.prototype,t),n&&ke(e,n)}(t,[{key:"render",value:function(){var e=this.props.trans;return a.a.createElement("div",{id:"Links"},function(e){return[{title:e("Get Discovered"),id:"GetDiscovered",links:function(e){return[{name:e("Writing Contests"),description:e("Enter writing contests to get published, win awards, and partner with global brands."),img:"/landing/writing-contests.png",url:"https://www.wattpad.com/go/writing-contests/",id:"contests"},{name:e("The Wattys"),description:e("Wattpad’s annual awards program committed to celebrating the best stories around the world."),img:"/landing/wattys_avatar.png",url:"https://wattys.wattpad.com",id:"wattys"},{name:e("Wattpad Picks"),description:e("Get featured on our hand-picked reading list."),img:"/landing/wp-picks.png",url:"https://www.wattpad.com/featured/551324301",id:"picks"}]}(e)},{title:e("Get Connected"),id:"GetConnected",links:function(e){return[{name:e("WattCon"),description:e("Wattpad’s premier annual writers’ conference offers support, mentorship, and career-oriented programming, to connect the Wattpad writer community, hone their craft, and grow their careers."),img:"/landing/wattcon.png",url:"https://wattcon.wattpad.com/",id:"wattcon"},{name:e("Community"),description:e("Join Wattpad Community to discuss shared interests and topics with other readers and writers."),img:"/landing/community.png",url:"https://www.wattpadwriters.com/",id:"community"},{name:e("Get Social"),description:e("Connect with other passionate readers & writers, comment directly in stories as you read them, and support writers as they create and share their original stories."),img:"/landing/get-social.png",id:"social"}]}(e)}]}(e).map(function(e){return a.a.createElement("div",{id:e.id,key:e.id},a.a.createElement("div",{className:"container"},a.a.createElement("h3",null,e.title),a.a.createElement("div",{className:"links"},e.links.map(function(e){return a.a.createElement(Te,Se({},e,{key:e.id}))}))))}))}}]),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ce,"propTypes",{mobile:i.a.bool,trans:i.a.func.isRequired});var Pe=Object(c.g)(Ce),Te=function(e){var t=e.name,n=e.description,r=e.img,o=e.url,i=e.id,s=e.className;return a.a.createElement("div",{className:d()("link",s),onClick:function(){me(i,o)},onKeyDown:function(){me(i,o)},role:"link",tabIndex:"0"},a.a.createElement("div",{className:"image"},a.a.createElement(l.c,{name:r,title:t})),a.a.createElement("div",{className:"info"},a.a.createElement("h4",null,t),a.a.createElement("p",null,n)))};function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Te.propTypes={name:i.a.string,description:i.a.string,img:i.a.string,url:i.a.string,id:i.a.string,className:i.a.string};var Ae=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Le(this,Ie(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(t,r["Component"]),function(e,t,n){t&&xe(e.prototype,t),n&&xe(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props.trans;return a.a.createElement("div",{id:"TakeWPWithYou"},a.a.createElement("div",{className:"container content"},a.a.createElement("h3",null,t("Take Wattpad With You")),a.a.createElement("p",null,t("Read and write anywhere, even offline.")),a.a.createElement("div",{className:"buttons"},a.a.createElement("button",{className:"btn btn-md btn-orange",onClick:function(){e.props.toggleModal({type:"signup",source:"reader_bot"})}},t("Start Reading")),a.a.createElement("button",{className:"btn btn-md btn-orange",onClick:function(){e.props.toggleModal({type:"login"})}},t("Start Writing"))),a.a.createElement(l.c,{className:"devices",name:"landing/footer-devices.png",title:"devices"})))}}]),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ae,"propTypes",{toggleModal:i.a.func,trans:i.a.func.isRequired});var Me=Object(c.g)(Ae);function De(e){var t=e.leftPart,n=e.rightPart,r=e.className;return a.a.createElement("div",{className:d()("container content",r)},t,n)}function Fe(){var e=Object(m.g)().trans;return a.a.createElement(De,{className:"studiosContainer",rightPart:a.a.createElement("div",{className:"imageContainer"},a.a.createElement(l.c,{width:"348",name:"/landing/wattpadBooksPoster.png",title:"wattpad books poster"})),leftPart:a.a.createElement("div",{className:"textContainer"},a.a.createElement(l.c,{width:"190",name:"/landing/wattpadBooksLogo.svg",title:"Wattpad Studios logo"}),a.a.createElement("h3",null,e("Your voice belongs on bookshelves")),a.a.createElement("p",{className:"constrainedText"},e("Wattpad Books aspires to recognize and reflect diverse voices by taking Wattpad stories to published book and onto bookshelves around the world.")),a.a.createElement("p",null,e("Wattpad Books works with partners such as:")),a.a.createElement(l.c,{className:"partner",width:"110",name:"/landing/macmillan.png",title:"macmillan Publishers logo"}),a.a.createElement(l.c,{className:"partner",width:"87",name:"/landing/anvil.png",title:"Anvil Publishing logo"}),a.a.createElement(l.c,{className:"partner",width:"97",name:"/landing/penguin.png",title:"Penguin Random House UK logo"}))})}function Ue(){var e=Object(m.g)().trans;return a.a.createElement(De,{rightPart:a.a.createElement("div",{className:"textContainer"},a.a.createElement(l.c,{width:"203",name:"/landing/wattpadStudiosLogo.svg",title:"Wattpad Studios logo"}),a.a.createElement("h3",null,e("Your original story could be the next big hit")),a.a.createElement("p",{className:"constrainedText"},e("Wattpad Studios discovers untapped, unsigned, and talented writers on Wattpad and connects them to global multi-media entertainment companies.")),a.a.createElement("p",null,e("Wattpad Studios works with partners such as:")),a.a.createElement(l.c,{className:"partner",width:"31",name:"/landing/sony.svg",title:"Sony logo"}),a.a.createElement(l.c,{className:"partner",width:"61",name:"/landing/hulu.svg",title:"Hulu logo"}),a.a.createElement(l.c,{className:"partner",width:"81",name:"/landing/syfy.svg",title:"SYFY logo"})),leftPart:a.a.createElement("div",{className:"imageContainer"},a.a.createElement("a",{href:"https://after.wattpad.com",target:"_blank",rel:"noopener noreferrer"},a.a.createElement(l.c,{width:"414",name:"/landing/wattpadStudiosPoster.png",title:"after movie - promotional poster for the official after movie launch"})))})}function We(){var e=Object(m.g)().trans;return a.a.createElement("div",{className:"seeYourStoryContainer"},a.a.createElement("h3",null,e("See Your Story...")),a.a.createElement("div",{className:"itemContainer"},a.a.createElement("div",{className:"item"},a.a.createElement(l.c,{name:"/landing/tv-icon.svg",title:"tv"}),e("Get produced to movie or film")),a.a.createElement("div",{className:"item"},a.a.createElement(l.c,{name:"/landing/reel-icon.svg",title:"reel"}),e("Get adapted to a TV series")),a.a.createElement("div",{className:"item"},a.a.createElement(l.c,{name:"/landing/book-icon.svg",title:"book"}),e("Get published"))))}De.propTypes={leftPart:i.a.object.isRequired,rightPart:i.a.object.isRequired,className:i.a.string};var Be=n(8),He=n(65),ze=n(97);function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Je(e,t){return(Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Qe(Ke(n=function(e,t){return!t||"object"!==Ve(t)&&"function"!=typeof t?Ke(e):t}(this,(e=$e(t)).call.apply(e,[this].concat(o)))),"toggleModal",function(e){var t=e.type,r=void 0===t?"login":t,o=e.source,i=void 0===o?"":o,s={model:n.props.model,nextURL:n.props.nextURL};switch(r){case"signup":n.props.toggleModal({className:"signup-modal",component:function(){return a.a.createElement(He.a,Ge({},s,{source:i,signup:!0}))}});break;case"login":n.props.toggleModal({className:"login-modal",component:function(){return a.a.createElement(ze.a,Ge({},s,{login:!0}))}})}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Je(e,t)}(t,r["Component"]),function(e,t,n){t&&Ye(e.prototype,t),n&&Ye(e,n)}(t,[{key:"render",value:function(){return a.a.createElement("div",{id:"landing"},a.a.createElement(G,{toggleModal:this.toggleModal}),a.a.createElement(ee,{toggleModal:this.toggleModal}),a.a.createElement("div",{id:"Intro"},a.a.createElement(We,null),a.a.createElement(Ue,null),a.a.createElement(Fe,null)),a.a.createElement("div",{id:"FindOutMore"},a.a.createElement("a",{href:"/writers",target:"_blank",rel:"noopener noreferrer"},a.a.createElement("h4",null,this.props.trans("Find out more about what we do for writers")," →"))),a.a.createElement(ce,null),a.a.createElement(we,null),a.a.createElement(Pe,null),a.a.createElement(Me,{toggleModal:this.toggleModal}),a.a.createElement(l.n,null))}}]),t}();Qe(Ze,"propTypes",{model:i.a.object,root:i.a.string,nextURL:i.a.string,toggleModal:i.a.func,hybridLayout:i.a.bool,trans:i.a.func.isRequired});var Xe=Object(s.b)(null,{toggleModal:Be.c})(Ze);t.a=Object(c.g)(Xe)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(566),i=n(567),s=n(565),l=n(568),c=n(5),u=n(1),d=n.n(u),m=n(7),p=n(99),f=n(4);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function y(e){var t=e.toggleModal,n=Object(f.g)().trans,o=g(Object(r.useState)(""),2),i=o[0],s=o[1],l=g(Object(r.useState)([]),2),c=l[0],u=l[1],d=g(Object(r.useState)([]),2),m=d[0],p=d[1];return a.a.createElement("div",{className:"new-msg-modal"},a.a.createElement("div",{className:"new-msg-header"},a.a.createElement("h3",null,n("New Message")),a.a.createElement("p",null,n("Send message to")+":"),a.a.createElement("input",{type:"text",value:i,onChange:function(e){var t=e.target.value;s(t);var r="api/v3/autocomplete/following_user?term=".concat(t);Promise.resolve($.get(r)).then(function(e){u(e.filter(function(e){return"Other People"===e.category})),p(e.filter(function(e){return"Your Friends"===e.category}))}).catch(function(){new window.app.views.ErrorToast({message:n("Sorry, something went wrong. Please try again.")},{type:"dismissable"}).render()})}})),""!==i&&a.a.createElement("div",{className:"search-results"},m.length>0&&a.a.createElement("p",null,n("People You Follow")),m.map(function(e){return a.a.createElement(h,{toggleModal:t,key:e.label,user:e})}),c.length>0&&a.a.createElement("p",null,n("People on Wattpad")),c.map(function(e){return a.a.createElement(h,{key:e.label,user:e,toggleModal:t})})))}function h(e){var t=e.user,n=e.toggleModal;return a.a.createElement("button",{className:"search-result btn-no-background",onClick:function(){n(),window.app.router.navigate("/inbox/".concat(t.label),{trigger:!0})}},a.a.createElement("img",{src:t.image,alt:"".concat(t.label,"'s avatar"),className:"avatar avatar-sm3"}),a.a.createElement("p",null,t.label))}y.propTypes={toggleModal:d.a.func},h.propTypes={user:d.a.object,toggleModal:d.a.func};var b=n(8),v=n(2);function w(e){var t=e.direction,n=e.threshold,r=e.total,o=e.offset,i=e.isLoading,s=e.isDisabled,l=e.onLoad,c=Object(f.g)().trans;return Object(f.e)({direction:t,threshold:n,onThreshold:function(){s||o===r||l(o)}}),i?a.a.createElement("div",{className:"load-more-container"},a.a.createElement(v.c,{name:"/icons/spinner.svg",className:"fa-spin load-more",title:c("Spinner"),height:"24",width:"24"})):null}w.defaultProps={direction:"down",threshold:200},w.propTypes={direction:d.a.string.isRequired,threshold:d.a.number.isRequired,total:d.a.number.isRequired,offset:d.a.number.isRequired,isLoading:d.a.bool.isRequired,isDisabled:d.a.bool.isRequired,onLoad:d.a.func.isRequired};var E=w,O=n(3),S=n.n(O),k=n(28),N=n.n(k),_=n(102),j=n(66),C=n(25),P=n(147),T=n(103);function R(e){var t=e.isLoading,n=e.activeThread,r=e.isBlockedByCurrentUser,o=e.muteUser,i=e.deleteConversation,s=e.unmuteUser,l=e.toggleModal,c=Object(f.g)().trans;return a.a.createElement("div",null,!t&&a.a.createElement(v.m,{username:n,isBlockedByCurrentUser:r,onMuteUser:function(){var e=function(){return a.a.createElement(P.a,{username:n,toggleModal:l,muteUser:o})};e.displayName="MuteModal",l({className:"mute-modal",hideClose:!0,component:e})},onUnmuteUser:function(){var e=function(){return a.a.createElement(T.a,{username:n,toggleModal:l,onUnmute:s})};e.displayName="UnmuteModal",l({className:"mute-modal",hideClose:!0,component:e})},onDeleteConversation:function(){confirm(c("Delete all messages between you and %s?",n))&&i(n).then(function(){"/inbox"===window.location.pathname?window.location.reload():window.app.router.navigate("/inbox",{trigger:!0})})},onReportUser:function(){var e=n;window.location.href="/help/report?author="+encodeURIComponent(e)+"&comment="}}))}R.propTypes={activeThread:d.a.string.isRequired,isLoading:d.a.bool.isRequired,deleteConversation:d.a.func.isRequired,isBlockedByCurrentUser:d.a.bool.isRequired,muteUser:d.a.func.isRequired,unmuteUser:d.a.func.isRequired,toggleModal:d.a.func};var x=Object(m.b)(null,{deleteConversation:j.b,muteUser:C.f,unmuteUser:C.h,toggleModal:b.c})(R),L=function(e){return Object(r.useEffect)(e,[])};function I(e){var t=e.thread,n=e.username,r=t.user.name,o=t.user.isActive;L(function(){window.te.push("event","private_messages",null,null,"view",{sender_username:r,recipient_username:n})});var i=t.user.badges.length?t.user.badges[0]:"";return a.a.createElement("div",{className:"thread-row"},a.a.createElement("div",{className:S()("unread-dot",{show:t.unread})},1===t.unread&&a.a.createElement(v.e,{iconName:"fa-circle-filled",height:"6",color:"wp-base-1"})),a.a.createElement("a",{style:{marginRight:0},className:"thread-column on-navigate",href:"/user/".concat(r)},o?a.a.createElement("img",{src:t.user.avatar,alt:"".concat(r,"'s avatar"),className:"thread-column avatar avatar-sm3"}):a.a.createElement(v.c,{name:"avatar/empty.png",className:"thread-column avatar avatar-sm3"})),a.a.createElement("a",{className:"thread-column on-navigate thread-meta",href:"/inbox/".concat(r)},a.a.createElement("div",{className:"thread-user right-icon"},r,a.a.createElement(_.a,{name:i,allowedBadges:["staff","verified"]})),a.a.createElement("div",{className:S()("thread-message",{unread:t.unread})},t.recentMessage.body)),a.a.createElement("div",{className:"thread-column thread-date"},N()(t.recentMessage.createDate).format("MMM DD, YYYY [at] LT")),a.a.createElement("div",{className:"button-group inline-block relative "},a.a.createElement("button",{className:"btn btn-white dropdown-toggle inbox-more-options","data-toggle":"dropdown","aria-controls":"inbox-more-options","aria-expanded":"false","aria-label":"more options"},a.a.createElement(v.e,{name:"more",size:"24"})),a.a.createElement("div",{className:"triangle"}),a.a.createElement("div",{className:"dropdown-menu align-right"},a.a.createElement(x,{activeThread:r,isLoading:!1,isBlockedByCurrentUser:t.user.isBlockedByCurrentUser}))))}I.propTypes={thread:d.a.object,username:d.a.string},I.defaultProps={thread:{}};var q=I;function A(e){var t=e.filter,n=e.loadThreads,r=Object(f.g)().trans;return a.a.createElement("div",{className:"threads-filter"},a.a.createElement("select",{value:t,onChange:function(e){var t=e.target.value;n({filter:t})}},a.a.createElement("option",{value:""},r("All")),a.a.createElement("option",{value:"followers"},r("My Followers")),a.a.createElement("option",{value:"following"},r("People I'm Following")),a.a.createElement("option",{value:"unread"},r("Unread Messages"))))}A.propTypes={filter:d.a.string.isRequired,loadThreads:d.a.func.isRequired};var M=A,D=n(72);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=function(e){var t=e.loadThreads,n=e.isLoading,o=e.isLoadingMore,i=e.threads,s=e.username,l=e.total,c=e.offset,u=e.filter,d=e.toggleModal,m=Object(f.g)().trans;Object(f.f)("".concat(m("Inbox")," - Wattpad")),function(e){Object(r.useEffect)(e,[])}(function(){t({})});return a.a.createElement("div",{id:"inbox"},a.a.createElement("div",{className:"threads-container"},a.a.createElement("div",{className:"threads-header"},a.a.createElement("div",{className:"flex-part"},a.a.createElement("h2",null,m("My Messages"))),a.a.createElement(M,{filter:u,loadThreads:t}),a.a.createElement("button",{className:"new-msg-btn",onClick:function(){var e=function(){return a.a.createElement(y,{toggleModal:d})};e.displayName="NewMessage",d({className:"new-message-modal",component:e})}},a.a.createElement("span",null," ",m("+ New Message")," ")),a.a.createElement(v.n,null)),a.a.createElement("div",{className:"threads-list"},0!==i.length||n?i.map(function(e){return a.a.createElement(q,{key:e.user.name,thread:e,username:s})}):a.a.createElement("div",{className:"thread-row empty-row"},m("You have no messages."))),a.a.createElement(E,{direction:"down",threshold:0,isLoading:o,isDisabled:o,total:l,offset:c,onLoad:function(e){t({offset:e,filter:u})}})),a.a.createElement(D.a,null))};W.propTypes={isLoading:d.a.bool.isRequired,isLoadingMore:d.a.bool.isRequired,threads:d.a.array.isRequired,username:d.a.string.isRequired,loadThreads:d.a.func.isRequired,total:d.a.number.isRequired,offset:d.a.number.isRequired,filter:d.a.string.isRequired,toggleModal:d.a.func};var B=Object(m.b)(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){U(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e.threads)},{loadThreads:p.b,toggleModal:b.c})(W),H=N()(),z=H.clone().startOf("day"),V=H.clone().subtract(1,"days").startOf("day"),G=H.clone().subtract(7,"days").startOf("day");function Y(e){var t,n=e.dateDisplay,r=Object(f.g)().trans;return t=function(e){return e.isSame(z,"d")}(n)?r("Today at %s",n.format("h:mm a")):function(e){return e.isSame(V,"d")}(n)?r("Yesterday at %s",n.format("h:mm a")):function(e){return e.isAfter(G)}(n)?n.format("ddd [at] h:mm a"):n.format("MMM D, YYYY, [at] h:mm a"),a.a.createElement("div",{className:"date-separator"},a.a.createElement("div",null,a.a.createElement("span",{className:"date"},t)))}Y.propTypes={dateDisplay:d.a.object.isRequired};var K=function(e){var t=e.message,n=e.username,r=e.isActive,o=e.differentSender,i=e.scrollToMessageId,s=e.setRef,l=t.from.name===n;return a.a.createElement("div",{ref:i===t.id?s:null,className:S()("conversation-row",l?"from-me":"from-other",{"different-sender":o})},a.a.createElement("a",{className:"on-navigate avatar-link",href:"/user/".concat(t.from.name)},r||l?a.a.createElement("img",{src:t.from.avatar,alt:"".concat(n,"'s avatar"),className:"avatar avatar-sm3"}):a.a.createElement(v.c,{name:"avatar/empty.png",className:"avatar avatar-sm3"})),a.a.createElement("div",{className:"conversation-message"},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(c.i)(t.body)}})))};K.propTypes={message:d.a.shape({body:d.a.string,createDate:d.a.string,from:d.a.object,id:d.a.number,latestReplies:d.a.array,numReplies:d.a.number,unread:d.a.bool}).isRequired,isActive:d.a.bool.isRequired,username:d.a.string.isRequired,differentSender:d.a.bool.isRequired,scrollToMessageId:d.a.number.isRequired,setRef:d.a.object.isRequired};var J=K;function Q(e){var t,n,r=e.messages,o=e.username,i=e.isActive,s=e.scrollToMessageId,l=e.setRef,c=e.isLastBatch;return a.a.createElement("div",{className:"conversations"},r.map(function(e,r){var u=!1,d=null;t!==e.from.name&&(u=!0,t=e.from.name);var m=N()(e.createDate);if(0===r&&c)d=m;else if(n){N.a.duration(m.diff(n)).asHours()>=6&&(d=m)}return n=m,a.a.createElement(a.a.Fragment,{key:e.id},d&&a.a.createElement(Y,{dateDisplay:d}),a.a.createElement(J,{setRef:l,scrollToMessageId:s,message:e,username:o,isActive:i,differentSender:u}))}))}function Z(e){var t,n,r,o=e.isBlockedByCurrentUser,i=e.activeThreadUsername,s=Object(f.g)().trans;return o?(t=s("You have muted %s and cannot reply to this conversation.",i),n=s("View Profile"),r={href:"/user/".concat(i),className:"on-navigate"}):(t=s("You can’t reply to this conversation."),n=s("Learn more"),r={target:"_blank",rel:"noopener noreferrer",href:"https://support.wattpad.com/hc/en-us/articles/205956030-I-Can-t-Message-Another-User-"}),a.a.createElement("div",{className:"bottom-sticky"},a.a.createElement("div",{className:"disabled-reply"},a.a.createElement("p",null,t+" ",a.a.createElement("a",r,n))))}Q.propTypes={messages:d.a.array.isRequired,username:d.a.string.isRequired,isActive:d.a.bool.isRequired,scrollToMessageId:d.a.number.isRequired,setRef:d.a.object.isRequired,isLastBatch:d.a.bool.isRequired},Z.propTypes={isBlockedByCurrentUser:d.a.bool.isRequired,activeThreadUsername:d.a.string.isRequired};var X=Z;function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var te=2e3;function ne(e){var t=e.activeThread,n=e.postMessage,o=e.username,i=e.isReply,s=e.isFirstTimeMessaging,l=Object(f.g)().trans,c=ee(Object(r.useState)(""),2),u=c[0],d=c[1];return a.a.createElement("form",{className:"conversation-form bottom-sticky",onSubmit:function(e){e&&(e.preventDefault(),e.stopPropagation()),""!==u&&(window.te.push("event","private_messages","message","send",{sender_username:o,recipient_username:t,is_reply:i,page:"message"}),n(t,{body:u}),d(""))}},s&&a.a.createElement("div",{className:"first-time-msgs"},a.a.createElement("strong",null,l("You are about to send a message to someone you don’t follow.")),l(" Wattpad is an inclusive space where everyone can belong. Hate speech and cyberbullying are never tolerated.")),a.a.createElement(v.k,{characterLimit:te,value:u,onChange:function(e){var t=e.target.value;d(t.substr(0,te))},autoFocus:!0,placeholder:l("Write a message...")}),a.a.createElement("div",{className:"btn-container"},a.a.createElement("button",{type:"submit",disabled:""===u,className:"btn btn-large btn-orange"},l("Send"))))}ne.propTypes={activeThread:d.a.string.isRequired,postMessage:d.a.func.isRequired,username:d.a.string.isRequired,isReply:d.a.bool.isRequired,isFirstTimeMessaging:d.a.bool.isRequired};var re=ne,ae=function(e){return Object(r.useEffect)(e,[])},oe=function(e,t){return Object(r.useEffect)(e,t)};function ie(e){var t=e.username,n=e.messages,o=e.badges,i=e.isActive,s=e.isLoading,l=e.isLoadingMore,c=e.isDeleting,u=e.isPosting,d=e.total,m=e.offset,p=e.isBlockingCurrentUser,g=e.isBlockedByCurrentUser,y=e.scrollToMessageId,h=e.postMessage,b=e.loadConversation,w=e.match,O=Object(f.g)().trans,S=Object(r.useRef)(),k=Object(r.useRef)(),N=w.params.activeThread;Object(f.f)("".concat(O("Messages between you and %s",N)," - Wattpad")),ae(function(){window.te.push("event","private_messages","conversation",null,"view",{sender_username:N,recipient_username:t}),b(N)}),oe(function(){if(S.current&&k.current){window.scrollTo(0,S.current.offsetTop-k.current.getBoundingClientRect().bottom-10)}},[y]);var j=n.find(function(e){return e.from.name===N}),C=m===d,P=o.length?o[0]:"",T=0===n.length&&!s,R=!p&&!g&&i;return a.a.createElement("div",{id:"inbox"},a.a.createElement("div",{className:"conversation-container"},a.a.createElement("div",{className:"column"}),a.a.createElement("div",{className:"column main"},a.a.createElement("div",{className:"conversation-header",ref:k},a.a.createElement("h2",null,N),a.a.createElement(_.a,{name:P,size:"20",allowedBadges:["staff","verified"]})),a.a.createElement(E,{direction:"up",threshold:0,isLoading:l,isDisabled:l||c||u,total:d,offset:m,onLoad:function(e){b(N,e)}}),a.a.createElement(Q,{scrollToMessageId:y,setRef:S,messages:n,username:t,isActive:i,isLastBatch:C}),!s&&(R?a.a.createElement(re,{activeThread:N,isReply:Boolean(j),postMessage:h,isActive:i,username:t,isFirstTimeMessaging:T}):a.a.createElement(X,{isBlockedByCurrentUser:g,activeThreadUsername:N}))),a.a.createElement("div",{className:"column"},a.a.createElement("div",{className:"column-content"},a.a.createElement(x,{activeThread:N,isLoading:s,isBlockedByCurrentUser:g}),a.a.createElement("div",{className:"extra-content-container"},a.a.createElement("a",{href:"https://www.wattpad.com/writers/opportunities/stars/",rel:"noopener noreferrer",target:"_blank"},a.a.createElement("img",{src:"/img/desktop-web/2019_Wattpad-Stars_300x250.jpg",alt:"Wattpad Stars"})))))),a.a.createElement(v.n,null))}ie.propTypes={match:d.a.object.isRequired,username:d.a.string.isRequired,badges:d.a.array.isRequired,messages:d.a.array.isRequired,isActive:d.a.bool.isRequired,isLoading:d.a.bool.isRequired,isLoadingMore:d.a.bool.isRequired,isDeleting:d.a.bool.isRequired,isPosting:d.a.bool.isRequired,total:d.a.number.isRequired,offset:d.a.number.isRequired,postMessage:d.a.func.isRequired,loadConversation:d.a.func.isRequired,scrollToMessageId:d.a.number.isRequired,isBlockingCurrentUser:d.a.bool.isRequired,isBlockedByCurrentUser:d.a.bool.isRequired};var se=Object(m.b)(function(e){return{messages:e.conversation.messages,badges:e.conversation.badges,isActive:e.conversation.isActive,isLoading:e.conversation.isLoading,isLoadingMore:e.conversation.isLoadingMore,isDeleting:e.conversation.isDeleting,isPosting:e.conversation.isPosting,total:e.conversation.total,offset:e.conversation.offset,isBlockingCurrentUser:e.conversation.isBlockingCurrentUser,isBlockedByCurrentUser:e.conversation.isBlockedByCurrentUser,scrollToMessageId:e.conversation.scrollToMessageId}},{loadConversation:j.c,postMessage:j.d})(ie);function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ce(e){var t=e.username,n=e.avatar,r=e.url,u=Object(c.h)()?o.a:i.a;return a.a.createElement(u,{basename:"/inbox",location:r,context:{}},a.a.createElement(s.a,null,a.a.createElement(l.a,{exact:!0,path:"/",component:function(e){return a.a.createElement(B,le({username:t},e))}}),a.a.createElement(l.a,{exact:!0,path:"/:activeThread",component:function(e){return a.a.createElement(se,le({username:t,avatar:n},e))}})))}n.d(t,"a",function(){return ce}),ce.propTypes={username:d.a.string.isRequired,avatar:d.a.string.isRequired,url:d.a.string}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(7),i=n(1),s=n.n(i),l=n(10),c=n.n(l),u=n(32),d=n(9),m=n(3),p=n.n(m),f=n(2),g=n(5),y=n(24),h=n(152);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var v=function(e){var t=e.tags,n=void 0===t?[]:t,o=e.isPaid,i=e.max,s=void 0===i?1:i,l=e.filter,c=void 0===l?function(e){return e}:l,u=b(Object(r.useState)(n),2),d=u[0],m=u[1];return Object(r.useEffect)(function(){m(_.shuffle(n).filter(c).slice(0,s))},[n,s,c]),a.a.createElement("div",{className:"tags-list"},o?a.a.createElement(f.c,{name:"paid-content/supported-stories-badge-black.svg",title:"Paid Stories Badge",className:"paid-stories-badge",height:"18px",width:"18px"}):null,n?d.map(function(e,t){return a.a.createElement(y.a,{key:t+e,name:e,bgColor:"#eeeeee",color:"#6f6f6f",clickHandler:function(e,t){app.router.navigate("/stories/".concat(t),{trigger:!0})}})}):null)};v.propTypes={tags:s.a.array,isPaid:s.a.bool,max:s.a.number,filter:s.a.func};var w=function(e){var t=e.sectionType,n=e.title,o=e.id,i=e.cover,s=e.user,l=e.tags,c=e.description,u=e.isPaid,d=e.sources,m=e.index,p=e.offset,f=e.windowWidth,y=e.wasSeen,b=e.clickTrackingUrls,w=e.callTrackingUrls,E=e.isPromoted,O=e.onStoryClick,S=e.heroItem,k=500,N=200,_=3,j=!0,C=200,P=18;f>=545&&f<=960?(k=250,_=2):f<545&&f>=400?(k=100,N=60,P=10,_=2,j=!1,C=104):f<400&&(k=60,N=30,P=8,_=1,j=!1,C=104);var T=Object(r.useCallback)(function(e){return e.length<P},[P]);Object(r.useEffect)(function(){y&&window.te.push("event","story",null,null,"view",{storyid:o,page:"home",algo_source:d,position:m,offset:p,type:t})},[y]);var R=function(e,n){e.preventDefault(),window.te.push("event","story",null,null,"click",{storyid:o,page:"home",algo_source:d,position:m,offset:p,type:t}),b&&w(b),"mobile"!==wattpad.utils.getDeviceType()&&O?O(S):app.router.navigate(n,{trigger:!0})};return a.a.createElement("div",{className:"paid-stories-item hero"},a.a.createElement("div",{className:"cover"},a.a.createElement("a",{href:"/story/".concat(o),onClick:function(e){return R(e,"/story/".concat(o))}},a.a.createElement("img",{src:Object(g.l)(i,C),alt:"".concat(n," cover")}))),a.a.createElement("div",null,a.a.createElement("a",{className:"title",href:"/story/".concat(o),onClick:function(e){return R(e,"/story/".concat(o))},"aria-label":"Read ".concat(n)},Object(g.o)(n,N,!1)),a.a.createElement("br",null),s&&j?a.a.createElement("a",{className:"author on-navigate",href:"/user/".concat(s.name)},s.name):null,a.a.createElement("p",{className:"description"},Object(g.o)(c,k,!1)),a.a.createElement(v,{tags:l,isPaid:u,max:_,filter:T})),!0===E&&a.a.createElement("div",{className:"right-section"},a.a.createElement(h.a,null)))};w.defaultProps={onStoryClick:null,sources:[],offset:0},w.propTypes={cover:s.a.string.isRequired,id:s.a.oneOfType([s.a.string,s.a.number]).isRequired,index:s.a.number.isRequired,isPaid:s.a.bool,offset:s.a.number,sectionType:s.a.string,sources:s.a.array,tags:s.a.array,title:s.a.string.isRequired,user:s.a.object,description:s.a.string,wasSeen:s.a.bool,windowWidth:s.a.number,clickTrackingUrls:s.a.array,callTrackingUrls:s.a.func,isPromoted:s.a.bool,onStoryClick:s.a.func,heroItem:s.a.object};var E=w,O=n(118),S=n(108);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var N=function(e){var t=e.callTrackingUrls,n=e.clickTrackingUrls,o=e.expandPrompt,i=e.heading,s=e.heroItem,l=e.index,c=e.isPromoted,u=e.multiRows,d=e.onStoryClick,m=e.page,f=e.sectionType,g=e.setPosition,y=e.storyItems,h=e.subheading,b=e.wasSeen,v=e.windowWidth,w=Object(r.useRef)(null);return Object(r.useEffect)(function(){var e=w.current.getBoundingClientRect();g(l,f,e.top+window.scrollY,e.bottom+window.scrollY)},[l,f,g]),y&&0!==y.length||s?a.a.createElement("div",{className:p()("story-swimlane-with-hero",f),ref:w},a.a.createElement("div",{className:"module-content"},a.a.createElement(S.a,{expandPrompt:o,heading:i,sectionType:f,subheading:h,isPromoted:c}),a.a.createElement("div",{className:"hero-item"},a.a.createElement(E,k({},s,{windowWidth:v,clickTrackingUrls:n,callTrackingUrls:t,onStoryClick:d,heroItem:s,index:l,wasSeen:b,sectionType:f}))),u?u.map(function(e,t){return[a.a.createElement(S.a,{heading:e.heading,subheading:e.subheading,key:"".concat(e.heading,"-").concat(t)}),a.a.createElement("div",{className:"story-carousel",key:"".concat(e.items[0].id,"-").concat(t)},a.a.createElement(O.a,{index:l,onStoryClick:d,page:m,sectionType:f,stories:e.items,wasSeen:b,windowWidth:v}))]}):a.a.createElement("div",{className:"story-carousel"},a.a.createElement(O.a,{index:l,onStoryClick:d,page:m,sectionType:f,stories:y,wasSeen:b,windowWidth:v})))):null};N.defaultProps={onStoryClick:null},N.propTypes={callTrackingUrls:s.a.func.isRequired,clickTrackingUrls:s.a.array,expandPrompt:s.a.object,heading:s.a.string,heroItem:s.a.object.isRequired,index:s.a.number.isRequired,isPromoted:s.a.bool,multiRows:s.a.array,navigationItem:s.a.object,onStoryClick:s.a.func,page:s.a.string.isRequired,sectionType:s.a.string.isRequired,setPosition:s.a.func.isRequired,storyItems:s.a.array,subheading:s.a.string,wasSeen:s.a.bool,windowWidth:s.a.number};var j=N,C=n(105),P=n(46),T=n(104),R=n.n(T);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var q=function(e){var t=e.sectionType,n=e.slides,o=void 0===n?[]:n,i=e.index,s=e.setPosition,l=e.windowWidth,c=e.wasSeen,u=e.wrapAround,d=R()(parseInt(app.get("language"),10)),m=Object(r.useRef)(null),g=I(Object(r.useState)([]),2),y=g[0],h=g[1],b=I(Object(r.useState)(),2),v=b[0],w=b[1],E=I(Object(r.useState)(),2),O=E[0],S=E[1];Object(r.useEffect)(function(){if(c)D(0);else{var e=m.current.getBoundingClientRect();w(e.top),S(e.bottom),s(i,t,e.top+window.scrollY,e.bottom+window.scrollY)}},[c,i,t,s,D]);var k=l<575,N=!k&&c,_=k?{autoplay:N,autoplayInterval:5500,animation:"zoom",cellSpacing:8,frameOverflow:"visible",initialSlideHeight:168,initialSlideWidth:282,slideOffset:25,slidesToShow:1.1,swiping:!0,withoutControls:!0,wrapAround:!0}:{autoplay:N,autoplayInterval:5500,dragging:!1,slidesToShow:1,initialSlideHeight:400,renderCenterRightControls:function(e){var t=e.currentSlide,n=e.nextSlide,r=e.slideCount;return C(t,n,r)},renderCenterLeftControls:function(e){var t=e.currentSlide,n=e.previousSlide;return T(t,n)},renderBottomCenterControls:null,renderBottomRightControls:function(e){var t=e.currentSlide,n=e.slideCount,r=e.goToSlide;return q(t,n,r)},wrapAround:!0},j=k?136:267,C=function(e,t,n){return e!==n-1||u?a.a.createElement("button",{className:"next-btn",onClick:t},a.a.createElement(f.e,{name:"arrowRight",size:"22",alt:"next",strokeWidth:"4"})):null},T=function(e,t){return 0!==e||u?a.a.createElement("button",{className:"prev-btn",onClick:t},a.a.createElement(f.e,{name:"arrowLeft",size:"22",alt:"previous",strokeWidth:"4"})):null},q=function(e,t,n){return a.a.createElement("div",{className:"controls"},L(Array(t)).map(function(t,r){var o=p()("control",{active:r===e});return a.a.createElement("div",{className:o,key:r,onClick:function(){n(r)},onKeyDown:function(){n(r)},role:"tab",tabIndex:"0"})}))},M=function(e){m.current.getBoundingClientRect().top<(v-O)/2||m.current.getBoundingClientRect().top>window.innerHeight-(O-v)/2||y.includes(e)||(window.te.push("event","home","featured",null,"view",{itemid:o[e].id,offset:e}),h([].concat(L(y),[e])))},D=Object(r.useCallback)(M);return null!==o&&0!==o.length?a.a.createElement("div",x({ref:m},d?{dir:"ltr",className:"featured-carousel rtl-adjust"}:{className:"featured-carousel"}),a.a.createElement(P.a,x({},_,{afterSlide:M,enableKeyboardControls:!0,heightMode:"max",renderAnnounceSlideMessage:function(e){var t=e.currentSlide,n=e.slideCount;return"Slide ".concat(t," out of ").concat(n)}}),o.map(function(e,t){var n=t===o.length-1;return a.a.createElement(A,x({},e,{height:j,topHeader:k,ind:t,isLastSlide:n,offset:t,key:t}))})),a.a.createElement("hr",{className:"module-divider"})):null};q.propTypes={index:s.a.number.isRequired,sectionType:s.a.string.isRequired,setPosition:s.a.func.isRequired,slides:s.a.array.isRequired,wasSeen:s.a.bool.isRequired,windowWidth:s.a.number,wrapAround:s.a.bool.isRequired};var A=function(e){var t=e.id,n=e.image,r=e.heading,o=e.subheading,i=e.weblink,s=e.ind,l=e.offset,c=e.isLastSlide,u=e.height;return a.a.createElement("div",{className:p()("featured-slide","slide-".concat(s),{"last-slide":c,"not-last-slide":!c})},a.a.createElement("a",{href:i,onClick:function(){window.te.push("event","home","featured",null,"click",{itemid:t,offset:l})}},a.a.createElement("div",{className:"image-container",style:{backgroundImage:"url(".concat(n,")"),height:"".concat(u,"px"),backgroundSize:"cover"},alt:"featured slide",loading:"lazy"})),a.a.createElement("div",{className:"featured-text"},a.a.createElement("h2",null,r),a.a.createElement("p",null,o)))};A.propTypes={heading:s.a.string,height:s.a.number.isRequired,id:s.a.oneOfType([s.a.number,s.a.string]),image:s.a.string.isRequired,ind:s.a.number.isRequired,isLastSlide:s.a.bool,offset:s.a.number.isRequired,subheading:s.a.string,topHeader:s.a.bool,weblink:s.a.string};var M=q,D=function(e){var t=e.sectionType,n=e.heading,o=e.subheading,i=e.background,s=e.index,l=e.isSubsection,c=e.setPosition,u=e.link,d=e.image,m=e.wasSeen,f=Object(r.useRef)(null);Object(r.useEffect)(function(){if(!l){var e=f.current.getBoundingClientRect();c(s,t,e.top+window.scrollY,e.bottom+window.scrollY)}},[l,s,t,c]),Object(r.useEffect)(function(){m&&window.te.push("event","home","navigation",null,"view",{nav_target:n,position:s})},[m]);var g=!!d;return a.a.createElement("div",{className:p()("small-nav",i,"".concat(t,"-banner"),{twoSections:g,oneSection:!g}),ref:f},a.a.createElement("a",{href:u,target:"_blank",onClick:function(){window.te.push("event","home","navigation",null,"click",{nav_target:n,position:s})},rel:"noopener noreferrer",className:"banner-content"},a.a.createElement("div",{className:"contest-content"},a.a.createElement("div",{className:"contest-info"},a.a.createElement("h1",null,n),a.a.createElement("h2",null,o)),g&&a.a.createElement("div",{className:"graphic-container",style:{backgroundImage:"url(".concat(d,")")}}))))};D.propTypes={wasSeen:!1},D.propTypes={index:s.a.number.isRequired,isSubsection:s.a.bool,heading:s.a.string.isRequired,background:s.a.string,setPosition:s.a.func.isRequired,sectionType:s.a.string.isRequired,subheading:s.a.string,link:s.a.string,image:s.a.string,wasSeen:s.a.bool};var F=D,U=n(12),W=n(4),B=function(e){var t=e.greeting,n=e.index,o=e.openContentSettings,i=e.sectionType,s=e.setPosition,l=e.showContentSettings,c=Object(W.g)().trans,u=Object(r.useRef)(null);return Object(r.useEffect)(function(){var e=u.current.getBoundingClientRect();s(n,i,e.top+window.scrollY,e.bottom+window.scrollY)},[n,i,s]),a.a.createElement("div",{className:"greeting-and-content-settings",ref:u},a.a.createElement("div",{className:"module-content"},a.a.createElement("div",{className:"greeting"},t&&a.a.createElement("h2",{className:"greeting-text"},Object(g.h)()&&t.includes("%s")?t.replace("%s",wattpad.user.name||wattpad.user.username||""):t)),l&&a.a.createElement("h2",{className:"content-settings"},a.a.createElement("div",{role:"button",tabIndex:0,className:"content-settings-label",onClick:o},a.a.createElement(U.a,{name:"preferences",size:"17",color:"wp-neutral-1"}),a.a.createElement("p",null,c("Content Preferences"))))),a.a.createElement("hr",{className:"module-divider"}))};B.propTypes={greeting:s.a.string.isRequired,index:s.a.number.isRequired,openContentSettings:s.a.func,sectionType:s.a.string.isRequired,setPosition:s.a.func.isRequired,showContentSettings:s.a.bool};var H=B,z=function(e){var t=e.completed,n=e.cover,o=e.description,i=e.getCollectionsForStoryIds,s=e.id,l=e.isPaid,c=e.numParts,u=e.onLibraryClick,d=e.readingLists,m=e.storiesCollections,p=e.storiesCollectionsLoading,h=void 0!==p&&p,b=e.title,v=e.windowWidth,w=Object(W.g)().trans,E=w(t?"Complete":"Ongoing"),O=t?"#1C6F65":"#8D5610";"mobile"===wattpad.utils.getDeviceType()||h||m&&m[s]||i(s);var S=151;v>=960&&(S=238);var k=Object(r.useRef)(),N=function(e){var t=e.id,n=e.description,r=e.characterDisplayLimit;return a.a.createElement("div",{className:"description"},a.a.createElement("p",{className:"description-text"},Object(g.o)(n,r,!1)),a.a.createElement("a",{className:"link on-navigate",href:"/story/".concat(t)},w("More details"),a.a.createElement(f.e,{name:"chevRight",size:"24"})))};return a.a.createElement("div",{className:"module"},a.a.createElement("div",{className:"module-content full-width"},a.a.createElement("h3",{className:"context-header"},a.a.createElement("span",{className:"company-name"},w("Wattpad")),w("paid stories")),a.a.createElement("div",{className:"story-spotlight-details"},a.a.createElement("img",{className:"story-spotlight-cover",src:Object(g.l)(n,S),alt:"".concat(b," cover")}),a.a.createElement("div",{className:"right-side"},a.a.createElement("div",{className:"new-flag"},w("New")),a.a.createElement("div",{className:"title"},w(b)),a.a.createElement("div",{className:"icon-bar"},l&&a.a.createElement(f.c,{name:"paid-content/supported-stories-badge-black.svg",title:"Paid Stories Badge",className:"icon",height:"16px",width:"16px"}),c&&a.a.createElement("div",{className:"icon parts"},a.a.createElement(f.e,{name:"parts",className:"icon"}),a.a.createElement("div",null,"".concat(c," ").concat(w("parts")))),E&&a.a.createElement("div",{className:"icon completed"},a.a.createElement(y.a,{tabIndex:"-1",name:E,bgColor:O,color:"#ffffff"}))),a.a.createElement("div",{className:"buttons-wrapper"},a.a.createElement("a",{className:"read btn-primary on-navigate",href:"/story/".concat(s)},w("Free preview")),d&&a.a.createElement("button",{className:"btn-icon",alt:"add to library or reading list",title:"add to library or reading list",ref:k,onClick:function(){u(k,s)}},a.a.createElement(f.e,{name:"add",size:"24",color:"wp-neutral-1",strokeWidth:"2.5"}))),v>575&&a.a.createElement(N,{id:s,description:o,characterDisplayLimit:290})),(!v||v<=575)&&a.a.createElement(N,{id:s,description:o,characterDisplayLimit:290}))))};z.propTypes={characterDisplayLimit:s.a.number,completed:s.a.bool,cover:s.a.string,description:s.a.string,getCollectionsForStoryIds:s.a.func,id:s.a.number,isPaid:s.a.bool,numParts:s.a.number,onLibraryClick:s.a.func,readingLists:s.a.array,storiesCollections:s.a.object,storiesCollectionsLoading:s.a.bool,title:s.a.string,windowWidth:s.a.number};var V=z;function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Y=function(e){var t={sectionType:e.type,index:e.index,setPosition:e.setPosition,windowWidth:e.windowWidth,wasSeen:e.wasSeen,page:"home"},n=Object(W.d)();switch(e.type){case"paidMultiRow":case"paid":case"storyHeroGroup":return a.a.createElement(j,G({},t,{expandPrompt:e.data.expandPrompt,heading:e.data.heading,subheading:e.data.subheading,heroItem:e.data.heroItem||e.data.heroItems[0],storyItems:e.data.listItems,multiRows:e.data.rows,navigationItem:e.data.navigation,isPromoted:e.data.isPromoted,clickTrackingUrls:e.data.tracking&&e.data.tracking.clicks,callTrackingUrls:e.callTrackingUrls,onStoryClick:e.openStoryDetails}));case"storyList":return a.a.createElement(C.a,G({},t,{expandPrompt:e.data.expandPrompt,heading:e.data.heading,background:n.NEW_PAID_BACKGROUND_FIELD?e.data.background:null,subheading:e.data.subheading,stories:e.data.items,isPromoted:e.data.isPromoted,clickTrackingUrls:e.data.tracking&&e.data.tracking.clicks,callTrackingUrls:e.callTrackingUrls,onStoryClick:e.openStoryDetails}));case"featured":return!!e.data.items&&a.a.createElement(M,G({},t,{slides:e.data.items,wrapAround:!0}));case"smallNavigation":return a.a.createElement(F,G({},t,{heading:e.data.heading,subheading:e.data.subheading,background:n.NEW_PAID_BACKGROUND_FIELD?e.data.background:null,link:e.data.weblink,image:e.data.image}));case"greeting":return a.a.createElement(H,G({},t,{greeting:e.data.greeting,openContentSettings:e.openContentSettings,showContentSettings:e.data.showContentSettings}));case"storySpotlight":return n.STORY_SPOTLIGHT?a.a.createElement(V,G({},e.data.item,t,{onLibraryClick:e.onLibraryClick,readingLists:e.readingLists,getCollectionsForStoryIds:e.getCollectionsForStoryIds,storiesCollections:e.storiesCollections,storiesCollectionsLoading:e.storiesCollectionsLoading})):null;default:return null}};Y.propTypes={index:s.a.number.isRequired,setPosition:s.a.func.isRequired,windowWidth:s.a.number.isRequired,wasSeen:s.a.bool.isRequired,type:s.a.string,openContentSettings:s.a.func,openStoryDetails:s.a.func,onLibraryClick:s.a.func,readingLists:s.a.array,getCollectionsForStoryIds:s.a.func,storiesCollections:s.a.object,storiesCollectionsLoading:s.a.bool,data:s.a.shape({expandPrompt:s.a.object,heading:s.a.string,background:s.a.string,subheading:s.a.string,isPromoted:s.a.bool,heroItem:s.a.object,heroItems:s.a.array,navigation:s.a.object,clickTrackingUrls:s.a.array,listItems:s.a.array,greeting:s.a.string,image:s.a.string,weblink:s.a.string,items:s.a.array,item:s.a.object,tracking:s.a.object,rows:s.a.array,showContentSettings:s.a.bool}),callTrackingUrls:s.a.func};var K=Y;function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Q(e){var t=e.visible,n=Object(W.g)().trans,o=J(Object(r.useState)(null),2),i=o[0],s=o[1],l=J(Object(r.useState)(0),2),u=l[0],d=l[1],m=J(Object(r.useState)(""),2),p=m[0],f=m[1],g=t?"0px":"150px",y=Object(r.useCallback)(function(e){var t=c.a.get(e,"readingPosition.partId",null),n=c.a.get(e,"parts",null),r=c.a.find(n,{id:parseInt(t)}),a=c.a.get(r,"url",null);return a?wattpad.utils.formatStoryUrl(a):null},[]);Object(r.useEffect)(function(){var e=wattpad.user.username||"",t="/v4/users/".concat(e,"/recent_reads");Promise.resolve($.get({url:t,cache:!1})).then(function(e){var t=e.stories[0],n=t&&t.parts&&t.readingPosition?wattpad.utils.calcPercentRead(t.parts,t.readingPosition):0;s(t),d(n),f(y(t))}).catch(function(){s(null),d(0),f("")})},[y]);return!!i&&!!p&&a.a.createElement("div",{className:"continue-reading-wrapper"},a.a.createElement("button",{className:"continue-reading",label:n("Continue reading %s",i.title),onClick:function(){p&&app.router.navigate(p,{trigger:!0})},style:{transform:"translate(0, ".concat(g,")")}},a.a.createElement("div",{className:"info"},a.a.createElement("div",{className:"story-info"},a.a.createElement("div",{className:"cover"},a.a.createElement("img",{src:i.cover,alt:i.title+" cover"})),a.a.createElement("div",{className:"story-details"},a.a.createElement("div",{className:"header"},n("Continue Reading")),a.a.createElement("div",{className:"story-title"},i.title))),a.a.createElement("div",{className:"read"},n("READ"))),a.a.createElement("div",{className:"percentage-read"},a.a.createElement("div",{className:"percentage-position",style:{width:"".concat(u,"%")}}))))}var Z=n(64);function X(e){var t=e.onRefresh,n=Object(W.g)().trans;return a.a.createElement("div",{className:"load-home-failed"},a.a.createElement("div",{className:"image"},a.a.createElement("img",{src:"/img/homepages/homeIllustration.svg",alt:""})),a.a.createElement("div",{className:"text"},a.a.createElement("div",{className:"title"},n("Let’s find your way back home")),a.a.createElement("div",{className:"subtitle"},n("Something went wrong, try refreshing."))),a.a.createElement("button",{className:"refresh btn-primary",onClick:t},n("Refresh")))}X.propTypes={onRefresh:s.a.func},X.defaultProps={onRefresh:function(){}};var ee=n(139),te=n(45),ne=n(151);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ue=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return ce(se(n=function(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?se(e):t}(this,(e=ie(t)).call.apply(e,[this].concat(o)))),"state",{windowWidth:null,lastSectionLoaded:5,lastScrollY:0,showContinueReading:!0}),ce(se(n),"sectionWrapperRef",a.a.createRef()),ce(se(n),"sectionLimitPerPage",5),ce(se(n),"showContinueReading",function(){var e=window.scrollY;e<=0||e<n.state.lastScrollY?n.setState({showContinueReading:!0}):n.setState({showContinueReading:!1}),n.setState({lastScrollY:e})}),ce(se(n),"handleInfScroll",function(){var e;n.state.lastSectionLoaded!==n.props.sections.length?n.isAtBottom(n.sectionWrapperRef.current)&&(e=n.state.lastSectionLoaded>n.props.sections.length-1-n.sectionLimitPerPage?n.props.sections.length-1:n.state.lastSectionLoaded+n.sectionLimitPerPage,n.setState({lastSectionLoaded:e}),window.wattpad.homeSectionsIndex=e):window.removeEventListener("scroll",c.a.debounce(n.handleInfScroll,300,{leading:!1,trailing:!0}))}),ce(se(n),"handleOpenContentSettings",function(){n.props.openContentSettings(),window.te.push("event","app","page",null,"view",{page:"content_settings",source:"home"})}),ce(se(n),"isAtBottom",function(e){return e&&e.getBoundingClientRect().bottom-200<=window.innerHeight}),ce(se(n),"handleOpenStoryDetails",function(e){n.props.openStoryDetails(e)}),ce(se(n),"checkIntersections",function(){var e=window.scrollY,t=e+window.innerHeight;Object.keys(n.props.sectionBounds).map(function(r){if(!n.props.sectionBounds[r].viewed){var a=n.props.sectionBounds[r],o=n.props.sections[r].data,i=(o=void 0===o?{}:o).tracking,s=(i=void 0===i?{}:i).impressions,l=void 0===s?[]:s,c=l.length>0,u=a.bottom-a.top;(u-(a.top<e?e-a.top:0)-(a.bottom>t?a.bottom-t:0))/u>=.5&&(window.te.push("event","home","section",null,"view",{type:a.type,position:a.index}),c&&n.props.callTrackingUrls(l),n.props.sectionViewed(r))}})}),ce(se(n),"handleLibraryClick",function(e,t){n.props.openPopover({component:function(){return a.a.createElement(ne.a,{readingLists:n.props.readingLists,storyId:t,updateCollection:n.props.updateCollection,removeStoriesFromCollection:n.props.removeStoriesFromCollection,storiesCollections:n.props.storiesCollections[t],getReadingLists:n.props.getReadingLists,getCollectionsForStoryIds:n.props.getCollectionsForStoryIds})},triggerRef:e,passthroughProps:{showArrow:"true"}})}),ce(se(n),"refresh",function(){n.props.clearError(),n.props.fetchHomeSections()}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(t,a.a.Component),function(e,t,n){t&&oe(e.prototype,t),n&&oe(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;this.isInMetadataLibraryTestGroup=c.a.get(window,"wattpad.testGroups.CD_METADATA_LIBRARY_BUTTON",!1),this.isInMetadataLibraryTestGroup&&"mobile"!==wattpad.utils.getDeviceType()&&void 0===this.props.readingLists&&!this.props.readingListsLoading&&this.props.getReadingLists(),void 0!==this.props.sections&&0!==this.props.sections.length||this.props.fetchHomeSections(),this.setState({windowWidth:window.innerWidth}),window.addEventListener("resize",function(){return e.setState({windowWidth:window.innerWidth})});var t=window.wattpad.homeSectionsIndex;t&&this.setState({lastSectionLoaded:t}),window.addEventListener("scroll",c.a.debounce(this.handleInfScroll,300,{leading:!1,trailing:!0})),window.addEventListener("scroll",this.checkIntersections),window.addEventListener("scroll",c.a.throttle(this.showContinueReading,300,{leading:!0,trailing:!1})),window.te.push("event","app","page",null,"view",{page:"home"})}},{key:"componentDidUpdate",value:function(e){0===Object.keys(e.sectionBounds).length&&0!==Object.keys(this.props.sectionBounds).length&&this.checkIntersections(),e.error!==this.props.error&&this.props.error&&console.error("An error has occurred:\n".concat(this.props.error.errorMessage))}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("resize",function(){return e.setState({windowWidth:window.innerWidth})}),window.removeEventListener("scroll",c.a.debounce(this.handleInfScroll,300,{leading:!1,trailing:!0})),window.removeEventListener("scroll",this.checkIntersections),window.removeEventListener("scroll",c.a.throttle(this.showContinueReading,300,{leading:!0,trailing:!1}))}},{key:"render",value:function(){var e=this;return this.props.homeLoading&&this.props.showLoader?a.a.createElement("div",{className:"home-sections-wrapper loading-spinner"},a.a.createElement(Z.a,null)):this.props.error&&this.props.error.errorType===d.u.fetchError?a.a.createElement(X,{onRefresh:this.refresh}):void 0===this.props.sections||0===this.props.sections.length?null:a.a.createElement("div",{className:"home-sections-wrapper",ref:this.sectionWrapperRef},a.a.createElement(a.a.Fragment,null,this.state.windowWidth<575&&a.a.createElement("div",{className:"try-premium-container"},a.a.createElement(ee.a,{ctaType:"home_header"})),this.props.sections.slice(0,this.state.lastSectionLoaded).map(function(t,n){var r=!(!e.props.sectionBounds[n]||!e.props.sectionBounds[n].viewed);return a.a.createElement(K,ae({},t,{openContentSettings:e.handleOpenContentSettings,openStoryDetails:e.handleOpenStoryDetails,onLibraryClick:e.handleLibraryClick,getCollectionsForStoryIds:e.props.getCollectionsForStoryIds,storiesCollections:e.props.storiesCollections,storiesCollectionsLoading:e.props.storiesCollectionsLoading,readingLists:e.props.readingLists,index:n,key:"".concat(t.type,"-").concat(n),setPosition:e.props.receiveSectionPosition,wasSeen:r,windowWidth:e.state.windowWidth,callTrackingUrls:e.props.callTrackingUrls}))}),a.a.createElement(Q,{visible:this.state.showContinueReading})),a.a.createElement(f.n,null))}}]),t}();ce(ue,"propTypes",{callTrackingUrls:s.a.func,clearError:s.a.func,error:s.a.object,fetchHomeSections:s.a.func,showLoader:s.a.bool,homeLoading:s.a.bool,openContentSettings:s.a.func,openStoryDetails:s.a.func,scrollIndex:s.a.number,sectionBounds:s.a.object,sections:s.a.array,sectionViewed:s.a.func,receiveSectionPosition:s.a.func,getReadingLists:s.a.func,readingLists:s.a.array,readingListsLoading:s.a.bool,getCollectionsForStoryIds:s.a.func,storiesCollections:s.a.object,storiesCollectionsLoading:s.a.bool,updateCollection:s.a.func,removeStoriesFromCollection:s.a.func,openPopover:s.a.func}),ue.defaultProps={homeLoading:!0,showLoader:!0};var de={fetchHomeSections:u.c,receiveSectionPosition:u.j,sectionViewed:u.m,clearError:u.b,callTrackingUrls:u.a,openContentSettings:u.h,openStoryDetails:u.i,getReadingLists:u.f,getCollectionsForStoryIds:u.d,updateCollection:u.n,removeStoriesFromCollection:u.k,openPopover:te.c};t.a=Object(o.b)(function(e){var t=e.homeSections;return{homeLoading:t.homeLoading,showLoader:t.showLoader,sections:t.sections,sectionBounds:t.sectionBounds,error:t.error,readingLists:t.readingLists,readingListsLoading:t.readingListsLoading,storiesCollections:t.storiesCollections,storiesCollectionsLoading:t.storiesCollectionsLoading}},de)(ue)},function(e,t,n){"use strict";var r=n(3),a=n.n(r),o=n(1),i=n.n(o),s=n(0),l=n.n(s),c=n(55),u=n.n(c),d=n(7),m=n(5),p=n(28),f=n.n(p),g=n(2);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(v(n=function(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?v(e):t}(this,b(t).call(this,e))),"onCheckboxChange",function(){var e=!n.state.checked;n.setState({checked:e}),n.props.onCheckboxChange(n.props.name,e)}),"checkbox"===n.props.type&&(n.state={checked:n.props.value}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,l.a.Component),function(e,t,n){t&&h(e.prototype,t),n&&h(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.trans,n=e.label,r=e.value,a=e.name,o=e.type,i=e.icon,s=e.children;return l.a.createElement("div",null,l.a.createElement("div",{className:"col-xs-5 account-label"},l.a.createElement("label",{htmlFor:a,className:"profile-label"},t(n)),i),l.a.createElement("div",{className:"col-xs-7 account-value"},"text"===o&&l.a.createElement("input",{type:"text",name:a,id:a,defaultValue:Object(m.m)(r)}),"checkbox"===o&&l.a.createElement("input",{type:"checkbox",name:a,id:a,value:this.state.checked,defaultChecked:this.state.checked,onChange:this.onCheckboxChange}),s))}}]),t}();E.propTypes={trans:i.a.func.isRequired,label:i.a.string,value:i.a.any,name:i.a.string,type:i.a.string,icon:i.a.node,children:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]),onCheckboxChange:i.a.func};var O=Object(m.g)(E);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return P(j(n=function(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?j(e):t}(this,(e=N(t)).call.apply(e,[this].concat(a)))),"getFacebook",function(){var e,t,r=n.props.facebook;return r?(e="https://www.facebook.com/"+r,t=l.a.createElement("div",null,l.a.createElement("a",{className:"info",href:e,target:"_new"},e),l.a.createElement("a",{href:"/apiv2/linksocialmedia?action=unlinkfb",id:"unlink_fb_btn",role:"button",tabIndex:"0"},l.a.createElement("img",{src:"/image/v2/unlink.png",width:"16",height:"16",alt:"unlink.png"})))):t=l.a.createElement("div",null,l.a.createElement("a",{href:"#",rel:"nofollow"},l.a.createElement("img",{className:"btn-facebook",alt:"Facebook",border:"0",width:"89",height:"21",src:"/image/connect_light_medium_short.gif"})),l.a.createElement("span",{id:"facebook-tooltip",className:"help"},l.a.createElement(g.e,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}))),t}),P(j(n),"getTwitter",function(){var e=n.props.twitter;return e?l.a.createElement("div",null,l.a.createElement("a",{className:"info",href:e,target:"_new"},"https://www.twitter.com/"+e),l.a.createElement("a",{href:"/apiv2/linksocialmedia?action=unlinktwitter",id:"unlink_tw_btn"},l.a.createElement("img",{src:"/image/v2/unlink.png",width:"16",height:"16",alt:"unlink.png"}))):l.a.createElement("div",null,l.a.createElement("a",{href:"/apiv2/linksocialmedia?action=linktwitter",rel:"nofollow"},l.a.createElement("img",{src:"/image/twitter_signin_small.png",alt:"Sign in with Twitter"}),l.a.createElement("span",{id:"twitter-tooltip",className:"help"},l.a.createElement(g.e,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}))))}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,l.a.Component),function(e,t,n){t&&k(e.prototype,t),n&&k(e,n)}(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(O,{label:"Facebook",icon:l.a.createElement("img",{className:"label-icon",src:"/image/icon22_fb.png?",alt:"icon22_fb.png",border:"0",align:"absmiddle"})},this.getFacebook()),l.a.createElement(O,{label:"Twitter",icon:l.a.createElement("img",{className:"label-icon",src:"/image/icon22_twitter.png?",alt:"icon22_twitter.png",border:"0",align:"absmiddle"})},this.getTwitter()))}}]),t}();function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}T.propTypes={facebook:i.a.string.isRequired,twitter:i.a.string.isRequired};var M=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),A(I(n=function(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?I(e):t}(this,L(t).call(this,e))),"onCheckboxChange",function(e,t){var r={};r[e]=t,n.setState(r)}),A(I(n),"handleSubmit",function(e){e.preventDefault();var t=n.state,r=t.showName,a=t.appearOffline,o=t.betaEnabled,i=[{name:"show_name",value:r?"1":"0"},{name:"appear_offline",value:a?"1":"0"},{name:"beta_enabled",value:o}];n.props.onSubmit(e,i)}),A(I(n),"updateWordCount",function(e){n.setState({wordCount:e.target.value.length})}),A(I(n),"openSettingsModal",function(e){n.props.openEditModal(e)}),n.state={wordCount:n.props.description.length,showName:1===n.props.show_name,appearOffline:1===n.props.appear_offline,betaEnabled:n.props.beta_enabled},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,l.a.Component),function(e,t,n){t&&x(e.prototype,t),n&&x(e,n)}(t,[{key:"getGenderDropdown",value:function(){var e=this.props,t=e.genderCode,n=e.trans;return l.a.createElement("select",{name:"gender",id:"gender",defaultValue:t||""},l.a.createElement("option",{value:"M"},n("He")),l.a.createElement("option",{value:"F"},n("She")),l.a.createElement("option",{value:"O"},n("They")),l.a.createElement("option",{value:""}))}},{key:"getLanguageDropdown",value:function(){var e=this.props,t=e.language,n=e.app;return l.a.createElement("select",{name:"language",id:"language",size:"1",defaultValue:t},n.languages.map(function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.name?e.name:e.get("name"))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.trans,r=t.username,a=t.has_password,o=t.name,i=t.email,s=t.language,c=t.verified_email,u=t.location,d=t.bubok,p=t.smashwords,y=t.website,h=t.lulu,b=t.description,v=t.premium,w=t.facebook,E=t.twitter,S=this.state,k=S.wordCount,N=S.showName,_=S.appearOffline,j=S.betaEnabled,C=this.props.birthdate;return C=f()(C).format("YYYY-MM-DD"),l.a.createElement("div",{id:"account"},l.a.createElement("h2",{className:"subheading"},n("Change your account information and privacy settings")),l.a.createElement("form",{id:"account_form",name:"account_form",onSubmit:this.handleSubmit},l.a.createElement("div",{className:"row account-wrapper"},l.a.createElement(O,{label:"Username"},r,l.a.createElement("a",{className:"info",id:"changeUsername",href:"#",onClick:function(){return e.openSettingsModal("username")}},n("change"))),l.a.createElement(O,{label:"Password"},a&&l.a.createElement("span",null,Object(m.m)("********"),l.a.createElement("a",{className:"info",id:"changeUsername",href:"#",onClick:function(){return e.openSettingsModal("password")}},n("change"))),!a&&l.a.createElement("a",{className:"info",id:"addPassword",href:"#"},n("create password"))),l.a.createElement(O,{label:"Email"},i,l.a.createElement("a",{className:"info",id:"changeEmail",href:"#",onClick:function(){return e.openSettingsModal("email")}},n("change")),!c&&l.a.createElement("div",null,n("Not Verified"),l.a.createElement("a",{className:"info",href:"user_activation?action=send&username=".concat(r)},n("Send Activation Code")))),l.a.createElement(O,{label:"Name",value:o,name:"name",type:"text"}),l.a.createElement(O,{label:"Show name",value:N,name:"showName",type:"checkbox",onCheckboxChange:this.onCheckboxChange}),l.a.createElement(O,{label:"Date of Birth"},l.a.createElement("div",{className:"birthdate-wrapper"},l.a.createElement("input",{id:"birthdate",type:"date",name:"birthdate",defaultValue:C}))),l.a.createElement(O,{label:"Gender"},this.getGenderDropdown()),l.a.createElement(O,{label:"Location",value:u,name:"location",type:"text"}),l.a.createElement(O,{label:"Story Language"},this.getLanguageDropdown()),l.a.createElement(O,{label:"Appear Offline",value:_,name:"appearOffline",type:"checkbox",onCheckboxChange:this.onCheckboxChange}),l.a.createElement(O,{label:"Premium Subscription"},l.a.createElement("span",{className:"premium-status"},n(v?"Active":"Inactive")),l.a.createElement("a",{className:"info",href:"//premium.wattpad.com"},n("Learn more"))),l.a.createElement(O,{label:"Join Beta Program",name:"betaEnabled",value:j,type:"checkbox",onCheckboxChange:this.onCheckboxChange},l.a.createElement("a",{className:"info",href:"//support.wattpad.com/hc/articles/201708720-How-do-I-Join-the-Beta-Testing-for-Wattpad"},n("Learn more")),l.a.createElement("span",{id:"beta-tooltip",className:"help"},l.a.createElement(g.e,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}))),l.a.createElement(O,{label:"Download your Personal Information"},l.a.createElement("a",{href:"/settings/your-wattpad-data"},n("HTML")),l.a.createElement("a",{href:"/settings/your-wattpad-data?json=1",style:{paddingLeft:"5px"}},n("JSON")),l.a.createElement("span",{id:"info-tooltip",className:"help"},l.a.createElement(g.e,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}))),l.a.createElement(T,{facebook:w,twitter:E}),l.a.createElement(O,{label:"Lulu",value:h,type:"text",name:"lulu",icon:l.a.createElement("img",{className:"label-icon",src:"/image/icon22_lulu.png",alt:"icon22_lulu.png"})}),l.a.createElement(O,{label:"Smashwords",value:p,type:"text",name:"smashwords",icon:l.a.createElement("img",{className:"label-icon",src:"/image/icon22_smashwords.png",alt:"icon22_smashwords.png"})}),(5===s||6===s)&&l.a.createElement(O,{label:"Bubok",name:"bubok",value:d,type:"text",icon:l.a.createElement("img",{className:"label-icon",src:"/image/icon22_bubok.png",alt:"icon22_bubok.png"})}),l.a.createElement(O,{label:"Website",value:y,name:"website",type:"text",icon:l.a.createElement("img",{className:"label-icon",src:"/image/icon22_web.png",alt:"icon22_web.png",border:"0",align:"absmiddle"})})),l.a.createElement("div",{className:"row about-me"},l.a.createElement("label",{htmlFor:"description",className:"about-title"},n("About")),l.a.createElement("textarea",{className:"inputbox col-xs-12",name:"description",id:"description",cols:"30",rows:"10",defaultValue:b,onKeyUp:this.updateWordCount}),l.a.createElement("span",{className:"word-count"},k," / 2000")),l.a.createElement("div",{className:"row submit"},l.a.createElement("input",{type:"submit",className:"btn btn-md btn-orange",defaultValue:n("Save")}))))}}]),t}();M.propTypes={trans:i.a.func.isRequired,username:i.a.string.isRequired,has_password:i.a.bool,name:i.a.string,email:i.a.string.isRequired,language:i.a.number.isRequired,gender:i.a.string,genderCode:i.a.string,verified_email:i.a.bool,birthdate:i.a.string,location:i.a.string,bubok:i.a.string,smashwords:i.a.string,website:i.a.string,lulu:i.a.string,description:i.a.string,premium:i.a.bool.isRequired,beta_enabled:i.a.bool.isRequired,appear_offline:i.a.any,show_name:i.a.any,facebook:i.a.string.isRequired,app:i.a.object.isRequired,twitter:i.a.string.isRequired,openEditModal:i.a.func,onSubmit:i.a.func},Object(m.h)()&&_.extend(M.propTypes,{openEditModal:i.a.func.isRequired,onSubmit:i.a.func.isRequired});var D=Object(m.g)(M),F=n(8),U=n(103),W=n(25);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=function(e){var t=e.mutedUsers,n=e.toggleModal,r=e.unmuteUser,a=function(e){var t=function(){return l.a.createElement(U.a,{username:e,toggleModal:n,onUnmute:r})};t.displayName="UnmuteModal",n({className:"mute-modal",hideClose:!0,component:t})};return t.map(function(e){var t=e.username,n=e.avatar;return l.a.createElement("li",{key:t,className:"muted-user"},l.a.createElement("img",{src:n,alt:t,align:"top",width:"64",height:"64"}),l.a.createElement("div",{className:"username-wrapper"},l.a.createElement("a",{href:"/user/".concat(t),className:"user-profile on-navigate",title:t},t)),l.a.createElement("div",{className:"button-group inline-block relative "},l.a.createElement("button",{className:"btn btn-white dropdown-toggle more-options","data-toggle":"dropdown","aria-controls":"more-options","aria-expanded":"false","aria-label":"more options"},l.a.createElement(g.e,{name:"more",size:"24"})),l.a.createElement("div",{className:"triangle"}),l.a.createElement("div",{className:"dropdown-menu align-right"},l.a.createElement(g.m,{username:t,isLoading:!1,isBlockedByCurrentUser:!0,onUnmuteUser:a,onReportUser:function(){}}))))})},K=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Y(V(n=function(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?V(e):t}(this,z(t).call(this,e))),"moveBackward",function(){var e=n.state.currentPage;e>1&&n.setState({currentPage:e-1})}),Y(V(n),"moveForward",function(){var e=n.state.currentPage;e<n.totalPages&&n.setState({currentPage:e+1})}),n.state={currentPage:1},n.pageLimit=8,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,l.a.Component),function(e,t,n){t&&H(e.prototype,t),n&&H(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.mutedUsers,n=e.trans,r=e.toggleModal,o=e.unmuteUser,i=this.state.currentPage;this.totalPages=function(e,t){return Math.ceil(e/t)}(this.props.mutedUsers.length,this.pageLimit);var s=a()("",{"wp-base-1":1!==i,"wp-neutral-2":1===i}),c=a()("",{"wp-base-1":t.length>this.pageLimit&&i!==this.totalPages,"wp-neutral-2":i>=this.totalPages}),u=(i-1)*this.pageLimit,d=t.slice(u,u+this.pageLimit);return l.a.createElement("div",{id:"mute-list"},l.a.createElement("h5",{className:"subheading"},n("These are the users you have muted")),l.a.createElement("div",{id:"muted-users"},l.a.createElement("ul",{className:"user-list"},l.a.createElement($,{mutedUsers:d,toggleModal:r,unmuteUser:o})),l.a.createElement("div",{className:"controls"},l.a.createElement("div",{onClick:this.moveBackward,onKeyDown:this.moveBackward,role:"button",tabIndex:"0"},l.a.createElement(g.e,{iconName:"fa-left",height:"18",color:s})),l.a.createElement("span",{className:"current-page"},this.state.currentPage),l.a.createElement("div",{onClick:this.moveForward,onKeyDown:this.moveForward,role:"button",tabIndex:"0"},l.a.createElement(g.e,{iconName:"fa-right",height:"18",color:c})))))}}]),t}();K.propTypes={trans:i.a.func.isRequired,mutedUsers:i.a.array.isRequired,toggleModal:i.a.func,unmuteUser:i.a.func.isRequired};var J=Object(d.b)(function(e){return{mutedUsers:e.profileData.mutedUsers}},{unmuteUser:W.h,toggleModal:F.c})(K),Q=Object(m.g)(J);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var re=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(te(n=function(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?te(e):t}(this,ee(t).call(this,e))),"onCheckboxChange",function(){var e=!n.state.checked;n.setState({checked:e}),n.props.onCheckboxChange(n.props.name,e)}),n.state={checked:n.props.value},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,l.a.Component),function(e,t,n){t&&X(e.prototype,t),n&&X(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.value,r=e.children,a=this.state.checked;return l.a.createElement("div",null,l.a.createElement("div",{className:"col-xs-2"},l.a.createElement("input",{type:"checkbox",name:t,value:n,defaultChecked:a,onChange:this.onCheckboxChange})),l.a.createElement("div",{className:"col-xs-10"},r))}}]),t}();function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}re.propTypes={name:i.a.string,value:i.a.any,children:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]),onCheckboxChange:i.a.func};var ue=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ce(se(n=function(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?se(e):t}(this,ie(t).call(this,e))),"handleSubmit",function(e){n.props.updateNotifications(e)}),ce(se(n),"onCheckboxChange",function(e,t){var r={};r[e]=t,n.setState(r)});var r=e.alerts,a=e.alertssub,o=e.subscribe;return n.state={alerts:1===parseInt(r,10),alertssub:a,subscribe:1===parseInt(o,10)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(t,l.a.Component),function(e,t,n){t&&oe(e.prototype,t),n&&oe(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.trans,n=e.userId,r=this.state,a=r.alerts,o=r.alertssub,i=r.subscribe;return l.a.createElement("div",{id:"notification"},l.a.createElement("h2",{className:"subheading"},t("Receive email notifications for these events")),l.a.createElement("form",{id:"notifications_form",name:"notifications_form",className:"row",onSubmit:this.handleSubmit},l.a.createElement("input",{type:"hidden",name:"id",value:n}),l.a.createElement(re,{name:"alerts",value:a,onCheckboxChange:this.onCheckboxChange},l.a.createElement("h4",null,t("Messages")),l.a.createElement("ul",null,l.a.createElement("li",null,t("Someone writes on your message board")),l.a.createElement("li",null,t("Someone starts following you")),l.a.createElement("li",null,t("Someone comments on your story")),l.a.createElement("li",null,t("Someone mentions you in a comment")),l.a.createElement("li",null,t("You receive a message")))),l.a.createElement(re,{name:"alertssub",value:o,onCheckboxChange:this.onCheckboxChange},l.a.createElement("h4",null,t("Users you follow upload a story"))),l.a.createElement(re,{name:"subscribe",value:i,onCheckboxChange:this.onCheckboxChange},l.a.createElement("h4",null,t("Updates")),l.a.createElement("ul",null,l.a.createElement("li",null,t("Important announcements from Wattpad")))),l.a.createElement("div",{className:"col-xs-6 col-xs-offset-4"},l.a.createElement("span",{className:"bold"},t("Your news feed will not be affected by these settings"))),l.a.createElement("div",{className:"col-xs-12 submit"},l.a.createElement("input",{type:"submit",className:"btn btn-md btn-orange",value:t("Save")})),l.a.createElement("input",{type:"hidden",name:"alertssubmask",value:"0"})))}}]),t}();ue.propTypes={trans:i.a.func.isRequired,userId:i.a.number.isRequired,alerts:i.a.any.isRequired,alertssub:i.a.bool.isRequired,subscribe:i.a.any.isRequired,updateNotifications:i.a.func},Object(m.h)()&&_.extend(ue.propTypes,{updateNotifications:i.a.func.isRequired});var de=Object(m.g)(ue);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),he(ge(n=function(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?ge(e):t}(this,fe(t).call(this,e))),"uploadBackground",function(){n.setState({editBgStarted:!0})}),he(ge(n),"uploadAvatar",function(){n.setState({editAvatarStarted:!0})}),he(ge(n),"updateAvatar",function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]);else{var t=e.target.files[0];t&&n.props.saveAvatarChanges(t)}}),he(ge(n),"updateBackground",function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]);else{var t=e.target.files[0];t&&n.props.saveBackgroundChanges(t)}}),n.state={editBgStarted:!1,editAvatarStarted:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(t,l.a.Component),function(e,t,n){t&&pe(e.prototype,t),n&&pe(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.trans,r=t.avatar,o=t.backgroundUrl,i=t.username,s=this.state,c=s.editAvatarStarted,u=s.editBgStarted,d=a()("image-upload",{show:c}),m=a()("image-upload",{show:u}),p=a()("btn btn-small btn-white",{hide:c}),f=a()("btn btn-small btn-white",{hide:u}),g=a()("btn btn-small btn-white hidden",{hide:c}),y=a()("btn btn-small btn-white hidden",{hide:u});return l.a.createElement("div",{id:"right-side-panel",className:"col-xs-12"},l.a.createElement("h5",{className:"container_head"},n("Customize")),l.a.createElement("div",{id:"avatar"},n("Profile Picture"),l.a.createElement("img",{src:r||"/image/pixel.gif",alt:i,align:"bottom",className:"picframe",border:"0",width:"256",height:"256"}),l.a.createElement("button",{id:"changeAvatar",className:p,onClick:this.uploadAvatar},n("Change")),l.a.createElement("form",{className:d,method:"post",encType:"multipart/form-data"},l.a.createElement("input",{type:"file",name:"avatar",onChange:this.updateAvatar}),l.a.createElement("small",null,n("Upload a jpg or gif, 512x512 recommended.Do not upload any restricted material, see terms of service"))),r&&l.a.createElement("button",{id:"deleteAvatar",className:g,onClick:function(t){return e.updateAvatar(t,!0)}},n("Remove"))),l.a.createElement("div",{id:"background"},n("Background"),l.a.createElement("img",{src:o||"/image/pixel.gif",alt:i,align:"bottom",className:"picframe",border:"0",width:"256"}),l.a.createElement("button",{id:"changeBackground",className:f,onClick:this.uploadBackground},n("Change")),l.a.createElement("form",{className:m,method:"post",encType:"multipart/form-data"},l.a.createElement("input",{type:"file",name:"backgroundUrl",onChange:this.updateBackground}),l.a.createElement("small",null,n("Upload a jpg or gif, up to 1MB. Do not upload any restricted material, see terms ofservice"))),o&&l.a.createElement("button",{id:"deleteBackground",className:y,onClick:function(t){return e.updateBackground(t,!0)}},n("Remove"))),l.a.createElement("div",{className:"close-account"},l.a.createElement("a",{className:"btn btn-md btn-orange",href:"/user_close"},n("Close Account"))))}}]),t}();be.propTypes={trans:i.a.func.isRequired,avatar:i.a.string.isRequired,backgroundUrl:i.a.string.isRequired,username:i.a.string.isRequired,saveAvatarChanges:i.a.func,saveBackgroundChanges:i.a.func},Object(m.h)()&&_.extend(be.propTypes,{saveAvatarChanges:i.a.func.isRequired,saveBackgroundChanges:i.a.func.isRequired});var ve=Object(m.g)(be),we=n(95),Ee=n(72);function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ce(_e(n=function(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?_e(e):t}(this,Ne(t).call(this,e))),"onSubmitChanges",function(e,t){n.props.onSaveAccountChanges(e,t)}),Ce(_e(n),"onSaveAvatarChanges",function(e){n.props.saveAvatarChanges(e),u.a.unmountComponentAtNode(document.getElementById("component-UserSettings-user-settings-/settings"))}),Ce(_e(n),"onSaveBackgroundChanges",function(e){n.props.saveBackgroundChanges(e),u.a.unmountComponentAtNode(document.getElementById("component-UserSettings-user-settings-/settings"))}),n.state={selectedTab:"account"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(t,l.a.Component),function(e,t,n){t&&ke(e.prototype,t),n&&ke(e,n)}(t,[{key:"componentDidMount",value:function(){this.props.renderTooltips(),this.props.initializeMutedUsers(this.props.userObj.id)}},{key:"onTabSelect",value:function(e){this.setState({selectedTab:e})}},{key:"render",value:function(){var e=this.props,t=e.userObj,n=e.app,r=e.trans,o=this.state.selectedTab,i=r("Account"),s=r("Notifications"),c=r("Muted Accounts"),u=a()({hide:"account"!==o}),d=a()({hide:"notifications"!==o}),m=a()({hide:"mute"!==o}),p=a()("info-tabs",{selected:"account"===o}),f=a()("info-tabs",{selected:"notifications"===o}),g=a()("info-tabs",{selected:"mute"===o});return l.a.createElement("div",{id:"content_block",className:"user-settings"},l.a.createElement(we.a,null),l.a.createElement(Ee.a,null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"column_left col-xs-8"},l.a.createElement("div",{className:"col-xs-12 left"},l.a.createElement("ol",null,l.a.createElement("li",{id:"select_account",className:p,onClick:this.onTabSelect.bind(this,"account"),onKeyDown:this.onTabSelect.bind(this,"account"),role:"tab"},l.a.createElement("span",null,i)),l.a.createElement("li",{id:"select_notifications",className:f,onClick:this.onTabSelect.bind(this,"notifications"),onKeyDown:this.onTabSelect.bind(this,"notifications"),role:"tab"},l.a.createElement("span",null,s)),l.a.createElement("li",{id:"select_ignore_list",className:g,onClick:this.onTabSelect.bind(this,"mute"),onKeyDown:this.onTabSelect.bind(this,"mute"),role:"tab"},l.a.createElement("span",null,c))),l.a.createElement("div",{className:u},l.a.createElement(D,Se({},t,{app:n,onSubmit:this.onSubmitChanges,openEditModal:this.props.openUserSettingsModal}))),l.a.createElement("div",{className:d},l.a.createElement(de,Se({},t.notificationSettings,{userId:t.id,updateNotifications:this.props.updateNotifications}))),l.a.createElement("div",{className:m},l.a.createElement(Q,null)))),l.a.createElement("div",{className:"column_right"},l.a.createElement(ve,Se({},t,{saveAvatarChanges:this.onSaveAvatarChanges,saveBackgroundChanges:this.onSaveBackgroundChanges})))),l.a.createElement("div",{className:"mute-accounts-options-modal"}))}}]),t}();Pe.propTypes={userObj:i.a.object.isRequired,app:i.a.object.isRequired,trans:i.a.func.isRequired,mutedUsers:i.a.array.isRequired,onSaveAccountChanges:i.a.func,openUserSettingsModal:i.a.func,saveAvatarChanges:i.a.func,saveBackgroundChanges:i.a.func,renderTooltips:i.a.func,updateNotifications:i.a.func,initializeMutedUsers:i.a.func},Object(m.h)()&&_.extend(Pe.propTypes,{saveAvatarChanges:i.a.func.isRequired,saveBackgroundChanges:i.a.func.isRequired,onSaveAccountChanges:i.a.func.isRequired,openUserSettingsModal:i.a.func.isRequired,renderTooltips:i.a.func.isRequired,updateNotifications:i.a.func.isRequired});var Te=Object(d.b)(null,{initializeMutedUsers:W.e})(Pe);t.a=Object(m.g)(Te)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(7),i=n(1),s=n.n(i),l=n(3),c=n.n(l),u=n(106),d=n(2),m=n(138),p=n(35);function f(e){var t=e.label,n=e.info,r=e.about,o=e.name,i=e.placeholder,s=e.value,l=e.characterLimit,u=e.minRows,d=e.maxRows,f=e.textareaLineHeight,g=e.onChange,y=e.labelClassName,h=e.className,b=e.textareaClassName;return a.a.createElement("div",{className:c()("form-field",h)},Object(p.b)({label:t,labelClassName:y,tooltip:n}),Object(p.a)(r),a.a.createElement(m.a,{value:s||"",name:o,placeholder:i,onChange:function(e){l&&(e.target.value=e.target.value.substr(0,l)),g(e)},characterLimit:l,minRows:u,maxRows:d,textareaLineHeight:f,className:c()("planner-textarea",b)}))}f.defaultProps={value:"",minRows:1,maxRows:10,textareaLineHeight:26,onChange:function(){}},f.propTypes={label:s.a.string,info:s.a.string,about:s.a.string,name:s.a.string,placeholder:s.a.string,value:s.a.string,characterLimit:s.a.number,minRows:s.a.number.isRequired,maxRows:s.a.number.isRequired,textareaLineHeight:s.a.number.isRequired,onChange:s.a.func.isRequired,labelClassName:s.a.string,className:s.a.string,textareaClassName:s.a.string};var g=f,y=n(77),h=n(90);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function w(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function E(e){var t=e.info,n=e.label,o=e.options,i=e.onChange,s=e.className,l=e.labelClassName,u=e.values,m=w(e,["info","label","options","onChange","className","labelClassName","values"]),f=v(Object(r.useState)(),2),g=f[0],y=f[1],h=o.map(function(e){return a.a.createElement("div",{key:e.value,className:c()(s,"checkbox")},a.a.createElement("input",b({type:"checkbox",id:e.label,value:e.value,className:c()({focus:g}),checked:u.includes(e.value),onChange:function(e){i(e)}.bind(this),onFocus:function(){return y(!0)},onBlur:function(){return y(!1)}},m)),a.a.createElement("span",{className:"checkmark"},a.a.createElement(d.e,{iconName:"fa-check",height:"14",color:"wp-base-1"})),a.a.createElement("label",{id:"checkbox-label",htmlFor:e.label},e.label))},this);return a.a.createElement("div",{className:"form-field checkbox-container"},Object(p.b)({label:n,labelClassName:l,tooltip:t}),a.a.createElement("div",{className:"checkbox-group"},h))}E.defaultProps={values:[],onChange:function(){}},E.propTypes={options:s.a.array.isRequired,values:s.a.array,onChange:s.a.func.isRequired,className:s.a.string,label:s.a.string,labelClassName:s.a.string,info:s.a.string};var O=E;function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function N(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _(e){var t=e.labels,n=e.range,o=e.name,i=e.value,s=e.disabledUntilClick,l=e.onChange,u=e.step,d=e.className,m=N(e,["labels","range","name","value","disabledUntilClick","onChange","step","className"]),p=k(Object(r.useState)(),2),f=p[0],g=p[1],y=k(Object(r.useState)(s),2),h=y[0],b=y[1];Object(r.useEffect)(function(){b(s)},[s,b]);var v=function(){b(!1)};return a.a.createElement("div",{className:c()("slider-container",d)},a.a.createElement("div",{className:"left-label slider-labels"},t[0]),a.a.createElement("input",S({type:"range",min:n[0],max:n[1],step:u,value:i,name:o,onChange:function(e){v(),l(e)}.bind(this),onClick:v.bind(this),onFocus:function(e){g(!0),b(!1),l(e)}.bind(this),onBlur:function(){return g(!1)},className:c()({focus:f,disabled:h})},m)),a.a.createElement("div",{className:"slider-labels"},t[1]))}_.defaultProps={range:[0,100],onChange:function(){},disabledUntilClick:!1,name:"slider",step:1},_.propTypes={labels:s.a.array.isRequired,name:s.a.string,range:s.a.array,value:s.a.number.isRequired,onChange:s.a.func.isRequired,disabledUntilClick:s.a.bool.isRequired,className:s.a.string,step:s.a.number};var j=_;function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function T(e){var t=e.label,n=e.options,r=e.info,o=e.onChange,i=e.values,s=e.labelClassName,l=P(e,["label","options","info","onChange","values","labelClassName"]),c=n.map(function(e,t){return a.a.createElement(j,C({labels:e.sliderLabels,key:t,name:e.id,onChange:function(e){return o(e,parseInt(e.target.value,10))},range:[-5,5],disabledUntilClick:null==i[t],value:function(e){return null==e?0:e}(i[t])},l))});return a.a.createElement("div",{className:"slider-group form-field"},Object(p.b)({label:t,labelClassName:s,tooltip:r}),a.a.createElement("div",{className:"form-slider-group"},c))}T.defaultProps={onChange:function(){},values:[]},T.propTypes={label:s.a.string,options:s.a.array.isRequired,info:s.a.string,onChange:s.a.func.isRequired,values:s.a.array.isRequired,labelClassName:s.a.string};var R=T,x=n(4);function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function q(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function A(e){var t=e.suggestions,n=e.attributes,o=e.label,i=e.info,s=e.about,l=e.name,u=e.placeholder,m=e.onChange,f=e.labelClassName,g=e.className,y=e.maxNumAttributes,h=q(e,["suggestions","attributes","label","info","about","name","placeholder","onChange","labelClassName","className","maxNumAttributes"]),b=I(Object(r.useState)(null),2),v=b[0],w=b[1],E=I(Object(r.useState)(n.length<y),2),O=E[0],S=E[1],k=I(Object(r.useState)([]),2),N=k[0],_=k[1],j=I(Object(r.useState)(!0),2),C=j[0],P=j[1],T=I(Object(r.useState)(""),2),R=T[0],A=T[1],M=I(Object(r.useState)(!1),2),D=M[0],F=M[1];Object(x.a)(v,function(){return F(!1)});var U=function(e){return t.filter(function(t){return t.toLowerCase().indexOf(e.toLowerCase())>-1&&!n.includes(t)})},W=function(){n.length>=y?(A(""),S(!1)):S(!0)},B=function(e){var t=e.currentTarget.innerText,r=n;r.push(t),W(),A(""),_([]),F(!1),m(l,r)},H=function(e){var t=e.currentTarget.id,r=n,a=r.indexOf(t);-1!==a&&r.splice(a,1),W(),_([]),F(!1),m(l,r)},z=function(e){return null===e||null!==e.match(/^\s*$/)},V=N.map(function(e,t){return a.a.createElement("button",{className:c()({"suggestion-active":t===O}),key:e,onClick:B,id:t},e)}),G=n.map(function(e,t){var n=e+"-"+t;if(!z(e))return a.a.createElement("div",{className:"valid-attribute",key:n},e,a.a.createElement("div",{onClick:H,id:e,className:"remove-attribute",role:"button",tabIndex:"0"},a.a.createElement(d.e,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"})))});return a.a.createElement("div",{className:c()("form-field",g)},Object(p.b)({label:o,labelClassName:f,tooltip:i}),Object(p.a)(s),a.a.createElement("div",{className:c()("short","autocomplete-field"),ref:function(e){return w(e)}},a.a.createElement("div",{className:"selected-attributes"},G),a.a.createElement("div",{className:"attribute-input"},O?a.a.createElement("input",L({type:"text",onFocus:function(){F(!0),P(!0)},value:R,onChange:function(e){var t=e.currentTarget.value;z(t)&&(t="");for(var n=U(t);n.length<=0&&t.length>0;)t=t.substring(0,t.length-1),n=U(t);_(n),A(t)},name:l,placeholder:u,className:c()({focus:D})},h)):a.a.createElement("input",L({type:"text",value:"",placeholder:"Up to "+y+" attributes",disabled:!0},h))),a.a.createElement("div",{className:c()("suggestions",{hidden:!C||N.length<=0||!D})},V)))}A.defaultProps={suggestions:[],attributes:[],onChange:function(){},maxNumAttributes:10},A.propTypes={suggestions:s.a.array.isRequired,label:s.a.string,info:s.a.string,about:s.a.string,name:s.a.string,attributes:s.a.array,placeholder:s.a.string,onChange:s.a.func.isRequired,labelClassName:s.a.string,className:s.a.string,textareaClassName:s.a.string,maxNumAttributes:s.a.number};var M=A,D=n(22);function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function U(e){var t=e.isLoading,n=e.story,o=e.storyNotesData,i=e.fetchStoryNotes,s=e.postStoryNotes,l=e.updateStoryNotes,u=e.activeTab,m=F(Object(r.useState)(!1),2),p=m[0],f=m[1],b=F(Object(r.useState)(!1),2),v=b[0],w=b[1],E=Object(x.g)().trans,S=Object(D.g)(),k=Object(D.h)(),N=Object(D.i)(),_=Object(D.k)(),j=Object(D.j)();function C(){s(n.id,o)}Object(r.useEffect)(function(){i(n.id)},[n,i]);var P=function(e){var t=e.target,r=t.name,a=t.value;f(!1),w(!1),l(n.id,o,{name:r,value:a})},T=function(e){var t=e.target,r=t.name,a=t.value,i=parseInt(a);f(!1),w(!1),l(n.id,o,{name:r,value:i})},L=function(e,t){var r=e.target.name;f(!1),w(!1),l(n.id,o,{name:r,value:t})},I=function(e){if(null!==e){if("string"==typeof e&&""!==e)return!0;if(Array.isArray(e)&&e.length>0)return!0;if("string"!=typeof e)return!0}return!1},q=I(o.protagonist.name)&&I(o.protagonist.other_names)&&I(o.protagonist.pronoun)&&I(o.protagonist.attributes)&&I(o.protagonist.extrovert_introvert)&&I(o.protagonist.likeable)&&I(o.protagonist.focus_past_future)&&I(o.protagonist.thinking_feeling)&&I(o.protagonist.decisive_improvise)&&I(o.protagonist.laidback_serious)&&I(o.protagonist.personality_change)&&I(o.protagonist_goal.description)&&I(o.protagonist_goal.physical_emotional)&&I(o.protagonist_goal.type)&&I(o.protagonist_goal.change_themselves_surroundings)&&I(o.protagonist_goal.explore_emotions_world)&&I(o.protagonist_goal.navigate_familiar_unfamiliar)&&I(o.protagonist_goal.recall_past)&&I(o.protagonist_goal.find_meaning)&&I(o.protagonist_goal.take_keep)&&I(o.protagonist_goal.outcome)&&I(o.protagonist_goal.succeed)&&I(o.protagonist_goal.outcome_feeling)&&I(o.opportunity.interested)&&I(o.opportunity.logline)&&I(o.opportunity.story_progress)&&I(o.opportunity.types);return t||"story-planner"!==u?null:a.a.createElement("div",{id:"story-planner"},a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{id:"story-planner-intro"},a.a.createElement("div",{className:"story-planner-image-container"},a.a.createElement(d.c,{name:"desktop-web/undraw-personal-notebook-sobb@2x.png",id:"story-planner-image",height:"105px",width:"120px"})),a.a.createElement("div",{className:"story-planner-intro-text"},a.a.createElement("div",{className:"title"},E("Story Notes")),a.a.createElement("div",{className:"subtitle"},E("Store and track all of your story ideas in one place.")))),a.a.createElement("div",{className:"section",id:"protagonist-form"},a.a.createElement("div",{className:"section-title"},S.title),a.a.createElement("div",{className:"section-description"},a.a.createElement("div",null,S.info),a.a.createElement("div",{className:"learn-more"},S.more," ",a.a.createElement("strong",null,a.a.createElement("a",{href:"/814442697-story-notes-who-is-your-protagonist",target:"_blank"},S.learnMore)))),a.a.createElement(g,{label:S.section1.label,name:S.section1.name,className:"top",characterLimit:S.section1.limit,placeholder:S.section1.placeholder,textareaClassName:"short",value:o.protagonist.name,onChange:P}),a.a.createElement(g,{label:S.section2.label,name:S.section2.name,className:"top",characterLimit:S.section2.limit,placeholder:S.section2.placeholder,textareaClassName:"short",value:o.protagonist.other_names,onChange:P}),a.a.createElement(y.a,{label:S.section3.label,dropdownOptions:S.section3.options,name:S.section3.name,labelClassName:"short",selectClassName:"short",onChange:P,selected:o.protagonist.pronoun,placeholder:S.section3.placeholder}),a.a.createElement(M,{name:S.section4.name,label:S.section4.label,info:S.section4.info,className:"short",placeholder:S.section4.placeholder,onChange:function(e,t){var r=t.join();f(!1),w(!1),l(n.id,o,{name:e,value:r})},attributes:o.protagonist.attributes?o.protagonist.attributes.split(","):[],suggestions:k.options}),a.a.createElement(R,{label:S.section5.label,options:S.section5.options,onChange:L,values:[o.protagonist.extrovert_introvert,o.protagonist.likeable,o.protagonist.focus_past_future,o.protagonist.thinking_feeling,o.protagonist.decisive_improvise,o.protagonist.laidback_serious]}),a.a.createElement(y.a,{label:S.section6.label,dropdownOptions:S.section6.options,labelClassName:"short",selectClassName:"short",onChange:T,selected:function(e){return null!==e?e.toString():null}(o.protagonist.personality_change),name:S.section6.name,placeholder:S.section6.placeholder})),a.a.createElement("div",{className:"section",id:"story-goal-form"},a.a.createElement("div",{className:"section-title"},N.title),a.a.createElement("div",{className:"section-description"},a.a.createElement("div",null,N.info)),a.a.createElement(g,{label:N.section1.label,name:N.section1.name,characterLimit:N.section1.limit,placeholder:N.section1.placeholder,value:o.protagonist_goal.description,onChange:P,labelClassName:"long",className:"long-field",textareaClassName:"long"}),a.a.createElement(h.a,{label:N.section2.label,name:N.section2.name,options:N.section2.options,value:o.protagonist_goal.physical_emotional,onChange:T}),(null===o.protagonist_goal.physical_emotional||0===o.protagonist_goal.physical_emotional)&&a.a.createElement("div",null,a.a.createElement(y.a,{label:N.section3.label,name:N.section3.name,dropdownOptions:N.section3.options[0],disabled:null===o.protagonist_goal.physical_emotional,onChange:P,labelClassName:"short",selectClassName:"short",selected:o.protagonist_goal.type,placeholder:N.section3.placeholder})),1===o.protagonist_goal.physical_emotional&&a.a.createElement("div",null,a.a.createElement(y.a,{label:N.section3.label,name:N.section3.name,dropdownOptions:N.section3.options[1],disabled:null===o.protagonist_goal.physical_emotional,onChange:P,labelClassName:"short",selectClassName:"short",selected:o.protagonist_goal.type,placeholder:N.section3.placeholder})),a.a.createElement(R,{label:N.section4.label,options:N.section4.options,onChange:L,values:[o.protagonist_goal.change_themselves_surroundings,o.protagonist_goal.explore_emotions_world,o.protagonist_goal.navigate_familiar_unfamiliar,o.protagonist_goal.recall_past,o.protagonist_goal.find_meaning,o.protagonist_goal.take_keep]})),a.a.createElement("div",{className:"section",id:"outcome-form"},a.a.createElement("div",{className:"section-title"},_.title),a.a.createElement("div",{className:"section-description"},a.a.createElement("div",null,_.info)),a.a.createElement(g,{label:_.section1.label,name:_.section1.name,characterLimit:_.section1.limit,placeholder:_.section1.placeholder,onChange:P,value:o.protagonist_goal.outcome,labelClassName:"long",className:"long-field",textareaClassName:"long"}),a.a.createElement(h.a,{label:_.section2.label,name:_.section2.name,options:_.section2.options,value:o.protagonist_goal.succeed,onChange:T}),a.a.createElement(h.a,{label:_.section3.label,name:_.section3.name,options:_.section3.options,value:o.protagonist_goal.outcome_feeling,onChange:T})),a.a.createElement("div",{id:"story-planner-save-btn"},a.a.createElement("button",{onClick:function(){w(!0),C()},className:c()("btn-primary",{disabled:v}),"aria-label":"Save my story notes"},E(v?"Saved":"Save my Story Notes"))),a.a.createElement("div",{className:"section",id:"opportunities-form"},a.a.createElement("div",null,a.a.createElement("div",{className:"section-title"},j.title),a.a.createElement("div",{className:"section-description"},a.a.createElement("div",null,j.info)),a.a.createElement(h.a,{label:j.section1.label,name:j.section1.name,options:j.section1.options,value:o.opportunity.interested,onChange:T})),a.a.createElement("div",{className:c()({"available-opportunities":1===o.opportunity.interested,hidden:1!==o.opportunity.interested})},a.a.createElement(O,{options:j.section2.options,label:j.section2.label,name:j.section2.name,onChange:function(e){var t=[];if(I(o.opportunity.types)&&(t=o.opportunity.types.split(",")),t.includes(e.target.value)){var r=t.indexOf(e.target.value);t.splice(r,1)}else t.push(e.target.value);f(!1),w(!1);var a=t.join();l(n.id,o,{name:e.target.name,value:a})}.bind(this),values:o.opportunity.types?o.opportunity.types.split(","):[]}),a.a.createElement(g,{label:j.section3.label,name:j.section3.name,characterLimit:j.section3.limit,placeholder:j.section3.placeholder,about:j.section3.about,onChange:P,value:o.opportunity.logline,labelClassName:"long",className:"long-field",textareaClassName:"long"}),a.a.createElement("div",{className:"field-description"},E("Not sure how to write a logline?"),a.a.createElement("a",{href:"/814443428-story-notes-how-do-i-write-a-logline",target:"_blank"},E("Learn More Here"))),a.a.createElement(y.a,{label:j.section4.label,dropdownOptions:j.section4.options,name:j.section4.name,onChange:P,labelClassName:"long",selected:o.opportunity.story_progress,className:"long-field",selectClassName:"long",placeholder:j.section4.placeholder}),!p&&a.a.createElement("div",{id:"story-planner-submit-btn"},a.a.createElement("button",{className:c()("btn-primary",{disabled:!q}),"aria-label":"Submit story notes to wattpad",onClick:function(){f(!0),C()}},E("Submit my private Story Notes to Wattpad")),a.a.createElement("div",{className:c()("submit-btn-info",{hidden:q})},j.notComplete)),p&&a.a.createElement("div",{id:"story-planner-submit-btn"},a.a.createElement("div",{className:c()("btn-primary","disabled"),"aria-label":"Submitted"},E("Submitted")))))))}U.defaultProps={storyNotesData:{id:"",protagonist:{name:null,other_names:"",pronoun:null,attributes:"",extrovert_introvert:null,likeable:null,focus_past_future:null,thinking_feeling:null,decisive_improvise:null,laidback_serious:null,personality_change:null},protagonist_goal:{description:"",physical_emotional:null,type:null,change_themselves_surroundings:null,explore_emotions_world:null,navigate_familiar_unfamiliar:null,recall_past:null,find_meaning:null,take_keep:null,outcome:"",succeed:null,outcome_feeling:null},opportunity:{interested:null,logline:"",story_progress:null,type:null}}},U.propTypes={isLoading:s.a.bool.isRequired,activeTab:s.a.string.isRequired,story:s.a.object.isRequired,fetchStoryNotes:s.a.func.isRequired,postStoryNotes:s.a.func.isRequired,updateStoryNotes:s.a.func.isRequired,storyNotesData:s.a.shape({id:s.a.number,protagonist:s.a.shape({name:s.a.string,other_names:s.a.string,pronoun:s.a.string,attributes:s.a.string,extrovert_introvert:s.a.number,likeable:s.a.number,focus_past_future:s.a.number,thinking_feeling:s.a.number,decisive_improvise:s.a.number,laidback_serious:s.a.number,personality_change:s.a.number}).isRequired,protagonist_goal:s.a.shape({description:s.a.string,physical_emotional:s.a.number,type:s.a.string,change_themselves_surroundings:s.a.number,explore_emotions_world:s.a.number,navigate_familiar_unfamiliar:s.a.number,recall_past:s.a.number,find_meaning:s.a.number,take_keep:s.a.number,outcome:s.a.string,succeed:s.a.number,outcome_feeling:s.a.number}).isRequired,opportunity:s.a.shape({interested:s.a.number,logline:s.a.string,story_progress:s.a.string,types:s.a.string}).isRequired})};t.a=Object(o.b)(function(e){return{storyNotesData:e.storyNotes.data,isLoading:e.storyNotes.isLoading,activeTab:e.worksItemDetails.worksItemDetailsActiveTab}},{fetchStoryNotes:u.a,postStoryNotes:u.b,updateStoryNotes:u.c})(U)},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(2),l=n(566),c=n(567),u=n(565),d=n(568),m=n(564),p=n(5),f=n(3),g=n.n(f),y=function(e){return[e("To get the best Wattpad experience, we want to know a bit about you!"),e("So you like to write! What best describes you as a writer?")]},h=function(e){var t=e.user_type,n=e.writer_stage,r=e.finished_story;t&&window.te.push("event","onboarding","user_type",null,"complete",{type:t}),void 0!==n&&(null===n?window.te.push("event","onboarding","writer_stage",null,"skip"):window.te.push("event","onboarding","writer_stage",null,"complete",{type:n})),n&&void 0!==r&&(null===r?window.te.push("event","onboarding","finished_story",null,"skip"):window.te.push("event","onboarding","finished_story",null,"complete",{type:r}))};function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return k(O(n=function(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?O(e):t}(this,(e=E(t)).call.apply(e,[this].concat(a)))),"state",{selected:null,redirect:!1}),k(O(n),"setSelected",function(e){n.setState({selected:e})}),k(O(n),"pressNext",function(){"reader"===n.state.selected?(h({user_type:"reader"}),app.router.navigate("/start",{trigger:!0})):n.setState({redirect:!0})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,o["Component"]),function(e,t,n){t&&w(e.prototype,t),n&&w(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.selected,r=t.redirect,a=this.props.trans;return r?i.a.createElement(m.a,{push:!0,to:{pathname:"/motivation",state:{user_type:this.state.selected}}}):i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,y(a)[0]),i.a.createElement("div",{id:"ReaderOrWriter",className:"options"},Object.entries(function(e){return{reader:{message:e("I like to read"),icon:"read"},writer:{message:e("I like to write"),icon:"write"},reader_writer:{message:e("I like both"),icon:"both"}}}(a)).map(function(t){var r=v(t,2),a=r[0],o=r[1],l=n===a,c="".concat(o.icon).concat(l?"_selected":"");return i.a.createElement("div",{key:a,className:g()("option",{selected:l}),onClick:function(){e.setSelected(a)},onKeyDown:function(){e.setSelected(a)},role:"option",tabIndex:"0","aria-selected":l},i.a.createElement(s.c,{name:"shared/".concat(c,".svg"),alt:"icon"}),i.a.createElement("div",null,o.message))})),i.a.createElement("button",{className:g()("btn btn-md btn-orange",{disabled:null===n}),onClick:this.pressNext},a("Next")))}}]),t}();k(N,"propTypes",{nextSection:a.a.func,trans:a.a.func.isRequired});var _=n(562);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return L(R(n=function(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?R(e):t}(this,(e=T(t)).call.apply(e,[this].concat(a)))),"advance",function(e,t){var r=n.props.location.state;h({user_type:r.user_type,writer_stage:e,finished_story:t}),app.router.navigate("/start",{trigger:!0})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,o["Component"]),function(e,t,n){t&&P(e.prototype,t),n&&P(e,n)}(t,[{key:"render",value:function(){var e=this,t=null,n=this.props,r=n.location,a=n.trans,o=r.hash;return o&&(t=o.substr(1)),i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,y(a)[1]),i.a.createElement("div",{id:"WriterMotivation",className:g()("options",{"has-selection":null!==t})},Object.entries(function(e){return{fun:e("I mostly write for fun"),researching:e("I'm exploring opportunities for my work(s)"),pursuing_career:e("I'm pursuing a career as a writer"),professional:e("I am a professional writer"),none:e("Not quite any of these...")}}(a)).map(function(n){var a=C(n,2),o=a[0],s=a[1];return null!==t&&t!==o?null:"none"===o?i.a.createElement("a",{key:o,href:"/start",onClick:function(t){t.preventDefault(),e.advance({motivation:o})},className:g()("option",{selected:t===o})},i.a.createElement("div",null,s)):i.a.createElement(_.a,{key:o,to:{pathname:null===t?"/motivation/novel":"/motivation",hash:null===t?"#".concat(o):"",state:r.state},className:g()("option",{selected:t===o})},i.a.createElement("div",null,s))})),i.a.createElement(d.a,{path:"/motivation/novel",render:function(){return i.a.createElement("div",{className:"finished-novel"},i.a.createElement("p",null,a("Have you finished writing a novel?")),i.a.createElement("div",{className:"novel-options"},Object.entries(function(e){return{yes:e("Yes"),almost:e("Almost"),no:e("No")}}(a)).map(function(n){var r=C(n,2),a=r[0],o=r[1];return i.a.createElement("a",{className:"option",onClick:function(n){n.preventDefault(),e.advance(t,a)},href:"/start",key:a},o)})))}}),i.a.createElement("a",{href:"/start",className:"skip",onClick:function(n){n.preventDefault(),e.advance(t,null)}},a("Skip")))}}]),t}();function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}L(I,"propTypes",{location:a.a.object,trans:a.a.func.isRequired});var W=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),D(this,F(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,o["Component"]),function(e,t,n){t&&M(e.prototype,t),n&&M(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.url,n=e.username,r=e.trans,a=Object(p.h)()?l.a:c.a;return i.a.createElement(a,{basename:"/start/writerjourney",location:t,context:{}},i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"full-screen background-1 onboarding-bg"}),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"onboardingModal modal fade in writerJourney"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-body"},i.a.createElement("div",{className:"onboarding-writer-journey"},i.a.createElement(s.c,{name:"logos/wp-logo-orange.png",alt:"wattpad logo",className:"wp-logo",width:"174"}),i.a.createElement("h4",null,r("Hi @%s",n)),i.a.createElement(u.a,null,i.a.createElement(d.a,{exact:!0,path:"/",render:function(e){return i.a.createElement(N,A({trans:r},e))}}),i.a.createElement(d.a,{path:"/motivation",component:function(e){return i.a.createElement(I,A({trans:r},e))}}),i.a.createElement(d.a,{render:function(){return i.a.createElement(m.a,{to:"/"})}}))))))))))}}]),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(W,"propTypes",{username:a.a.string,url:a.a.string,trans:a.a.func.isRequired});t.a=Object(p.g)(W)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n(45),c=n(7),u=n(77),d=function(e){var t=e.title,n=e.mainContent,r=e.secondaryContent,o=e.link,i=e.button,s=e.closePopover,l=e.handleHelpLink;return a.a.createElement("div",{className:"react-popover-tooltip"},a.a.createElement("h3",{className:"popover-title"},t),a.a.createElement("div",{className:"popover-content"},n&&a.a.createElement("div",{className:"main-content"},n),r&&a.a.createElement("div",{className:"secondary-content"},r),a.a.createElement("div",{className:"tooltip-footer"},o&&a.a.createElement("a",{target:"blank",href:o.href,onClick:l},o.text),i&&a.a.createElement("button",{className:"btn on-okay btn-orange",onClick:function(){return s()}},i.text))))};d.defaultProps={closePopover:function(e){return e.preventDefault()},handleHelpLink:function(){}},d.propTypes={title:i.a.string,mainContent:i.a.string,secondaryContent:i.a.string,link:i.a.object,button:i.a.object,closePopover:i.a.func,handleHelpLink:i.a.func};var m=d;function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var g=function(e){var t=e.story,n=e.openPopover,o=e.handleUpdateCopyright,i=Object(s.g)().trans,l=Object(r.useRef)(),c=function(){var e=Object(s.g)().trans;return{copyright:{title:e("Who owns your story?"),mainContent:e("Let others know if this story is just yours, or if anyone can repost or remix it"),link:{href:"https://support.wattpad.com/hc/en-us/articles/216192503-Copyright-FAQ",text:e("Learn more")},button:{text:e("OK")}}}}(),d=function(){var e=Object(s.g)().trans;return[{name:e("All Rights Reserved"),summary:e("You do not allow your work to be used or adapted in any way without your permission."),value:"1"},{name:e("Public Domain"),summary:e("This allows anyone to use your story for any purpose — they could freely print, sell, or turn your story into a movie."),value:"2"},{name:e("Creative Commons (CC) Attribution"),summary:e("You hold some rights to your story but allow for things like translation or adaptations with credit back to you."),value:"3"},{name:e("(CC) Attrib. NonCommercial"),summary:e("This license lets others remix, adapt, and build upon your work non-commercially with credit back to you."),value:"4"},{name:e("(CC) Attrib. NonComm. NoDerivs"),value:"5",summary:e("This license allows others to share your unaltered work with others as long as you get credit.")},{name:e("(CC) Attrib. NonComm. ShareAlike"),value:"6",summary:e("This lets others adapt, and build upon your work non-commercially, as long as you are credited and the same terms are applied.")},{name:e("(CC) Attribution-ShareAlike"),value:"7",summary:e("This lets others adapt and build on your work, even for commercial purposes, as long as you are credited and the same terms are applied.")},{name:e("(CC) Attribution-NoDerivs"),value:"8",summary:e("This lets others reuse your work for any purpose but it cannot be altered and you must be credited.")}]}(),g=t&&t.copyright?t.copyright+"":"1",h=f(Object(r.useState)(g),2),b=h[0],v=h[1],w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};window.te.push("event","copyright","story",e,t,n)},E=function(){w(null,"learn_more",{storyid:t.id,target:"hc_copyright_faq"})};return a.a.createElement(a.a.Fragment,null,a.a.createElement(u.a,{label:i("Copyright"),dropdownOptions:d,name:"copyright",onFocus:function(){w(null,"open",{storyid:t.id})},onChange:function(e){var n=e.target.value,r=parseInt(n,10);v(n),w("license","select",{storyid:t.id,license_id:r}),o(r)},onBlur:function(){w(null,"close",{storyid:t.id})},selected:b,onClickIcon:function(e){e.preventDefault(),l.current||(l.current=e.currentTarget);n({component:function(e){var t=e.closePopover;return a.a.createElement(m,p({},c.copyright,{closePopover:t,handleHelpLink:E}))},triggerRef:l,passthroughProps:{placement:"top",showArrow:"true"}})}}),a.a.createElement(y,{copyrightId:b,copyrightLicenses:d}))},y=function(e){var t=e.copyrightId,n=e.copyrightLicenses.find(function(e){return e.value.toString()===t});return a.a.createElement("p",{className:"copyright-description"},n.summary)};y.propTypes={copyrightId:i.a.string,copyrightLicenses:i.a.array},g.defaultProps={story:{}},g.propTypes={openPopover:i.a.func.isRequired,story:i.a.object,handleUpdateCopyright:i.a.func,closePopover:i.a.func};var h=Object(c.b)(null,{openPopover:l.c})(g);t.a=h},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n.n(s),c=n(2),u=n(5);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,f(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,a.a.Component),function(e,t,n){t&&m(e.prototype,t),n&&m(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.story,r=t.trans;n.publishedPartsCount=n.parts.filter(function(e){return!e.draft}).length,n.draftPartsCount=n.parts.filter(function(e){return e.draft}).length;var o=r("%s Published part",n.publishedPartsCount);n.publishedPartsCount>1&&(o=r("%s Published parts",n.publishedPartsCount));var i=r("%s - draft",n.draftPartsCount);return n.draftPartsCount>1&&(i=r("%s - drafts",n.draftPartsCount)),a.a.createElement("div",{className:l()("story-list-item",this.props.className),key:n.id,onClick:function(){return e.props.onSelectStory(n)},onKeyDown:function(){return e.props.onSelectStory(n)},role:"row",tabIndex:"0"},a.a.createElement("img",{className:"story-cover",src:n.cover,alt:"".concat(n," cover")}),a.a.createElement("div",{className:"story-item-details"},a.a.createElement("h4",{className:"story-title"},n.title),a.a.createElement("div",null,n.publishedPartsCount?a.a.createElement("span",{className:"publish-count"},o):"",n.draftPartsCount?a.a.createElement("span",{className:"draft-count"}," ",i):""),a.a.createElement("div",{className:"updated-date"},r("Updated %s",Object(u.c)(n.modifyDate))),a.a.createElement("div",{className:"meta-wrapper"},a.a.createElement("span",{className:"story-meta"},a.a.createElement(c.e,{iconName:"fa-view",height:"12",color:"wp-neutral-3"}),Object(u.a)(n.readCount).toString()),a.a.createElement("span",{className:"story-meta"},a.a.createElement(c.e,{iconName:"fa-vote",height:"12",color:"wp-neutral-3"}),Object(u.a)(n.voteCount).toString()),a.a.createElement("span",{className:"story-meta"},a.a.createElement(c.e,{iconName:"fa-comment",height:"12",color:"wp-neutral-3"}),Object(u.a)(n.commentCount).toString()))))}}]),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(y,"propTypes",{story:i.a.object.isRequired,className:i.a.string,trans:i.a.func.isRequired,onSelectStory:i.a.func});var h=Object(u.g)(y);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return S(E(n=function(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?E(e):t}(this,(e=w(t)).call.apply(e,[this].concat(a)))),"state",{done:!1,selectedStory:n.props.selectedStoryId,uploading:!1}),S(E(n),"selectStory",function(e){n.setState({selectedStory:e.id})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,a.a.Component),function(e,t,n){t&&v(e.prototype,t),n&&v(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this,t=window.wattpad.utils.currentUser().toJSON().username;this.setState({newCover:document.getElementById("newCover").getAttribute("src")}),$.get("/api/v3/users/".concat(t,"/stories")).then(function(t){e.setState({works:t.stories.sort(function(t,n){return e.state.selectedStory&&t.id==e.state.selectedStory?-1:e.state.selectedStory&&n.id==e.state.selectedStory?1:0})})})}},{key:"detectCanvasSupport",value:function(){return!!document.createElement("canvas").getContext}},{key:"captureCover",value:function(e){if(this.detectCanvasSupport())return new Promise(function(t){var n=new Image;n.crossOrigin="Anonymous",n.onload=function(){var e=document.createElement("canvas");e.width=512,e.height=800,e.getContext("2d").drawImage(n,0,0,512,800),t(e.toDataURL())},n.src=e})}},{key:"uploadCover",value:function(e){var t=this;this.captureCover(this.state.newCover).then(function(n){if(n)return t.setState({uploading:!0}),Promise.resolve($.ajax({type:"POST",url:"/apiv2/updatestorycover",data:{id:e,image:n.match(/;base64,(.+)$/)[1]}})).then(function(){t.setState({done:!0}),window.te.push("event","writer","cover",null,"add",{storyid:e,source:"canva"})})})}},{key:"render",value:function(){var e=this,t=this.props.trans,n=this.state.works?this.state.works:this.props.works?this.props.works:[],r=(this.state.newCover?this.state:this.props).newCover,o=this.state,i=o.done,s=o.uploading;return a.a.createElement("div",{id:"creation-works-listing",className:"container"},i&&a.a.createElement("div",{className:l()("cover-finished")},a.a.createElement("span",{className:"success-message",dangerouslySetInnerHTML:{__html:t("Cover uploaded to <strong>'%s'</strong>",this.state.works.find(function(t){return t.id==e.state.selectedStory}).title)}}),a.a.createElement("a",{href:"/myworks/".concat(this.state.selectedStory),className:"btn btn-md btn-orange"},t("Go to story"))),a.a.createElement("div",{className:"import-cover"},!i&&a.a.createElement("div",{className:"new-cover-block"},a.a.createElement("img",{width:"256",id:"newCover",src:r,alt:"new cover"})),!i&&a.a.createElement("div",{className:"user-story-list"},a.a.createElement("h3",null,t("Add cover to selected story")),s&&a.a.createElement(c.c,{name:"/icons/spinner-black.svg",className:"progress-spinner fa-spin",alt:t("Spinner"),height:"48",width:"48"}),!s&&n.map(function(t){var n=!1;return e.state.selectedStory&&e.state.selectedStory==t.id&&(n=!0),a.a.createElement(h,{key:t.id,story:t,className:l()({selected:n}),onSelectStory:e.selectStory})}))),!i&&a.a.createElement("div",{className:l()("continue-nav",{hidden:i})},a.a.createElement("button",{onClick:this.uploadCover.bind(this,this.state.selectedStory),className:l()("btn btn-md btn-orange",{disabled:!this.state.selectedStory})},t("Next"))))}}]),t}();S(k,"propTypes",{works:i.a.array,coverUri:i.a.string,selectedStoryId:i.a.string,trans:i.a.func.isRequired});t.a=Object(u.g)(k)},function(e,t,n){"use strict";var r=n(10),a=n.n(r),o=n(3),i=n.n(o),s=n(1),l=n.n(s),c=n(0),u=n.n(c),d=n(2),m=n(4),p=n(39);function f(e){var t,n,r=e.onPurchase,a=e.onCancelPurchase,o=e.toggleModal,i=e.currentPartIsBlocked,s=e.price,l=e.isPurchasingStory,c=Object(m.g)().trans;return l?(t=c("Unlock whole story"),n=c("You are about to use %s Coins to unlock this story",s)):i?(t=c("Unlock this part"),n=c("You are about to use %s Coins to unlock this part",s)):(t=c("Unlock next part"),n=c("You are about to use %s Coins to unlock the next part",s)),u.a.createElement(u.a.Fragment,null,u.a.createElement("h3",null,n),u.a.createElement("div",{className:"purchase-options"},u.a.createElement("button",{onClick:function(){a(),o()},className:"btn btn-grey cancel"},c("Cancel")),u.a.createElement("button",{onClick:function(){o(),r()},className:"btn btn-orange confirm-unlock"},u.a.createElement(p.a,{width:"24px",height:"24px"}),u.a.createElement("span",null,t))))}f.propTypes={onPurchase:l.a.func.isRequired,onCancelPurchase:l.a.func.isRequired,toggleModal:l.a.func.isRequired,currentPartIsBlocked:l.a.bool.isRequired,price:l.a.number.isRequired,isPurchasingStory:l.a.bool.isRequired};var g=n(5),y=n(8),h=n(89),b=n(67),v=n(7),w=n(286),E=n.n(w);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return j(N(n=function(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?N(e):t}(this,(e=k(t)).call.apply(e,[this].concat(a)))),"onPurchase",function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=n.props,i=o.buyPaidContent,s=o.blockedPart,l=o.fetchWalletBalance,c=o.startPaidContentPurchase,d=o.markPaidContentPurchaseSuccessful,m=o.finishPaidContentPurchase,p=o.trans,y=o.isDesktop,h=o.group,b=o.toggleModal,v=o.amount,w=o.onBuyCoins,O=o.currentPartIsBlocked;if(!(e<=v))return window.te.push("event","paywall","purchase",null,"failed",{page:"reading",storyid:t,partid:r,cost:e,starting_balance:v,part_index:k}),void w();y||Object(g.n)(n.paywallRef,-25);var S=function(){return window.te.push("event","paywall","purchase",null,"cancelled",{page:"reading",storyid:t,partid:r,cost:e,part_index:k,content_type:r?"part":"story"})},k=Object(g.e)(s.id,h);void 0!==r||a?Promise.all([i(e,t,r,k),c(e,r)]).then(function(){return l(wattpad.user.username,!0),d()}).then(m).then(function(){var e="/".concat(s.id);window.app.router.navigate(e,{trigger:!0}),setTimeout(function(){var e=n.props.group.user,t=E.a.renderToString(u.a.createElement(T,{trans:p,user:e}));window.wattpad.utils.showToast(t,{dismissAfterDuration:6e3})},700)}).catch(function(){m()}):b({component:function(a){var o=a.toggleModal;return u.a.createElement(f,{onPurchase:function(){n.onPurchase(e,t,r,!0)},onCancelPurchase:S,toggleModal:o,currentPartIsBlocked:O,isPurchasingStory:!r,price:e})},className:"purchase-confirmation",onCloseModal:S})}),j(N(n),"renderAuthorDetails",function(){var e=n.props,t=e.isDesktop,r=e.group,a=e.trans,o=r.user,i=r.description,s=o.username,l=o.name,c=o.avatar;return t?u.a.createElement("div",{className:"author-info desktop"},u.a.createElement("a",{className:"on-navigate",href:"/user/".concat(s)},u.a.createElement("div",{className:"avatar avatar-lg center-block"},u.a.createElement(d.a,{avatar:c,username:s}))),u.a.createElement("div",{className:"info"},u.a.createElement("a",{className:"on-navigate",href:"/user/".concat(s)},u.a.createElement("span",{className:"center-block",dangerouslySetInnerHTML:{__html:a("by <strong>%s</strong>",l)}})),u.a.createElement("a",{className:"on-navigate",href:"/user/".concat(s)},u.a.createElement("div",null,"@".concat(s))),u.a.createElement("div",{className:"description"},Object(g.o)(i,70)))):u.a.createElement("div",{className:"author-info mobile"},u.a.createElement("div",{className:"avatar avatar-sm center-block"},u.a.createElement(d.a,{avatar:c,username:s})),u.a.createElement("span",{dangerouslySetInnerHTML:{__html:a('by <a href=%s class="on-navigate">%s</a>',"/user/".concat(s),s)}}))}),j(N(n),"getConditionalCopy",function(e,t,n,r){var a,o=r(e?"Unlock this part":"Unlock next part");a=r(e?t?"Unlock this story part or the entire story.":"Unlock this story part.":t?"Unlock a new story part or the entire story.":"Unlock a new story part.");var i=r(t?"Either way, your Coins help writers earn money for the stories you love.":"Your Coins help writers earn money for the stories you love.");return{buyPartCopy:o,supportCtaCopy:n||"".concat(a," ").concat(i)}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,u.a.Component),function(e,t,n){t&&S(e.prototype,t),n&&S(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.blockedPart,n=e.amount,r=e.group;if(t){var a=Object(g.e)(t.id,r);window.te.push("event","paywall",null,null,"view",{page:"reading",storyid:r.id,partid:t.id,starting_balance:n,part_index:a})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.blockedPart,r=t.currentPartIsBlocked,o=t.group,s=t.storyPrice,l=t.remainingBlockedParts,c=t.purchase,m=t.isDesktop,f=t.trans,g=t.showStoryPaywallModal,y=t.onBuyCoins,b=o.user,v=o.id,w=o.completed,E=b.username,O=b.name,S=n.price,k=n.id,N=n.blockedMessage,_=c.isPurchasing,j=a.a.isNumber(s),C=w&&j,P=this.getConditionalCopy(r,C,N,f),T=P.buyPartCopy,R=P.supportCtaCopy;return u.a.createElement("div",{className:"story-part-paywall",ref:function(t){return e.paywallRef=t}},u.a.createElement("div",{className:"lock-circle"},u.a.createElement(d.e,{iconName:"fa-lock",height:"16",color:"wp-neutral-2"})),!m&&u.a.createElement(h.a,{onWalletClick:y}),u.a.createElement("div",{className:"cta"},u.a.createElement("h2",null,f("Show your support for %s, and continue reading this story",O)),this.renderAuthorDetails(),u.a.createElement("div",{className:"become-a-supporter"},R)),u.a.createElement("div",{className:"purchase-buttons-container"},C&&u.a.createElement("button",{onClick:function(){return e.onPurchase(s,v)},className:i()("btn btn-primary unlock unlock-story",{disabled:_})},u.a.createElement("span",{className:"cost"},u.a.createElement(p.a,{height:"24px",width:"24px"}),u.a.createElement("span",{className:"price"},s)),u.a.createElement("span",{className:"unlock-copy"},u.a.createElement("strong",null,f("Unlock whole story")))),u.a.createElement("button",{onClick:function(){return e.onPurchase(S,v,k)},className:i()("btn btn-primary unlock unlock-part",{disabled:_})},u.a.createElement("span",{className:"cost"},u.a.createElement(p.a,{height:"24px",width:"24px"}),u.a.createElement("span",{className:"price"},S)),u.a.createElement("span",{className:"unlock-copy"},u.a.createElement("strong",null,T)))),u.a.createElement("div",{className:"more-details"},C&&u.a.createElement("p",{dangerouslySetInnerHTML:{__html:f("This story has <strong>%s remaining parts</strong>",l)}}),f("See how Coins support your favorite writers like @%s.",E)," ",u.a.createElement("a",{href:"#",onClick:g},f("Learn more"))))}}]),t}();j(C,"propTypes",{blockedPart:l.a.shape({price:l.a.number,id:l.a.number.isRequired,blockedMessage:l.a.string}),currentPartIsBlocked:l.a.bool.isRequired,storyPrice:l.a.number,isDesktop:l.a.bool.isRequired,amount:l.a.number.isRequired,group:l.a.shape({user:l.a.shape({username:l.a.string.isRequired,name:l.a.string.isRequired}),description:l.a.string.isRequired,id:l.a.string.isRequired,completed:l.a.bool}),remainingBlockedParts:l.a.number.isRequired,buyPaidContent:l.a.func,fetchWalletBalance:l.a.func.isRequired,startPaidContentPurchase:l.a.func.isRequired,markPaidContentPurchaseSuccessful:l.a.func.isRequired,finishPaidContentPurchase:l.a.func.isRequired,purchase:l.a.shape({isPurchasing:l.a.bool.isRequired,amountSpent:l.a.number.isRequired,buyingPart:l.a.bool.isRequired}).isRequired,trans:l.a.func.isRequired,toggleModal:l.a.func.isRequired,showStoryPaywallModal:l.a.func,onBuyCoins:l.a.func.isRequired});var P={fetchWalletBalance:b.a,startPaidContentPurchase:b.d,markPaidContentPurchaseSuccessful:b.c,finishPaidContentPurchase:b.b,toggleModal:y.c};t.a=Object(v.b)(function(e){return{purchase:e.purchase,amount:e.wallet.amount}},P)(Object(g.g)(C));function T(e){var t=e.user,n=e.trans,r=t.name,a=t.username,o=t.avatar;return u.a.createElement("div",{style:{display:"flex"}},u.a.createElement("div",{className:"avatar avatar-md",style:{flexShrink:0,marginRight:12}},u.a.createElement(d.a,{avatar:o,username:a})),u.a.createElement("div",{style:{lineHeight:"normal"}},u.a.createElement("div",{style:{fontSize:17,fontWeight:600,marginBottom:5}},r),u.a.createElement("div",null,"“",n("Thank you for the support! I hope you enjoy the story!"),"”")))}T.propTypes={user:l.a.shape({username:l.a.string.isRequired,name:l.a.string.isRequired,avatar:l.a.string.isRequired}),trans:l.a.func.isRequired}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(105),l={id:1,title:"The Ugly Barnacle",description:"A story about an ugly barnacle",cover:"https://a.wattpad.com/cover/197712604-512-k40d0e0.jpg",isPaid:!0,tags:["shortstory","sad","tragedy"],sources:["a","b","c"],width:200,index:1,numParts:10,completed:!0},c=Array(10).fill(l);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var p="stories(id,title,tags,cover)",f={sectionType:"swimlane",index:0,setPosition:function(){},windowWidth:1920,wasSeen:!1},g=function(e){var t=m(Object(r.useState)([]),2),n=t[0],o=t[1];Object(r.useEffect)(function(){function t(){return(t=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,s,"next",e)}function s(e){d(o,r,a,i,s,"throw",e)}i(void 0)})}}(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:!n.length&&e.rootTopic&&$.get("/v4/paid_stories/tags/".concat(e.rootTopic.get("name"),"?fields=").concat(p)).then(function(e){return e.stories.map(function(e){return e.isPaid=!0,e})}).then(function(e){return o(e)});case 1:case"end":return t.stop()}},t)}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},[e.rootTopic,n.length]);var i=!(!n.length||!e.rootTopic);return a.a.createElement(a.a.Fragment,null,i&&a.a.createElement(s.a,u({},f,{page:"tags",wasSeen:!0,sectionType:"tags_paid_carousel",heading:"Hottest Paid Stories",subheading:"Read the stories we love",stories:n.length?n:c.slice(0,7),isPromoted:!1,storiesToShow:7,storyWidth:112})))};g.propTypes={rootTopic:i.a.object};t.a=g},,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return f});var r=n(0),a=n.n(r),o=n(7),i=n(98),s=n(1),l=n.n(s),c=n(4),u=n(105);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var m=m||e;function p(e){var t=e.loadPaidStoriesList,n=e.paidStoriesListByTag,o=d(Object(r.useState)(m.innerWidth),2),i=o[0],s=o[1];Object(c.c)("resize",function(){s(m.innerWidth)}),Object(c.e)({direction:"down",threshold:200,onThreshold:function(){t()}}),Object(r.useEffect)(function(){t()},[t]);var l=Object(c.g)().trans,p={action:l("Action"),adventure:l("Adventure"),diverselit:l("Diverse Lit"),fantasy:l("Fantasy"),historicalfiction:l("Historical Fiction"),horror:l("Horror"),humor:l("Humor"),lgbt:l("LGBTQ+"),mystery:l("Mystery"),newadult:l("New Adult"),paranormal:l("Paranormal"),romance:l("Romance"),sciencefiction:l("Science Fiction"),teenfiction:l("Teen Fiction"),thriller:l("Thriller"),werewolf:l("Werewolf"),newreleases:l("New Releases"),ongoingstories:l("Ongoing Stories"),wattpadbooks:l("Wattpad Books"),featuredpicks:l("Featured Picks"),onsale:l("On Sale")};return Object(c.f)(l("Catalog")+" - "+l("Paid Stories")),a.a.createElement("div",{className:"catalog-content"},Object.keys(n).map(function(e){var t=p[e]||e;return a.a.createElement(u.a,{key:e,windowWidth:i,index:0,setPosition:function(){},page:"catalog",wasSeen:!0,sectionType:"paid_view_all_carousel",title:t,heading:t,stories:n[e],isPromoted:!1,withDivider:!1})}))}p.propTypes={loadPaidStoriesList:l.a.func,paidStoriesListByTag:l.a.object};var f=Object(o.b)(function(e){return{paidStoriesListByTag:e.catalog.paidStoriesListByTag}},{loadPaidStoriesList:i.c})(p)}).call(this,n(34))},,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(76),a=n(49);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={modalProps:null};var c=n(45),u=n(13);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n(116),g=n(61),y=n(98),h=n(99),b=n(66),v=n(74),w=n(9);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){S(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=n(26);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach(function(t){j(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=n(25),P=n(56),T=n(100),R=n(22);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){I(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q={isLoading:!0,hasNotesBeenVisible:!1,data:{id:null,protagonist:{name:null,other_names:"",pronoun:null,attributes:"",extrovert_introvert:null,likeable:null,focus_past_future:null,thinking_feeling:null,decisive_improvise:null,laidback_serious:null,personality_change:null},protagonist_goal:{description:"",physical_emotional:null,type:null,change_themselves_surroundings:null,explore_emotions_world:null,navigate_familiar_unfamiliar:null,recall_past:null,find_meaning:null,take_keep:null,outcome:"",succeed:null,outcome_feeling:null},opportunity:{interested:null,logline:"",story_progress:null,types:null}}};var A=n(101),M=Object(r.c)({userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(arguments.length>1?arguments[1]:void 0).type,e},appData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(arguments.length>1?arguments[1]:void 0).type,e},deviceData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(arguments.length>1?arguments[1]:void 0).type,e},wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{amount:0,animationStep:u.l.DEFAULT,id:u.d,fetched:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.i:return m({},e,{amount:t.amount,fetched:!0});case u.k:return m({},e,{animationStep:t.step});case u.a:return m({},e,{animationStep:u.l.DEFAULT});default:return e}},purchase:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isPurchasing:!1,amountSpent:0,buyingPart:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.b:return m({},e,{amountSpent:t.price,isPurchasing:!0,buyingPart:!!t.partId});case u.a:return m({},e,{isPurchasing:!1,amountSpent:0});default:return e}},threads:h.a,conversation:b.a,paidMetadata:f.b,modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.c:return i({},e,{modalProps:e.modalProps?null:t.modalProps});case a.b:return i({},e,{modalProps:t.modalProps});case a.a:return i({},e,{modalProps:null});default:return e}},popover:c.b,contestForm:g.a,storyTags:v.b,homeSections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sections:[],sectionBounds:{},error:void 0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.e:return O({},e,{sections:t.sections});case w.i:return O({},e,{homeLoading:!0});case w.j:return O({},e,{homeLoading:!1});case w.t:return O({},e,{showLoader:!0});case w.f:return O({},e,{showLoader:!1});case w.p:return O({},e,{sectionBounds:O({},e.sectionBounds,S({},t.info.index,t.info))});case w.n:return O({},e,{contentSettings:t.settings});case w.m:return O({},e,{message:"no change"});case w.g:return O({},e,{contentSettingsLoading:!0});case w.h:return O({},e,{contentSettingsLoading:!1});case w.s:return O({},e,{sectionBounds:O({},e.sectionBounds,S({},t.index,O({},e.sectionBounds[t.index],{viewed:!0})))});case w.o:return O({},e,{readingLists:t.lists,readingListsLoading:!1});case w.k:return O({},e,{readingListsLoading:!0});case w.q:return O({},e,{storiesCollections:O({},e.storiesCollections,{},t.collections),storiesCollectionsLoading:!1});case w.l:return O({},e,{storiesCollectionsLoading:!0});case w.a:return O({},e,{storiesCollections:O({},e.storiesCollections,S({},t.storyId,O({},e.storiesCollections[t.storyId],S({},t.collectionId,!0))))});case w.r:return O({},e,{storiesCollections:O({},e.storiesCollections,S({},t.storyId,O({},e.storiesCollections[t.storyId],S({},t.collectionId,!1))))});case w.d:return O({},e,{error:t.error});case w.c:return O({},e,{error:null});default:return e}},storyInsights:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k.h:return _({},e,{insights:t.insights,areInsights:t.areInsights});case k.b:return _({},e,{insights:null,areInsights:t.areInsights});case k.g:return _({},e,{pending:t.pending});default:return e}},profileData:C.d,toast:P.b,catalog:y.a,quests:T.a,storyNotes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case R.d:return L({},e,{isLoading:!0});case R.b:return L({},e,{isLoading:!1,data:{id:parseInt(t.data.id)||q.data.id,protagonist:t.data.protagonist||q.data.protagonist,protagonist_goal:t.data.protagonist_goal||q.data.protagonist_goal,opportunity:t.data.opportunity||q.data.opportunity}});case R.c:return L({},e,{},e.data,{isLoading:!1});case R.a:return L({},e,{isLoading:!1});case R.e:return L({},e,{data:{id:parseInt(t.data.id)||q.data.id,protagonist:t.data.protagonist||q.data.protagonist,protagonist_goal:t.data.protagonist_goal||q.data.protagonist_goal,opportunity:t.data.opportunity||q.data.opportunity}});case R.f:return L({},e,{hasNotesBeenVisible:!0});default:return e}},worksItemDetails:A.a});t.a=M},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"actions",function(){return je});n(305),n(507);var r=n(233);n.d(t,"createStore",function(){return r.a});var a=n(235);n.d(t,"withRedux",function(){return a.a});var o=n(236);n.d(t,"ReactRoot",function(){return o.a});var i=n(272);n.d(t,"Inbox",function(){return i.a});var s=n(237);n.d(t,"AnnouncementModal",function(){return s.a});var l=n(238);n.d(t,"MenuModal",function(){return l.a});var c=n(239);n.d(t,"UserSettingsModal",function(){return c.a});var u=n(274);n.d(t,"UserSettings",function(){return u.a});var d=n(2);n.d(t,"MenuOptions",function(){return d.h}),n.d(t,"Avatar",function(){return d.a}),n.d(t,"SocialSharing",function(){return d.l}),n.d(t,"Icon",function(){return d.e}),n.d(t,"WPModal",function(){return d.n});var m=n(273);n.d(t,"Home",function(){return m.a});var p=n(240);n.d(t,"BrowseStoryItem",function(){return p.a});var f=n(241);n.d(t,"StoryItem",function(){return f.a});var g=n(242);n.d(t,"TagCarousel",function(){return g.a});var y=n(141);n.d(t,"TagGrid",function(){return y.a});var h=n(140);n.d(t,"TagMeta",function(){return h.a});var b=n(24);n.d(t,"TagItem",function(){return b.a});var v=n(73);n.d(t,"TagItemWithIcon",function(){return v.a});var w=n(243);n.d(t,"LargePromoBanner",function(){return w.a});var E=n(244);n.d(t,"CanvaButton",function(){return E.a});var O=n(245);n.d(t,"ThemeSettings",function(){return O.a});var S=n(96);n.d(t,"ProfileHeader",function(){return S.a});var k=n(246);n.d(t,"MutedProfile",function(){return k.a});var N=n(72);n.d(t,"Toast",function(){return N.a});var _=n(247);n.d(t,"ProfileMoreOptionsButton",function(){return _.a});var j=n(248);n.d(t,"UserError404",function(){return j.a});var C=n(249);n.d(t,"StoryError404",function(){return C.a});var P=n(279);n.d(t,"StoryPartPaywall",function(){return P.a});var T=n(250);n.d(t,"StoryPaywallModal",function(){return T.a});var R=n(89);n.d(t,"Wallet",function(){return R.a});var x=n(251);n.d(t,"WalletWithOnboarding",function(){return x.a});var L=n(252);n.d(t,"showPaidOnboardingModal",function(){return L.a});var I=n(253);n.d(t,"showBuyCoinsModal",function(){return I.a});var q=n(271);n.d(t,"LandingPage",function(){return q.a});var A=n(254);n.d(t,"ContestBanner",function(){return A.a});var M=n(255);n.d(t,"ContestForm",function(){return M.a});var D=n(256);n.d(t,"ContestList",function(){return D.a});var F=n(142);n.d(t,"ContestListItem",function(){return F.a});var U=n(257);n.d(t,"CommentItem",function(){return U.a});var W=n(258);n.d(t,"StoryTags",function(){return W.a});var B=n(276);n.d(t,"OnboardingWriterJourney",function(){return B.a});var H=n(259);n.d(t,"OnboardingGenres",function(){return H.a});var z=n(260);n.d(t,"OnboardingSuccess",function(){return z.a});var V=n(261);n.d(t,"BannedImageMessaging",function(){return V.a});var G=n(262);n.d(t,"ImageAppealFlow",function(){return G.a});var Y=n(263);n.d(t,"PrivacySettings",function(){return Y.a});var $=n(47);n.d(t,"Header",function(){return $.d}),n.d(t,"DSContainer",function(){return $.c}),n.d(t,"Button",function(){return $.b});var K=n(144);n.d(t,"OneColPage",function(){return K.a});var J=n(264);n.d(t,"WorksItemsDetailsNavBar",function(){return J.a});var Q=n(275);n.d(t,"StoryNotes",function(){return Q.a});var Z=n(265);n.d(t,"Acknowledge",function(){return Z.a});var X=n(270);n.d(t,"WriterDashboard",function(){return X.a});var ee=n(266);n.d(t,"WriterAnalyticsNavBar",function(){return ee.a});var te=n(267);n.d(t,"MyWorksInsightsCTA",function(){return te.a});var ne=n(65);n.d(t,"SignupForm",function(){return ne.a});var re=n(97);n.d(t,"LoginForm",function(){return re.a});var ae=n(145);n.d(t,"EmailSignup",function(){return ae.a});var oe=n(268);n.d(t,"Quests",function(){return oe.a});var ie=n(269);n.d(t,"EmbeddedQuests",function(){return ie.a});var se=n(277);n.d(t,"Copyright",function(){return se.a});var le=n(67),ce=n(116),ue=n(61),de=n(32),me=n(74),pe=n(66),fe=n(99),ge=n(25),ye=n(56),he=n(106),be=n(101),ve=n(278);n.d(t,"ExternalCoverUpload",function(){return ve.a});var we=n(280);n.d(t,"TagpagePaidStoriesContainer",function(){return we.a});var Ee=n(191);n.d(t,"Catalog",function(){return Ee.a}),n.d(t,"CatalogHeader",function(){return Ee.b});var Oe=n(139);n.d(t,"TryPremium",function(){return Oe.a});var Se=n(0),ke=n.n(Se),Ne=n(55),_e=n.n(Ne),je={fetchWalletBalance:le.a,fetchPaidContentMetadata:ce.c,cacheBustPaidContentMetadata:ce.a,fetchHomeSections:de.c,clearError:de.b,openContestForm:ue.d,setStoryTags:me.d,resetConversation:pe.e,resetThreads:fe.c,initializeMutedUsers:ge.e,toggleToast:ye.c,callTrackingUrls:de.a,postStoryNotes:he.b,setMutedUsersFromBackBone:ge.g,updateActiveTab:be.b},Ce=Ce||e;Ce.React=ke.a,Ce.ReactDOM=_e.a}.call(this,n(34))}])});